<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ruler Physics Experiment</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Poppins", sans-serif;
  }

  body {
    background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 20px;
  }

  .container {
    max-width: 900px;
    width: 100%;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  }

  .header {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 100%;
    margin-bottom: 20px;
  }

  .back-button {
    position: absolute;
    left: 0;
    background: rgba(253, 187, 45, 0.8);
    border: none;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    font-size: 18px;
    color: #333;
    font-weight: bold;
    margin-top: 10px;
  }

  .back-button:hover {
    background: #fdbb2d;
    transform: scale(1.1);
  }

  h1 {
    text-align: center;
    margin-bottom: 10px;
    font-size: 2.2rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    margin-top: 20px;
  }

  .subtitle {
    text-align: center;
    margin-bottom: 25px;
    font-size: 1.1rem;
    opacity: 0.9;
  }

  .instructions {
    background: rgba(255, 255, 255, 0.1);
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 25px;
    line-height: 1.6;
  }

  .instructions h2 {
    margin-bottom: 12px;
    color: #fdbb2d;
    font-size: 1.4rem;
  }

  .instructions ol {
    margin-left: 20px;
  }

  .instructions li {
    margin-bottom: 8px;
  }

  .lab-container {
    position: relative;
    width: 100%;
    height: 300px;
    background: #fff;
    border: 2px solid #333;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    overflow: hidden;
    margin-bottom: 25px;
  }

  /* Wooden Table */
  .table {
    position: absolute;
    bottom: 100px;
    left: 30%;
    transform: translateX(-50%);
    width: 160px; /* Half the width to show the edge clearly */
    height: 50px;
    background: linear-gradient(135deg, #b5835a, #7b4f2c);
    border-top: 5px solid #59301d;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }

  .table-edge {
    position: absolute;
    bottom: 100px;
    left: calc(50% + 12px); /* Positioned at the right edge of the table */
    width: 10px;
    height: 50px;
    background: linear-gradient(135deg, #7b4f2c, #59301d);
    border-top: 5px solid #59301d;
    box-shadow: 2px 0 5px rgba(0,0,0,0.2);
  }

  .leg {
    position: absolute;
    bottom: 50px;
    left: calc(30% - 75px);
    width: 25px;
    height: 80px;
    background: #6e3e1f;
    border-top: 3px solid #4a2612;
  }

  .leg.right {
    left: calc(30% + 50px);
  }

  /* Ruler */
  .ruler {
    position: absolute;
    bottom: 145px;
    left: calc(50% - 75px); /* Adjusted to position 3/4 beyond the edge */
    width: 200px;
    height: 12px;
    background: repeating-linear-gradient(
      to right,
      #f8e58a,
      #f8e58a 10px,
      #c9b04a 10px,
      #c9b04a 11px
    );
    border: 1px solid #a07a22;
    transform-origin: 25% 50%; /* Pivot point at the table edge */
    transition: transform 0.3s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    z-index: 10;
  }

  /* Vibration Animation */
  @keyframes vibrate {
    0% { transform: rotate(0deg); }
    20% { transform: rotate(5deg); }
    40% { transform: rotate(-5deg); }
    60% { transform: rotate(3deg); }
    80% { transform: rotate(-3deg); }
    100% { transform: rotate(0deg); }
  }

  .vibrating {
    animation: vibrate 0.08s linear infinite;
  }

  .hand {
    position: absolute;
    width: 25px;
    height: 35px;
    background: #ffcc99;
    border-radius: 50% 50% 20px 20px;
    bottom: 145px;
    left: calc(50% - 65px); /* Positioned at the table edge */
    cursor: grab;
    transition: transform 0.2s;
    z-index: 10;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    touch-action: none;
  }

  .hand:active {
    cursor: grabbing;
  }

  /* Buttons */
  .controls {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 25px;
    flex-wrap: wrap;
  }

  button {
    background: #007bff;
    color: #fff;
    border: none;
    padding: 8px 15px;
    border-radius: 8px;
    font-size: 14px;
    cursor: pointer;
    transition: 0.3s;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    flex: 1;
    max-width: 150px;
    min-width: 120px;
  }

  button:hover {
    background: #005dc1;
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
  }

  button:active {
    transform: translateY(1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  .record-btn {
    background: #28a745;
  }

  .record-btn:hover {
    background: #218838;
  }

  /* Bend Control */
  .bend-control {
    background: rgba(255, 255, 255, 0.1);
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    text-align: center;
  }

  .bend-control h3 {
    color: #fdbb2d;
    margin-bottom: 10px;
    font-size: 1.2rem;
  }

  .bend-slider {
    width: 80%;
    margin: 0 auto;
    display: block;
  }

  .bend-value {
    display: inline-block;
    margin-top: 10px;
    font-weight: bold;
    color: #fdbb2d;
  }

  /* Experiment Count */
  .experiment-count {
    text-align: center;
    margin-bottom: 15px;
    font-size: 1.1rem;
  }

  .highlight {
    color: #fdbb2d;
    font-weight: bold;
  }

  /* Observations Table */
  .observations {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    overflow-x: auto;
  }

  .observations h2 {
    margin-bottom: 12px;
    color: #fdbb2d;
    font-size: 1.4rem;
  }

  .data-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 12px;
    min-width: 500px;
  }

  .data-table th, .data-table td {
    padding: 12px;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.2);
    font-size: 0.9rem;
  }

  .data-table th {
    background: rgba(253, 187, 45, 0.3);
  }

  /* Movement Description Section */
  .movement-description {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin-top: 20px;
  }

  .movement-description h2 {
    margin-bottom: 12px;
    color: #fdbb2d;
    font-size: 1.4rem;
  }

  .movement-description textarea {
    width: 100%;
    height: 100px;
    padding: 12px;
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    font-size: 1rem;
    resize: vertical;
    margin-bottom: 15px;
  }

  .movement-description textarea:focus {
    outline: none;
    border-color: #fdbb2d;
  }

  .submit-btn {
    background: #fdbb2d;
    color: #333;
    font-weight: bold;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.3s;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  }

  .submit-btn:hover {
    background: #ffcc44;
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
  }

  .physics-info {
    background: rgba(255, 255, 255, 0.1);
    padding: 15px;
    border-radius: 10px;
    margin-top: 20px;
    font-size: 0.9rem;
  }

  .physics-info h3 {
    color: #fdbb2d;
    margin-bottom: 8px;
    font-size: 1.2rem;
  }

  .bend-indicator {
    position: absolute;
    top: 15px;
    right: 15px;
    background: rgba(0, 0, 0, 0.5);
    padding: 8px;
    border-radius: 5px;
    font-size: 0.9rem;
  }

  /* Mobile-specific adjustments */
  @media (max-width: 600px) {
    .container {
      padding: 15px;
    }
    
    .lab-container {
      height: 250px;
    }
    
    .controls {
      flex-direction: row;
      align-items: center;
    }
    
    button {
      width: auto;
      max-width: 120px;
      padding: 6px 10px;
      font-size: 12px;
    }
    
    h1 {
      font-size: 1.8rem;
    }
    
    .data-table {
      font-size: 0.8rem;
    }
    
    .data-table th, .data-table td {
      padding: 8px;
    }
    
    .bend-slider {
      width: 90%;
    }
  }
</style>
</head>
<body>
  
  <div class="header">
    <div class="back-button" id="backButton" title="Go back">◀</div>
  </div>
  
  <h1>Ruler Physics Experiment</h1>
  <p class="subtitle">Explore the physics of elasticity and vibration</p>
<div class="container">

  
  <div class="instructions">
    <h2>Experiment Instructions</h2>
    <ol>
      <li>Position the ruler so that <span class="highlight">3/4 of its length extends beyond the table edge</span>.</li>
      <li>Click and hold the hand to grip the ruler at the table edge.</li>
      <li>Adjust the bend amount using the slider, then click "Bend Ruler" to apply the bend.</li>
      <li>Click "Release Ruler" to observe the vibration.</li>
      <li>Record your observations for different bend amounts in the table below.</li>
    </ol>
  </div>
  
  <div class="lab-container">
    <div class="table"></div>
    <div class="table-edge"></div>
    <div class="leg"></div>
    <div class="leg right"></div>
    <div class="ruler" id="ruler"></div>
    <div class="hand" id="hand"></div>
    <div class="bend-indicator" id="bendIndicator">Bend: 0°</div>
  </div>

  <div class="bend-control">
    <h3>Adjust Bend Amount</h3>
    <input type="range" min="0" max="45" value="20" class="bend-slider" id="bendSlider">
    <div class="bend-value">Selected Bend: <span id="bendValue">20°</span></div>
  </div>

  <div class="controls">
    <button id="holdBtn">Hold Ruler</button>
    <button id="bendBtn">Bend Ruler</button>
    <button id="releaseBtn">Release Ruler</button>
    <button id="recordBtn" class="record-btn">Record Observation</button>
  </div>

  <div class="experiment-count">
    Experiments conducted: <span id="experimentCount">0</span>
  </div>
  
  <div class="observations">
    <h2>Observations</h2>
    <table class="data-table">
      <thead>
        <tr>
          <th>Experiment #</th>
          <th>Bend Amount</th>
          <th>Vibration Frequency</th>
          <th>Observations</th>
        </tr>
      </thead>
      <tbody id="observationsTable">
        <!-- Data will be added here -->
      </tbody>
    </table>
  </div>
  
  <div class="movement-description">
    <h2>Describe the movement of the ruler:</h2>
    <textarea id="movementText" placeholder="Describe how the ruler moves when bent and released..."></textarea>
    <button class="submit-btn" id="submitMovement">Submit Description</button>
  </div>
  
  <div class="physics-info">
    <h3>Physics Behind the Experiment</h3>
    <p>When you bend and release the ruler, you're storing potential energy in the material. Upon release, this energy converts to kinetic energy, causing the ruler to vibrate. The frequency of vibration depends on the material properties, length extending beyond the table, and how much it was bent.</p>
  </div>
</div>

<script>
  const ruler = document.getElementById("ruler");
  const hand = document.getElementById("hand");
  const holdBtn = document.getElementById("holdBtn");
  const bendBtn = document.getElementById("bendBtn");
  const releaseBtn = document.getElementById("releaseBtn");
  const recordBtn = document.getElementById("recordBtn");
  const experimentCount = document.getElementById("experimentCount");
  const observationsTable = document.getElementById("observationsTable");
  const bendIndicator = document.getElementById("bendIndicator");
  const backButton = document.getElementById("backButton");
  const movementText = document.getElementById("movementText");
  const submitMovement = document.getElementById("submitMovement");
  const bendSlider = document.getElementById("bendSlider");
  const bendValue = document.getElementById("bendValue");
  
  let count = 0;
  let isVibrating = false;
  let isHandHolding = false;
  let currentBendAmount = 0;
  let selectedBendAmount = 20;
  let vibrationStartTime = 0;
  let vibrationDuration = 0;

  // Initialize with hand hidden
  hand.style.display = 'none';

  // Update bend value display when slider changes
  bendSlider.addEventListener('input', function() {
    selectedBendAmount = parseInt(this.value);
    bendValue.textContent = `${selectedBendAmount}°`;
  });

  // Back button functionality
  backButton.addEventListener('click', function() {
    if (confirm('Are you sure you want to leave the experiment?')) {
      alert('Returning to previous page...');
      // In a real application, this would be window.history.back()
    }
  });

  holdBtn.onclick = () => {
    ruler.style.transform = "rotate(0deg)";
    ruler.classList.remove("vibrating");
    isVibrating = false;
    isHandHolding = true;
    hand.style.display = 'block';
    currentBendAmount = 0;
    bendIndicator.textContent = 'Bend: 0°';
  };

  bendBtn.onclick = () => {
    if (!isHandHolding || isVibrating) return;
    currentBendAmount = selectedBendAmount;
    ruler.style.transform = `rotate(${currentBendAmount}deg)`;
    bendIndicator.textContent = `Bend: ${currentBendAmount}°`;
  };

  releaseBtn.onclick = () => {
    if (!isHandHolding) return;
    
    ruler.style.transform = "rotate(0deg)";
    ruler.classList.add("vibrating");
    isVibrating = true;
    vibrationStartTime = Date.now();
    
    setTimeout(() => {
      ruler.classList.remove("vibrating");
      isVibrating = false;
      vibrationDuration = (Date.now() - vibrationStartTime) / 1000;
    }, 2000);
  };

  recordBtn.onclick = () => {
    if (!isHandHolding) {
      alert("Please hold the ruler first before recording an observation.");
      return;
    }
    
    count++;
    experimentCount.textContent = count;
    
    // Calculate frequency based on bend amount
    const frequency = Math.round(5 + (currentBendAmount / 10));
    
    // Add observation to table
    const row = observationsTable.insertRow();
    row.insertCell(0).textContent = count;
    row.insertCell(1).textContent = `${currentBendAmount}°`;
    row.insertCell(2).textContent = `${frequency} Hz`;
    row.insertCell(3).textContent = getObservationText(currentBendAmount, frequency);
    
    // Reset for next experiment
    isHandHolding = false;
    hand.style.display = 'none';
    currentBendAmount = 0;
    bendIndicator.textContent = 'Bend: 0°';
  };

  // Submit movement description
  submitMovement.onclick = () => {
    const description = movementText.value.trim();
    if (description === '') {
      alert('Please describe the movement of the ruler before submitting.');
      return;
    }
    
    alert('Thank you for your description! Your observation has been recorded.');
    movementText.value = '';
  };

  function getObservationText(bend, frequency) {
    if (bend < 15) {
      return "Small bend, low frequency vibration";
    } else if (bend < 30) {
      return "Medium bend, moderate vibration";
    } else {
      return "Large bend, high frequency vibration";
    }
  }
</script>

</body>
</html>