import{y as v,b as h,z as T,t as m,B as S,g as x,D as P,E as C,F as E,G as z,H as M}from"./index-Ckd4Z7oh.js";const{passive:p}=v,O=["both","horizontal","vertical"],y=h({name:"QScrollObserver",props:{axis:{type:String,validator:e=>O.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:T},emits:["scroll"],setup(e,{emit:b}){const t={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i=null,n,u;m(()=>e.scrollTarget,()=>{f(),d()});function l(){i?.();const a=Math.max(0,z(n)),c=M(n),o={top:a-t.position.top,left:c-t.position.left};if(e.axis==="vertical"&&o.top===0||e.axis==="horizontal"&&o.left===0)return;const g=Math.abs(o.top)>=Math.abs(o.left)?o.top<0?"up":"down":o.left<0?"left":"right";t.position={top:a,left:c},t.directionChanged=t.direction!==g,t.delta=o,t.directionChanged===!0&&(t.direction=g,t.inflectionPoint=t.position),b("scroll",{...t})}function d(){n=S(u,e.scrollTarget),n.addEventListener("scroll",r,p),r(!0)}function f(){n!==void 0&&(n.removeEventListener("scroll",r,p),n=void 0)}function r(a){if(a===!0||e.debounce===0||e.debounce==="0")l();else if(i===null){const[c,o]=e.debounce?[setTimeout(l,e.debounce),clearTimeout]:[requestAnimationFrame(l),cancelAnimationFrame];i=()=>{o(c),i=null}}}const{proxy:s}=x();return m(()=>s.$q.lang.rtl,l),P(()=>{u=s.$el.parentNode,d()}),C(()=>{i?.(),f()}),Object.assign(s,{trigger:r,getPosition:()=>t}),E}});export{y as Q};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUVNjcm9sbE9ic2VydmVyLWpKbmpfZWMzLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL3Njcm9sbC1vYnNlcnZlci9RU2Nyb2xsT2JzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd2F0Y2gsIG9uTW91bnRlZCwgb25CZWZvcmVVbm1vdW50LCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcbmltcG9ydCB7IGdldFNjcm9sbFRhcmdldCwgZ2V0VmVydGljYWxTY3JvbGxQb3NpdGlvbiwgZ2V0SG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uLCBzY3JvbGxUYXJnZXRQcm9wIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2Nyb2xsL3Njcm9sbC5qcydcbmltcG9ydCB7IGxpc3Rlbk9wdHMsIG5vb3AgfSBmcm9tICcuLi8uLi91dGlscy9ldmVudC9ldmVudC5qcydcblxuY29uc3QgeyBwYXNzaXZlIH0gPSBsaXN0ZW5PcHRzXG5jb25zdCBheGlzVmFsdWVzID0gWyAnYm90aCcsICdob3Jpem9udGFsJywgJ3ZlcnRpY2FsJyBdXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRU2Nyb2xsT2JzZXJ2ZXInLFxuXG4gIHByb3BzOiB7XG4gICAgYXhpczoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdmFsaWRhdG9yOiB2ID0+IGF4aXNWYWx1ZXMuaW5jbHVkZXModiksXG4gICAgICBkZWZhdWx0OiAndmVydGljYWwnXG4gICAgfSxcblxuICAgIGRlYm91bmNlOiBbIFN0cmluZywgTnVtYmVyIF0sXG5cbiAgICBzY3JvbGxUYXJnZXQ6IHNjcm9sbFRhcmdldFByb3BcbiAgfSxcblxuICBlbWl0czogWyAnc2Nyb2xsJyBdLFxuXG4gIHNldHVwIChwcm9wcywgeyBlbWl0IH0pIHtcbiAgICBjb25zdCBzY3JvbGwgPSB7XG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDBcbiAgICAgIH0sXG5cbiAgICAgIGRpcmVjdGlvbjogJ2Rvd24nLFxuICAgICAgZGlyZWN0aW9uQ2hhbmdlZDogZmFsc2UsXG5cbiAgICAgIGRlbHRhOiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfSxcblxuICAgICAgaW5mbGVjdGlvblBvaW50OiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBjbGVhclRpbWVyID0gbnVsbCwgbG9jYWxTY3JvbGxUYXJnZXQsIHBhcmVudEVsXG5cbiAgICB3YXRjaCgoKSA9PiBwcm9wcy5zY3JvbGxUYXJnZXQsICgpID0+IHtcbiAgICAgIHVuY29uZmlndXJlU2Nyb2xsVGFyZ2V0KClcbiAgICAgIGNvbmZpZ3VyZVNjcm9sbFRhcmdldCgpXG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIGVtaXRFdmVudCAoKSB7XG4gICAgICBjbGVhclRpbWVyPy4oKVxuXG4gICAgICBjb25zdCB0b3AgPSBNYXRoLm1heCgwLCBnZXRWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uKGxvY2FsU2Nyb2xsVGFyZ2V0KSlcbiAgICAgIGNvbnN0IGxlZnQgPSBnZXRIb3Jpem9udGFsU2Nyb2xsUG9zaXRpb24obG9jYWxTY3JvbGxUYXJnZXQpXG5cbiAgICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICB0b3A6IHRvcCAtIHNjcm9sbC5wb3NpdGlvbi50b3AsXG4gICAgICAgIGxlZnQ6IGxlZnQgLSBzY3JvbGwucG9zaXRpb24ubGVmdFxuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIChwcm9wcy5heGlzID09PSAndmVydGljYWwnICYmIGRlbHRhLnRvcCA9PT0gMClcbiAgICAgICAgfHwgKHByb3BzLmF4aXMgPT09ICdob3Jpem9udGFsJyAmJiBkZWx0YS5sZWZ0ID09PSAwKVxuICAgICAgKSByZXR1cm5cblxuICAgICAgY29uc3QgY3VyRGlyID0gTWF0aC5hYnMoZGVsdGEudG9wKSA+PSBNYXRoLmFicyhkZWx0YS5sZWZ0KVxuICAgICAgICA/IChkZWx0YS50b3AgPCAwID8gJ3VwJyA6ICdkb3duJylcbiAgICAgICAgOiAoZGVsdGEubGVmdCA8IDAgPyAnbGVmdCcgOiAncmlnaHQnKVxuXG4gICAgICBzY3JvbGwucG9zaXRpb24gPSB7IHRvcCwgbGVmdCB9XG4gICAgICBzY3JvbGwuZGlyZWN0aW9uQ2hhbmdlZCA9IHNjcm9sbC5kaXJlY3Rpb24gIT09IGN1ckRpclxuICAgICAgc2Nyb2xsLmRlbHRhID0gZGVsdGFcblxuICAgICAgaWYgKHNjcm9sbC5kaXJlY3Rpb25DaGFuZ2VkID09PSB0cnVlKSB7XG4gICAgICAgIHNjcm9sbC5kaXJlY3Rpb24gPSBjdXJEaXJcbiAgICAgICAgc2Nyb2xsLmluZmxlY3Rpb25Qb2ludCA9IHNjcm9sbC5wb3NpdGlvblxuICAgICAgfVxuXG4gICAgICBlbWl0KCdzY3JvbGwnLCB7IC4uLnNjcm9sbCB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZVNjcm9sbFRhcmdldCAoKSB7XG4gICAgICBsb2NhbFNjcm9sbFRhcmdldCA9IGdldFNjcm9sbFRhcmdldChwYXJlbnRFbCwgcHJvcHMuc2Nyb2xsVGFyZ2V0KVxuICAgICAgbG9jYWxTY3JvbGxUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdHJpZ2dlciwgcGFzc2l2ZSlcbiAgICAgIHRyaWdnZXIodHJ1ZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bmNvbmZpZ3VyZVNjcm9sbFRhcmdldCAoKSB7XG4gICAgICBpZiAobG9jYWxTY3JvbGxUYXJnZXQgIT09IHZvaWQgMCkge1xuICAgICAgICBsb2NhbFNjcm9sbFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0cmlnZ2VyLCBwYXNzaXZlKVxuICAgICAgICBsb2NhbFNjcm9sbFRhcmdldCA9IHZvaWQgMFxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRyaWdnZXIgKGltbWVkaWF0ZWx5KSB7XG4gICAgICBpZiAoaW1tZWRpYXRlbHkgPT09IHRydWUgfHwgcHJvcHMuZGVib3VuY2UgPT09IDAgfHwgcHJvcHMuZGVib3VuY2UgPT09ICcwJykge1xuICAgICAgICBlbWl0RXZlbnQoKVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoY2xlYXJUaW1lciA9PT0gbnVsbCkge1xuICAgICAgICBjb25zdCBbIHRpbWVyLCBmbiBdID0gcHJvcHMuZGVib3VuY2VcbiAgICAgICAgICA/IFsgc2V0VGltZW91dChlbWl0RXZlbnQsIHByb3BzLmRlYm91bmNlKSwgY2xlYXJUaW1lb3V0IF1cbiAgICAgICAgICA6IFsgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGVtaXRFdmVudCksIGNhbmNlbEFuaW1hdGlvbkZyYW1lIF1cblxuICAgICAgICBjbGVhclRpbWVyID0gKCkgPT4ge1xuICAgICAgICAgIGZuKHRpbWVyKVxuICAgICAgICAgIGNsZWFyVGltZXIgPSBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7IHByb3h5IH0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKVxuXG4gICAgd2F0Y2goKCkgPT4gcHJveHkuJHEubGFuZy5ydGwsIGVtaXRFdmVudClcblxuICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICBwYXJlbnRFbCA9IHByb3h5LiRlbC5wYXJlbnROb2RlXG4gICAgICBjb25maWd1cmVTY3JvbGxUYXJnZXQoKVxuICAgIH0pXG5cbiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lcj8uKClcbiAgICAgIHVuY29uZmlndXJlU2Nyb2xsVGFyZ2V0KClcbiAgICB9KVxuXG4gICAgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzXG4gICAgT2JqZWN0LmFzc2lnbihwcm94eSwge1xuICAgICAgdHJpZ2dlcixcbiAgICAgIGdldFBvc2l0aW9uOiAoKSA9PiBzY3JvbGxcbiAgICB9KVxuXG4gICAgcmV0dXJuIG5vb3BcbiAgfVxufSlcbiJdLCJuYW1lcyI6WyJwYXNzaXZlIiwibGlzdGVuT3B0cyIsImF4aXNWYWx1ZXMiLCJRU2Nyb2xsT2JzZXJ2ZXIiLCJjcmVhdGVDb21wb25lbnQiLCJ2Iiwic2Nyb2xsVGFyZ2V0UHJvcCIsInByb3BzIiwiZW1pdCIsInNjcm9sbCIsImNsZWFyVGltZXIiLCJsb2NhbFNjcm9sbFRhcmdldCIsInBhcmVudEVsIiwid2F0Y2giLCJ1bmNvbmZpZ3VyZVNjcm9sbFRhcmdldCIsImNvbmZpZ3VyZVNjcm9sbFRhcmdldCIsImVtaXRFdmVudCIsInRvcCIsImdldFZlcnRpY2FsU2Nyb2xsUG9zaXRpb24iLCJsZWZ0IiwiZ2V0SG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uIiwiZGVsdGEiLCJjdXJEaXIiLCJnZXRTY3JvbGxUYXJnZXQiLCJ0cmlnZ2VyIiwiaW1tZWRpYXRlbHkiLCJ0aW1lciIsImZuIiwicHJveHkiLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJvbk1vdW50ZWQiLCJvbkJlZm9yZVVubW91bnQiLCJub29wIl0sIm1hcHBpbmdzIjoiOEdBTUEsS0FBTSxDQUFFLFFBQUFBLENBQU8sRUFBS0MsRUFDZEMsRUFBYSxDQUFFLE9BQVEsYUFBYyxVQUFVLEVBRXJEQyxFQUFlQyxFQUFnQixDQUM3QixLQUFNLGtCQUVOLE1BQU8sQ0FDTCxLQUFNLENBQ0osS0FBTSxPQUNOLFVBQVdDLEdBQUtILEVBQVcsU0FBU0csQ0FBQyxFQUNyQyxRQUFTLFVBQ2YsRUFFSSxTQUFVLENBQUUsT0FBUSxNQUFNLEVBRTFCLGFBQWNDLENBQ2xCLEVBRUUsTUFBTyxDQUFFLFFBQVEsRUFFakIsTUFBT0MsRUFBTyxDQUFFLEtBQUFDLEdBQVEsQ0FDdEIsTUFBTUMsRUFBUyxDQUNiLFNBQVUsQ0FDUixJQUFLLEVBQ0wsS0FBTSxDQUNkLEVBRU0sVUFBVyxPQUNY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
