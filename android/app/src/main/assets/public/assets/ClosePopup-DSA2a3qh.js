import{L as s,M as d,N as c,O as i}from"./index-Ckd4Z7oh.js";function p(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const u=s({name:"close-popup",beforeMount(e,{value:t}){const o={depth:p(t),handler(r){o.depth!==0&&setTimeout(()=>{const n=c(e);n!==void 0&&i(n,r,o.depth)})},handlerKey(r){d(r,13)===!0&&o.handler(r)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:t,oldValue:o}){t!==o&&(e.__qclosepopup.depth=p(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});export{u as C};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xvc2VQb3B1cC1EU0EyYTNxaC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvZGlyZWN0aXZlcy9jbG9zZS1wb3B1cC9DbG9zZVBvcHVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZURpcmVjdGl2ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcbmltcG9ydCB7IGNsb3NlUG9ydGFscywgZ2V0UG9ydGFsUHJveHkgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLnBvcnRhbC9wb3J0YWwuanMnXG5pbXBvcnQgeyBpc0tleUNvZGUgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmtleWJvYXJkL2tleS1jb21wb3NpdGlvbi5qcydcbmltcG9ydCBnZXRTU1JQcm9wcyBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLm5vb3Atc3NyLWRpcmVjdGl2ZS10cmFuc2Zvcm0vbm9vcC1zc3ItZGlyZWN0aXZlLXRyYW5zZm9ybS5qcydcblxuLypcbiAqIGRlcHRoXG4gKiAgIDwgMCAgLS0+IGNsb3NlIGFsbCBjaGFpblxuICogICAwICAgIC0tPiBkaXNhYmxlZFxuICogICA+IDAgIC0tPiBjbG9zZSBjaGFpbiB1cCB0byBOIHBhcmVudFxuICovXG5cbmZ1bmN0aW9uIGdldERlcHRoICh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBjb25zdCBkZXB0aCA9IHBhcnNlSW50KHZhbHVlLCAxMClcbiAgcmV0dXJuIGlzTmFOKGRlcHRoKSA/IDAgOiBkZXB0aFxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEaXJlY3RpdmUoX19RVUFTQVJfU1NSX1NFUlZFUl9fXG4gID8geyBuYW1lOiAnY2xvc2UtcG9wdXAnLCBnZXRTU1JQcm9wcyB9XG4gIDoge1xuICAgICAgbmFtZTogJ2Nsb3NlLXBvcHVwJyxcblxuICAgICAgYmVmb3JlTW91bnQgKGVsLCB7IHZhbHVlIH0pIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgIGRlcHRoOiBnZXREZXB0aCh2YWx1ZSksXG5cbiAgICAgICAgICBoYW5kbGVyIChldnQpIHtcbiAgICAgICAgICAgIC8vIGFsbG93IEBjbGljayB0byBiZSBlbWl0dGVkXG4gICAgICAgICAgICBjdHguZGVwdGggIT09IDAgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHByb3h5ID0gZ2V0UG9ydGFsUHJveHkoZWwpXG4gICAgICAgICAgICAgIGlmIChwcm94eSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VQb3J0YWxzKHByb3h5LCBldnQsIGN0eC5kZXB0aClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgaGFuZGxlcktleSAoZXZ0KSB7XG4gICAgICAgICAgICBpc0tleUNvZGUoZXZ0LCAxMykgPT09IHRydWUgJiYgY3R4LmhhbmRsZXIoZXZ0KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsLl9fcWNsb3NlcG9wdXAgPSBjdHhcblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGN0eC5oYW5kbGVyKVxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGN0eC5oYW5kbGVyS2V5KVxuICAgICAgfSxcblxuICAgICAgdXBkYXRlZCAoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0pIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgIGVsLl9fcWNsb3NlcG9wdXAuZGVwdGggPSBnZXREZXB0aCh2YWx1ZSlcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgYmVmb3JlVW5tb3VudCAoZWwpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gZWwuX19xY2xvc2Vwb3B1cFxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGN0eC5oYW5kbGVyKVxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIGN0eC5oYW5kbGVyS2V5KVxuICAgICAgICBkZWxldGUgZWwuX19xY2xvc2Vwb3B1cFxuICAgICAgfVxuICAgIH1cbilcbiJdLCJuYW1lcyI6WyJnZXREZXB0aCIsInZhbHVlIiwiZGVwdGgiLCJDbG9zZVBvcHVwIiwiY3JlYXRlRGlyZWN0aXZlIiwiZWwiLCJjdHgiLCJldnQiLCJwcm94eSIsImdldFBvcnRhbFByb3h5IiwiY2xvc2VQb3J0YWxzIiwiaXNLZXlDb2RlIiwib2xkVmFsdWUiXSwibWFwcGluZ3MiOiI2REFZQSxTQUFTQSxFQUFVQyxFQUFPLENBQ3hCLEdBQUlBLElBQVUsR0FDWixNQUFPLEdBRVQsR0FBSUEsSUFBVSxJQUFRQSxJQUFVLE9BQzlCLE1BQU8sR0FHVCxNQUFNQyxFQUFRLFNBQVNELEVBQU8sRUFBRSxFQUNoQyxPQUFPLE1BQU1DLENBQUssRUFBSSxFQUFJQSxDQUM1QixDQUVBLE1BQUFDLEVBQWVDLEVBRVgsQ0FDRSxLQUFNLGNBRU4sWUFBYUMsRUFBSSxDQUFFLE1BQUFKLEdBQVMsQ0FDMUIsTUFBTUssRUFBTSxDQUNWLE1BQU9OLEVBQVNDLENBQUssRUFFckIsUUFBU00sRUFBSyxDQUVaRCxFQUFJLFFBQVUsR0FBSyxXQUFXLElBQU0sQ0FDbEMsTUFBTUUsRUFBUUMsRUFBZUosQ0FBRSxFQUMzQkcsSUFBVSxRQUNaRSxFQUFhRixFQUFPRCxFQUFLRCxFQUFJLEtBQUssQ0FFdEMsQ0FBQyxDQUNILEVBRUEsV0FBWUMsRUFBSyxDQUNmSSxFQUFVSixFQUFLLEVBQUUsSUFBTSxJQUFRRCxFQUFJLFFBQVFDLENBQUcsQ0FDaEQsQ0FBQSxFQUdGRixFQUFHLGNBQWdCQyxFQUVuQkQsRUFBRyxpQkFBaUIsUUFBU0MsRUFBSSxPQUFPLEVBQ3hDRCxFQUFHLGlCQUFpQixRQUFTQyxFQUFJLFVBQVUsQ0FDN0MsRUFFQSxRQUFTRCxFQUFJLENBQUUsTUFBQUosRUFBTyxTQUFBVyxHQUFZLENBQzVCWCxJQUFVVyxJQUNaUCxFQUFHLGNBQWMsTUFBUUwsRUFBU0MsQ0FBSyxFQUUzQyxFQUVBLGNBQWVJLEVBQUksQ0FDakIsTUFBTUMsRUFBTUQsRUFBRyxjQUNmQSxFQUFHLG9CQUFvQixRQUFTQyxFQUFJLE9BQU8sRUFDM0NELEVBQUcsb0JBQW9CLFFBQVNDLEVBQUksVUFBVSxFQUM5QyxPQUFPRCxFQUFHLGFBQ1osQ0FBQSxDQUVOIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==
