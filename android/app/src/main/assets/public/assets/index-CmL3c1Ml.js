const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./MainLayout-DtCea5yi.js","./QPageContainer-D_--Wqgv.js","./QLayout-DBusqh9Z.js","./QResizeObserver-CUBW-q3m.js","./_plugin-vue_export-helper-DlAUqK2U.js","./IndexPage-DVz-dVMz.js","./QSpace-B2FWfiaq.js","./QToolbar-BCkdDmum.js","./QHeader-CAl7Qje9.js","./QItem-BVnD1CfU.js","./QList-Uhr7JJbq.js","./QSlideTransition-BGQNrw7N.js","./QLinearProgress-DWcSpnXV.js","./QTabs-CPafEFzX.js","./rtl-DFPa-2ov.js","./QPage-0yw1Xnyg.js","./IndexPage-C4zbqSld.css","./Chapter-1-Ceiz8Ixw.js","./session-CxZR9QsD.js","./Chapter-1-BJoxnySA.css","./LessonPage-D6DR_ADY.js","./use-quasar-DYU0GEip.js","./LessonPage-DxicyQEa.css","./LessonTry-BKfKjmhR.js","./ClosePopup-kr1oCrOw.js","./LoginPage-OLZxPeVh.js","./LoginPage-DP1ACxPO.css","./Unit-1-9d2AFXA_.js","./Unit-1-_dQtP3da.css","./BookMark-BUTu5oy6.js","./lessons-Dp0zXrbx.js","./BookMark-qpJ6o0UJ.css","./QuizStats-DRRKn8Mz.js","./QuizStats-DvPXuiYU.css","./UnitOne-C90jjGU2.js","./UnitOne-Cn8_uXbe.css","./UnitTwo-DTJB9I-W.js","./UnitTwo-DMn7NKIN.css","./UnitThree-nClMTzjI.js","./UnitThree-C6fhAFkq.css","./UnitFour-6rE-QCrT.js","./UnitFour-CsMv1l--.css","./LessonOne-yeYzi90L.js","./lessonBackground.css_vue_type_style_index_0_src_true_lang-BPnM_jjp.js","./lessonBackground-CPHE5gp5.css","./useTTS-C95BXznO.js","./modelViewer-3VdA1PxK.js","./LessonOne-CSj6CGaq.css","./MiniTest1-1-JpPIjvnt.js","./MiniTest1-1-Dt1CeL3H.css","./MiniTest1-2-DxE_Z2_c.js","./MiniTest1-2-BFVajGfh.css","./MiniLab1-1-BjnzT8rK.js","./MiniLab1-1-C5BYIbNh.css","./MiniTest1-3-B8kNRVgL.js","./MiniTest1-3-hzxR0YRe.css","./LessonTwo-BRJ5cGd5.js","./LessonTwo-BheYPMFA.css","./LessonThree-D1I4Z7VL.js","./LessonThree-CTuMUkII.css","./LessonFour-tbOCHqCj.js","./LessonFour-6FTpAky2.css","./TechnologyFocus-BQ8bvPkj.js","./TechnologyFocus-BWzbavUN.css","./ChapterReview-vDdG5CoR.js","./ChapterReview-CH4LYbY4.css","./Activity-1-DFwSWccy.js","./Activity-1-BI0tzy8p.css","./ChapterTest-Cgt0BMX3.js","./ChapterTest-B8eX96tk.css","./Chapter-2-D5rU3kJu.js","./MiniLab2-1-fYjbfn6l.js","./MiniLab2-1-C5NvZgzC.css","./MiniLab2-2-CDPzETNA.js","./MiniLab2-2-pOUvcFQM.css","./MiniTest2-3-CIWlm6nh.js","./MiniTest2-3-Dij_UGLZ.css","./MiniTest2-4-DIvlx50J.js","./MiniTest2-4-Bm49mMiW.css","./LessonOne-DnKMFAAV.js","./LessonOne-Cm76kOrh.css","./LessonTwo-4rkh3hRs.js","./LessonTwo-CqY4zhlB.css","./TechnologyFocus-Ch0TtrfV.js","./TechnologyFocus-CJ6V5DOl.css","./ChapterReview-D4Fw8yqf.js","./ChapterReview-CGh53Skg.css","./Activity-2-B2dCQKyU.js","./Activity-2-COl9R3jb.css","./ChapterTest-BCcxxFox.js","./ChapterTest-BiPVK3aB.css","./StemChallenge-D6Ppx1hS.js","./StemChallenge-DLMJ0Ug1.css","./Chapter-3-EinGElOX.js","./MiniTest3-1-BDY_hKt-.js","./MiniTest3-1-DUaGrVyr.css","./MiniTest3-2-Msy7Y2jE.js","./MiniTest3-2-BcN6x31M.css","./MiniLab3-1-CdCxODzy.js","./MiniLab3-1-BQ--l5oQ.css","./MiniLab3-2-DvbrKa56.js","./MiniLab3-2-KwN7hJ_Y.css","./MiniLab3-3-QazTf5dC.js","./MiniLab3-3-CHqBpq5Q.css","./LessonOne-DfWjDFpt.js","./LessonOne-5Y45Pb1U.css","./LessonTwo-Cb8pKve5.js","./LessonTwo-Bv_0YsK-.css","./LessonThree-JYlegWsi.js","./LessonThree-8GU9PQYh.css","./LessonFour-faKO-mmq.js","./LessonFour-BaU3PXW_.css","./LessonFive-C2opgThy.js","./LessonFive-DWlXlCEe.css","./TechnologyFocus-zjRPxtFZ.js","./TechnologyFocus-8SK6ywMm.css","./ChapterReview-ClT5_UyU.js","./ChapterReview-CJ7Ko2v-.css","./Activity-3-CI9rSxNL.js","./Activity-3-C3eabTTe.css","./Activity-4-VUfxCoYB.js","./Activity-4-D9fG4grn.css","./Activity-5-DUpNDAlh.js","./Activity-5-CLM5sf-L.css","./ChapterTest-olfay1RI.js","./ChapterTest-C8MNZR2E.css","./StemChallenge-ijGt3K3r.js","./StemChallenge-C7_zM-pj.css","./Chapter-4-BsWOmCLq.js","./LessonOne-CzZmmFz8.js","./LessonOne-DaICYi3W.css","./LessonTwo-l8G4YSla.js","./LessonTwo-DCbVdc7v.css","./TechnologyFocus-C3Nz2QpR.js","./TechnologyFocus-8b5AZIIn.css","./ChapterReview-BgkKxhCn.js","./ChapterReview-CQXjztfy.css","./Activity-6-DBA-_xMJ.js","./Activity-6-CTyfCUJN.css","./Activity-7-CGt2QrC7.js","./Activity-7-u9BexcSh.css","./ChapterTest-OlxvLMHh.js","./ChapterTest-BNmHwfT4.css","./StemChallenge-CtDqrVq1.js","./StemChallenge-0ZB4jmSE.css","./Chapter-5-DIZSo03d.js","./LessonOne-tRSgO8_r.js","./LessonOne-B9S-Ksai.css","./LessonTwo-DKEdYM0t.js","./LessonTwo-ClleoUxh.css","./TechnologyFocus-BpA8Tt2q.js","./TechnologyFocus-6NXx4jt4.css","./ChapterReview-CcObbURq.js","./ChapterReview-BNSS7qD8.css","./Activity-8-CoX67Y43.js","./Activity-8-C46PISx_.css","./Activity-9-7jZvPR7O.js","./Activity-9-BUd6BhF0.css","./ChapterTest-DnPYerWc.js","./ChapterTest-OIBwb5CG.css","./Chapter-6-BR7QgX7A.js","./LessonOne-D5I_84wE.js","./LessonOne-BioVrd6e.css","./LessonTwo-CE1qNK6G.js","./LessonTwo-BkxiyGc3.css","./TechnologyFocus-BMwt4Qaa.js","./TechnologyFocus-CDmc1-mB.css","./ChapterReview-Om6uSe54.js","./ChapterReview-Cg_UA9M0.css","./Activity-10-CZddXtpF.js","./Activity-10-DTgI-CVd.css","./ChapterTest-B7Tjq8j9.js","./ChapterTest-GlKyx4gs.css","./StemChallenge-B56dupxR.js","./StemChallenge-3CYbyuTC.css","./Chapter-7-DpI0detR.js","./LessonOne-CCsqPbvq.js","./LessonOne-Bfx5CGlP.css","./LessonTwo-CZmw64Ge.js","./LessonTwo-CZiYd1e9.css","./TechnologyFocus-D5PllXjY.js","./TechnologyFocus-C_RtoXd3.css","./ChapterReview-CQBEzv3O.js","./ChapterReview-DeWLc0_-.css","./Activity-11-CFRLTxOe.js","./Activity-11-CNTD0V1q.css","./ChapterTest-CdmLg8qY.js","./ChapterTest-lCF--sn2.css","./Chapter-8-CLo7_pOX.js","./LessonOne-3yQvJ4s3.js","./katexTTS-CVriTlvF.js","./katexTTS-Cv57zmMN.css","./LessonOne-Dje9KJ99.css","./LessonTwo-BRD5BlZI.js","./LessonTwo-C9sSSVeu.css","./TechnologyFocus-7NykmVqI.js","./TechnologyFocus-CYlSnngq.css","./ChapterReview-Cdg6_QOK.js","./ChapterReview-BZk3jik-.css","./Activity-12-IQMAMVuF.js","./Activity-12-BpTZjzm_.css","./ChapterTest-soE-4jzb.js","./ChapterTest-BpZQKMpS.css","./StemChallenge-BIYAiLyc.js","./StemChallenge-bNLB3uHw.css","./Chapter-9-DM9h3cKo.js","./Chapter-10-WusZr0Rk.js","./LessonOne-DqKtC7DR.js","./LessonOne-CsfRHmMn.css","./MiniLab10-2-Bvjs7tZy.js","./MiniLab10-2-BNGaVDxb.css","./MiniLab10-3-Balf4hK-.js","./MiniLab10-3-Bk8AVgMx.css","./MiniTest10-2-C-fRJp-2.js","./MiniTest10-2-CZNbp4OZ.css","./MiniTest10-3-DRWQkvvY.js","./MiniTest10-3-CbZbgiaF.css","./MiniTest10-4-BAEC7RhQ.js","./MiniTest10-4-DWHDqUlD.css","./MiniTest10-5-BB8MbuMS.js","./MiniTest10-5-DArAG9ma.css","./LessonTwo-Bcl-LYPf.js","./LessonTwo-CoeqxQ0L.css","./LessonThree-kQPE-gP6.js","./LessonThree-DKbv2CXh.css","./TechnologyFocus-CLAbGmJT.js","./TechnologyFocus-CnwFQgkq.css","./ChapterReview-BJFAGu2Y.js","./ChapterReview-Kgy7wrld.css","./Activity-14-Cx-PDpiq.js","./Activity-14-DPeuM1im.css","./ChapterTest-Fnt2_KaB.js","./ChapterTest-UO0A-Wp_.css","./StemChallenge-BtcuyzC6.js","./StemChallenge-DNc34itR.css","./Chapter-11-T6IdDg_V.js","./MiniTest11-1-DZppKLZD.js","./MiniTest11-1-CGshd4dd.css","./MiniTest11-3-CXzdlavN.js","./MiniTest11-3-iZa77HXn.css","./MiniTest11-4-BheXCxZj.js","./MiniTest11-4-DZ2iHOZA.css","./LessonOne-BB6IfIdF.js","./LessonOne-DcPfXBO5.css","./LessonTwo-6Tu1PCvy.js","./LessonTwo-D4_WC8gZ.css","./TechnologyFocus-lsRVcdSu.js","./TechnologyFocus-C-FCcKGq.css","./ChapterReview--3xon9bu.js","./ChapterReview-Cvy8BiVi.css","./Activity-15-Bw-W6Zq2.js","./Activity-15-D5EeV-oo.css","./Activity-16-A0Ft-jno.js","./Activity-16-B--eSGSJ.css","./ChapterTest-BdRSQ5Fp.js","./ChapterTest-BFQRql6N.css","./StemChallenge-BhnM344v.js","./StemChallenge-CzfR_bjq.css","./Chapter-12-WFwLa1FD.js","./MiniTest12-1-Ccs9n7Ip.js","./MiniTest12-1-rmwAgyyW.css","./MiniTest12-2-Bbf13XvY.js","./MiniTest12-2-Dgee1N0K.css","./LessonOne-CRjCa48z.js","./LessonOne-Cv25CohF.css","./LessonTwo-KXisqDq3.js","./LessonTwo-B9iUj05d.css","./TechnologyFocus-BUk3qwVq.js","./TechnologyFocus-B3P3oCnW.css","./ChapterReview-BOaLK-N2.js","./ChapterReview-C3g4gAC3.css","./Activity-17-BvRt-kz2.js","./Activity-17-I6y7iGnC.css","./ChapterTest-ByTiAGzl.js","./ChapterTest-BJGza9hH.css"])))=>i.map(i=>d[i]);
const ac=(function(){const t=typeof document<"u"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"})(),uc=function(e,t){return new URL(e,t).href},Xi={},E=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const s=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");r=c(n.map(u=>{if(u=uc(u,o),u in Xi)return;Xi[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(o)for(let g=s.length-1;g>=0;g--){const w=s[g];if(w.href===u&&(!f||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":ac,f||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),f)return new Promise((g,w)=>{h.addEventListener("load",g),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ge={},yn=[],wt=()=>{},ql=()=>!1,tr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ei=e=>e.startsWith("onUpdate:"),Pe=Object.assign,xi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},cc=Object.prototype.hasOwnProperty,me=(e,t)=>cc.call(e,t),re=Array.isArray,wn=e=>nr(e)==="[object Map]",$l=e=>nr(e)==="[object Set]",se=e=>typeof e=="function",Ce=e=>typeof e=="string",Ut=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",Bl=e=>(we(e)||se(e))&&se(e.then)&&se(e.catch),Fl=Object.prototype.toString,nr=e=>Fl.call(e),fc=e=>nr(e).slice(8,-1),jl=e=>nr(e)==="[object Object]",Ci=e=>Ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kn=wi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),or=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},dc=/-\w/g,rt=or(e=>e.replace(dc,t=>t.slice(1).toUpperCase())),mc=/\B([A-Z])/g,cn=or(e=>e.replace(mc,"-$1").toLowerCase()),rr=or(e=>e.charAt(0).toUpperCase()+e.slice(1)),vr=or(e=>e?`on${rr(e)}`:""),Nt=(e,t)=>!Object.is(e,t),_r=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Nl=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},hc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},pc=e=>{const t=Ce(e)?Number(e):NaN;return isNaN(t)?e:t};let es;const ir=()=>es||(es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ki(e){if(re(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=Ce(o)?bc(o):ki(o);if(r)for(const i in r)t[i]=r[i]}return t}else if(Ce(e)||we(e))return e}const gc=/;(?![^(]*\))/g,vc=/:([^]+)/,_c=/\/\*[^]*?\*\//g;function bc(e){const t={};return e.replace(_c,"").split(gc).forEach(n=>{if(n){const o=n.split(vc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Si(e){let t="";if(Ce(e))t=e;else if(re(e))for(let n=0;n<e.length;n++){const o=Si(e[n]);o&&(t+=o+" ")}else if(we(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const yc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wc=wi(yc);function Hl(e){return!!e||e===""}const zl=e=>!!(e&&e.__v_isRef===!0),Ec=e=>Ce(e)?e:e==null?"":re(e)||we(e)&&(e.toString===Fl||!se(e.toString))?zl(e)?Ec(e.value):JSON.stringify(e,Kl,2):String(e),Kl=(e,t)=>zl(t)?Kl(e,t.value):wn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],i)=>(n[br(o,i)+" =>"]=r,n),{})}:$l(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>br(n))}:Ut(t)?br(t):we(t)&&!re(t)&&!jl(t)?String(t):t,br=(e,t="")=>{var n;return Ut(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class xc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!t&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ze;try{return ze=this,t()}finally{ze=n}}}on(){++this._on===1&&(this.prevScope=ze,ze=this)}off(){this._on>0&&--this._on===0&&(ze=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Cc(){return ze}let _e;const yr=new WeakSet;class Ul{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yr.has(this)&&(yr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ql(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ts(this),Gl(this);const t=_e,n=ut;_e=this,ut=!0;try{return this.fn()}finally{Yl(this),_e=t,ut=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ri(t);this.deps=this.depsTail=void 0,ts(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wr(this)&&this.run()}get dirty(){return Wr(this)}}let Wl=0,Un,Wn;function Ql(e,t=!1){if(e.flags|=8,t){e.next=Wn,Wn=e;return}e.next=Un,Un=e}function Ti(){Wl++}function Pi(){if(--Wl>0)return;if(Wn){let t=Wn;for(Wn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Un;){let t=Un;for(Un=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Gl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yl(e){let t,n=e.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),Ri(o),kc(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function Wr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Jl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Jl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===no)||(e.globalVersion=no,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Wr(e))))return;e.flags|=2;const t=e.dep,n=_e,o=ut;_e=e,ut=!0;try{Gl(e);const r=e.fn(e._value);(t.version===0||Nt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{_e=n,ut=o,Yl(e),e.flags&=-3}}function Ri(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ri(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function kc(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ut=!0;const Zl=[];function Pt(){Zl.push(ut),ut=!1}function Rt(){const e=Zl.pop();ut=e===void 0?!0:e}function ts(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=_e;_e=void 0;try{t()}finally{_e=n}}}let no=0;class Sc{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ai{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!_e||!ut||_e===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==_e)n=this.activeLink=new Sc(_e,this),_e.deps?(n.prevDep=_e.depsTail,_e.depsTail.nextDep=n,_e.depsTail=n):_e.deps=_e.depsTail=n,Xl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=_e.depsTail,n.nextDep=void 0,_e.depsTail.nextDep=n,_e.depsTail=n,_e.deps===n&&(_e.deps=o)}return n}trigger(t){this.version++,no++,this.notify(t)}notify(t){Ti();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Pi()}}}function Xl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Xl(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Qr=new WeakMap,on=Symbol(""),Gr=Symbol(""),oo=Symbol("");function Ve(e,t,n){if(ut&&_e){let o=Qr.get(e);o||Qr.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new Ai),r.map=o,r.key=n),r.track()}}function St(e,t,n,o,r,i){const s=Qr.get(e);if(!s){no++;return}const l=a=>{a&&a.trigger()};if(Ti(),t==="clear")s.forEach(l);else{const a=re(e),c=a&&Ci(n);if(a&&n==="length"){const u=Number(o);s.forEach((f,d)=>{(d==="length"||d===oo||!Ut(d)&&d>=u)&&l(f)})}else switch((n!==void 0||s.has(void 0))&&l(s.get(n)),c&&l(s.get(oo)),t){case"add":a?c&&l(s.get("length")):(l(s.get(on)),wn(e)&&l(s.get(Gr)));break;case"delete":a||(l(s.get(on)),wn(e)&&l(s.get(Gr)));break;case"set":wn(e)&&l(s.get(on));break}}Pi()}function mn(e){const t=ae(e);return t===e?t:(Ve(t,"iterate",oo),ot(e)?t:t.map(Me))}function sr(e){return Ve(e=ae(e),"iterate",oo),e}const Tc={__proto__:null,[Symbol.iterator](){return wr(this,Symbol.iterator,Me)},concat(...e){return mn(this).concat(...e.map(t=>re(t)?mn(t):t))},entries(){return wr(this,"entries",e=>(e[1]=Me(e[1]),e))},every(e,t){return Et(this,"every",e,t,void 0,arguments)},filter(e,t){return Et(this,"filter",e,t,n=>n.map(Me),arguments)},find(e,t){return Et(this,"find",e,t,Me,arguments)},findIndex(e,t){return Et(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Et(this,"findLast",e,t,Me,arguments)},findLastIndex(e,t){return Et(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Et(this,"forEach",e,t,void 0,arguments)},includes(...e){return Er(this,"includes",e)},indexOf(...e){return Er(this,"indexOf",e)},join(e){return mn(this).join(e)},lastIndexOf(...e){return Er(this,"lastIndexOf",e)},map(e,t){return Et(this,"map",e,t,void 0,arguments)},pop(){return In(this,"pop")},push(...e){return In(this,"push",e)},reduce(e,...t){return ns(this,"reduce",e,t)},reduceRight(e,...t){return ns(this,"reduceRight",e,t)},shift(){return In(this,"shift")},some(e,t){return Et(this,"some",e,t,void 0,arguments)},splice(...e){return In(this,"splice",e)},toReversed(){return mn(this).toReversed()},toSorted(e){return mn(this).toSorted(e)},toSpliced(...e){return mn(this).toSpliced(...e)},unshift(...e){return In(this,"unshift",e)},values(){return wr(this,"values",Me)}};function wr(e,t,n){const o=sr(e),r=o[t]();return o!==e&&!ot(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const Pc=Array.prototype;function Et(e,t,n,o,r,i){const s=sr(e),l=s!==e&&!ot(e),a=s[t];if(a!==Pc[t]){const f=a.apply(e,i);return l?Me(f):f}let c=n;s!==e&&(l?c=function(f,d){return n.call(this,Me(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=a.call(s,c,o);return l&&r?r(u):u}function ns(e,t,n,o){const r=sr(e);let i=n;return r!==e&&(ot(e)?n.length>3&&(i=function(s,l,a){return n.call(this,s,l,a,e)}):i=function(s,l,a){return n.call(this,s,Me(l),a,e)}),r[t](i,...o)}function Er(e,t,n){const o=ae(e);Ve(o,"iterate",oo);const r=o[t](...n);return(r===-1||r===!1)&&Mi(n[0])?(n[0]=ae(n[0]),o[t](...n)):r}function In(e,t,n=[]){Pt(),Ti();const o=ae(e)[t].apply(e,n);return Pi(),Rt(),o}const Rc=wi("__proto__,__v_isRef,__isVue"),ea=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ut));function Ac(e){Ut(e)||(e=String(e));const t=ae(this);return Ve(t,"has",e),t.hasOwnProperty(e)}class ta{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(r?i?Fc:ia:i?ra:oa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const s=re(t);if(!r){let a;if(s&&(a=Tc[n]))return a;if(n==="hasOwnProperty")return Ac}const l=Reflect.get(t,n,qe(t)?t:o);return(Ut(n)?ea.has(n):Rc(n))||(r||Ve(t,"get",n),i)?l:qe(l)?s&&Ci(n)?l:l.value:we(l)?r?la(l):Ln(l):l}}class na extends ta{constructor(t=!1){super(!1,t)}set(t,n,o,r){let i=t[n];if(!this._isShallow){const a=Ht(i);if(!ot(o)&&!Ht(o)&&(i=ae(i),o=ae(o)),!re(t)&&qe(i)&&!qe(o))return a||(i.value=o),!0}const s=re(t)&&Ci(n)?Number(n)<t.length:me(t,n),l=Reflect.set(t,n,o,qe(t)?t:r);return t===ae(r)&&(s?Nt(o,i)&&St(t,"set",n,o):St(t,"add",n,o)),l}deleteProperty(t,n){const o=me(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&St(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!Ut(n)||!ea.has(n))&&Ve(t,"has",n),o}ownKeys(t){return Ve(t,"iterate",re(t)?"length":on),Reflect.ownKeys(t)}}class Lc extends ta{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Oc=new na,Mc=new Lc,Ic=new na(!0);const Yr=e=>e,wo=e=>Reflect.getPrototypeOf(e);function Vc(e,t,n){return function(...o){const r=this.__v_raw,i=ae(r),s=wn(i),l=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,c=r[e](...o),u=n?Yr:t?jo:Me;return!t&&Ve(i,"iterate",a?Gr:on),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:l?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Eo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Dc(e,t){const n={get(r){const i=this.__v_raw,s=ae(i),l=ae(r);e||(Nt(r,l)&&Ve(s,"get",r),Ve(s,"get",l));const{has:a}=wo(s),c=t?Yr:e?jo:Me;if(a.call(s,r))return c(i.get(r));if(a.call(s,l))return c(i.get(l));i!==s&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Ve(ae(r),"iterate",on),r.size},has(r){const i=this.__v_raw,s=ae(i),l=ae(r);return e||(Nt(r,l)&&Ve(s,"has",r),Ve(s,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const s=this,l=s.__v_raw,a=ae(l),c=t?Yr:e?jo:Me;return!e&&Ve(a,"iterate",on),l.forEach((u,f)=>r.call(i,c(u),c(f),s))}};return Pe(n,e?{add:Eo("add"),set:Eo("set"),delete:Eo("delete"),clear:Eo("clear")}:{add(r){!t&&!ot(r)&&!Ht(r)&&(r=ae(r));const i=ae(this);return wo(i).has.call(i,r)||(i.add(r),St(i,"add",r,r)),this},set(r,i){!t&&!ot(i)&&!Ht(i)&&(i=ae(i));const s=ae(this),{has:l,get:a}=wo(s);let c=l.call(s,r);c||(r=ae(r),c=l.call(s,r));const u=a.call(s,r);return s.set(r,i),c?Nt(i,u)&&St(s,"set",r,i):St(s,"add",r,i),this},delete(r){const i=ae(this),{has:s,get:l}=wo(i);let a=s.call(i,r);a||(r=ae(r),a=s.call(i,r)),l&&l.call(i,r);const c=i.delete(r);return a&&St(i,"delete",r,void 0),c},clear(){const r=ae(this),i=r.size!==0,s=r.clear();return i&&St(r,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Vc(r,e,t)}),n}function Li(e,t){const n=Dc(e,t);return(o,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(me(n,r)&&r in o?n:o,r,i)}const qc={get:Li(!1,!1)},$c={get:Li(!1,!0)},Bc={get:Li(!0,!1)};const oa=new WeakMap,ra=new WeakMap,ia=new WeakMap,Fc=new WeakMap;function jc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nc(e){return e.__v_skip||!Object.isExtensible(e)?0:jc(fc(e))}function Ln(e){return Ht(e)?e:Oi(e,!1,Oc,qc,oa)}function sa(e){return Oi(e,!1,Ic,$c,ra)}function la(e){return Oi(e,!0,Mc,Bc,ia)}function Oi(e,t,n,o,r){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Nc(e);if(i===0)return e;const s=r.get(e);if(s)return s;const l=new Proxy(e,i===2?o:n);return r.set(e,l),l}function En(e){return Ht(e)?En(e.__v_raw):!!(e&&e.__v_isReactive)}function Ht(e){return!!(e&&e.__v_isReadonly)}function ot(e){return!!(e&&e.__v_isShallow)}function Mi(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function ho(e){return!me(e,"__v_skip")&&Object.isExtensible(e)&&Nl(e,"__v_skip",!0),e}const Me=e=>we(e)?Ln(e):e,jo=e=>we(e)?la(e):e;function qe(e){return e?e.__v_isRef===!0:!1}function fe(e){return aa(e,!1)}function Hc(e){return aa(e,!0)}function aa(e,t){return qe(e)?e:new zc(e,t)}class zc{constructor(t,n){this.dep=new Ai,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ae(t),this._value=n?t:Me(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||ot(t)||Ht(t);t=o?t:ae(t),Nt(t,n)&&(this._rawValue=t,this._value=o?t:Me(t),this.dep.trigger())}}function rn(e){return qe(e)?e.value:e}const Kc={get:(e,t,n)=>t==="__v_raw"?e:rn(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return qe(r)&&!qe(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function ua(e){return En(e)?e:new Proxy(e,Kc)}class Uc{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ai(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=no-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return Ql(this,!0),!0}get value(){const t=this.dep.track();return Jl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Wc(e,t,n=!1){let o,r;return se(e)?o=e:(o=e.get,r=e.set),new Uc(o,r,n)}const xo={},No=new WeakMap;let Zt;function Qc(e,t=!1,n=Zt){if(n){let o=No.get(n);o||No.set(n,o=[]),o.push(e)}}function Gc(e,t,n=ge){const{immediate:o,deep:r,once:i,scheduler:s,augmentJob:l,call:a}=n,c=A=>r?A:ot(A)||r===!1||r===0?Tt(A,1):Tt(A);let u,f,d,h,g=!1,w=!1;if(qe(e)?(f=()=>e.value,g=ot(e)):En(e)?(f=()=>c(e),g=!0):re(e)?(w=!0,g=e.some(A=>En(A)||ot(A)),f=()=>e.map(A=>{if(qe(A))return A.value;if(En(A))return c(A);if(se(A))return a?a(A,2):A()})):se(e)?t?f=a?()=>a(e,2):e:f=()=>{if(d){Pt();try{d()}finally{Rt()}}const A=Zt;Zt=u;try{return a?a(e,3,[h]):e(h)}finally{Zt=A}}:f=wt,t&&r){const A=f,$=r===!0?1/0:r;f=()=>Tt(A(),$)}const k=Cc(),M=()=>{u.stop(),k&&k.active&&xi(k.effects,u)};if(i&&t){const A=t;t=(...$)=>{A(...$),M()}}let b=w?new Array(e.length).fill(xo):xo;const L=A=>{if(!(!(u.flags&1)||!u.dirty&&!A))if(t){const $=u.run();if(r||g||(w?$.some((j,z)=>Nt(j,b[z])):Nt($,b))){d&&d();const j=Zt;Zt=u;try{const z=[$,b===xo?void 0:w&&b[0]===xo?[]:b,h];b=$,a?a(t,3,z):t(...z)}finally{Zt=j}}}else u.run()};return l&&l(L),u=new Ul(f),u.scheduler=s?()=>s(L,!1):L,h=A=>Qc(A,!1,u),d=u.onStop=()=>{const A=No.get(u);if(A){if(a)a(A,4);else for(const $ of A)$();No.delete(u)}},t?o?L(!0):b=u.run():s?s(L.bind(null,!0),!0):u.run(),M.pause=u.pause.bind(u),M.resume=u.resume.bind(u),M.stop=M,M}function Tt(e,t=1/0,n){if(t<=0||!we(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,qe(e))Tt(e.value,t,n);else if(re(e))for(let o=0;o<e.length;o++)Tt(e[o],t,n);else if($l(e)||wn(e))e.forEach(o=>{Tt(o,t,n)});else if(jl(e)){for(const o in e)Tt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Tt(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function po(e,t,n,o){try{return o?e(...o):e()}catch(r){lr(r,t,n)}}function ct(e,t,n,o){if(se(e)){const r=po(e,t,n,o);return r&&Bl(r)&&r.catch(i=>{lr(i,t,n)}),r}if(re(e)){const r=[];for(let i=0;i<e.length;i++)r.push(ct(e[i],t,n,o));return r}}function lr(e,t,n,o=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||ge;if(t){let l=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,a,c)===!1)return}l=l.parent}if(i){Pt(),po(i,null,10,[e,a,c]),Rt();return}}Yc(e,n,r,o,s)}function Yc(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const Fe=[];let vt=-1;const xn=[];let qt=null,_n=0;const ca=Promise.resolve();let Ho=null;function Qe(e){const t=Ho||ca;return e?t.then(this?e.bind(this):e):t}function Jc(e){let t=vt+1,n=Fe.length;for(;t<n;){const o=t+n>>>1,r=Fe[o],i=ro(r);i<e||i===e&&r.flags&2?t=o+1:n=o}return t}function Ii(e){if(!(e.flags&1)){const t=ro(e),n=Fe[Fe.length-1];!n||!(e.flags&2)&&t>=ro(n)?Fe.push(e):Fe.splice(Jc(t),0,e),e.flags|=1,fa()}}function fa(){Ho||(Ho=ca.then(ma))}function Zc(e){re(e)?xn.push(...e):qt&&e.id===-1?qt.splice(_n+1,0,e):e.flags&1||(xn.push(e),e.flags|=1),fa()}function os(e,t,n=vt+1){for(;n<Fe.length;n++){const o=Fe[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Fe.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function da(e){if(xn.length){const t=[...new Set(xn)].sort((n,o)=>ro(n)-ro(o));if(xn.length=0,qt){qt.push(...t);return}for(qt=t,_n=0;_n<qt.length;_n++){const n=qt[_n];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qt=null,_n=0}}const ro=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ma(e){try{for(vt=0;vt<Fe.length;vt++){const t=Fe[vt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),po(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;vt<Fe.length;vt++){const t=Fe[vt];t&&(t.flags&=-2)}vt=-1,Fe.length=0,da(),Ho=null,(Fe.length||xn.length)&&ma()}}let Ye=null,ha=null;function zo(e){const t=Ye;return Ye=e,ha=e&&e.type.__scopeId||null,t}function Xc(e,t=Ye,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&Wo(-1);const i=zo(t);let s;try{s=e(...r)}finally{zo(i),o._d&&Wo(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function pa(e,t){if(Ye===null)return e;const n=mr(Ye),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,s,l,a=ge]=t[r];i&&(se(i)&&(i={mounted:i,updated:i}),i.deep&&Tt(s),o.push({dir:i,instance:n,value:s,oldValue:void 0,arg:l,modifiers:a}))}return e}function Wt(e,t,n,o){const r=e.dirs,i=t&&t.dirs;for(let s=0;s<r.length;s++){const l=r[s];i&&(l.oldValue=i[s].value);let a=l.dir[o];a&&(Pt(),ct(a,n,8,[e.el,l,e,t]),Rt())}}const ga=Symbol("_vte"),va=e=>e.__isTeleport,Qn=e=>e&&(e.disabled||e.disabled===""),rs=e=>e&&(e.defer||e.defer===""),is=e=>typeof SVGElement<"u"&&e instanceof SVGElement,ss=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Jr=(e,t)=>{const n=e&&e.to;return Ce(n)?t?t(n):null:n},_a={name:"Teleport",__isTeleport:!0,process(e,t,n,o,r,i,s,l,a,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:g,createText:w,createComment:k}}=c,M=Qn(t.props);let{shapeFlag:b,children:L,dynamicChildren:A}=t;if(e==null){const $=t.el=w(""),j=t.anchor=w("");h($,n,o),h(j,n,o);const z=(F,x)=>{b&16&&(r&&r.isCE&&(r.ce._teleportTarget=F),u(L,F,x,r,i,s,l,a))},N=()=>{const F=t.target=Jr(t.props,g),x=ba(F,t,w,h);F&&(s!=="svg"&&is(F)?s="svg":s!=="mathml"&&ss(F)&&(s="mathml"),M||(z(F,x),Oo(t,!1)))};M&&(z(n,j),Oo(t,!0)),rs(t.props)?(t.el.__isMounted=!1,Be(()=>{N(),delete t.el.__isMounted},i)):N()}else{if(rs(t.props)&&e.el.__isMounted===!1){Be(()=>{_a.process(e,t,n,o,r,i,s,l,a,c)},i);return}t.el=e.el,t.targetStart=e.targetStart;const $=t.anchor=e.anchor,j=t.target=e.target,z=t.targetAnchor=e.targetAnchor,N=Qn(e.props),F=N?n:j,x=N?$:z;if(s==="svg"||is(j)?s="svg":(s==="mathml"||ss(j))&&(s="mathml"),A?(d(e.dynamicChildren,A,F,r,i,s,l),Fi(e,t,!0)):a||f(e,t,F,x,r,i,s,l,!1),M)N?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Co(t,n,$,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const C=t.target=Jr(t.props,g);C&&Co(t,C,null,c,0)}else N&&Co(t,j,z,c,1);Oo(t,M)}},remove(e,t,n,{um:o,o:{remove:r}},i){const{shapeFlag:s,children:l,anchor:a,targetStart:c,targetAnchor:u,target:f,props:d}=e;if(f&&(r(c),r(u)),i&&r(a),s&16){const h=i||!Qn(d);for(let g=0;g<l.length;g++){const w=l[g];o(w,t,n,h,!!w.dynamicChildren)}}},move:Co,hydrate:ef};function Co(e,t,n,{o:{insert:o},m:r},i=2){i===0&&o(e.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:a,children:c,props:u}=e,f=i===2;if(f&&o(s,t,n),(!f||Qn(u))&&a&16)for(let d=0;d<c.length;d++)r(c[d],t,n,2);f&&o(l,t,n)}function ef(e,t,n,o,r,i,{o:{nextSibling:s,parentNode:l,querySelector:a,insert:c,createText:u}},f){function d(w,k,M,b){k.anchor=f(s(w),k,l(w),n,o,r,i),k.targetStart=M,k.targetAnchor=b}const h=t.target=Jr(t.props,a),g=Qn(t.props);if(h){const w=h._lpa||h.firstChild;if(t.shapeFlag&16)if(g)d(e,t,w,w&&s(w));else{t.anchor=s(e);let k=w;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")t.targetStart=k;else if(k.data==="teleport anchor"){t.targetAnchor=k,h._lpa=t.targetAnchor&&s(t.targetAnchor);break}}k=s(k)}t.targetAnchor||ba(h,t,u,c),f(w&&s(w),t,h,n,o,r,i)}Oo(t,g)}else g&&t.shapeFlag&16&&d(e,t,e,s(e));return t.anchor&&s(t.anchor)}const tf=_a;function Oo(e,t){const n=e.ctx;if(n&&n.ut){let o,r;for(t?(o=e.el,r=e.anchor):(o=e.targetStart,r=e.targetAnchor);o&&o!==r;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function ba(e,t,n,o){const r=t.targetStart=n(""),i=t.targetAnchor=n("");return r[ga]=i,e&&(o(r,e),o(i,e)),i}const kt=Symbol("_leaveCb"),ko=Symbol("_enterCb");function ya(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ot(()=>{e.isMounted=!0}),it(()=>{e.isUnmounting=!0}),e}const et=[Function,Array],wa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:et,onEnter:et,onAfterEnter:et,onEnterCancelled:et,onBeforeLeave:et,onLeave:et,onAfterLeave:et,onLeaveCancelled:et,onBeforeAppear:et,onAppear:et,onAfterAppear:et,onAppearCancelled:et},Ea=e=>{const t=e.subTree;return t.component?Ea(t.component):t},nf={name:"BaseTransition",props:wa,setup(e,{slots:t}){const n=ke(),o=ya();return()=>{const r=t.default&&Vi(t.default(),!0);if(!r||!r.length)return;const i=xa(r),s=ae(e),{mode:l}=s;if(o.isLeaving)return xr(i);const a=ls(i);if(!a)return xr(i);let c=io(a,s,o,n,f=>c=f);a.type!==je&&un(a,c);let u=n.subTree&&ls(n.subTree);if(u&&u.type!==je&&!Xt(u,a)&&Ea(n).type!==je){let f=io(u,s,o,n);if(un(u,f),l==="out-in"&&a.type!==je)return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},xr(i);l==="in-out"&&a.type!==je?f.delayLeave=(d,h,g)=>{const w=Ca(o,u);w[String(u.key)]=u,d[kt]=()=>{h(),d[kt]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function xa(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==je){t=n;break}}return t}const of=nf;function Ca(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function io(e,t,n,o,r){const{appear:i,mode:s,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:g,onLeaveCancelled:w,onBeforeAppear:k,onAppear:M,onAfterAppear:b,onAppearCancelled:L}=t,A=String(e.key),$=Ca(n,e),j=(F,x)=>{F&&ct(F,o,9,x)},z=(F,x)=>{const C=x[1];j(F,x),re(F)?F.every(v=>v.length<=1)&&C():F.length<=1&&C()},N={mode:s,persisted:l,beforeEnter(F){let x=a;if(!n.isMounted)if(i)x=k||a;else return;F[kt]&&F[kt](!0);const C=$[A];C&&Xt(e,C)&&C.el[kt]&&C.el[kt](),j(x,[F])},enter(F){let x=c,C=u,v=f;if(!n.isMounted)if(i)x=M||c,C=b||u,v=L||f;else return;let P=!1;const S=F[ko]=K=>{P||(P=!0,K?j(v,[F]):j(C,[F]),N.delayedLeave&&N.delayedLeave(),F[ko]=void 0)};x?z(x,[F,S]):S()},leave(F,x){const C=String(e.key);if(F[ko]&&F[ko](!0),n.isUnmounting)return x();j(d,[F]);let v=!1;const P=F[kt]=S=>{v||(v=!0,x(),S?j(w,[F]):j(g,[F]),F[kt]=void 0,$[C]===e&&delete $[C])};$[C]=e,h?z(h,[F,P]):P()},clone(F){const x=io(F,t,n,o,r);return r&&r(x),x}};return N}function xr(e){if(ar(e))return e=zt(e),e.children=null,e}function ls(e){if(!ar(e))return va(e.type)&&e.children?xa(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&se(n.default))return n.default()}}function un(e,t){e.shapeFlag&6&&e.component?(e.transition=t,un(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Vi(e,t=!1,n){let o=[],r=0;for(let i=0;i<e.length;i++){let s=e[i];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===lt?(s.patchFlag&128&&r++,o=o.concat(Vi(s.children,t,l))):(t||s.type!==je)&&o.push(l!=null?zt(s,{key:l}):s)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function Di(e,t){return se(e)?Pe({name:e.name},t,{setup:e}):e}function ka(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ko=new WeakMap;function Gn(e,t,n,o,r=!1){if(re(e)){e.forEach((g,w)=>Gn(g,t&&(re(t)?t[w]:t),n,o,r));return}if(Yn(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Gn(e,t,n,o.component.subTree);return}const i=o.shapeFlag&4?mr(o.component):o.el,s=r?null:i,{i:l,r:a}=e,c=t&&t.r,u=l.refs===ge?l.refs={}:l.refs,f=l.setupState,d=ae(f),h=f===ge?ql:g=>me(d,g);if(c!=null&&c!==a){if(as(t),Ce(c))u[c]=null,h(c)&&(f[c]=null);else if(qe(c)){c.value=null;const g=t;g.k&&(u[g.k]=null)}}if(se(a))po(a,l,12,[s,u]);else{const g=Ce(a),w=qe(a);if(g||w){const k=()=>{if(e.f){const M=g?h(a)?f[a]:u[a]:a.value;if(r)re(M)&&xi(M,i);else if(re(M))M.includes(i)||M.push(i);else if(g)u[a]=[i],h(a)&&(f[a]=u[a]);else{const b=[i];a.value=b,e.k&&(u[e.k]=b)}}else g?(u[a]=s,h(a)&&(f[a]=s)):w&&(a.value=s,e.k&&(u[e.k]=s))};if(s){const M=()=>{k(),Ko.delete(e)};M.id=-1,Ko.set(e,M),Be(M,n)}else as(e),k()}}}function as(e){const t=Ko.get(e);t&&(t.flags|=8,Ko.delete(e))}ir().requestIdleCallback;ir().cancelIdleCallback;const Yn=e=>!!e.type.__asyncLoader,ar=e=>e.type.__isKeepAlive;function qi(e,t){Sa(e,"a",t)}function go(e,t){Sa(e,"da",t)}function Sa(e,t,n=De){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ur(t,o,n),n){let r=n.parent;for(;r&&r.parent;)ar(r.parent.vnode)&&rf(o,t,n,r),r=r.parent}}function rf(e,t,n,o){const r=ur(t,e,o,!0);cr(()=>{xi(o[t],r)},n)}function ur(e,t,n=De,o=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{Pt();const l=vo(n),a=ct(t,n,e,s);return l(),Rt(),a});return o?r.unshift(i):r.push(i),i}}const Lt=e=>(t,n=De)=>{(!lo||e==="sp")&&ur(e,(...o)=>t(...o),n)},sf=Lt("bm"),Ot=Lt("m"),Ta=Lt("bu"),Pa=Lt("u"),it=Lt("bum"),cr=Lt("um"),lf=Lt("sp"),af=Lt("rtg"),uf=Lt("rtc");function cf(e,t=De){ur("ec",e,t)}const ff="components";function df(e,t){return hf(ff,e,!0,t)||e}const mf=Symbol.for("v-ndc");function hf(e,t,n=!0,o=!1){const r=Ye||De;if(r){const i=r.type;{const l=rd(i,!1);if(l&&(l===t||l===rt(t)||l===rr(rt(t))))return i}const s=us(r[e]||i[e],t)||us(r.appContext[e],t);return!s&&o?i:s}}function us(e,t){return e&&(e[t]||e[rt(t)]||e[rr(rt(t))])}function $g(e,t,n,o){let r;const i=n,s=re(e);if(s||Ce(e)){const l=s&&En(e);let a=!1,c=!1;l&&(a=!ot(e),c=Ht(e),e=sr(e)),r=new Array(e.length);for(let u=0,f=e.length;u<f;u++)r[u]=t(a?c?jo(Me(e[u])):Me(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,i)}else if(we(e))if(e[Symbol.iterator])r=Array.from(e,(l,a)=>t(l,a,void 0,i));else{const l=Object.keys(e);r=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];r[a]=t(e[u],u,a,i)}}else r=[];return r}const Zr=e=>e?Ga(e)?mr(e):Zr(e.parent):null,Jn=Pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zr(e.parent),$root:e=>Zr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Aa(e),$forceUpdate:e=>e.f||(e.f=()=>{Ii(e.update)}),$nextTick:e=>e.n||(e.n=Qe.bind(e.proxy)),$watch:e=>Vf.bind(e)}),Cr=(e,t)=>e!==ge&&!e.__isScriptSetup&&me(e,t),pf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(Cr(o,t))return s[t]=1,o[t];if(r!==ge&&me(r,t))return s[t]=2,r[t];if((c=e.propsOptions[0])&&me(c,t))return s[t]=3,i[t];if(n!==ge&&me(n,t))return s[t]=4,n[t];Xr&&(s[t]=0)}}const u=Jn[t];let f,d;if(u)return t==="$attrs"&&Ve(e.attrs,"get",""),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==ge&&me(n,t))return s[t]=4,n[t];if(d=a.config.globalProperties,me(d,t))return d[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:i}=e;return Cr(r,t)?(r[t]=n,!0):o!==ge&&me(o,t)?(o[t]=n,!0):me(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:i,type:s}},l){let a,c;return!!(n[l]||e!==ge&&l[0]!=="$"&&me(e,l)||Cr(t,l)||(a=i[0])&&me(a,l)||me(o,l)||me(Jn,l)||me(r.config.globalProperties,l)||(c=s.__cssModules)&&c[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:me(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function cs(e){return re(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Xr=!0;function gf(e){const t=Aa(e),n=e.proxy,o=e.ctx;Xr=!1,t.beforeCreate&&fs(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:s,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:g,activated:w,deactivated:k,beforeDestroy:M,beforeUnmount:b,destroyed:L,unmounted:A,render:$,renderTracked:j,renderTriggered:z,errorCaptured:N,serverPrefetch:F,expose:x,inheritAttrs:C,components:v,directives:P,filters:S}=t;if(c&&vf(c,o,null),s)for(const U in s){const O=s[U];se(O)&&(o[U]=O.bind(n))}if(r){const U=r.call(n,n);we(U)&&(e.data=Ln(U))}if(Xr=!0,i)for(const U in i){const O=i[U],oe=se(O)?O.bind(n,n):se(O.get)?O.get.bind(n,n):wt,xe=!se(O)&&se(O.set)?O.set.bind(n):wt,le=R({get:oe,set:xe});Object.defineProperty(o,U,{enumerable:!0,configurable:!0,get:()=>le.value,set:q=>le.value=q})}if(l)for(const U in l)Ra(l[U],o,n,U);if(a){const U=se(a)?a.call(n):a;Reflect.ownKeys(U).forEach(O=>{Mo(O,U[O])})}u&&fs(u,e,"c");function X(U,O){re(O)?O.forEach(oe=>U(oe.bind(n))):O&&U(O.bind(n))}if(X(sf,f),X(Ot,d),X(Ta,h),X(Pa,g),X(qi,w),X(go,k),X(cf,N),X(uf,j),X(af,z),X(it,b),X(cr,A),X(lf,F),re(x))if(x.length){const U=e.exposed||(e.exposed={});x.forEach(O=>{Object.defineProperty(U,O,{get:()=>n[O],set:oe=>n[O]=oe,enumerable:!0})})}else e.exposed||(e.exposed={});$&&e.render===wt&&(e.render=$),C!=null&&(e.inheritAttrs=C),v&&(e.components=v),P&&(e.directives=P),F&&ka(e)}function vf(e,t,n=wt){re(e)&&(e=ei(e));for(const o in e){const r=e[o];let i;we(r)?"default"in r?i=Ze(r.from||o,r.default,!0):i=Ze(r.from||o):i=Ze(r),qe(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[o]=i}}function fs(e,t,n){ct(re(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ra(e,t,n,o){let r=o.includes(".")?Na(n,o):()=>n[o];if(Ce(e)){const i=t[e];se(i)&&ye(r,i)}else if(se(e))ye(r,e.bind(n));else if(we(e))if(re(e))e.forEach(i=>Ra(i,t,n,o));else{const i=se(e.handler)?e.handler.bind(n):t[e.handler];se(i)&&ye(r,i,e)}}function Aa(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,l=i.get(t);let a;return l?a=l:!r.length&&!n&&!o?a=t:(a={},r.length&&r.forEach(c=>Uo(a,c,s,!0)),Uo(a,t,s)),we(t)&&i.set(t,a),a}function Uo(e,t,n,o=!1){const{mixins:r,extends:i}=t;i&&Uo(e,i,n,!0),r&&r.forEach(s=>Uo(e,s,n,!0));for(const s in t)if(!(o&&s==="expose")){const l=_f[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const _f={data:ds,props:ms,emits:ms,methods:Nn,computed:Nn,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:Nn,directives:Nn,watch:yf,provide:ds,inject:bf};function ds(e,t){return t?e?function(){return Pe(se(e)?e.call(this,this):e,se(t)?t.call(this,this):t)}:t:e}function bf(e,t){return Nn(ei(e),ei(t))}function ei(e){if(re(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function Nn(e,t){return e?Pe(Object.create(null),e,t):t}function ms(e,t){return e?re(e)&&re(t)?[...new Set([...e,...t])]:Pe(Object.create(null),cs(e),cs(t??{})):t}function yf(e,t){if(!e)return t;if(!t)return e;const n=Pe(Object.create(null),e);for(const o in t)n[o]=$e(e[o],t[o]);return n}function La(){return{app:null,config:{isNativeTag:ql,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wf=0;function Ef(e,t){return function(o,r=null){se(o)||(o=Pe({},o)),r!=null&&!we(r)&&(r=null);const i=La(),s=new WeakSet,l=[];let a=!1;const c=i.app={_uid:wf++,_component:o,_props:r,_container:null,_context:i,_instance:null,version:sd,get config(){return i.config},set config(u){},use(u,...f){return s.has(u)||(u&&se(u.install)?(s.add(u),u.install(c,...f)):se(u)&&(s.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!a){const h=c._ceVNode||Xe(o,r);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),a=!0,c._container=u,u.__vue_app__=c,mr(h.component)}},onUnmount(u){l.push(u)},unmount(){a&&(ct(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=Cn;Cn=c;try{return u()}finally{Cn=f}}};return c}}let Cn=null;function Mo(e,t){if(De){let n=De.provides;const o=De.parent&&De.parent.provides;o===n&&(n=De.provides=Object.create(o)),n[e]=t}}function Ze(e,t,n=!1){const o=ke();if(o||Cn){let r=Cn?Cn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&se(t)?t.call(o&&o.proxy):t}}const Oa={},Ma=()=>Object.create(Oa),Ia=e=>Object.getPrototypeOf(e)===Oa;function xf(e,t,n,o=!1){const r={},i=Ma();e.propsDefaults=Object.create(null),Va(e,t,r,i);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=o?r:sa(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Cf(e,t,n,o){const{props:r,attrs:i,vnode:{patchFlag:s}}=e,l=ae(r),[a]=e.propsOptions;let c=!1;if((o||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(fr(e.emitsOptions,d))continue;const h=t[d];if(a)if(me(i,d))h!==i[d]&&(i[d]=h,c=!0);else{const g=rt(d);r[g]=ti(a,l,g,h,e,!1)}else h!==i[d]&&(i[d]=h,c=!0)}}}else{Va(e,t,r,i)&&(c=!0);let u;for(const f in l)(!t||!me(t,f)&&((u=cn(f))===f||!me(t,u)))&&(a?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=ti(a,l,f,void 0,e,!0)):delete r[f]);if(i!==l)for(const f in i)(!t||!me(t,f))&&(delete i[f],c=!0)}c&&St(e.attrs,"set","")}function Va(e,t,n,o){const[r,i]=e.propsOptions;let s=!1,l;if(t)for(let a in t){if(Kn(a))continue;const c=t[a];let u;r&&me(r,u=rt(a))?!i||!i.includes(u)?n[u]=c:(l||(l={}))[u]=c:fr(e.emitsOptions,a)||(!(a in o)||c!==o[a])&&(o[a]=c,s=!0)}if(i){const a=ae(n),c=l||ge;for(let u=0;u<i.length;u++){const f=i[u];n[f]=ti(r,a,f,c[f],e,!me(c,f))}}return s}function ti(e,t,n,o,r,i){const s=e[n];if(s!=null){const l=me(s,"default");if(l&&o===void 0){const a=s.default;if(s.type!==Function&&!s.skipFactory&&se(a)){const{propsDefaults:c}=r;if(n in c)o=c[n];else{const u=vo(r);o=c[n]=a.call(null,t),u()}}else o=a;r.ce&&r.ce._setProp(n,o)}s[0]&&(i&&!l?o=!1:s[1]&&(o===""||o===cn(n))&&(o=!0))}return o}const kf=new WeakMap;function Da(e,t,n=!1){const o=n?kf:t.propsCache,r=o.get(e);if(r)return r;const i=e.props,s={},l=[];let a=!1;if(!se(e)){const u=f=>{a=!0;const[d,h]=Da(f,t,!0);Pe(s,d),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!a)return we(e)&&o.set(e,yn),yn;if(re(i))for(let u=0;u<i.length;u++){const f=rt(i[u]);hs(f)&&(s[f]=ge)}else if(i)for(const u in i){const f=rt(u);if(hs(f)){const d=i[u],h=s[f]=re(d)||se(d)?{type:d}:Pe({},d),g=h.type;let w=!1,k=!0;if(re(g))for(let M=0;M<g.length;++M){const b=g[M],L=se(b)&&b.name;if(L==="Boolean"){w=!0;break}else L==="String"&&(k=!1)}else w=se(g)&&g.name==="Boolean";h[0]=w,h[1]=k,(w||me(h,"default"))&&l.push(f)}}const c=[s,l];return we(e)&&o.set(e,c),c}function hs(e){return e[0]!=="$"&&!Kn(e)}const $i=e=>e==="_"||e==="_ctx"||e==="$stable",Bi=e=>re(e)?e.map(bt):[bt(e)],Sf=(e,t,n)=>{if(t._n)return t;const o=Xc((...r)=>Bi(t(...r)),n);return o._c=!1,o},qa=(e,t,n)=>{const o=e._ctx;for(const r in e){if($i(r))continue;const i=e[r];if(se(i))t[r]=Sf(r,i,o);else if(i!=null){const s=Bi(i);t[r]=()=>s}}},$a=(e,t)=>{const n=Bi(t);e.slots.default=()=>n},Ba=(e,t,n)=>{for(const o in t)(n||!$i(o))&&(e[o]=t[o])},Tf=(e,t,n)=>{const o=e.slots=Ma();if(e.vnode.shapeFlag&32){const r=t._;r?(Ba(o,t,n),n&&Nl(o,"_",r,!0)):qa(t,o)}else t&&$a(e,t)},Pf=(e,t,n)=>{const{vnode:o,slots:r}=e;let i=!0,s=ge;if(o.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Ba(r,t,n):(i=!t.$stable,qa(t,r)),s=t}else t&&($a(e,t),s={default:1});if(i)for(const l in r)!$i(l)&&s[l]==null&&delete r[l]},Be=Hf;function Rf(e){return Af(e)}function Af(e,t){const n=ir();n.__VUE__=!0;const{insert:o,remove:r,patchProp:i,createElement:s,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=wt,insertStaticContent:g}=e,w=(m,p,_,V=null,D=null,I=null,Y=void 0,W=null,H=!!p.dynamicChildren)=>{if(m===p)return;m&&!Xt(m,p)&&(V=y(m),q(m,D,I,!0),m=null),p.patchFlag===-2&&(H=!1,p.dynamicChildren=null);const{type:B,ref:ne,shapeFlag:J}=p;switch(B){case dr:k(m,p,_,V);break;case je:M(m,p,_,V);break;case Io:m==null&&b(p,_,V,Y);break;case lt:v(m,p,_,V,D,I,Y,W,H);break;default:J&1?$(m,p,_,V,D,I,Y,W,H):J&6?P(m,p,_,V,D,I,Y,W,H):(J&64||J&128)&&B.process(m,p,_,V,D,I,Y,W,H,Z)}ne!=null&&D?Gn(ne,m&&m.ref,I,p||m,!p):ne==null&&m&&m.ref!=null&&Gn(m.ref,null,I,m,!0)},k=(m,p,_,V)=>{if(m==null)o(p.el=l(p.children),_,V);else{const D=p.el=m.el;p.children!==m.children&&c(D,p.children)}},M=(m,p,_,V)=>{m==null?o(p.el=a(p.children||""),_,V):p.el=m.el},b=(m,p,_,V)=>{[m.el,m.anchor]=g(m.children,p,_,V,m.el,m.anchor)},L=({el:m,anchor:p},_,V)=>{let D;for(;m&&m!==p;)D=d(m),o(m,_,V),m=D;o(p,_,V)},A=({el:m,anchor:p})=>{let _;for(;m&&m!==p;)_=d(m),r(m),m=_;r(p)},$=(m,p,_,V,D,I,Y,W,H)=>{p.type==="svg"?Y="svg":p.type==="math"&&(Y="mathml"),m==null?j(p,_,V,D,I,Y,W,H):F(m,p,D,I,Y,W,H)},j=(m,p,_,V,D,I,Y,W)=>{let H,B;const{props:ne,shapeFlag:J,transition:ee,dirs:ie}=m;if(H=m.el=s(m.type,I,ne&&ne.is,ne),J&8?u(H,m.children):J&16&&N(m.children,H,null,V,D,kr(m,I),Y,W),ie&&Wt(m,null,V,"created"),z(H,m,m.scopeId,Y,V),ne){for(const ve in ne)ve!=="value"&&!Kn(ve)&&i(H,ve,null,ne[ve],I,V);"value"in ne&&i(H,"value",null,ne.value,I),(B=ne.onVnodeBeforeMount)&&pt(B,V,m)}ie&&Wt(m,null,V,"beforeMount");const ce=Lf(D,ee);ce&&ee.beforeEnter(H),o(H,p,_),((B=ne&&ne.onVnodeMounted)||ce||ie)&&Be(()=>{B&&pt(B,V,m),ce&&ee.enter(H),ie&&Wt(m,null,V,"mounted")},D)},z=(m,p,_,V,D)=>{if(_&&h(m,_),V)for(let I=0;I<V.length;I++)h(m,V[I]);if(D){let I=D.subTree;if(p===I||za(I.type)&&(I.ssContent===p||I.ssFallback===p)){const Y=D.vnode;z(m,Y,Y.scopeId,Y.slotScopeIds,D.parent)}}},N=(m,p,_,V,D,I,Y,W,H=0)=>{for(let B=H;B<m.length;B++){const ne=m[B]=W?$t(m[B]):bt(m[B]);w(null,ne,p,_,V,D,I,Y,W)}},F=(m,p,_,V,D,I,Y)=>{const W=p.el=m.el;let{patchFlag:H,dynamicChildren:B,dirs:ne}=p;H|=m.patchFlag&16;const J=m.props||ge,ee=p.props||ge;let ie;if(_&&Qt(_,!1),(ie=ee.onVnodeBeforeUpdate)&&pt(ie,_,p,m),ne&&Wt(p,m,_,"beforeUpdate"),_&&Qt(_,!0),(J.innerHTML&&ee.innerHTML==null||J.textContent&&ee.textContent==null)&&u(W,""),B?x(m.dynamicChildren,B,W,_,V,kr(p,D),I):Y||O(m,p,W,null,_,V,kr(p,D),I,!1),H>0){if(H&16)C(W,J,ee,_,D);else if(H&2&&J.class!==ee.class&&i(W,"class",null,ee.class,D),H&4&&i(W,"style",J.style,ee.style,D),H&8){const ce=p.dynamicProps;for(let ve=0;ve<ce.length;ve++){const he=ce[ve],Ne=J[he],He=ee[he];(He!==Ne||he==="value")&&i(W,he,Ne,He,D,_)}}H&1&&m.children!==p.children&&u(W,p.children)}else!Y&&B==null&&C(W,J,ee,_,D);((ie=ee.onVnodeUpdated)||ne)&&Be(()=>{ie&&pt(ie,_,p,m),ne&&Wt(p,m,_,"updated")},V)},x=(m,p,_,V,D,I,Y)=>{for(let W=0;W<p.length;W++){const H=m[W],B=p[W],ne=H.el&&(H.type===lt||!Xt(H,B)||H.shapeFlag&198)?f(H.el):_;w(H,B,ne,null,V,D,I,Y,!0)}},C=(m,p,_,V,D)=>{if(p!==_){if(p!==ge)for(const I in p)!Kn(I)&&!(I in _)&&i(m,I,p[I],null,D,V);for(const I in _){if(Kn(I))continue;const Y=_[I],W=p[I];Y!==W&&I!=="value"&&i(m,I,W,Y,D,V)}"value"in _&&i(m,"value",p.value,_.value,D)}},v=(m,p,_,V,D,I,Y,W,H)=>{const B=p.el=m?m.el:l(""),ne=p.anchor=m?m.anchor:l("");let{patchFlag:J,dynamicChildren:ee,slotScopeIds:ie}=p;ie&&(W=W?W.concat(ie):ie),m==null?(o(B,_,V),o(ne,_,V),N(p.children||[],_,ne,D,I,Y,W,H)):J>0&&J&64&&ee&&m.dynamicChildren?(x(m.dynamicChildren,ee,_,D,I,Y,W),(p.key!=null||D&&p===D.subTree)&&Fi(m,p,!0)):O(m,p,_,ne,D,I,Y,W,H)},P=(m,p,_,V,D,I,Y,W,H)=>{p.slotScopeIds=W,m==null?p.shapeFlag&512?D.ctx.activate(p,_,V,Y,H):S(p,_,V,D,I,Y,H):K(m,p,H)},S=(m,p,_,V,D,I,Y)=>{const W=m.component=Xf(m,V,D);if(ar(m)&&(W.ctx.renderer=Z),ed(W,!1,Y),W.asyncDep){if(D&&D.registerDep(W,X,Y),!m.el){const H=W.subTree=Xe(je);M(null,H,p,_),m.placeholder=H.el}}else X(W,m,p,_,D,I,Y)},K=(m,p,_)=>{const V=p.component=m.component;if(jf(m,p,_))if(V.asyncDep&&!V.asyncResolved){U(V,p,_);return}else V.next=p,V.update();else p.el=m.el,V.vnode=p},X=(m,p,_,V,D,I,Y)=>{const W=()=>{if(m.isMounted){let{next:J,bu:ee,u:ie,parent:ce,vnode:ve}=m;{const mt=Fa(m);if(mt){J&&(J.el=ve.el,U(m,J,Y)),mt.asyncDep.then(()=>{m.isUnmounted||W()});return}}let he=J,Ne;Qt(m,!1),J?(J.el=ve.el,U(m,J,Y)):J=ve,ee&&_r(ee),(Ne=J.props&&J.props.onVnodeBeforeUpdate)&&pt(Ne,ce,J,ve),Qt(m,!0);const He=gs(m),dt=m.subTree;m.subTree=He,w(dt,He,f(dt.el),y(dt),m,D,I),J.el=He.el,he===null&&Nf(m,He.el),ie&&Be(ie,D),(Ne=J.props&&J.props.onVnodeUpdated)&&Be(()=>pt(Ne,ce,J,ve),D)}else{let J;const{el:ee,props:ie}=p,{bm:ce,m:ve,parent:he,root:Ne,type:He}=m,dt=Yn(p);Qt(m,!1),ce&&_r(ce),!dt&&(J=ie&&ie.onVnodeBeforeMount)&&pt(J,he,p),Qt(m,!0);{Ne.ce&&Ne.ce._def.shadowRoot!==!1&&Ne.ce._injectChildStyle(He);const mt=m.subTree=gs(m);w(null,mt,_,V,m,D,I),p.el=mt.el}if(ve&&Be(ve,D),!dt&&(J=ie&&ie.onVnodeMounted)){const mt=p;Be(()=>pt(J,he,mt),D)}(p.shapeFlag&256||he&&Yn(he.vnode)&&he.vnode.shapeFlag&256)&&m.a&&Be(m.a,D),m.isMounted=!0,p=_=V=null}};m.scope.on();const H=m.effect=new Ul(W);m.scope.off();const B=m.update=H.run.bind(H),ne=m.job=H.runIfDirty.bind(H);ne.i=m,ne.id=m.uid,H.scheduler=()=>Ii(ne),Qt(m,!0),B()},U=(m,p,_)=>{p.component=m;const V=m.vnode.props;m.vnode=p,m.next=null,Cf(m,p.props,V,_),Pf(m,p.children,_),Pt(),os(m),Rt()},O=(m,p,_,V,D,I,Y,W,H=!1)=>{const B=m&&m.children,ne=m?m.shapeFlag:0,J=p.children,{patchFlag:ee,shapeFlag:ie}=p;if(ee>0){if(ee&128){xe(B,J,_,V,D,I,Y,W,H);return}else if(ee&256){oe(B,J,_,V,D,I,Y,W,H);return}}ie&8?(ne&16&&te(B,D,I),J!==B&&u(_,J)):ne&16?ie&16?xe(B,J,_,V,D,I,Y,W,H):te(B,D,I,!0):(ne&8&&u(_,""),ie&16&&N(J,_,V,D,I,Y,W,H))},oe=(m,p,_,V,D,I,Y,W,H)=>{m=m||yn,p=p||yn;const B=m.length,ne=p.length,J=Math.min(B,ne);let ee;for(ee=0;ee<J;ee++){const ie=p[ee]=H?$t(p[ee]):bt(p[ee]);w(m[ee],ie,_,null,D,I,Y,W,H)}B>ne?te(m,D,I,!0,!1,J):N(p,_,V,D,I,Y,W,H,J)},xe=(m,p,_,V,D,I,Y,W,H)=>{let B=0;const ne=p.length;let J=m.length-1,ee=ne-1;for(;B<=J&&B<=ee;){const ie=m[B],ce=p[B]=H?$t(p[B]):bt(p[B]);if(Xt(ie,ce))w(ie,ce,_,null,D,I,Y,W,H);else break;B++}for(;B<=J&&B<=ee;){const ie=m[J],ce=p[ee]=H?$t(p[ee]):bt(p[ee]);if(Xt(ie,ce))w(ie,ce,_,null,D,I,Y,W,H);else break;J--,ee--}if(B>J){if(B<=ee){const ie=ee+1,ce=ie<ne?p[ie].el:V;for(;B<=ee;)w(null,p[B]=H?$t(p[B]):bt(p[B]),_,ce,D,I,Y,W,H),B++}}else if(B>ee)for(;B<=J;)q(m[B],D,I,!0),B++;else{const ie=B,ce=B,ve=new Map;for(B=ce;B<=ee;B++){const We=p[B]=H?$t(p[B]):bt(p[B]);We.key!=null&&ve.set(We.key,B)}let he,Ne=0;const He=ee-ce+1;let dt=!1,mt=0;const Mn=new Array(He);for(B=0;B<He;B++)Mn[B]=0;for(B=ie;B<=J;B++){const We=m[B];if(Ne>=He){q(We,D,I,!0);continue}let ht;if(We.key!=null)ht=ve.get(We.key);else for(he=ce;he<=ee;he++)if(Mn[he-ce]===0&&Xt(We,p[he])){ht=he;break}ht===void 0?q(We,D,I,!0):(Mn[ht-ce]=B+1,ht>=mt?mt=ht:dt=!0,w(We,p[ht],_,null,D,I,Y,W,H),Ne++)}const Yi=dt?Of(Mn):yn;for(he=Yi.length-1,B=He-1;B>=0;B--){const We=ce+B,ht=p[We],Ji=p[We+1],Zi=We+1<ne?Ji.el||Ji.placeholder:V;Mn[B]===0?w(null,ht,_,Zi,D,I,Y,W,H):dt&&(he<0||B!==Yi[he]?le(ht,_,Zi,2):he--)}}},le=(m,p,_,V,D=null)=>{const{el:I,type:Y,transition:W,children:H,shapeFlag:B}=m;if(B&6){le(m.component.subTree,p,_,V);return}if(B&128){m.suspense.move(p,_,V);return}if(B&64){Y.move(m,p,_,Z);return}if(Y===lt){o(I,p,_);for(let J=0;J<H.length;J++)le(H[J],p,_,V);o(m.anchor,p,_);return}if(Y===Io){L(m,p,_);return}if(V!==2&&B&1&&W)if(V===0)W.beforeEnter(I),o(I,p,_),Be(()=>W.enter(I),D);else{const{leave:J,delayLeave:ee,afterLeave:ie}=W,ce=()=>{m.ctx.isUnmounted?r(I):o(I,p,_)},ve=()=>{I._isLeaving&&I[kt](!0),J(I,()=>{ce(),ie&&ie()})};ee?ee(I,ce,ve):ve()}else o(I,p,_)},q=(m,p,_,V=!1,D=!1)=>{const{type:I,props:Y,ref:W,children:H,dynamicChildren:B,shapeFlag:ne,patchFlag:J,dirs:ee,cacheIndex:ie}=m;if(J===-2&&(D=!1),W!=null&&(Pt(),Gn(W,null,_,m,!0),Rt()),ie!=null&&(p.renderCache[ie]=void 0),ne&256){p.ctx.deactivate(m);return}const ce=ne&1&&ee,ve=!Yn(m);let he;if(ve&&(he=Y&&Y.onVnodeBeforeUnmount)&&pt(he,p,m),ne&6)Le(m.component,_,V);else{if(ne&128){m.suspense.unmount(_,V);return}ce&&Wt(m,null,p,"beforeUnmount"),ne&64?m.type.remove(m,p,_,Z,V):B&&!B.hasOnce&&(I!==lt||J>0&&J&64)?te(B,p,_,!1,!0):(I===lt&&J&384||!D&&ne&16)&&te(H,p,_),V&&ue(m)}(ve&&(he=Y&&Y.onVnodeUnmounted)||ce)&&Be(()=>{he&&pt(he,p,m),ce&&Wt(m,null,p,"unmounted")},_)},ue=m=>{const{type:p,el:_,anchor:V,transition:D}=m;if(p===lt){Ee(_,V);return}if(p===Io){A(m);return}const I=()=>{r(_),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(m.shapeFlag&1&&D&&!D.persisted){const{leave:Y,delayLeave:W}=D,H=()=>Y(_,I);W?W(m.el,I,H):H()}else I()},Ee=(m,p)=>{let _;for(;m!==p;)_=d(m),r(m),m=_;r(p)},Le=(m,p,_)=>{const{bum:V,scope:D,job:I,subTree:Y,um:W,m:H,a:B}=m;ps(H),ps(B),V&&_r(V),D.stop(),I&&(I.flags|=8,q(Y,m,p,_)),W&&Be(W,p),Be(()=>{m.isUnmounted=!0},p)},te=(m,p,_,V=!1,D=!1,I=0)=>{for(let Y=I;Y<m.length;Y++)q(m[Y],p,_,V,D)},y=m=>{if(m.shapeFlag&6)return y(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const p=d(m.anchor||m.el),_=p&&p[ga];return _?d(_):p};let Q=!1;const G=(m,p,_)=>{m==null?p._vnode&&q(p._vnode,null,null,!0):w(p._vnode||null,m,p,null,null,null,_),p._vnode=m,Q||(Q=!0,os(),da(),Q=!1)},Z={p:w,um:q,m:le,r:ue,mt:S,mc:N,pc:O,pbc:x,n:y,o:e};return{render:G,hydrate:void 0,createApp:Ef(G)}}function kr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Qt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Lf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fi(e,t,n=!1){const o=e.children,r=t.children;if(re(o)&&re(r))for(let i=0;i<o.length;i++){const s=o[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=$t(r[i]),l.el=s.el),!n&&l.patchFlag!==-2&&Fi(s,l)),l.type===dr&&l.patchFlag!==-1&&(l.el=s.el),l.type===je&&!l.el&&(l.el=s.el)}}function Of(e){const t=e.slice(),n=[0];let o,r,i,s,l;const a=e.length;for(o=0;o<a;o++){const c=e[o];if(c!==0){if(r=n[n.length-1],e[r]<c){t[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)l=i+s>>1,e[n[l]]<c?i=l+1:s=l;c<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}function Fa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fa(t)}function ps(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Mf=Symbol.for("v-scx"),If=()=>Ze(Mf);function ye(e,t,n){return ja(e,t,n)}function ja(e,t,n=ge){const{immediate:o,deep:r,flush:i,once:s}=n,l=Pe({},n),a=t&&o||!t&&i!=="post";let c;if(lo){if(i==="sync"){const h=If();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!a){const h=()=>{};return h.stop=wt,h.resume=wt,h.pause=wt,h}}const u=De;l.call=(h,g,w)=>ct(h,u,g,w);let f=!1;i==="post"?l.scheduler=h=>{Be(h,u&&u.suspense)}:i!=="sync"&&(f=!0,l.scheduler=(h,g)=>{g?h():Ii(h)}),l.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=Gc(e,t,l);return lo&&(c?c.push(d):a&&d()),d}function Vf(e,t,n){const o=this.proxy,r=Ce(e)?e.includes(".")?Na(o,e):()=>o[e]:e.bind(o,o);let i;se(t)?i=t:(i=t.handler,n=t);const s=vo(this),l=ja(r,i.bind(o),n);return s(),l}function Na(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const Df=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rt(t)}Modifiers`]||e[`${cn(t)}Modifiers`];function qf(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||ge;let r=n;const i=t.startsWith("update:"),s=i&&Df(o,t.slice(7));s&&(s.trim&&(r=n.map(u=>Ce(u)?u.trim():u)),s.number&&(r=n.map(hc)));let l,a=o[l=vr(t)]||o[l=vr(rt(t))];!a&&i&&(a=o[l=vr(cn(t))]),a&&ct(a,e,6,r);const c=o[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ct(c,e,6,r)}}const $f=new WeakMap;function Ha(e,t,n=!1){const o=n?$f:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const i=e.emits;let s={},l=!1;if(!se(e)){const a=c=>{const u=Ha(c,t,!0);u&&(l=!0,Pe(s,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(we(e)&&o.set(e,null),null):(re(i)?i.forEach(a=>s[a]=null):Pe(s,i),we(e)&&o.set(e,s),s)}function fr(e,t){return!e||!tr(t)?!1:(t=t.slice(2).replace(/Once$/,""),me(e,t[0].toLowerCase()+t.slice(1))||me(e,cn(t))||me(e,t))}function gs(e){const{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[i],slots:s,attrs:l,emit:a,render:c,renderCache:u,props:f,data:d,setupState:h,ctx:g,inheritAttrs:w}=e,k=zo(e);let M,b;try{if(n.shapeFlag&4){const A=r||o,$=A;M=bt(c.call($,A,u,f,h,d,g)),b=l}else{const A=t;M=bt(A.length>1?A(f,{attrs:l,slots:s,emit:a}):A(f,null)),b=t.props?l:Bf(l)}}catch(A){Zn.length=0,lr(A,e,1),M=Xe(je)}let L=M;if(b&&w!==!1){const A=Object.keys(b),{shapeFlag:$}=L;A.length&&$&7&&(i&&A.some(Ei)&&(b=Ff(b,i)),L=zt(L,b,!1,!0))}return n.dirs&&(L=zt(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&un(L,n.transition),M=L,zo(k),M}const Bf=e=>{let t;for(const n in e)(n==="class"||n==="style"||tr(n))&&((t||(t={}))[n]=e[n]);return t},Ff=(e,t)=>{const n={};for(const o in e)(!Ei(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function jf(e,t,n){const{props:o,children:r,component:i}=e,{props:s,children:l,patchFlag:a}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return o?vs(o,s,c):!!s;if(a&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(s[d]!==o[d]&&!fr(c,d))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:o===s?!1:o?s?vs(o,s,c):!0:!!s;return!1}function vs(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const i=o[r];if(t[i]!==e[i]&&!fr(n,i))return!0}return!1}function Nf({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const za=e=>e.__isSuspense;function Hf(e,t){t&&t.pendingBranch?re(e)?t.effects.push(...e):t.effects.push(e):Zc(e)}const lt=Symbol.for("v-fgt"),dr=Symbol.for("v-txt"),je=Symbol.for("v-cmt"),Io=Symbol.for("v-stc"),Zn=[];let Je=null;function Ka(e=!1){Zn.push(Je=e?null:[])}function zf(){Zn.pop(),Je=Zn[Zn.length-1]||null}let so=1;function Wo(e,t=!1){so+=e,e<0&&Je&&t&&(Je.hasOnce=!0)}function Ua(e){return e.dynamicChildren=so>0?Je||yn:null,zf(),so>0&&Je&&Je.push(e),e}function Kf(e,t,n,o,r,i){return Ua(Qa(e,t,n,o,r,i,!0))}function Uf(e,t,n,o,r){return Ua(Xe(e,t,n,o,r,!0))}function Qo(e){return e?e.__v_isVNode===!0:!1}function Xt(e,t){return e.type===t.type&&e.key===t.key}const Wa=({key:e})=>e??null,Vo=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ce(e)||qe(e)||se(e)?{i:Ye,r:e,k:t,f:!!n}:e:null);function Qa(e,t=null,n=null,o=0,r=null,i=e===lt?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wa(t),ref:t&&Vo(t),scopeId:ha,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ye};return l?(ji(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=Ce(n)?8:16),so>0&&!s&&Je&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&Je.push(a),a}const Xe=Wf;function Wf(e,t=null,n=null,o=0,r=null,i=!1){if((!e||e===mf)&&(e=je),Qo(e)){const l=zt(e,t,!0);return n&&ji(l,n),so>0&&!i&&Je&&(l.shapeFlag&6?Je[Je.indexOf(e)]=l:Je.push(l)),l.patchFlag=-2,l}if(id(e)&&(e=e.__vccOpts),t){t=Qf(t);let{class:l,style:a}=t;l&&!Ce(l)&&(t.class=Si(l)),we(a)&&(Mi(a)&&!re(a)&&(a=Pe({},a)),t.style=ki(a))}const s=Ce(e)?1:za(e)?128:va(e)?64:we(e)?4:se(e)?2:0;return Qa(e,t,n,o,r,s,i,!0)}function Qf(e){return e?Mi(e)||Ia(e)?Pe({},e):e:null}function zt(e,t,n=!1,o=!1){const{props:r,ref:i,patchFlag:s,children:l,transition:a}=e,c=t?Yf(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Wa(c),ref:t&&t.ref?n&&i?re(i)?i.concat(Vo(t)):[i,Vo(t)]:Vo(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zt(e.ssContent),ssFallback:e.ssFallback&&zt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&o&&un(u,a.clone(u)),u}function Gf(e=" ",t=0){return Xe(dr,null,e,t)}function Bg(e,t){const n=Xe(Io,null,e);return n.staticCount=t,n}function Fg(e="",t=!1){return t?(Ka(),Uf(je,null,e)):Xe(je,null,e)}function bt(e){return e==null||typeof e=="boolean"?Xe(je):re(e)?Xe(lt,null,e.slice()):Qo(e)?$t(e):Xe(dr,null,String(e))}function $t(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zt(e)}function ji(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(re(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),ji(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Ia(t)?t._ctx=Ye:r===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else se(t)?(t={default:t,_ctx:Ye},n=32):(t=String(t),o&64?(n=16,t=[Gf(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yf(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=Si([t.class,o.class]));else if(r==="style")t.style=ki([t.style,o.style]);else if(tr(r)){const i=t[r],s=o[r];s&&i!==s&&!(re(i)&&i.includes(s))&&(t[r]=i?[].concat(i,s):s)}else r!==""&&(t[r]=o[r])}return t}function pt(e,t,n,o=null){ct(e,t,7,[n,o])}const Jf=La();let Zf=0;function Xf(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||Jf,i={uid:Zf++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Da(o,r),emitsOptions:Ha(o,r),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:o.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=qf.bind(null,i),e.ce&&e.ce(i),i}let De=null;const ke=()=>De||Ye;let Go,ni;{const e=ir(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),i=>{r.length>1?r.forEach(s=>s(i)):r[0](i)}};Go=t("__VUE_INSTANCE_SETTERS__",n=>De=n),ni=t("__VUE_SSR_SETTERS__",n=>lo=n)}const vo=e=>{const t=De;return Go(e),e.scope.on(),()=>{e.scope.off(),Go(t)}},_s=()=>{De&&De.scope.off(),Go(null)};function Ga(e){return e.vnode.shapeFlag&4}let lo=!1;function ed(e,t=!1,n=!1){t&&ni(t);const{props:o,children:r}=e.vnode,i=Ga(e);xf(e,o,i,t),Tf(e,r,n||t);const s=i?td(e,t):void 0;return t&&ni(!1),s}function td(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,pf);const{setup:o}=n;if(o){Pt();const r=e.setupContext=o.length>1?od(e):null,i=vo(e),s=po(o,e,0,[e.props,r]),l=Bl(s);if(Rt(),i(),(l||e.sp)&&!Yn(e)&&ka(e),l){if(s.then(_s,_s),t)return s.then(a=>{bs(e,a)}).catch(a=>{lr(a,e,0)});e.asyncDep=s}else bs(e,s)}else Ya(e)}function bs(e,t,n){se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=ua(t)),Ya(e)}function Ya(e,t,n){const o=e.type;e.render||(e.render=o.render||wt);{const r=vo(e);Pt();try{gf(e)}finally{Rt(),r()}}}const nd={get(e,t){return Ve(e,"get",""),e[t]}};function od(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,nd),slots:e.slots,emit:e.emit,expose:t}}function mr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ua(ho(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Jn)return Jn[n](e)},has(t,n){return n in t||n in Jn}})):e.proxy}function rd(e,t=!0){return se(e)?e.displayName||e.name:e.name||t&&e.__name}function id(e){return se(e)&&"__vccOpts"in e}const R=(e,t)=>Wc(e,t,lo);function T(e,t,n){const o=(i,s,l)=>{Wo(-1);try{return Xe(i,s,l)}finally{Wo(1)}},r=arguments.length;return r===2?we(t)&&!re(t)?Qo(t)?o(e,null,[t]):o(e,t):o(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Qo(n)&&(n=[n]),o(e,t,n))}const sd="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oi;const ys=typeof window<"u"&&window.trustedTypes;if(ys)try{oi=ys.createPolicy("vue",{createHTML:e=>e})}catch{}const Ja=oi?e=>oi.createHTML(e):e=>e,ld="http://www.w3.org/2000/svg",ad="http://www.w3.org/1998/Math/MathML",Ct=typeof document<"u"?document:null,ws=Ct&&Ct.createElement("template"),ud={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?Ct.createElementNS(ld,e):t==="mathml"?Ct.createElementNS(ad,e):n?Ct.createElement(e,{is:n}):Ct.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>Ct.createTextNode(e),createComment:e=>Ct.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ct.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,i){const s=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{ws.innerHTML=Ja(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=ws.content;if(o==="svg"||o==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mt="transition",Vn="animation",kn=Symbol("_vtc"),Za={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xa=Pe({},wa,Za),cd=e=>(e.displayName="Transition",e.props=Xa,e),ao=cd((e,{slots:t})=>T(of,eu(e),t)),Gt=(e,t=[])=>{re(e)?e.forEach(n=>n(...t)):e&&e(...t)},Es=e=>e?re(e)?e.some(t=>t.length>1):e.length>1:!1;function eu(e){const t={};for(const v in e)v in Za||(t[v]=e[v]);if(e.css===!1)return t;const{name:n="v",type:o,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:c=s,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,g=fd(r),w=g&&g[0],k=g&&g[1],{onBeforeEnter:M,onEnter:b,onEnterCancelled:L,onLeave:A,onLeaveCancelled:$,onBeforeAppear:j=M,onAppear:z=b,onAppearCancelled:N=L}=t,F=(v,P,S,K)=>{v._enterCancelled=K,Dt(v,P?u:l),Dt(v,P?c:s),S&&S()},x=(v,P)=>{v._isLeaving=!1,Dt(v,f),Dt(v,h),Dt(v,d),P&&P()},C=v=>(P,S)=>{const K=v?z:b,X=()=>F(P,v,S);Gt(K,[P,X]),xs(()=>{Dt(P,v?a:i),gt(P,v?u:l),Es(K)||Cs(P,o,w,X)})};return Pe(t,{onBeforeEnter(v){Gt(M,[v]),gt(v,i),gt(v,s)},onBeforeAppear(v){Gt(j,[v]),gt(v,a),gt(v,c)},onEnter:C(!1),onAppear:C(!0),onLeave(v,P){v._isLeaving=!0;const S=()=>x(v,P);gt(v,f),v._enterCancelled?(gt(v,d),ri()):(ri(),gt(v,d)),xs(()=>{v._isLeaving&&(Dt(v,f),gt(v,h),Es(A)||Cs(v,o,k,S))}),Gt(A,[v,S])},onEnterCancelled(v){F(v,!1,void 0,!0),Gt(L,[v])},onAppearCancelled(v){F(v,!0,void 0,!0),Gt(N,[v])},onLeaveCancelled(v){x(v),Gt($,[v])}})}function fd(e){if(e==null)return null;if(we(e))return[Sr(e.enter),Sr(e.leave)];{const t=Sr(e);return[t,t]}}function Sr(e){return pc(e)}function gt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[kn]||(e[kn]=new Set)).add(t)}function Dt(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[kn];n&&(n.delete(t),n.size||(e[kn]=void 0))}function xs(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let dd=0;function Cs(e,t,n,o){const r=e._endId=++dd,i=()=>{r===e._endId&&o()};if(n!=null)return setTimeout(i,n);const{type:s,timeout:l,propCount:a}=tu(e,t);if(!s)return o();const c=s+"end";let u=0;const f=()=>{e.removeEventListener(c,d),i()},d=h=>{h.target===e&&++u>=a&&f()};setTimeout(()=>{u<a&&f()},l+1),e.addEventListener(c,d)}function tu(e,t){const n=window.getComputedStyle(e),o=g=>(n[g]||"").split(", "),r=o(`${Mt}Delay`),i=o(`${Mt}Duration`),s=ks(r,i),l=o(`${Vn}Delay`),a=o(`${Vn}Duration`),c=ks(l,a);let u=null,f=0,d=0;t===Mt?s>0&&(u=Mt,f=s,d=i.length):t===Vn?c>0&&(u=Vn,f=c,d=a.length):(f=Math.max(s,c),u=f>0?s>c?Mt:Vn:null,d=u?u===Mt?i.length:a.length:0);const h=u===Mt&&/\b(?:transform|all)(?:,|$)/.test(o(`${Mt}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function ks(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Ss(n)+Ss(e[o])))}function Ss(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ri(){return document.body.offsetHeight}function md(e,t,n){const o=e[kn];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Yo=Symbol("_vod"),nu=Symbol("_vsh"),jg={name:"show",beforeMount(e,{value:t},{transition:n}){e[Yo]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Dn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Dn(e,!0),o.enter(e)):o.leave(e,()=>{Dn(e,!1)}):Dn(e,t))},beforeUnmount(e,{value:t}){Dn(e,t)}};function Dn(e,t){e.style.display=t?e[Yo]:"none",e[nu]=!t}const hd=Symbol(""),pd=/(?:^|;)\s*display\s*:/;function gd(e,t,n){const o=e.style,r=Ce(n);let i=!1;if(n&&!r){if(t)if(Ce(t))for(const s of t.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&Do(o,l,"")}else for(const s in t)n[s]==null&&Do(o,s,"");for(const s in n)s==="display"&&(i=!0),Do(o,s,n[s])}else if(r){if(t!==n){const s=o[hd];s&&(n+=";"+s),o.cssText=n,i=pd.test(n)}}else t&&e.removeAttribute("style");Yo in e&&(e[Yo]=i?o.display:"",e[nu]&&(o.display="none"))}const Ts=/\s*!important$/;function Do(e,t,n){if(re(n))n.forEach(o=>Do(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=vd(e,t);Ts.test(n)?e.setProperty(cn(o),n.replace(Ts,""),"important"):e[o]=n}}const Ps=["Webkit","Moz","ms"],Tr={};function vd(e,t){const n=Tr[t];if(n)return n;let o=rt(t);if(o!=="filter"&&o in e)return Tr[t]=o;o=rr(o);for(let r=0;r<Ps.length;r++){const i=Ps[r]+o;if(i in e)return Tr[t]=i}return t}const Rs="http://www.w3.org/1999/xlink";function As(e,t,n,o,r,i=wc(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Rs,t.slice(6,t.length)):e.setAttributeNS(Rs,t,n):n==null||i&&!Hl(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Ut(n)?String(n):n)}function Ls(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ja(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Hl(n):n==null&&l==="string"?(n="",s=!0):l==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(r||t)}function _d(e,t,n,o){e.addEventListener(t,n,o)}function bd(e,t,n,o){e.removeEventListener(t,n,o)}const Os=Symbol("_vei");function yd(e,t,n,o,r=null){const i=e[Os]||(e[Os]={}),s=i[t];if(o&&s)s.value=o;else{const[l,a]=wd(t);if(o){const c=i[t]=Cd(o,r);_d(e,l,c,a)}else s&&(bd(e,l,s,a),i[t]=void 0)}}const Ms=/(?:Once|Passive|Capture)$/;function wd(e){let t;if(Ms.test(e)){t={};let o;for(;o=e.match(Ms);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):cn(e.slice(2)),t]}let Pr=0;const Ed=Promise.resolve(),xd=()=>Pr||(Ed.then(()=>Pr=0),Pr=Date.now());function Cd(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;ct(kd(o,n.value),t,5,[o])};return n.value=e,n.attached=xd(),n}function kd(e,t){if(re(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Is=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Sd=(e,t,n,o,r,i)=>{const s=r==="svg";t==="class"?md(e,o,s):t==="style"?gd(e,n,o):tr(t)?Ei(t)||yd(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Td(e,t,o,s))?(Ls(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&As(e,t,o,s,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ce(o))?Ls(e,rt(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),As(e,t,o,s))};function Td(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Is(t)&&se(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Is(t)&&Ce(n)?!1:t in e}const ou=new WeakMap,ru=new WeakMap,Jo=Symbol("_moveCb"),Vs=Symbol("_enterCb"),Pd=e=>(delete e.props.mode,e),Rd=Pd({name:"TransitionGroup",props:Pe({},Xa,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=ke(),o=ya();let r,i;return Pa(()=>{if(!r.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!Id(r[0].el,n.vnode.el,s)){r=[];return}r.forEach(Ld),r.forEach(Od);const l=r.filter(Md);ri(),l.forEach(a=>{const c=a.el,u=c.style;gt(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const f=c[Jo]=d=>{d&&d.target!==c||(!d||d.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",f),c[Jo]=null,Dt(c,s))};c.addEventListener("transitionend",f)}),r=[]}),()=>{const s=ae(e),l=eu(s);let a=s.tag||lt;if(r=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(r.push(u),un(u,io(u,l,o,n)),ou.set(u,u.el.getBoundingClientRect()))}i=t.default?Vi(t.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&un(u,io(u,l,o,n))}return Xe(a,null,i)}}}),Ad=Rd;function Ld(e){const t=e.el;t[Jo]&&t[Jo](),t[Vs]&&t[Vs]()}function Od(e){ru.set(e,e.el.getBoundingClientRect())}function Md(e){const t=ou.get(e),n=ru.get(e),o=t.left-n.left,r=t.top-n.top;if(o||r){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${o}px,${r}px)`,i.transitionDuration="0s",e}}function Id(e,t,n){const o=e.cloneNode(),r=e[kn];r&&r.forEach(l=>{l.split(/\s+/).forEach(a=>a&&o.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(o);const{hasTransform:s}=tu(o);return i.removeChild(o),s}const Vd=["ctrl","shift","alt","meta"],Dd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Vd.some(n=>e[`${n}Key`]&&!t.includes(n))},Ng=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((r,...i)=>{for(let s=0;s<t.length;s++){const l=Dd[t[s]];if(l&&l(r,t))return}return e(r,...i)}))},qd=Pe({patchProp:Sd},ud);let Ds;function $d(){return Ds||(Ds=Rf(qd))}const iu=((...e)=>{const t=$d().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=Fd(o);if(!r)return;const i=t._component;!se(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const s=n(r,!1,Bd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t});function Bd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Fd(e){return Ce(e)?document.querySelector(e):e}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Sn;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Sn||(Sn={}));class Rr extends Error{constructor(t,n,o){super(t),this.message=t,this.code=n,this.data=o}}const jd=e=>{var t,n;return e?.androidBridge?"android":!((n=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Nd=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},o=n.Plugins=n.Plugins||{},r=()=>t!==null?t.name:jd(e),i=()=>r()!=="web",s=f=>{const d=c.get(f);return!!(d?.platforms.has(r())||l(f))},l=f=>{var d;return(d=n.PluginHeaders)===null||d===void 0?void 0:d.find(h=>h.name===f)},a=f=>e.console.error(f),c=new Map,u=(f,d={})=>{const h=c.get(f);if(h)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),h.proxy;const g=r(),w=l(f);let k;const M=async()=>(!k&&g in d?k=typeof d[g]=="function"?k=await d[g]():k=d[g]:t!==null&&!k&&"web"in d&&(k=typeof d.web=="function"?k=await d.web():k=d.web),k),b=(N,F)=>{var x,C;if(w){const v=w?.methods.find(P=>F===P.name);if(v)return v.rtype==="promise"?P=>n.nativePromise(f,F.toString(),P):(P,S)=>n.nativeCallback(f,F.toString(),P,S);if(N)return(x=N[F])===null||x===void 0?void 0:x.bind(N)}else{if(N)return(C=N[F])===null||C===void 0?void 0:C.bind(N);throw new Rr(`"${f}" plugin is not implemented on ${g}`,Sn.Unimplemented)}},L=N=>{let F;const x=(...C)=>{const v=M().then(P=>{const S=b(P,N);if(S){const K=S(...C);return F=K?.remove,K}else throw new Rr(`"${f}.${N}()" is not implemented on ${g}`,Sn.Unimplemented)});return N==="addListener"&&(v.remove=async()=>F()),v};return x.toString=()=>`${N.toString()}() { [capacitor code] }`,Object.defineProperty(x,"name",{value:N,writable:!1,configurable:!1}),x},A=L("addListener"),$=L("removeListener"),j=(N,F)=>{const x=A({eventName:N},F),C=async()=>{const P=await x;$({eventName:N,callbackId:P},F)},v=new Promise(P=>x.then(()=>P({remove:C})));return v.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await C()},v},z=new Proxy({},{get(N,F){switch(F){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?j:A;case"removeListener":return $;default:return L(F)}}});return o[f]=z,c.set(f,{name:f,proxy:z,platforms:new Set([...Object.keys(d),...w?[g]:[]])}),z};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=r,n.handleError=a,n.isNativePlatform=i,n.isPluginAvailable=s,n.registerPlugin=u,n.Exception=Rr,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Hd=e=>e.Capacitor=Nd(e),ii=Hd(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ni=ii.registerPlugin;class su{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let o=!1;this.listeners[t]||(this.listeners[t]=[],o=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),o&&this.sendRetainedArgumentsForEvent(t);const s=async()=>this.removeListener(t,n);return Promise.resolve({remove:s})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,o){const r=this.listeners[t];if(!r){if(o){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}r.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:o=>{this.notifyListeners(n,o)}}}unimplemented(t="not implemented"){return new ii.Exception(t,Sn.Unimplemented)}unavailable(t="not available"){return new ii.Exception(t,Sn.Unavailable)}async removeListener(t,n){const o=this.listeners[t];if(!o)return;const r=o.indexOf(n);this.listeners[t].splice(r,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(o=>{this.notifyListeners(t,o)}))}}const qs=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),$s=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class zd extends su{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(o=>{if(o.length<=0)return;let[r,i]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=$s(r).trim(),i=$s(i).trim(),n[r]=i}),n}async setCookie(t){try{const n=qs(t.key),o=qs(t.value),r=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),s=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${o||""}${r}; path=${i}; ${s};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Ni("CapacitorCookies",{web:()=>new zd});const Kd=async e=>new Promise((t,n)=>{const o=new FileReader;o.onload=()=>{const r=o.result;t(r.indexOf(",")>=0?r.split(",")[1]:r)},o.onerror=r=>n(r),o.readAsDataURL(e)}),Ud=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(r=>r.toLocaleLowerCase()).reduce((r,i,s)=>(r[i]=e[t[s]],r),{})},Wd=(e,t=!0)=>e?Object.entries(e).reduce((o,r)=>{const[i,s]=r;let l,a;return Array.isArray(s)?(a="",s.forEach(c=>{l=t?encodeURIComponent(c):c,a+=`${i}=${l}&`}),a.slice(0,-1)):(l=t?encodeURIComponent(s):s,a=`${i}=${l}`),`${o}&${a}`},"").substr(1):null,Qd=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=Ud(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[s,l]of Object.entries(e.data||{}))i.set(s,l);n.body=i.toString()}else if(r.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,a)=>{i.append(a,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);n.body=i;const s=new Headers(n.headers);s.delete("content-type"),n.headers=s}else(r.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class Gd extends su{async request(t){const n=Qd(t,t.webFetchExtra),o=Wd(t.params,t.shouldEncodeUrlParams),r=o?`${t.url}?${o}`:t.url,i=await fetch(r,n),s=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};s.includes("application/json")&&(l="json");let a,c;switch(l){case"arraybuffer":case"blob":c=await i.blob(),a=await Kd(c);break;case"json":a=await i.json();break;case"document":case"text":default:a=await i.text()}const u={};return i.headers.forEach((f,d)=>{u[d]=f}),{data:a,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Ni("CapacitorHttp",{web:()=>new Gd});const Ar=Ni("App",{web:()=>E(()=>import("./web-BBlseifm.js"),[],import.meta.url).then(e=>new e.AppWeb)});function On(e,t,n,o){return Object.defineProperty(e,t,{get:n,set:o,enumerable:!0}),e}const Kt=fe(!1);let si;function Yd(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[4]||n[2]||"0",platform:t[0]||""}}function Jd(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const lu="ontouchstart"in window||window.navigator.maxTouchPoints>0;function Zd(e){const t=e.toLowerCase(),n=Jd(t),o=Yd(t,n),r={mobile:!1,desktop:!1,cordova:!1,capacitor:!1,nativeMobile:!1,electron:!1,bex:!1,linux:!1,mac:!1,win:!1,cros:!1,chrome:!1,firefox:!1,opera:!1,safari:!1,vivaldi:!1,edge:!1,edgeChromium:!1,ie:!1,webkit:!1,android:!1,ios:!1,ipad:!1,iphone:!1,ipod:!1,kindle:!1,winphone:!1,blackberry:!1,playbook:!1,silk:!1};o.browser&&(r[o.browser]=!0,r.version=o.version,r.versionNumber=parseInt(o.version,10)),o.platform&&(r[o.platform]=!0);const i=r.android||r.ios||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"];if(i===!0||t.indexOf("mobile")!==-1?r.mobile=!0:r.desktop=!0,r["windows phone"]&&(r.winphone=!0,delete r["windows phone"]),r.edga||r.edgios||r.edg?(r.edge=!0,o.browser="edge"):r.crios?(r.chrome=!0,o.browser="chrome"):r.fxios&&(r.firefox=!0,o.browser="firefox"),(r.ipod||r.ipad||r.iphone)&&(r.ios=!0),r.vivaldi&&(o.browser="vivaldi",r.vivaldi=!0),(r.chrome||r.opr||r.safari||r.vivaldi||r.mobile===!0&&r.ios!==!0&&i!==!0)&&(r.webkit=!0),r.opr&&(o.browser="opera",r.opera=!0),r.safari&&(r.blackberry||r.bb?(o.browser="blackberry",r.blackberry=!0):r.playbook?(o.browser="playbook",r.playbook=!0):r.android?(o.browser="android",r.android=!0):r.kindle?(o.browser="kindle",r.kindle=!0):r.silk&&(o.browser="silk",r.silk=!0)),r.name=o.browser,r.platform=o.platform,t.indexOf("electron")!==-1)r.electron=!0;else if(document.location.href.indexOf("-extension://")!==-1)r.bex=!0;else{if(window.Capacitor!==void 0?(r.capacitor=!0,r.nativeMobile=!0,r.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(r.cordova=!0,r.nativeMobile=!0,r.nativeMobileWrapper="cordova"),Kt.value===!0&&(si={is:{...r}}),lu===!0&&r.mac===!0&&(r.desktop===!0&&r.safari===!0||r.nativeMobile===!0&&r.android!==!0&&r.ios!==!0&&r.ipad!==!0)){delete r.mac,delete r.desktop;const s=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(r,{mobile:!0,ios:!0,platform:s,[s]:!0})}r.mobile!==!0&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete r.desktop,r.mobile=!0)}return r}const Bs=navigator.userAgent||navigator.vendor||window.opera,Xd={has:{touch:!1,webStorage:!1},within:{iframe:!1}},Te={userAgent:Bs,is:Zd(Bs),has:{touch:lu},within:{iframe:window.self!==window.top}},li={install(e){const{$q:t}=e;Kt.value===!0?(e.onSSRHydrated.push(()=>{Object.assign(t.platform,Te),Kt.value=!1}),t.platform=Ln(this)):t.platform=this}};{let e;On(Te.has,"webStorage",()=>{if(e!==void 0)return e;try{if(window.localStorage)return e=!0,!0}catch{}return e=!1,!1}),Object.assign(li,Te),Kt.value===!0&&(Object.assign(li,si,Xd),si=null)}function Ae(e){return ho(Di(e))}function em(e){return ho(e)}const _o=(e,t)=>{const n=Ln(e);for(const o in e)On(t,o,()=>n[o],r=>{n[o]=r});return t},Ue={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(Ue,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch{}function yt(){}function Hg(e){return e.button===0}function tm(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function nm(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;for(;n;){if(t.push(n),n.tagName==="HTML")return t.push(document),t.push(window),t;n=n.parentElement}}function Zo(e){e.stopPropagation()}function jt(e){e.cancelable!==!1&&e.preventDefault()}function nt(e){e.cancelable!==!1&&e.preventDefault(),e.stopPropagation()}function zg(e,t){if(e===void 0||t===!0&&e.__dragPrevented===!0)return;const n=t===!0?o=>{o.__dragPrevented=!0,o.addEventListener("dragstart",jt,Ue.notPassiveCapture)}:o=>{delete o.__dragPrevented,o.removeEventListener("dragstart",jt,Ue.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function om(e,t,n){const o=`__q_${t}_evt`;e[o]=e[o]!==void 0?e[o].concat(n):n,n.forEach(r=>{r[0].addEventListener(r[1],e[r[2]],Ue[r[3]])})}function rm(e,t){const n=`__q_${t}_evt`;e[n]!==void 0&&(e[n].forEach(o=>{o[0].removeEventListener(o[1],e[o[2]],Ue[o[3]])}),e[n]=void 0)}function au(e,t=250,n){let o=null;function r(){const i=arguments,s=()=>{o=null,e.apply(this,i)};o!==null&&clearTimeout(o),o=setTimeout(s,t)}return r.cancel=()=>{o!==null&&clearTimeout(o)},r}const Lr=["sm","md","lg","xl"],{passive:Fs}=Ue,im=_o({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:yt,setDebounce:yt,install({$q:e,onSSRHydrated:t}){if(e.screen=this,this.__installed===!0){e.config.screen!==void 0&&(e.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:n}=window,o=n||window,r=document.scrollingElement||document.documentElement,i=n===void 0||Te.is.mobile===!0?()=>[Math.max(window.innerWidth,r.clientWidth),Math.max(window.innerHeight,r.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-r.clientWidth,n.height*n.scale+window.innerHeight-r.clientHeight],s=e.config.screen?.bodyClasses===!0;this.__update=f=>{const[d,h]=i();if(h!==this.height&&(this.height=h),d!==this.width)this.width=d;else if(f!==!0)return;let g=this.sizes;this.gt.xs=d>=g.sm,this.gt.sm=d>=g.md,this.gt.md=d>=g.lg,this.gt.lg=d>=g.xl,this.lt.sm=d<g.sm,this.lt.md=d<g.md,this.lt.lg=d<g.lg,this.lt.xl=d<g.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,g=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",g!==this.name&&(s===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${g}`)),this.name=g)};let l,a={},c=16;this.setSizes=f=>{Lr.forEach(d=>{f[d]!==void 0&&(a[d]=f[d])})},this.setDebounce=f=>{c=f};const u=()=>{const f=getComputedStyle(document.body);f.getPropertyValue("--q-size-sm")&&Lr.forEach(d=>{this.sizes[d]=parseInt(f.getPropertyValue(`--q-size-${d}`),10)}),this.setSizes=d=>{Lr.forEach(h=>{d[h]&&(this.sizes[h]=d[h])}),this.__update(!0)},this.setDebounce=d=>{l!==void 0&&o.removeEventListener("resize",l,Fs),l=d>0?au(this.__update,d):this.__update,o.addEventListener("resize",l,Fs)},this.setDebounce(c),Object.keys(a).length!==0?(this.setSizes(a),a=void 0):this.__update(),s===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};Kt.value===!0?t.push(u):u()}}),Ie=_o({isActive:!1,mode:!1},{__media:void 0,set(e){Ie.mode=e,e==="auto"?(Ie.__media===void 0&&(Ie.__media=window.matchMedia("(prefers-color-scheme: dark)"),Ie.__updateMedia=()=>{Ie.set("auto")},Ie.__media.addListener(Ie.__updateMedia)),e=Ie.__media.matches):Ie.__media!==void 0&&(Ie.__media.removeListener(Ie.__updateMedia),Ie.__media=void 0),Ie.isActive=e===!0,document.body.classList.remove(`body--${e===!0?"light":"dark"}`),document.body.classList.add(`body--${e===!0?"dark":"light"}`)},toggle(){Ie.set(Ie.isActive===!1)},install({$q:e,ssrContext:t}){const n=e.config.dark;e.dark=this,this.__installed!==!0&&this.set(n!==void 0?n:!1)}});function sm(e,t,n=document.body){if(typeof e!="string")throw new TypeError("Expected a string as propName");if(typeof t!="string")throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}let uu=!1;function lm(e){uu=e.isComposing===!0}function cu(e){return uu===!0||e!==Object(e)||e.isComposing===!0||e.qKeyEvent===!0}function uo(e,t){return cu(e)===!0?!1:[].concat(t).includes(e.keyCode)}function fu(e){if(e.ios===!0)return"ios";if(e.android===!0)return"android"}function am({is:e,has:t,within:n},o){const r=[e.desktop===!0?"desktop":"mobile",`${t.touch===!1?"no-":""}touch`];if(e.mobile===!0){const i=fu(e);i!==void 0&&r.push("platform-"+i)}if(e.nativeMobile===!0){const i=e.nativeMobileWrapper;r.push(i),r.push("native-mobile"),e.ios===!0&&(o[i]===void 0||o[i].iosStatusBarPadding!==!1)&&r.push("q-ios-padding")}else e.electron===!0?r.push("electron"):e.bex===!0&&r.push("bex");return n.iframe===!0&&r.push("within-iframe"),r}function um(){const{is:e}=Te,t=document.body.className,n=new Set(t.replace(/ {2}/g," ").split(" "));if(e.nativeMobile!==!0&&e.electron!==!0&&e.bex!==!0){if(e.desktop===!0)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(e.mobile===!0){n.delete("desktop"),n.add("mobile"),n.delete("platform-ios"),n.delete("platform-android");const r=fu(e);r!==void 0&&n.add(`platform-${r}`)}}Te.has.touch===!0&&(n.delete("no-touch"),n.add("touch")),Te.within.iframe===!0&&n.add("within-iframe");const o=Array.from(n).join(" ");t!==o&&(document.body.className=o)}function cm(e){for(const t in e)sm(t,e[t])}const fm={install(e){if(this.__installed!==!0){if(Kt.value===!0)um();else{const{$q:t}=e;t.config.brand!==void 0&&cm(t.config.brand);const n=am(Te,t.config);document.body.classList.add.apply(document.body.classList,n)}Te.is.ios===!0&&document.body.addEventListener("touchstart",yt),window.addEventListener("keydown",lm,!0)}}},du=()=>!0;function dm(e){return typeof e=="string"&&e!==""&&e!=="/"&&e!=="#/"}function mm(e){return e.startsWith("#")===!0&&(e=e.substring(1)),e.startsWith("/")===!1&&(e="/"+e),e.endsWith("/")===!0&&(e=e.substring(0,e.length-1)),"#"+e}function hm(e){if(e.backButtonExit===!1)return()=>!1;if(e.backButtonExit==="*")return du;const t=["#/"];return Array.isArray(e.backButtonExit)===!0&&t.push(...e.backButtonExit.filter(dm).map(mm)),()=>t.includes(window.location.hash)}const ai={__history:[],add:yt,remove:yt,install({$q:e}){if(this.__installed===!0)return;const{cordova:t,capacitor:n}=Te.is;if(t!==!0&&n!==!0)return;const o=e.config[t===!0?"cordova":"capacitor"];if(o?.backButton===!1||n===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=s=>{s.condition===void 0&&(s.condition=du),this.__history.push(s)},this.remove=s=>{const l=this.__history.indexOf(s);l>=0&&this.__history.splice(l,1)};const r=hm(Object.assign({backButtonExit:!0},o)),i=()=>{if(this.__history.length){const s=this.__history[this.__history.length-1];s.condition()===!0&&(this.__history.pop(),s.handler())}else r()===!0?navigator.app.exitApp():window.history.back()};t===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",i,!1)}):window.Capacitor.Plugins.App.addListener("backButton",i)}},js={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days",prevMonth:"Previous month",nextMonth:"Next month",prevYear:"Previous year",nextYear:"Next year",today:"Today",prevRangeYears:e=>`Previous ${e} years`,nextRangeYears:e=>`Next ${e} years`},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>e===1?"1 record selected.":(e===0?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},pagination:{first:"First page",prev:"Previous page",next:"Next page",last:"Last page"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function Ns(){const e=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof e=="string")return e.split(/[-_]/).map((t,n)=>n===0?t.toLowerCase():n>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase()).join("-")}const Bt=_o({__qLang:{}},{getLocale:Ns,set(e=js,t){const n={...e,rtl:e.rtl===!0,getLocale:Ns};{if(n.set=Bt.set,Bt.__langConfig===void 0||Bt.__langConfig.noHtmlAttrs!==!0){const o=document.documentElement;o.setAttribute("dir",n.rtl===!0?"rtl":"ltr"),o.setAttribute("lang",n.isoName)}Object.assign(Bt.__qLang,n)}},install({$q:e,lang:t,ssrContext:n}){e.lang=Bt.__qLang,Bt.__langConfig=e.config.lang,this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(o){return Reflect.ownKeys(o).filter(r=>r!=="set"&&r!=="getLocale")}}),this.set(t||js))}}),pm={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},Xo=_o({iconMapFn:null,__qIconSet:{}},{set(e,t){const n={...e};n.set=Xo.set,Object.assign(Xo.__qIconSet,n)},install({$q:e,iconSet:t,ssrContext:n}){e.config.iconMapFn!==void 0&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__qIconSet,On(e,"iconMapFn",()=>this.iconMapFn,o=>{this.iconMapFn=o}),this.__installed===!0?t!==void 0&&this.set(t):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(o){return Reflect.ownKeys(o).filter(r=>r!=="set")}}),this.set(t||pm))}}),gm="_q_",Kg="_q_l_",Ug="_q_pc_",vm="_q_fo_",Wg="_q_tabs_";function Qg(){}const er={};let mu=!1;function _m(){mu=!0}function Or(e,t){if(e===t)return!0;if(e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,o;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(Or(e[o],t[o])!==!0)return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let i=e.entries();for(o=i.next();o.done!==!0;){if(t.has(o.value[0])!==!0)return!1;o=i.next()}for(i=e.entries(),o=i.next();o.done!==!0;){if(Or(o.value[1],t.get(o.value[0]))!==!0)return!1;o=i.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const i=e.entries();for(o=i.next();o.done!==!0;){if(t.has(o.value[0])!==!0)return!1;o=i.next()}return!0}if(e.buffer!=null&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e).filter(i=>e[i]!==void 0);if(n=r.length,n!==Object.keys(t).filter(i=>t[i]!==void 0).length)return!1;for(o=n;o--!==0;){const i=r[o];if(Or(e[i],t[i])!==!0)return!1}return!0}return e!==e&&t!==t}function Ge(e){return e!==null&&typeof e=="object"&&Array.isArray(e)!==!0}function bm(e){return Object.prototype.toString.call(e)==="[object Date]"}function ym(e){return Object.prototype.toString.call(e)==="[object RegExp]"}const Hs=[li,fm,Ie,im,ai,Bt,Xo];function Hi(e,t){const n=iu(e);n.config.globalProperties=t.config.globalProperties;const{reload:o,...r}=t._context;return Object.assign(n._context,r),n}function zs(e,t){t.forEach(n=>{n.install(e),n.__installed=!0})}function wm(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(gm,n.$q),zs(n,Hs),t.components!==void 0&&Object.values(t.components).forEach(o=>{Ge(o)===!0&&o.name!==void 0&&e.component(o.name,o)}),t.directives!==void 0&&Object.values(t.directives).forEach(o=>{Ge(o)===!0&&o.name!==void 0&&e.directive(o.name,o)}),t.plugins!==void 0&&zs(n,Object.values(t.plugins).filter(o=>typeof o.install=="function"&&Hs.includes(o)===!1)),Kt.value===!0&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach(o=>{o()}),n.$q.onSSRHydrated=()=>{}})}const Em=function(e,t={}){const n={version:"2.18.5"};mu===!1?(t.config!==void 0&&Object.assign(er,t.config),n.config={...er},_m()):n.config=t.config||{},wm(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},xm={name:"Quasar",version:"2.18.5",install:Em,lang:Bt,iconSet:Xo};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const bn=typeof document<"u";function hu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Cm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&hu(e.default)}const de=Object.assign;function Mr(e,t){const n={};for(const o in t){const r=t[o];n[o]=ft(r)?r.map(e):e(r)}return n}const Xn=()=>{},ft=Array.isArray,pu=/#/g,km=/&/g,Sm=/\//g,Tm=/=/g,Pm=/\?/g,gu=/\+/g,Rm=/%5B/g,Am=/%5D/g,vu=/%5E/g,Lm=/%60/g,_u=/%7B/g,Om=/%7C/g,bu=/%7D/g,Mm=/%20/g;function zi(e){return encodeURI(""+e).replace(Om,"|").replace(Rm,"[").replace(Am,"]")}function Im(e){return zi(e).replace(_u,"{").replace(bu,"}").replace(vu,"^")}function ui(e){return zi(e).replace(gu,"%2B").replace(Mm,"+").replace(pu,"%23").replace(km,"%26").replace(Lm,"`").replace(_u,"{").replace(bu,"}").replace(vu,"^")}function Vm(e){return ui(e).replace(Tm,"%3D")}function Dm(e){return zi(e).replace(pu,"%23").replace(Pm,"%3F")}function qm(e){return e==null?"":Dm(e).replace(Sm,"%2F")}function co(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const $m=/\/$/,Bm=e=>e.replace($m,"");function Ir(e,t,n="/"){let o,r={},i="",s="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(o=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),r=e(i)),l>-1&&(o=o||t.slice(0,l),s=t.slice(l,t.length)),o=Hm(o??t,n),{fullPath:o+(i&&"?")+i+s,path:o,query:r,hash:co(s)}}function Fm(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ks(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function jm(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&Tn(t.matched[o],n.matched[r])&&yu(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Tn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function yu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Nm(e[n],t[n]))return!1;return!0}function Nm(e,t){return ft(e)?Us(e,t):ft(t)?Us(t,e):e===t}function Us(e,t){return ft(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Hm(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let i=n.length-1,s,l;for(s=0;s<o.length;s++)if(l=o[s],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+o.slice(s).join("/")}const It={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var fo;(function(e){e.pop="pop",e.push="push"})(fo||(fo={}));var eo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(eo||(eo={}));function zm(e){if(!e)if(bn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Bm(e)}const Km=/^[^#]+#/;function Um(e,t){return e.replace(Km,"#")+t}function Wm(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const hr=()=>({left:window.scrollX,top:window.scrollY});function Qm(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Wm(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ws(e,t){return(history.state?history.state.position-t:-1)+e}const ci=new Map;function Gm(e,t){ci.set(e,t)}function Ym(e){const t=ci.get(e);return ci.delete(e),t}let Jm=()=>location.protocol+"//"+location.host;function wu(e,t){const{pathname:n,search:o,hash:r}=t,i=e.indexOf("#");if(i>-1){let l=r.includes(e.slice(i))?e.slice(i).length:1,a=r.slice(l);return a[0]!=="/"&&(a="/"+a),Ks(a,"")}return Ks(n,e)+o+r}function Zm(e,t,n,o){let r=[],i=[],s=null;const l=({state:d})=>{const h=wu(e,location),g=n.value,w=t.value;let k=0;if(d){if(n.value=h,t.value=d,s&&s===g){s=null;return}k=w?d.position-w.position:0}else o(h);r.forEach(M=>{M(n.value,g,{delta:k,type:fo.pop,direction:k?k>0?eo.forward:eo.back:eo.unknown})})};function a(){s=n.value}function c(d){r.push(d);const h=()=>{const g=r.indexOf(d);g>-1&&r.splice(g,1)};return i.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(de({},d.state,{scroll:hr()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function Qs(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?hr():null}}function Xm(e){const{history:t,location:n}=window,o={value:wu(e,n)},r={value:t.state};r.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:Jm()+e+a;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function s(a,c){const u=de({},t.state,Qs(r.value.back,a,r.value.forward,!0),c,{position:r.value.position});i(a,u,!0),o.value=a}function l(a,c){const u=de({},r.value,t.state,{forward:a,scroll:hr()});i(u.current,u,!0);const f=de({},Qs(o.value,a,null),{position:u.position+1},c);i(a,f,!1),o.value=a}return{location:o,state:r,push:l,replace:s}}function eh(e){e=zm(e);const t=Xm(e),n=Zm(e,t.state,t.location,t.replace);function o(i,s=!0){s||n.pauseListeners(),history.go(i)}const r=de({location:"",base:e,go:o,createHref:Um.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function th(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),eh(e)}function nh(e){return typeof e=="string"||e&&typeof e=="object"}function Eu(e){return typeof e=="string"||typeof e=="symbol"}const xu=Symbol("");var Gs;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Gs||(Gs={}));function Pn(e,t){return de(new Error,{type:e,[xu]:!0},t)}function xt(e,t){return e instanceof Error&&xu in e&&(t==null||!!(e.type&t))}const Ys="[^/]+?",oh={sensitive:!1,strict:!1,start:!0,end:!0},rh=/[.+*?^${}()[\]/\\]/g;function ih(e,t){const n=de({},oh,t),o=[];let r=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(rh,"\\$&"),h+=40;else if(d.type===1){const{value:g,repeatable:w,optional:k,regexp:M}=d;i.push({name:g,repeatable:w,optional:k});const b=M||Ys;if(b!==Ys){h+=10;try{new RegExp(`(${b})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+A.message)}}let L=w?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(L=k&&c.length<2?`(?:/${L})`:"/"+L),k&&(L+="?"),r+=L,h+=20,k&&(h+=-8),w&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}o.push(u)}if(n.strict&&n.end){const c=o.length-1;o[c][o[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");function l(c){const u=c.match(s),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",g=i[d-1];f[g.name]=h&&g.repeatable?h.split("/"):h}return f}function a(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:g,repeatable:w,optional:k}=h,M=g in c?c[g]:"";if(ft(M)&&!w)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=ft(M)?M.join("/"):M;if(!b)if(k)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);u+=b}}return u||"/"}return{re:s,score:o,keys:i,parse:l,stringify:a}}function sh(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Cu(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const i=sh(o[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-o.length)===1){if(Js(o))return 1;if(Js(r))return-1}return r.length-o.length}function Js(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const lh={type:0,value:""},ah=/[a-zA-Z0-9_]/;function uh(e){if(!e)return[[]];if(e==="/")return[[lh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,o=n;const r=[];let i;function s(){i&&r.push(i),i=[]}let l=0,a,c="",u="";function f(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:a==="/"?(c&&f(),s()):a===":"?(f(),n=1):d();break;case 4:d(),n=o;break;case 1:a==="("?n=2:ah.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),s(),r}function ch(e,t,n){const o=ih(uh(e.path),n),r=de(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function fh(e,t){const n=[],o=new Map;t=tl({strict:!1,end:!0,sensitive:!1},t);function r(f){return o.get(f)}function i(f,d,h){const g=!h,w=Xs(f);w.aliasOf=h&&h.record;const k=tl(t,f),M=[w];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const $ of A)M.push(Xs(de({},w,{components:h?h.record.components:w.components,path:$,aliasOf:h?h.record:w})))}let b,L;for(const A of M){const{path:$}=A;if(d&&$[0]!=="/"){const j=d.record.path,z=j[j.length-1]==="/"?"":"/";A.path=d.record.path+($&&z+$)}if(b=ch(A,d,k),h?h.alias.push(b):(L=L||b,L!==b&&L.alias.push(b),g&&f.name&&!el(b)&&s(f.name)),ku(b)&&a(b),w.children){const j=w.children;for(let z=0;z<j.length;z++)i(j[z],b,h&&h.children[z])}h=h||b}return L?()=>{s(L)}:Xn}function s(f){if(Eu(f)){const d=o.get(f);d&&(o.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&o.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function l(){return n}function a(f){const d=hh(f,n);n.splice(d,0,f),f.record.name&&!el(f)&&o.set(f.record.name,f)}function c(f,d){let h,g={},w,k;if("name"in f&&f.name){if(h=o.get(f.name),!h)throw Pn(1,{location:f});k=h.record.name,g=de(Zs(d.params,h.keys.filter(L=>!L.optional).concat(h.parent?h.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),f.params&&Zs(f.params,h.keys.map(L=>L.name))),w=h.stringify(g)}else if(f.path!=null)w=f.path,h=n.find(L=>L.re.test(w)),h&&(g=h.parse(w),k=h.record.name);else{if(h=d.name?o.get(d.name):n.find(L=>L.re.test(d.path)),!h)throw Pn(1,{location:f,currentLocation:d});k=h.record.name,g=de({},d.params,f.params),w=h.stringify(g)}const M=[];let b=h;for(;b;)M.unshift(b.record),b=b.parent;return{name:k,path:w,params:g,matched:M,meta:mh(M)}}e.forEach(f=>i(f));function u(){n.length=0,o.clear()}return{addRoute:i,resolve:c,removeRoute:s,clearRoutes:u,getRoutes:l,getRecordMatcher:r}}function Zs(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Xs(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:dh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function dh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function el(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mh(e){return e.reduce((t,n)=>de(t,n.meta),{})}function tl(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function hh(e,t){let n=0,o=t.length;for(;n!==o;){const i=n+o>>1;Cu(e,t[i])<0?o=i:n=i+1}const r=ph(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function ph(e){let t=e;for(;t=t.parent;)if(ku(t)&&Cu(e,t)===0)return t}function ku({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function gh(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const i=o[r].replace(gu," "),s=i.indexOf("="),l=co(s<0?i:i.slice(0,s)),a=s<0?null:co(i.slice(s+1));if(l in t){let c=t[l];ft(c)||(c=t[l]=[c]),c.push(a)}else t[l]=a}return t}function nl(e){let t="";for(let n in e){const o=e[n];if(n=Vm(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(ft(o)?o.map(i=>i&&ui(i)):[o&&ui(o)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function vh(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=ft(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const Su=Symbol(""),ol=Symbol(""),pr=Symbol(""),Ki=Symbol(""),fi=Symbol("");function qn(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function _h(e,t,n){const o=()=>{e[t].delete(n)};cr(o),go(o),qi(()=>{e[t].add(n)}),e[t].add(n)}function Gg(e){const t=Ze(Su,{}).value;t&&_h(t,"leaveGuards",e)}function Ft(e,t,n,o,r,i=s=>s()){const s=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((l,a)=>{const c=d=>{d===!1?a(Pn(4,{from:n,to:t})):d instanceof Error?a(d):nh(d)?a(Pn(2,{from:t,to:d})):(s&&o.enterCallbacks[r]===s&&typeof d=="function"&&s.push(d),l())},u=i(()=>e.call(o&&o.instances[r],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>a(d))})}function Vr(e,t,n,o,r=i=>i()){const i=[];for(const s of e)for(const l in s.components){let a=s.components[l];if(!(t!=="beforeRouteEnter"&&!s.instances[l]))if(hu(a)){const u=(a.__vccOpts||a)[t];u&&i.push(Ft(u,n,o,s,l,r))}else{let c=a();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${s.path}"`);const f=Cm(u)?u.default:u;s.mods[l]=u,s.components[l]=f;const h=(f.__vccOpts||f)[t];return h&&Ft(h,n,o,s,l,r)()}))}}return i}function rl(e){const t=Ze(pr),n=Ze(Ki),o=R(()=>{const a=rn(e.to);return t.resolve(a)}),r=R(()=>{const{matched:a}=o.value,{length:c}=a,u=a[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Tn.bind(null,u));if(d>-1)return d;const h=il(a[c-2]);return c>1&&il(u)===h&&f[f.length-1].path!==h?f.findIndex(Tn.bind(null,a[c-2])):d}),i=R(()=>r.value>-1&&xh(n.params,o.value.params)),s=R(()=>r.value>-1&&r.value===n.matched.length-1&&yu(n.params,o.value.params));function l(a={}){if(Eh(a)){const c=t[rn(e.replace)?"replace":"push"](rn(e.to)).catch(Xn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:o,href:R(()=>o.value.href),isActive:i,isExactActive:s,navigate:l}}function bh(e){return e.length===1?e[0]:e}const yh=Di({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:rl,setup(e,{slots:t}){const n=Ln(rl(e)),{options:o}=Ze(pr),r=R(()=>({[sl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[sl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&bh(t.default(n));return e.custom?i:T("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),wh=yh;function Eh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function xh(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!ft(r)||r.length!==o.length||o.some((i,s)=>i!==r[s]))return!1}return!0}function il(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sl=(e,t,n)=>e??t??n,Ch=Di({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=Ze(fi),r=R(()=>e.route||o.value),i=Ze(ol,0),s=R(()=>{let c=rn(i);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=R(()=>r.value.matched[s.value]);Mo(ol,R(()=>s.value+1)),Mo(Su,l),Mo(fi,r);const a=fe();return ye(()=>[a.value,l.value,e.name],([c,u,f],[d,h,g])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Tn(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=l.value,d=f&&f.components[u];if(!d)return ll(n.default,{Component:d,route:c});const h=f.props[u],g=h?h===!0?c.params:typeof h=="function"?h(c):h:null,k=T(d,de({},g,t,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return ll(n.default,{Component:k,route:c})||k}}});function ll(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const kh=Ch;function Sh(e){const t=fh(e.routes,e),n=e.parseQuery||gh,o=e.stringifyQuery||nl,r=e.history,i=qn(),s=qn(),l=qn(),a=Hc(It);let c=It;bn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Mr.bind(null,y=>""+y),f=Mr.bind(null,qm),d=Mr.bind(null,co);function h(y,Q){let G,Z;return Eu(y)?(G=t.getRecordMatcher(y),Z=Q):Z=y,t.addRoute(Z,G)}function g(y){const Q=t.getRecordMatcher(y);Q&&t.removeRoute(Q)}function w(){return t.getRoutes().map(y=>y.record)}function k(y){return!!t.getRecordMatcher(y)}function M(y,Q){if(Q=de({},Q||a.value),typeof y=="string"){const _=Ir(n,y,Q.path),V=t.resolve({path:_.path},Q),D=r.createHref(_.fullPath);return de(_,V,{params:d(V.params),hash:co(_.hash),redirectedFrom:void 0,href:D})}let G;if(y.path!=null)G=de({},y,{path:Ir(n,y.path,Q.path).path});else{const _=de({},y.params);for(const V in _)_[V]==null&&delete _[V];G=de({},y,{params:f(_)}),Q.params=f(Q.params)}const Z=t.resolve(G,Q),pe=y.hash||"";Z.params=u(d(Z.params));const m=Fm(o,de({},y,{hash:Im(pe),path:Z.path})),p=r.createHref(m);return de({fullPath:m,hash:pe,query:o===nl?vh(y.query):y.query||{}},Z,{redirectedFrom:void 0,href:p})}function b(y){return typeof y=="string"?Ir(n,y,a.value.path):de({},y)}function L(y,Q){if(c!==y)return Pn(8,{from:Q,to:y})}function A(y){return z(y)}function $(y){return A(de(b(y),{replace:!0}))}function j(y){const Q=y.matched[y.matched.length-1];if(Q&&Q.redirect){const{redirect:G}=Q;let Z=typeof G=="function"?G(y):G;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=b(Z):{path:Z},Z.params={}),de({query:y.query,hash:y.hash,params:Z.path!=null?{}:y.params},Z)}}function z(y,Q){const G=c=M(y),Z=a.value,pe=y.state,m=y.force,p=y.replace===!0,_=j(G);if(_)return z(de(b(_),{state:typeof _=="object"?de({},pe,_.state):pe,force:m,replace:p}),Q||G);const V=G;V.redirectedFrom=Q;let D;return!m&&jm(o,Z,G)&&(D=Pn(16,{to:V,from:Z}),le(Z,Z,!0,!1)),(D?Promise.resolve(D):x(V,Z)).catch(I=>xt(I)?xt(I,2)?I:xe(I):O(I,V,Z)).then(I=>{if(I){if(xt(I,2))return z(de({replace:p},b(I.to),{state:typeof I.to=="object"?de({},pe,I.to.state):pe,force:m}),Q||V)}else I=v(V,Z,!0,p,pe);return C(V,Z,I),I})}function N(y,Q){const G=L(y,Q);return G?Promise.reject(G):Promise.resolve()}function F(y){const Q=Ee.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(y):y()}function x(y,Q){let G;const[Z,pe,m]=Th(y,Q);G=Vr(Z.reverse(),"beforeRouteLeave",y,Q);for(const _ of Z)_.leaveGuards.forEach(V=>{G.push(Ft(V,y,Q))});const p=N.bind(null,y,Q);return G.push(p),te(G).then(()=>{G=[];for(const _ of i.list())G.push(Ft(_,y,Q));return G.push(p),te(G)}).then(()=>{G=Vr(pe,"beforeRouteUpdate",y,Q);for(const _ of pe)_.updateGuards.forEach(V=>{G.push(Ft(V,y,Q))});return G.push(p),te(G)}).then(()=>{G=[];for(const _ of m)if(_.beforeEnter)if(ft(_.beforeEnter))for(const V of _.beforeEnter)G.push(Ft(V,y,Q));else G.push(Ft(_.beforeEnter,y,Q));return G.push(p),te(G)}).then(()=>(y.matched.forEach(_=>_.enterCallbacks={}),G=Vr(m,"beforeRouteEnter",y,Q,F),G.push(p),te(G))).then(()=>{G=[];for(const _ of s.list())G.push(Ft(_,y,Q));return G.push(p),te(G)}).catch(_=>xt(_,8)?_:Promise.reject(_))}function C(y,Q,G){l.list().forEach(Z=>F(()=>Z(y,Q,G)))}function v(y,Q,G,Z,pe){const m=L(y,Q);if(m)return m;const p=Q===It,_=bn?history.state:{};G&&(Z||p?r.replace(y.fullPath,de({scroll:p&&_&&_.scroll},pe)):r.push(y.fullPath,pe)),a.value=y,le(y,Q,G,p),xe()}let P;function S(){P||(P=r.listen((y,Q,G)=>{if(!Le.listening)return;const Z=M(y),pe=j(Z);if(pe){z(de(pe,{replace:!0,force:!0}),Z).catch(Xn);return}c=Z;const m=a.value;bn&&Gm(Ws(m.fullPath,G.delta),hr()),x(Z,m).catch(p=>xt(p,12)?p:xt(p,2)?(z(de(b(p.to),{force:!0}),Z).then(_=>{xt(_,20)&&!G.delta&&G.type===fo.pop&&r.go(-1,!1)}).catch(Xn),Promise.reject()):(G.delta&&r.go(-G.delta,!1),O(p,Z,m))).then(p=>{p=p||v(Z,m,!1),p&&(G.delta&&!xt(p,8)?r.go(-G.delta,!1):G.type===fo.pop&&xt(p,20)&&r.go(-1,!1)),C(Z,m,p)}).catch(Xn)}))}let K=qn(),X=qn(),U;function O(y,Q,G){xe(y);const Z=X.list();return Z.length?Z.forEach(pe=>pe(y,Q,G)):console.error(y),Promise.reject(y)}function oe(){return U&&a.value!==It?Promise.resolve():new Promise((y,Q)=>{K.add([y,Q])})}function xe(y){return U||(U=!y,S(),K.list().forEach(([Q,G])=>y?G(y):Q()),K.reset()),y}function le(y,Q,G,Z){const{scrollBehavior:pe}=e;if(!bn||!pe)return Promise.resolve();const m=!G&&Ym(Ws(y.fullPath,0))||(Z||!G)&&history.state&&history.state.scroll||null;return Qe().then(()=>pe(y,Q,m)).then(p=>p&&Qm(p)).catch(p=>O(p,y,Q))}const q=y=>r.go(y);let ue;const Ee=new Set,Le={currentRoute:a,listening:!0,addRoute:h,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:w,resolve:M,options:e,push:A,replace:$,go:q,back:()=>q(-1),forward:()=>q(1),beforeEach:i.add,beforeResolve:s.add,afterEach:l.add,onError:X.add,isReady:oe,install(y){const Q=this;y.component("RouterLink",wh),y.component("RouterView",kh),y.config.globalProperties.$router=Q,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>rn(a)}),bn&&!ue&&a.value===It&&(ue=!0,A(r.location).catch(pe=>{}));const G={};for(const pe in It)Object.defineProperty(G,pe,{get:()=>a.value[pe],enumerable:!0});y.provide(pr,Q),y.provide(Ki,sa(G)),y.provide(fi,a);const Z=y.unmount;Ee.add(y),y.unmount=function(){Ee.delete(y),Ee.size<1&&(c=It,P&&P(),P=null,a.value=It,ue=!1,U=!1),Z()}}};function te(y){return y.reduce((Q,G)=>Q.then(()=>F(G)),Promise.resolve())}return Le}function Th(e,t){const n=[],o=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const l=t.matched[s];l&&(e.matched.find(c=>Tn(c,l))?o.push(l):n.push(l));const a=e.matched[s];a&&(t.matched.find(c=>Tn(c,a))||r.push(a))}return[n,o,r]}function Ph(){return Ze(pr)}function Yg(e){return Ze(Ki)}const di={xs:18,sm:24,md:32,lg:38,xl:46},bo={size:String};function yo(e,t=di){return R(()=>e.size!==void 0?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null)}const Tu={size:{type:[String,Number],default:"1em"},color:String};function Pu(e){return{cSize:R(()=>e.size in di?`${di[e.size]}px`:e.size),classes:R(()=>"q-spinner"+(e.color?` text-${e.color}`:""))}}const Rn=Ae({name:"QSpinner",props:{...Tu,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=Pu(e);return()=>T("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[T("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}});let Rh=1,Ah=document.body;function gr(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${Rh++}`:e,er.globalNodes!==void 0){const o=er.globalNodes.class;o!==void 0&&(n.className=o)}return Ah.appendChild(n),n}function Ui(e){e.remove()}function mi(e,t){const n=e.style;for(const o in t)n[o]=t[o]}function Lh(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=rn(e);if(t)return t.$el||t}function Oh(e,t){if(e==null||e.contains(t)===!0)return!0;for(let n=e.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}const Jg=[Element,String],Mh=[null,document,document.body,document.scrollingElement,document.documentElement];function Zg(e,t){let n=Lh(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return Mh.includes(n)?window:n}function Ru(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Au(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function Lu(e,t,n=0){const o=arguments[3]===void 0?performance.now():arguments[3],r=Ru(e);if(n<=0){r!==t&&hi(e,t);return}requestAnimationFrame(i=>{const s=i-o,l=r+(t-r)/Math.max(s,n)*s;hi(e,l),l!==t&&Lu(e,t,n-s,i)})}function Ou(e,t,n=0){const o=arguments[3]===void 0?performance.now():arguments[3],r=Au(e);if(n<=0){r!==t&&pi(e,t);return}requestAnimationFrame(i=>{const s=i-o,l=r+(t-r)/Math.max(s,n)*s;pi(e,l),l!==t&&Ou(e,t,n-s,i)})}function hi(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function pi(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function Xg(e,t,n){if(n){Lu(e,t,n);return}hi(e,t)}function ev(e,t,n){if(n){Ou(e,t,n);return}pi(e,t)}let So;function tv(){if(So!==void 0)return So;const e=document.createElement("p"),t=document.createElement("div");mi(e,{width:"100%",height:"200px"}),mi(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;return n===o&&(o=t.clientWidth),t.remove(),So=n-o,So}function Ih(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}let $n=0,Dr,qr,Hn,$r=!1,al,ul,cl,Yt=null;function Vh(e){Dh(e)&&nt(e)}function Dh(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=nm(e),n=e.shiftKey&&!e.deltaX,o=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),r=n||o?e.deltaY:e.deltaX;for(let i=0;i<t.length;i++){const s=t[i];if(Ih(s,o))return o?r<0&&s.scrollTop===0?!0:r>0&&s.scrollTop+s.clientHeight===s.scrollHeight:r<0&&s.scrollLeft===0?!0:r>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0}function fl(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function To(e){$r!==!0&&($r=!0,requestAnimationFrame(()=>{$r=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:o}=document.scrollingElement;(Hn===void 0||t!==window.innerHeight)&&(Hn=n-t,document.scrollingElement.scrollTop=o),o>Hn&&(document.scrollingElement.scrollTop-=Math.ceil((o-Hn)/8))}))}function dl(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:o,overflowX:r}=window.getComputedStyle(t);Dr=Au(window),qr=Ru(window),al=t.style.left,ul=t.style.top,cl=window.location.href,t.style.left=`-${Dr}px`,t.style.top=`-${qr}px`,r!=="hidden"&&(r==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),o!=="hidden"&&(o==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Te.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",To,Ue.passiveCapture),window.visualViewport.addEventListener("scroll",To,Ue.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",fl,Ue.passiveCapture))}Te.is.desktop===!0&&Te.is.mac===!0&&window[`${e}EventListener`]("wheel",Vh,Ue.notPassive),e==="remove"&&(Te.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",To,Ue.passiveCapture),window.visualViewport.removeEventListener("scroll",To,Ue.passiveCapture)):window.removeEventListener("scroll",fl,Ue.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=al,t.style.top=ul,window.location.href===cl&&window.scrollTo(Dr,qr),Hn=void 0)}function gi(e){let t="add";if(e===!0){if($n++,Yt!==null){clearTimeout(Yt),Yt=null;return}if($n>1)return}else{if($n===0||($n--,$n>0))return;if(t="remove",Te.is.ios===!0&&Te.is.nativeMobile===!0){Yt!==null&&clearTimeout(Yt),Yt=setTimeout(()=>{dl(t),Yt=null},100);return}}dl(t)}let hn,Br,ml=0,Jt=null,Re={},en={};const Mu={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:Rn,customClass:""},Iu={...Mu};function qh(e){if(e?.group!==void 0&&en[e.group]!==void 0)return Object.assign(en[e.group],e);const t=Ge(e)===!0&&e.ignoreDefaults===!0?{...Mu,...e}:{...Iu,...e};return en[t.group]=t,t}const Ke=_o({isActive:!1},{show(e){Re=qh(e);const{group:t}=Re;return Ke.isActive=!0,hn!==void 0?(Re.uid=ml,Br.$forceUpdate()):(Re.uid=++ml,Jt!==null&&clearTimeout(Jt),Jt=setTimeout(()=>{Jt=null;const n=gr("q-loading");hn=Hi({name:"QLoading",setup(){Ot(()=>{gi(!0)});function o(){Ke.isActive!==!0&&hn!==void 0&&(gi(!1),hn.unmount(n),Ui(n),hn=void 0,Br=void 0)}function r(){if(Ke.isActive!==!0)return null;const i=[T(Re.spinner,{class:"q-loading__spinner",color:Re.spinnerColor,size:Re.spinnerSize})];return Re.message&&i.push(T("div",{class:"q-loading__message"+(Re.messageColor?` text-${Re.messageColor}`:""),[Re.html===!0?"innerHTML":"textContent"]:Re.message})),T("div",{class:"q-loading fullscreen flex flex-center z-max "+Re.customClass.trim(),key:Re.uid},[T("div",{class:"q-loading__backdrop"+(Re.backgroundColor?` bg-${Re.backgroundColor}`:"")}),T("div",{class:"q-loading__box column items-center "+Re.boxClass},i)])}return()=>T(ao,{name:"q-transition--fade",appear:!0,onAfterLeave:o},r)}},Ke.__parentApp),Br=hn.mount(n)},Re.delay)),n=>{if(n===void 0||Object(n)!==n){Ke.hide(t);return}Ke.show({...n,group:t})}},hide(e){if(Ke.isActive===!0){if(e===void 0)en={};else{if(en[e]===void 0)return;{delete en[e];const t=Object.keys(en);if(t.length!==0){const n=t[t.length-1];Ke.show({group:n});return}}}Jt!==null&&(clearTimeout(Jt),Jt=null),Ke.isActive=!1}},setDefaults(e){Ge(e)===!0&&Object.assign(Iu,e)},install({$q:e,parentApp:t}){e.loading=this,Ke.__parentApp=t,e.config.loading!==void 0&&this.setDefaults(e.config.loading)}}),$h='<g><path fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10" d="M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"></path><clipPath id="uil-hourglass-clip1"><rect x="15" y="20" width="70" height="25"><animate attributeName="height" from="25" to="0" dur="1s" repeatCount="indefinite" values="25;0;0" keyTimes="0;0.5;1"></animate><animate attributeName="y" from="20" to="45" dur="1s" repeatCount="indefinite" values="20;45;45" keyTimes="0;0.5;1"></animate></rect></clipPath><clipPath id="uil-hourglass-clip2"><rect x="15" y="55" width="70" height="25"><animate attributeName="height" from="0" to="25" dur="1s" repeatCount="indefinite" values="0;25;25" keyTimes="0;0.5;1"></animate><animate attributeName="y" from="80" to="55" dur="1s" repeatCount="indefinite" values="80;55;55" keyTimes="0;0.5;1"></animate></rect></clipPath><path d="M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z" clip-path="url(#uil-hourglass-clip1)" fill="currentColor"></path><path d="M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z" clip-path="url(#uil-hourglass-clip2)" fill="currentColor"></path><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="180 50 50" repeatCount="indefinite" dur="1s" values="0 50 50;0 50 50;180 50 50" keyTimes="0;0.7;1"></animateTransform></g>',Bh=Ae({name:"QSpinnerHourglass",props:Tu,setup(e){const{cSize:t,classes:n}=Pu(e);return()=>T("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:$h})}});function Fh(e){return bm(e)===!0?"__q_date|"+e.getTime():ym(e)===!0?"__q_expr|"+e.source:typeof e=="number"?"__q_numb|"+e:typeof e=="boolean"?"__q_bool|"+(e?"1":"0"):typeof e=="string"?"__q_strn|"+e:typeof e=="function"?"__q_strn|"+e.toString():e===Object(e)?"__q_objt|"+JSON.stringify(e):e}function jh(e){if(e.length<9)return e;const n=e.substring(0,8),o=e.substring(9);switch(n){case"__q_date":const r=Number(o);return new Date(Number.isNaN(r)===!0?o:r);case"__q_expr":return new RegExp(o);case"__q_numb":return Number(o);case"__q_bool":return o==="1";case"__q_strn":return""+o;case"__q_objt":return JSON.parse(o);default:return e}}function Nh(){const e=()=>null;return{has:()=>!1,hasItem:()=>!1,getLength:()=>0,getItem:e,getIndex:e,getKey:e,getAll:()=>{},getAllKeys:()=>[],set:yt,setItem:yt,remove:yt,removeItem:yt,clear:yt,isEmpty:()=>!0}}function Hh(e){const t=window[e+"Storage"],n=s=>{const l=t.getItem(s);return l?jh(l):null},o=s=>t.getItem(s)!==null,r=(s,l)=>{t.setItem(s,Fh(l))},i=s=>{t.removeItem(s)};return{has:o,hasItem:o,getLength:()=>t.length,getItem:n,getIndex:s=>s<t.length?n(t.key(s)):null,getKey:s=>s<t.length?t.key(s):null,getAll:()=>{let s;const l={},a=t.length;for(let c=0;c<a;c++)s=t.key(c),l[s]=n(s);return l},getAllKeys:()=>{const s=[],l=t.length;for(let a=0;a<l;a++)s.push(t.key(a));return s},set:r,setItem:r,remove:i,removeItem:i,clear:()=>{t.clear()},isEmpty:()=>t.length===0}}const Vu=Te.has.webStorage===!1?Nh():Hh("local"),sn={install({$q:e}){e.localStorage=Vu}};Object.assign(sn,Vu);const be=new Audio("/assets/audio/app-music.mp3");be.loop=!0;be.volume=.5;const vi=new Audio("/assets/sfx/click.mp3");vi.volume=.7;const zh=.5,Kh=0;function Vt(){return{bgMusicEnabled:sn.getItem("bgMusicEnabled")??!0,sfxEnabled:sn.getItem("sfxEnabled")??!0,bgMusicTime:sn.getItem("bgMusicTime")??0}}function Bn(e){sn.set("bgMusicEnabled",e.bgMusicEnabled),sn.set("sfxEnabled",e.sfxEnabled),sn.set("bgMusicTime",e.bgMusicTime??0)}function to(e,t=.05,n=80){clearInterval(to._timer),to._timer=setInterval(()=>{Math.abs(be.volume-e)<t?(be.volume=e,clearInterval(to._timer)):be.volume<e?be.volume=Math.min(be.volume+t,e):be.volume=Math.max(be.volume-t,e)},n)}function Uh(){document.addEventListener("play",e=>{e.target.tagName==="VIDEO"&&_t.duckBg()},!0),document.addEventListener("pause",e=>{e.target.tagName==="VIDEO"&&_t.restoreBg()},!0),document.addEventListener("ended",e=>{e.target.tagName==="VIDEO"&&_t.restoreBg()},!0)}const _t={playBg(){const{bgMusicEnabled:e}=Vt();e&&be.play().catch(()=>{})},stopBg(){be.pause();const e=Vt();e.bgMusicTime=be.currentTime,Bn(e)},toggleBg(e){const t=Vt();t.bgMusicEnabled=e,Bn(t),e?be.play().catch(()=>{document.addEventListener("click",()=>{be.paused&&be.play()},{once:!0})}):(be.pause(),t.bgMusicTime=be.currentTime,Bn(t))},playClick(){const{sfxEnabled:e}=Vt();e&&(vi.currentTime=0,vi.play())},toggleSfx(e){const t=Vt();t.sfxEnabled=e,Bn(t)},duckBg(){be.paused||to(Kh)},restoreBg(){be.paused||to(zh)},init(){const e=Vt();be.currentTime=e.bgMusicTime||0,e.bgMusicEnabled&&be.play().catch(()=>{document.addEventListener("click",()=>{be.paused&&be.play()},{once:!0})}),be.addEventListener("timeupdate",()=>{const t=Vt();t.bgMusicTime=be.currentTime,Bn(t)}),Uh()},getSettings:Vt},Wh={class:"safe-fullscreen q-safe-area"},Qh={__name:"App",setup(e){const t=Ph();return Ot(()=>{Ke.show({spinner:Bh,message:"Loading...",spinnerColor:"primary",backgroundColor:"white"}),document.readyState==="complete"?setTimeout(()=>Ke.hide(),400):window.addEventListener("load",()=>{setTimeout(()=>Ke.hide(),400)}),_t.init(),document.body.addEventListener("click",n=>{n.target.closest("button, .q-btn, .q-item, a, .click-sound")&&_t.playClick()}),t.beforeEach((n,o,r)=>{"speechSynthesis"in window&&window.speechSynthesis.cancel(),_t.restoreBg(),r()}),Ar.addListener("appStateChange",({isActive:n})=>{n||_t.stopAll?.()||_t.stopBg?.()}),Ar.addListener("pause",()=>{_t.stopAll?.()||_t.stopBg?.()})}),it(()=>{Ar.removeAllListeners()}),(n,o)=>{const r=df("router-view");return Ka(),Kf("div",Wh,[Xe(r)])}}},Gh=e=>e,Yh=Gh,Jh=[{path:"/",component:()=>E(()=>import("./MainLayout-DtCea5yi.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),children:[{path:"",component:()=>E(()=>import("./IndexPage-DVz-dVMz.js"),__vite__mapDeps([5,6,7,8,3,9,10,11,2,12,13,14,15,1,4,16]),import.meta.url),name:"home"},{path:"chapter-one",component:()=>E(()=>import("./Chapter-1-Ceiz8Ixw.js"),__vite__mapDeps([17,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-one"},{path:"lesson-test",component:()=>E(()=>import("./LessonPage-D6DR_ADY.js"),__vite__mapDeps([20,9,10,15,21,4,22]),import.meta.url),name:"lesson-test"},{path:"lesson-try",component:()=>E(()=>import("./LessonTry-BKfKjmhR.js"),__vite__mapDeps([23,6,11,9,14,15,24]),import.meta.url),name:"lesson-try"},{path:"login-page",component:()=>E(()=>import("./LoginPage-OLZxPeVh.js"),__vite__mapDeps([25,21,18,4,26]),import.meta.url),name:"login-page"},{path:"test-page",component:()=>E(()=>import("./Unit-1-9d2AFXA_.js"),__vite__mapDeps([27,18,4,28]),import.meta.url),name:"test-page"},{path:"bookmark-page",component:()=>E(()=>import("./BookMark-BUTu5oy6.js"),__vite__mapDeps([29,7,8,3,1,15,24,21,18,30,4,31]),import.meta.url),name:"bookmark-page"},{path:"quiz-stats",component:()=>E(()=>import("./QuizStats-DRRKn8Mz.js"),__vite__mapDeps([32,7,8,3,15,1,2,18,4,33]),import.meta.url),name:"quiz-stats"},{path:"unit-1",component:()=>E(()=>import("./UnitOne-C90jjGU2.js"),__vite__mapDeps([34,7,15,4,35]),import.meta.url),name:"unit-1"},{path:"unit-2",component:()=>E(()=>import("./UnitTwo-DTJB9I-W.js"),__vite__mapDeps([36,7,15,4,37]),import.meta.url),name:"unit-2"},{path:"unit-3",component:()=>E(()=>import("./UnitThree-nClMTzjI.js"),__vite__mapDeps([38,7,15,4,39]),import.meta.url),name:"unit-3"},{path:"unit-4",component:()=>E(()=>import("./UnitFour-6rE-QCrT.js"),__vite__mapDeps([40,7,15,4,41]),import.meta.url),name:"unit-4"},{path:"unit-1-chapter-1-lesson-1",component:()=>E(()=>import("./LessonOne-yeYzi90L.js"),__vite__mapDeps([42,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,47]),import.meta.url),name:"unit-1-chapter-1-lesson-1"},{path:"mini-test-1-1",component:()=>E(()=>import("./MiniTest1-1-JpPIjvnt.js"),__vite__mapDeps([48,6,7,8,3,15,1,2,21,18,4,49]),import.meta.url),name:"mini-test-1-1"},{path:"mini-test-1-2",component:()=>E(()=>import("./MiniTest1-2-DxE_Z2_c.js"),__vite__mapDeps([50,6,7,8,3,15,1,2,21,18,4,51]),import.meta.url),name:"mini-test-1-2"},{path:"mini-lab-1-1",component:()=>E(()=>import("./MiniLab1-1-BjnzT8rK.js"),__vite__mapDeps([52,6,7,8,3,15,1,2,21,18,4,53]),import.meta.url),name:"mini-lab-1-1"},{path:"mini-test-1-3",component:()=>E(()=>import("./MiniTest1-3-B8kNRVgL.js"),__vite__mapDeps([54,6,7,8,3,15,1,2,21,18,4,55]),import.meta.url),name:"mini-test-1-3"},{path:"unit-1-chapter-1-lesson-2",component:()=>E(()=>import("./LessonTwo-BRJ5cGd5.js"),__vite__mapDeps([56,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,57]),import.meta.url),name:"unit-1-chapter-1-lesson-2"},{path:"unit-1-chapter-1-lesson-3",component:()=>E(()=>import("./LessonThree-D1I4Z7VL.js"),__vite__mapDeps([58,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,59]),import.meta.url),name:"unit-1-chapter-1-lesson-3"},{path:"unit-1-chapter-1-lesson-4",component:()=>E(()=>import("./LessonFour-tbOCHqCj.js"),__vite__mapDeps([60,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,61]),import.meta.url),name:"unit-1-chapter-1-lesson-4"},{path:"chapter-1",component:()=>E(()=>import("./Chapter-1-Ceiz8Ixw.js"),__vite__mapDeps([17,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-1"},{path:"chapter-1-technology",component:()=>E(()=>import("./TechnologyFocus-BQ8bvPkj.js"),__vite__mapDeps([62,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,63]),import.meta.url),name:"chapter-1-technology"},{path:"chapter-1-review",component:()=>E(()=>import("./ChapterReview-vDdG5CoR.js"),__vite__mapDeps([64,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,65]),import.meta.url),name:"chapter-1-review"},{path:"chapter-1-activity",component:()=>E(()=>import("./Activity-1-DFwSWccy.js"),__vite__mapDeps([66,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,67]),import.meta.url),name:"chapter-1-activity"},{path:"chapter-1-test",component:()=>E(()=>import("./ChapterTest-Cgt0BMX3.js"),__vite__mapDeps([68,18,4,69]),import.meta.url),name:"chapter-1-test"},{path:"chapter-2",component:()=>E(()=>import("./Chapter-2-D5rU3kJu.js"),__vite__mapDeps([70,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-2"},{path:"mini-lab-2-1",component:()=>E(()=>import("./MiniLab2-1-fYjbfn6l.js"),__vite__mapDeps([71,6,7,8,3,15,1,2,21,18,4,72]),import.meta.url),name:"mini-lab-2-1"},{path:"mini-lab-2-2",component:()=>E(()=>import("./MiniLab2-2-CDPzETNA.js"),__vite__mapDeps([73,6,7,8,3,15,1,2,21,18,4,74]),import.meta.url),name:"mini-lab-2-2"},{path:"mini-test-2-3",component:()=>E(()=>import("./MiniTest2-3-CIWlm6nh.js"),__vite__mapDeps([75,6,7,8,3,15,1,2,21,18,4,76]),import.meta.url),name:"mini-test-2-3"},{path:"mini-test-2-4",component:()=>E(()=>import("./MiniTest2-4-DIvlx50J.js"),__vite__mapDeps([77,6,7,8,3,15,1,2,21,18,4,78]),import.meta.url),name:"mini-test-2-4"},{path:"unit-1-chapter-2-lesson-1",component:()=>E(()=>import("./LessonOne-DnKMFAAV.js"),__vite__mapDeps([79,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,80]),import.meta.url),name:"unit-1-chapter-2-lesson-1"},{path:"unit-1-chapter-2-lesson-2",component:()=>E(()=>import("./LessonTwo-4rkh3hRs.js"),__vite__mapDeps([81,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,82]),import.meta.url),name:"unit-1-chapter-2-lesson-2"},{path:"chapter-2-technology",component:()=>E(()=>import("./TechnologyFocus-Ch0TtrfV.js"),__vite__mapDeps([83,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,84]),import.meta.url),name:"chapter-2-technology"},{path:"chapter-2-review",component:()=>E(()=>import("./ChapterReview-D4Fw8yqf.js"),__vite__mapDeps([85,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,86]),import.meta.url),name:"chapter-2-review"},{path:"chapter-2-activity",component:()=>E(()=>import("./Activity-2-B2dCQKyU.js"),__vite__mapDeps([87,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,88]),import.meta.url),name:"chapter-2-activity"},{path:"chapter-2-test",component:()=>E(()=>import("./ChapterTest-BCcxxFox.js"),__vite__mapDeps([89,18,4,90]),import.meta.url),name:"chapter-2-test"},{path:"chapter-2-stem",component:()=>E(()=>import("./StemChallenge-D6Ppx1hS.js"),__vite__mapDeps([91,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,92]),import.meta.url),name:"chapter-2-stem"},{path:"chapter-3",component:()=>E(()=>import("./Chapter-3-EinGElOX.js"),__vite__mapDeps([93,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-3"},{path:"mini-test-3-1",component:()=>E(()=>import("./MiniTest3-1-BDY_hKt-.js"),__vite__mapDeps([94,6,7,8,3,15,1,2,21,18,4,95]),import.meta.url),name:"mini-test-3-1"},{path:"mini-test-3-2",component:()=>E(()=>import("./MiniTest3-2-Msy7Y2jE.js"),__vite__mapDeps([96,6,7,8,3,15,1,2,21,18,4,97]),import.meta.url),name:"mini-test-3-2"},{path:"mini-lab-3-1",component:()=>E(()=>import("./MiniLab3-1-CdCxODzy.js"),__vite__mapDeps([98,6,7,8,3,15,1,2,21,18,4,99]),import.meta.url),name:"mini-lab-3-1"},{path:"mini-lab-3-2",component:()=>E(()=>import("./MiniLab3-2-DvbrKa56.js"),__vite__mapDeps([100,6,7,8,3,15,1,2,21,18,4,101]),import.meta.url),name:"mini-lab-3-2"},{path:"mini-lab-3-3",component:()=>E(()=>import("./MiniLab3-3-QazTf5dC.js"),__vite__mapDeps([102,6,7,8,3,15,1,2,21,18,4,103]),import.meta.url),name:"mini-lab-3-3"},{path:"unit-1-chapter-3-lesson-1",component:()=>E(()=>import("./LessonOne-DfWjDFpt.js"),__vite__mapDeps([104,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,105]),import.meta.url),name:"unit-1-chapter-3-lesson-1"},{path:"unit-1-chapter-3-lesson-2",component:()=>E(()=>import("./LessonTwo-Cb8pKve5.js"),__vite__mapDeps([106,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,107]),import.meta.url),name:"unit-1-chapter-3-lesson-2"},{path:"unit-1-chapter-3-lesson-3",component:()=>E(()=>import("./LessonThree-JYlegWsi.js"),__vite__mapDeps([108,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,109]),import.meta.url),name:"unit-1-chapter-3-lesson-3"},{path:"unit-1-chapter-3-lesson-4",component:()=>E(()=>import("./LessonFour-faKO-mmq.js"),__vite__mapDeps([110,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,111]),import.meta.url),name:"unit-1-chapter-3-lesson-4"},{path:"unit-1-chapter-3-lesson-5",component:()=>E(()=>import("./LessonFive-C2opgThy.js"),__vite__mapDeps([112,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,113]),import.meta.url),name:"unit-1-chapter-3-lesson-5"},{path:"chapter-3-technology",component:()=>E(()=>import("./TechnologyFocus-zjRPxtFZ.js"),__vite__mapDeps([114,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,115]),import.meta.url),name:"chapter-3-technology"},{path:"chapter-3-review",component:()=>E(()=>import("./ChapterReview-ClT5_UyU.js"),__vite__mapDeps([116,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,117]),import.meta.url),name:"chapter-3-review"},{path:"chapter-3-activity-3",component:()=>E(()=>import("./Activity-3-CI9rSxNL.js"),__vite__mapDeps([118,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,119]),import.meta.url),name:"chapter-3-activity-3"},{path:"chapter-3-activity-4",component:()=>E(()=>import("./Activity-4-VUfxCoYB.js"),__vite__mapDeps([120,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,121]),import.meta.url),name:"chapter-3-activity-4"},{path:"chapter-3-activity-5",component:()=>E(()=>import("./Activity-5-DUpNDAlh.js"),__vite__mapDeps([122,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,123]),import.meta.url),name:"chapter-3-activity-5"},{path:"chapter-3-test",component:()=>E(()=>import("./ChapterTest-olfay1RI.js"),__vite__mapDeps([124,18,4,125]),import.meta.url),name:"chapter-3-test"},{path:"chapter-3-stem",component:()=>E(()=>import("./StemChallenge-ijGt3K3r.js"),__vite__mapDeps([126,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,127]),import.meta.url),name:"chapter-3-stem"},{path:"chapter-4",component:()=>E(()=>import("./Chapter-4-BsWOmCLq.js"),__vite__mapDeps([128,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-4"},{path:"unit-2-chapter-4-lesson-1",component:()=>E(()=>import("./LessonOne-CzZmmFz8.js"),__vite__mapDeps([129,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,130]),import.meta.url),name:"unit-2-chapter-4-lesson-1"},{path:"unit-2-chapter-4-lesson-2",component:()=>E(()=>import("./LessonTwo-l8G4YSla.js"),__vite__mapDeps([131,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,132]),import.meta.url),name:"unit-2-chapter-4-lesson-2"},{path:"unit-2-chapter-4-technology",component:()=>E(()=>import("./TechnologyFocus-C3Nz2QpR.js"),__vite__mapDeps([133,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,134]),import.meta.url),name:"chapter-4-technology"},{path:"unit-2-chapter-4-review",component:()=>E(()=>import("./ChapterReview-BgkKxhCn.js"),__vite__mapDeps([135,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,136]),import.meta.url),name:"unit-2-chapter-4-review"},{path:"unit-2-chapter-4-activity-6",component:()=>E(()=>import("./Activity-6-DBA-_xMJ.js"),__vite__mapDeps([137,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,138]),import.meta.url),name:"chapter-4-activity-6"},{path:"unit-2-chapter-4-activity-7",component:()=>E(()=>import("./Activity-7-CGt2QrC7.js"),__vite__mapDeps([139,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,140]),import.meta.url),name:"chapter-4-activity-7"},{path:"unit-2-chapter-4-test",component:()=>E(()=>import("./ChapterTest-OlxvLMHh.js"),__vite__mapDeps([141,18,4,142]),import.meta.url),name:"unit-2-chapter-4-test"},{path:"unit-2-chapter-4-stem-challenge",component:()=>E(()=>import("./StemChallenge-CtDqrVq1.js"),__vite__mapDeps([143,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,144]),import.meta.url),name:"unit-2-chapter-4-stem-challenge"},{path:"chapter-5",component:()=>E(()=>import("./Chapter-5-DIZSo03d.js"),__vite__mapDeps([145,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-5"},{path:"unit-2-chapter-5-lesson-1",component:()=>E(()=>import("./LessonOne-tRSgO8_r.js"),__vite__mapDeps([146,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,147]),import.meta.url),name:"unit-2-chapter-5-lesson-1"},{path:"unit-2-chapter-5-lesson-2",component:()=>E(()=>import("./LessonTwo-DKEdYM0t.js"),__vite__mapDeps([148,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,149]),import.meta.url),name:"unit-2-chapter-5-lesson-2"},{path:"chapter-5-technology",component:()=>E(()=>import("./TechnologyFocus-BpA8Tt2q.js"),__vite__mapDeps([150,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,151]),import.meta.url),name:"chapter-5-technology"},{path:"chapter-5-review",component:()=>E(()=>import("./ChapterReview-CcObbURq.js"),__vite__mapDeps([152,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,153]),import.meta.url),name:"chapter-5-review"},{path:"chapter-5-activity-8",component:()=>E(()=>import("./Activity-8-CoX67Y43.js"),__vite__mapDeps([154,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,155]),import.meta.url),name:"chapter-5-activity-8"},{path:"chapter-5-activity-9",component:()=>E(()=>import("./Activity-9-7jZvPR7O.js"),__vite__mapDeps([156,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,157]),import.meta.url),name:"chapter-5-activity-9"},{path:"chapter-5-test",component:()=>E(()=>import("./ChapterTest-DnPYerWc.js"),__vite__mapDeps([158,18,4,159]),import.meta.url),name:"chapter-5-test"},{path:"chapter-6",component:()=>E(()=>import("./Chapter-6-BR7QgX7A.js"),__vite__mapDeps([160,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-6"},{path:"unit-2-chapter-6-lesson-1",component:()=>E(()=>import("./LessonOne-D5I_84wE.js"),__vite__mapDeps([161,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,162]),import.meta.url),name:"unit-2-chapter-6-lesson-1"},{path:"unit-2-chapter-6-lesson-2",component:()=>E(()=>import("./LessonTwo-CE1qNK6G.js"),__vite__mapDeps([163,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,164]),import.meta.url),name:"unit-2-chapter-6-lesson-2"},{path:"chapter-6-technology",component:()=>E(()=>import("./TechnologyFocus-BMwt4Qaa.js"),__vite__mapDeps([165,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,166]),import.meta.url),name:"chapter-6-technology"},{path:"chapter-6-review",component:()=>E(()=>import("./ChapterReview-Om6uSe54.js"),__vite__mapDeps([167,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,168]),import.meta.url),name:"chapter-6-review"},{path:"chapter-6-activity-10",component:()=>E(()=>import("./Activity-10-CZddXtpF.js"),__vite__mapDeps([169,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,170]),import.meta.url),name:"chapter-6-activity-10"},{path:"chapter-6-test",component:()=>E(()=>import("./ChapterTest-B7Tjq8j9.js"),__vite__mapDeps([171,18,4,172]),import.meta.url),name:"chapter-6-test"},{path:"chapter-6-stem-challenge",component:()=>E(()=>import("./StemChallenge-B56dupxR.js"),__vite__mapDeps([173,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,174]),import.meta.url),name:"chapter-6-stem-challenge"},{path:"chapter-7",component:()=>E(()=>import("./Chapter-7-DpI0detR.js"),__vite__mapDeps([175,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-7"},{path:"unit-3-chapter-7-lesson-1",component:()=>E(()=>import("./LessonOne-CCsqPbvq.js"),__vite__mapDeps([176,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,177]),import.meta.url),name:"unit-3-chapter-7-lesson-1"},{path:"unit-3-chapter-7-lesson-2",component:()=>E(()=>import("./LessonTwo-CZmw64Ge.js"),__vite__mapDeps([178,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,179]),import.meta.url),name:"unit-3-chapter-7-lesson-2"},{path:"chapter-7-technology",component:()=>E(()=>import("./TechnologyFocus-D5PllXjY.js"),__vite__mapDeps([180,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,181]),import.meta.url),name:"chapter-7-technology"},{path:"chapter-7-review",component:()=>E(()=>import("./ChapterReview-CQBEzv3O.js"),__vite__mapDeps([182,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,183]),import.meta.url),name:"chapter-7-review"},{path:"chapter-7-activity-11",component:()=>E(()=>import("./Activity-11-CFRLTxOe.js"),__vite__mapDeps([184,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,185]),import.meta.url),name:"chapter-7-activity-11"},{path:"chapter-7-test",component:()=>E(()=>import("./ChapterTest-CdmLg8qY.js"),__vite__mapDeps([186,18,4,187]),import.meta.url),name:"chapter-7-test"},{path:"chapter-8",component:()=>E(()=>import("./Chapter-8-CLo7_pOX.js"),__vite__mapDeps([188,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-8"},{path:"unit-3-chapter-8-lesson-1",component:()=>E(()=>import("./LessonOne-3yQvJ4s3.js"),__vite__mapDeps([189,43,44,7,8,3,12,15,1,2,24,18,30,46,190,191,4,192]),import.meta.url),name:"unit-3-chapter-8-lesson-1"},{path:"unit-3-chapter-8-lesson-2",component:()=>E(()=>import("./LessonTwo-BRD5BlZI.js"),__vite__mapDeps([193,43,44,7,8,3,12,15,1,2,24,18,30,46,190,191,4,194]),import.meta.url),name:"unit-3-chapter-8-lesson-2"},{path:"chapter-8-technology",component:()=>E(()=>import("./TechnologyFocus-7NykmVqI.js"),__vite__mapDeps([195,43,44,7,8,3,12,15,1,2,24,18,30,46,190,191,4,196]),import.meta.url),name:"chapter-8-technology"},{path:"chapter-8-review",component:()=>E(()=>import("./ChapterReview-Cdg6_QOK.js"),__vite__mapDeps([197,43,44,7,8,3,12,15,1,2,24,18,30,46,190,191,4,198]),import.meta.url),name:"chapter-8-review"},{path:"chapter-8-activity-12",component:()=>E(()=>import("./Activity-12-IQMAMVuF.js"),__vite__mapDeps([199,43,44,7,8,3,12,15,1,2,24,18,30,46,190,191,4,200]),import.meta.url),name:"chapter-8-activity-12"},{path:"chapter-8-test",component:()=>E(()=>import("./ChapterTest-soE-4jzb.js"),__vite__mapDeps([201,18,4,202]),import.meta.url),name:"chapter-8-test"},{path:"chapter-8-stem-challenge",component:()=>E(()=>import("./StemChallenge-BIYAiLyc.js"),__vite__mapDeps([203,43,44,7,8,3,12,15,1,2,24,18,30,46,190,191,4,204]),import.meta.url),name:"chapter-8-stem-challenge"},{path:"chapter-9",component:()=>E(()=>import("./Chapter-9-DM9h3cKo.js"),__vite__mapDeps([205,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-9"},{path:"chapter-10",component:()=>E(()=>import("./Chapter-10-WusZr0Rk.js"),__vite__mapDeps([206,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-10"},{path:"unit-4-chapter-10-lesson-1",component:()=>E(()=>import("./LessonOne-DqKtC7DR.js"),__vite__mapDeps([207,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,208]),import.meta.url),name:"unit-4-chapter-10-lesson-1"},{path:"mini-lab-10-2",component:()=>E(()=>import("./MiniLab10-2-Bvjs7tZy.js"),__vite__mapDeps([209,6,7,8,3,15,1,2,21,18,4,210]),import.meta.url),name:"mini-lab-10-1"},{path:"mini-lab-10-3",component:()=>E(()=>import("./MiniLab10-3-Balf4hK-.js"),__vite__mapDeps([211,6,7,8,3,15,1,2,21,18,4,212]),import.meta.url),name:"mini-lab-10-3"},{path:"mini-test-10-2",component:()=>E(()=>import("./MiniTest10-2-C-fRJp-2.js"),__vite__mapDeps([213,6,7,8,3,15,1,2,18,4,214]),import.meta.url),name:"mini-test-10-2"},{path:"mini-test-10-3",component:()=>E(()=>import("./MiniTest10-3-DRWQkvvY.js"),__vite__mapDeps([215,6,7,8,3,15,1,2,21,18,4,216]),import.meta.url),name:"mini-test-10-3"},{path:"mini-test-10-4",component:()=>E(()=>import("./MiniTest10-4-BAEC7RhQ.js"),__vite__mapDeps([217,6,7,8,3,15,1,2,21,18,4,218]),import.meta.url),name:"mini-test-10-4"},{path:"mini-test-10-5",component:()=>E(()=>import("./MiniTest10-5-BB8MbuMS.js"),__vite__mapDeps([219,6,7,8,3,15,1,2,18,4,220]),import.meta.url),name:"mini-test-10-5"},{path:"unit-4-chapter-10-lesson-2",component:()=>E(()=>import("./LessonTwo-Bcl-LYPf.js"),__vite__mapDeps([221,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,222]),import.meta.url),name:"unit-4-chapter-10-lesson-2"},{path:"unit-4-chapter-10-lesson-3",component:()=>E(()=>import("./LessonThree-kQPE-gP6.js"),__vite__mapDeps([223,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,224]),import.meta.url),name:"unit-4-chapter-10-lesson-3"},{path:"chapter-10-technology",component:()=>E(()=>import("./TechnologyFocus-CLAbGmJT.js"),__vite__mapDeps([225,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,226]),import.meta.url),name:"chapter-10-technology"},{path:"chapter-10-review",component:()=>E(()=>import("./ChapterReview-BJFAGu2Y.js"),__vite__mapDeps([227,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,228]),import.meta.url),name:"chapter-10-review"},{path:"chapter-10-activity",component:()=>E(()=>import("./Activity-14-Cx-PDpiq.js"),__vite__mapDeps([229,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,230]),import.meta.url),name:"chapter-10-activity"},{path:"chapter-10-test",component:()=>E(()=>import("./ChapterTest-Fnt2_KaB.js"),__vite__mapDeps([231,18,4,232]),import.meta.url),name:"chapter-10-test"},{path:"chapter-10-stem",component:()=>E(()=>import("./StemChallenge-BtcuyzC6.js"),__vite__mapDeps([233,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,234]),import.meta.url),name:"chapter-10-stem"},{path:"chapter-11",component:()=>E(()=>import("./Chapter-11-T6IdDg_V.js"),__vite__mapDeps([235,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-11"},{path:"mini-test-11-1",component:()=>E(()=>import("./MiniTest11-1-DZppKLZD.js"),__vite__mapDeps([236,6,7,8,3,15,1,2,21,18,4,237]),import.meta.url),name:"mini-test-11-1"},{path:"mini-test-11-3",component:()=>E(()=>import("./MiniTest11-3-CXzdlavN.js"),__vite__mapDeps([238,6,7,8,3,15,1,2,21,18,4,239]),import.meta.url),name:"mini-test-11-3"},{path:"mini-test-11-4",component:()=>E(()=>import("./MiniTest11-4-BheXCxZj.js"),__vite__mapDeps([240,6,7,8,3,15,1,2,18,4,241]),import.meta.url),name:"mini-test-11-4"},{path:"unit-4-chapter-11-lesson-1",component:()=>E(()=>import("./LessonOne-BB6IfIdF.js"),__vite__mapDeps([242,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,243]),import.meta.url),name:"unit-4-chapter-11-lesson-1"},{path:"unit-4-chapter-11-lesson-2",component:()=>E(()=>import("./LessonTwo-6Tu1PCvy.js"),__vite__mapDeps([244,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,245]),import.meta.url),name:"unit-4-chapter-11-lesson-2"},{path:"chapter-11-technology",component:()=>E(()=>import("./TechnologyFocus-lsRVcdSu.js"),__vite__mapDeps([246,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,247]),import.meta.url),name:"chapter-11-technology"},{path:"chapter-11-review",component:()=>E(()=>import("./ChapterReview--3xon9bu.js"),__vite__mapDeps([248,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,249]),import.meta.url),name:"chapter-11-review"},{path:"chapter-11-activity-15",component:()=>E(()=>import("./Activity-15-Bw-W6Zq2.js"),__vite__mapDeps([250,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,251]),import.meta.url),name:"chapter-11-activity-15"},{path:"chapter-11-activity-16",component:()=>E(()=>import("./Activity-16-A0Ft-jno.js"),__vite__mapDeps([252,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,253]),import.meta.url),name:"chapter-11-activity-16"},{path:"chapter-11-test",component:()=>E(()=>import("./ChapterTest-BdRSQ5Fp.js"),__vite__mapDeps([254,18,4,255]),import.meta.url),name:"chapter-11-test"},{path:"chapter-11-stem",component:()=>E(()=>import("./StemChallenge-BhnM344v.js"),__vite__mapDeps([256,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,257]),import.meta.url),name:"chapter-11-stem"},{path:"chapter-12",component:()=>E(()=>import("./Chapter-12-WFwLa1FD.js"),__vite__mapDeps([258,7,8,3,13,14,15,18,4,19]),import.meta.url),name:"chapter-12"},{path:"mini-test-12-1",component:()=>E(()=>import("./MiniTest12-1-Ccs9n7Ip.js"),__vite__mapDeps([259,6,7,8,3,15,1,2,18,4,260]),import.meta.url),name:"mini-test-12-1"},{path:"mini-test-12-2",component:()=>E(()=>import("./MiniTest12-2-Bbf13XvY.js"),__vite__mapDeps([261,6,7,8,3,15,1,2,21,18,4,262]),import.meta.url),name:"mini-test-12-2"},{path:"unit-4-chapter-12-lesson-1",component:()=>E(()=>import("./LessonOne-CRjCa48z.js"),__vite__mapDeps([263,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,264]),import.meta.url),name:"unit-4-chapter-12-lesson-1"},{path:"unit-4-chapter-12-lesson-2",component:()=>E(()=>import("./LessonTwo-KXisqDq3.js"),__vite__mapDeps([265,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,266]),import.meta.url),name:"unit-4-chapter-12-lesson-2"},{path:"chapter-12-technology",component:()=>E(()=>import("./TechnologyFocus-BUk3qwVq.js"),__vite__mapDeps([267,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,268]),import.meta.url),name:"chapter-12-technology"},{path:"chapter-12-review",component:()=>E(()=>import("./ChapterReview-BOaLK-N2.js"),__vite__mapDeps([269,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,270]),import.meta.url),name:"chapter-12-review"},{path:"chapter-12-activity-17",component:()=>E(()=>import("./Activity-17-BvRt-kz2.js"),__vite__mapDeps([271,43,44,7,8,3,12,15,1,2,24,45,18,30,46,4,272]),import.meta.url),name:"chapter-12-activity-17"},{path:"chapter-12-test",component:()=>E(()=>import("./ChapterTest-ByTiAGzl.js"),__vite__mapDeps([273,18,4,274]),import.meta.url),name:"chapter-12-test"}]},{path:"/:catchAll(.*)*",component:()=>E(()=>import("./ErrorNotFound-BIS4efpI.js"),[],import.meta.url)}],Fr=Yh(function(){return Sh({scrollBehavior:()=>({left:0,top:0}),routes:Jh,history:th("")})});async function Zh(e,t){const n=e(Qh);n.use(xm,t),n.config.globalProperties.$q.capacitor=window.Capacitor;const o=ho(typeof Fr=="function"?await Fr({}):Fr);return{app:n,router:o}}function Xh(e,t,n){let o;function r(){o!==void 0&&(ai.remove(o),o=void 0)}return it(()=>{e.value===!0&&r()}),{removeFromHistory:r,addToHistory(){o={condition:()=>n.value===!0,handler:t},ai.add(o)}}}function qo(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;for(;Object(t)===t;){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function Du(e){return e.appContext.config.globalProperties.$router!==void 0}function qu(e){return e.isUnmounted===!0||e.isDeactivated===!0}function ep(){let e=null;const t=ke();function n(){e!==null&&(clearTimeout(e),e=null)}return go(n),it(n),{removeTimeout:n,registerTimeout(o,r){n(),qu(t)===!1&&(e=setTimeout(()=>{e=null,o()},r))}}}function tp(){let e;const t=ke();function n(){e=void 0}return go(n),it(n),{removeTick:n,registerTick(o){e=o,Qe(()=>{e===o&&(qu(t)===!1&&e(),e=void 0)})}}}const np={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},op=["beforeShow","show","beforeHide","hide"];function rp({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:r,processOnMount:i}){const s=ke(),{props:l,emit:a,proxy:c}=s;let u;function f(b){e.value===!0?g(b):d(b)}function d(b){if(l.disable===!0||b?.qAnchorHandled===!0||t!==void 0&&t(b)!==!0)return;const L=l["onUpdate:modelValue"]!==void 0;L===!0&&(a("update:modelValue",!0),u=b,Qe(()=>{u===b&&(u=void 0)})),(l.modelValue===null||L===!1)&&h(b)}function h(b){e.value!==!0&&(e.value=!0,a("beforeShow",b),o!==void 0?o(b):a("show",b))}function g(b){if(l.disable===!0)return;const L=l["onUpdate:modelValue"]!==void 0;L===!0&&(a("update:modelValue",!1),u=b,Qe(()=>{u===b&&(u=void 0)})),(l.modelValue===null||L===!1)&&w(b)}function w(b){e.value!==!1&&(e.value=!1,a("beforeHide",b),r!==void 0?r(b):a("hide",b))}function k(b){l.disable===!0&&b===!0?l["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!1):b===!0!==e.value&&(b===!0?h:w)(u)}ye(()=>l.modelValue,k),n!==void 0&&Du(s)===!0&&ye(()=>c.$route.fullPath,()=>{n.value===!0&&e.value===!0&&g()}),i===!0&&Ot(()=>{k(l.modelValue)});const M={show:d,hide:g,toggle:f};return Object.assign(c,M),M}const ip={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function sp(e,t=()=>{},n=()=>{}){return{transitionProps:R(()=>{const o=`q-transition--${e.transitionShow||t()}`,r=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:R(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let tn=[],mo=[];function $u(e){mo=mo.filter(t=>t!==e)}function lp(e){$u(e),mo.push(e)}function hl(e){$u(e),mo.length===0&&tn.length!==0&&(tn[tn.length-1](),tn=[])}function Wi(e){mo.length===0?e():tn.push(e)}function ap(e){tn=tn.filter(t=>t!==e)}const $o=[];function nv(e){return $o.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function up(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return qo(e)}else if(e.__qPortal===!0){const n=qo(e);return n?.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=qo(e)}while(e!=null)}function ov(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=up(e,t);continue}e.hide(t)}e=qo(e)}}const cp=Ae({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function fp(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function dp(e,t,n,o){const r=fe(!1),i=fe(!1);let s=null;const l={},a=o==="dialog"&&fp(e);function c(f){if(f===!0){hl(l),i.value=!0;return}i.value=!1,r.value===!1&&(a===!1&&s===null&&(s=gr(!1,o)),r.value=!0,$o.push(e.proxy),lp(l))}function u(f){if(i.value=!1,f!==!0)return;hl(l),r.value=!1;const d=$o.indexOf(e.proxy);d!==-1&&$o.splice(d,1),s!==null&&(Ui(s),s=null)}return cr(()=>{u(!0)}),e.proxy.__qPortal=!0,On(e.proxy,"contentEl",()=>t.value),{showPortal:c,hidePortal:u,portalIsActive:r,portalIsAccessible:i,renderPortal:()=>a===!0?n():r.value===!0?[T(tf,{to:s},T(cp,n))]:void 0}}function mp(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,gi(t))}}}function at(e,t){return e!==void 0&&e()||t}function rv(e,t){if(e!==void 0){const n=e();if(n!=null)return n.slice()}return t}function nn(e,t){return e!==void 0?t.concat(e()):t}function hp(e,t){return e===void 0?t:t!==void 0?t.concat(e()):e()}function iv(e,t,n,o,r,i){t.key=o+r;const s=T(e,t,n);return r===!0?pa(s,i()):s}const ln=[];let An;function pp(e){An=e.keyCode===27}function gp(){An===!0&&(An=!1)}function vp(e){An===!0&&(An=!1,uo(e,27)===!0&&ln[ln.length-1](e))}function Bu(e){window[e]("keydown",pp),window[e]("blur",gp),window[e]("keyup",vp),An=!1}function _p(e){Te.is.desktop===!0&&(ln.push(e),ln.length===1&&Bu("addEventListener"))}function pl(e){const t=ln.indexOf(e);t!==-1&&(ln.splice(t,1),ln.length===0&&Bu("removeEventListener"))}const an=[];function Fu(e){an[an.length-1](e)}function bp(e){Te.is.desktop===!0&&(an.push(e),an.length===1&&document.body.addEventListener("focusin",Fu))}function gl(e){const t=an.indexOf(e);t!==-1&&(an.splice(t,1),an.length===0&&document.body.removeEventListener("focusin",Fu))}let Po=0;const yp={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},vl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},wp=Ae({name:"QDialog",inheritAttrs:!1,props:{...np,...ip,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...op,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){const r=ke(),i=fe(null),s=fe(!1),l=fe(!1);let a=null,c=null,u,f;const d=R(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:h}=mp(),{registerTimeout:g}=ep(),{registerTick:w,removeTick:k}=tp(),{transitionProps:M,transitionStyle:b}=sp(e,()=>vl[e.position][0],()=>vl[e.position][1]),L=R(()=>b.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:A,hidePortal:$,portalIsAccessible:j,renderPortal:z}=dp(r,i,Le,"dialog"),{hide:N}=rp({showing:s,hideOnRouteChange:d,handleShow:K,handleHide:X,processOnMount:!0}),{addToHistory:F,removeFromHistory:x}=Xh(s,N,d),C=R(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${yp[e.position]}`+(l.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),v=R(()=>s.value===!0&&e.seamless!==!0),P=R(()=>e.autoClose===!0?{onClick:q}:{}),S=R(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${v.value===!0?"modal":"seamless"}`,o.class]);ye(()=>e.maximized,te=>{s.value===!0&&le(te)}),ye(v,te=>{h(te),te===!0?(bp(Ee),_p(oe)):(gl(Ee),pl(oe))});function K(te){F(),c=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,le(e.maximized),A(),l.value=!0,e.noFocus!==!0?(document.activeElement?.blur(),w(U)):k(),g(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:y,bottom:Q}=document.activeElement.getBoundingClientRect(),{innerHeight:G}=window,Z=window.visualViewport!==void 0?window.visualViewport.height:G;y>0&&Q>Z/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Z,Q>=G?1/0:Math.ceil(document.scrollingElement.scrollTop+Q-Z/2))),document.activeElement.scrollIntoView()}f=!0,i.value.click(),f=!1}A(!0),l.value=!1,n("show",te)},e.transitionDuration)}function X(te){k(),x(),xe(!0),l.value=!0,$(),c!==null&&(((te?.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),g(()=>{$(!0),l.value=!1,n("hide",te)},e.transitionDuration)}function U(te){Wi(()=>{let y=i.value;if(y!==null){if(te!==void 0){const Q=y.querySelector(te);if(Q!==null){Q.focus({preventScroll:!0});return}}y.contains(document.activeElement)!==!0&&(y=y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))}})}function O(te){te&&typeof te.focus=="function"?te.focus({preventScroll:!0}):U(),n("shake");const y=i.value;y!==null&&(y.classList.remove("q-animate--scale"),y.classList.add("q-animate--scale"),a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,i.value!==null&&(y.classList.remove("q-animate--scale"),U())},170))}function oe(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&O():(n("escapeKey"),N()))}function xe(te){a!==null&&(clearTimeout(a),a=null),(te===!0||s.value===!0)&&(le(!1),e.seamless!==!0&&(h(!1),gl(Ee),pl(oe))),te!==!0&&(c=null)}function le(te){te===!0?u!==!0&&(Po<1&&document.body.classList.add("q-body--dialog"),Po++,u=!0):u===!0&&(Po<2&&document.body.classList.remove("q-body--dialog"),Po--,u=!1)}function q(te){f!==!0&&(N(te),n("click",te))}function ue(te){e.persistent!==!0&&e.noBackdropDismiss!==!0?N(te):e.noShake!==!0&&O()}function Ee(te){e.allowFocusOutside!==!0&&j.value===!0&&Oh(i.value,te.target)!==!0&&U('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:U,shake:O,__updateRefocusTarget(te){c=te||null}}),it(xe);function Le(){return T("div",{role:"dialog","aria-modal":v.value===!0?"true":"false",...o,class:S.value},[T(ao,{name:"q-transition--fade",appear:!0},()=>v.value===!0?T("div",{class:"q-dialog__backdrop fixed-full",style:L.value,"aria-hidden":"true",tabindex:-1,onClick:ue}):null),T(ao,M.value,()=>s.value===!0?T("div",{ref:i,class:C.value,style:b.value,tabindex:-1,...P.value},at(t.default)):null)])}return z}}),_l="0 0 24 24",jr=e=>e,Nr=e=>`ionicons ${e}`,ju={"mdi-":e=>`mdi ${e}`,"icon-":jr,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":Nr,"ion-ios":Nr,"ion-logo":Nr,"iconfont ":jr,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`,"i-":jr},Nu={o_:"-outlined",r_:"-round",s_:"-sharp"},Hu={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},Ep=new RegExp("^("+Object.keys(ju).join("|")+")"),xp=new RegExp("^("+Object.keys(Nu).join("|")+")"),bl=new RegExp("^("+Object.keys(Hu).join("|")+")"),Cp=/^[Mm]\s?[-+]?\.?\d/,kp=/^img:/,Sp=/^svguse:/,Tp=/^ion-/,Pp=/^(fa-(classic|sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,At=Ae({name:"QIcon",props:{...bo,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ke(),o=yo(e),r=R(()=>"q-icon"+(e.left===!0?" on-left":"")+(e.right===!0?" on-right":"")+(e.color!==void 0?` text-${e.color}`:"")),i=R(()=>{let s,l=e.name;if(l==="none"||!l)return{none:!0};if(n.iconMapFn!==null){const u=n.iconMapFn(l);if(u!==void 0)if(u.icon!==void 0){if(l=u.icon,l==="none"||!l)return{none:!0}}else return{cls:u.cls,content:u.content!==void 0?u.content:" "}}if(Cp.test(l)===!0){const[u,f=_l]=l.split("|");return{svg:!0,viewBox:f,nodes:u.split("&&").map(d=>{const[h,g,w]=d.split("@@");return T("path",{style:g,d:h,transform:w})})}}if(kp.test(l)===!0)return{img:!0,src:l.substring(4)};if(Sp.test(l)===!0){const[u,f=_l]=l.split("|");return{svguse:!0,src:u.substring(7),viewBox:f}}let a=" ";const c=l.match(Ep);if(c!==null)s=ju[c[1]](l);else if(Pp.test(l)===!0)s=l;else if(Tp.test(l)===!0)s=`ionicons ion-${n.platform.is.ios===!0?"ios":"md"}${l.substring(3)}`;else if(bl.test(l)===!0){s="notranslate material-symbols";const u=l.match(bl);u!==null&&(l=l.substring(6),s+=Hu[u[1]]),a=l}else{s="notranslate material-icons";const u=l.match(xp);u!==null&&(l=l.substring(2),s+=Nu[u[1]]),a=l}return{cls:s,content:a}});return()=>{const s={class:r.value,style:o.value,"aria-hidden":"true"};return i.value.none===!0?T(e.tag,s,at(t.default)):i.value.img===!0?T(e.tag,s,nn(t.default,[T("img",{src:i.value.src})])):i.value.svg===!0?T(e.tag,s,nn(t.default,[T("svg",{viewBox:i.value.viewBox||"0 0 24 24"},i.value.nodes)])):i.value.svguse===!0?T(e.tag,s,nn(t.default,[T("svg",{viewBox:i.value.viewBox},[T("use",{"xlink:href":i.value.src})])])):(i.value.cls!==void 0&&(s.class+=" "+i.value.cls),T(e.tag,s,nn(t.default,[i.value.content])))}}});function Rp(e,t=250){let n=!1,o;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},t),o=e.apply(this,arguments)),o}}function yl(e,t,n,o){n.modifiers.stop===!0&&Zo(e);const r=n.modifiers.color;let i=n.modifiers.center;i=i===!0||o===!0;const s=document.createElement("span"),l=document.createElement("span"),a=tm(e),{left:c,top:u,width:f,height:d}=t.getBoundingClientRect(),h=Math.sqrt(f*f+d*d),g=h/2,w=`${(f-h)/2}px`,k=i?w:`${a.left-c-g}px`,M=`${(d-h)/2}px`,b=i?M:`${a.top-u-g}px`;l.className="q-ripple__inner",mi(l,{height:`${h}px`,width:`${h}px`,transform:`translate3d(${k},${b},0) scale3d(.2,.2,1)`,opacity:0}),s.className=`q-ripple${r?" text-"+r:""}`,s.setAttribute("dir","ltr"),s.appendChild(l),t.appendChild(s);const L=()=>{s.remove(),clearTimeout(A)};n.abort.push(L);let A=setTimeout(()=>{l.classList.add("q-ripple__inner--enter"),l.style.transform=`translate3d(${w},${M},0) scale3d(1,1,1)`,l.style.opacity=.2,A=setTimeout(()=>{l.classList.remove("q-ripple__inner--enter"),l.classList.add("q-ripple__inner--leave"),l.style.opacity=0,A=setTimeout(()=>{s.remove(),n.abort.splice(n.abort.indexOf(L),1)},275)},250)},50)}function wl(e,{modifiers:t,value:n,arg:o}){const r=Object.assign({},e.cfg.ripple,t,n);e.modifiers={early:r.early===!0,stop:r.stop===!0,center:r.center===!0,color:r.color||o,keyCodes:[].concat(r.keyCodes||13)}}const Ap=em({name:"ripple",beforeMount(e,t){const n=t.instance.$.appContext.config.globalProperties.$q.config||{};if(n.ripple===!1)return;const o={cfg:n,enabled:t.value!==!1,modifiers:{},abort:[],start(r){o.enabled===!0&&r.qSkipRipple!==!0&&r.type===(o.modifiers.early===!0?"pointerdown":"click")&&yl(r,e,o,r.qKeyEvent===!0)},keystart:Rp(r=>{o.enabled===!0&&r.qSkipRipple!==!0&&uo(r,o.modifiers.keyCodes)===!0&&r.type===`key${o.modifiers.early===!0?"down":"up"}`&&yl(r,e,o,!0)},300)};wl(o,t),e.__qripple=o,om(o,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n!==void 0&&(n.enabled=t.value!==!1,n.enabled===!0&&Object(t.value)===t.value&&wl(n,t))}},beforeUnmount(e){const t=e.__qripple;t!==void 0&&(t.abort.forEach(n=>{n()}),rm(t,"main"),delete e._qripple)}}),zu={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},Lp=Object.keys(zu),Ku={align:{type:String,validator:e=>Lp.includes(e)}};function Uu(e){return R(()=>{const t=e.align===void 0?e.vertical===!0?"stretch":"left":e.align;return`${e.vertical===!0?"items":"justify"}-${zu[t]}`})}function El(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function xl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Op(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(Array.isArray(r)===!1||r.length!==o.length||o.some((i,s)=>i!==r[s]))return!1}return!0}function Cl(e,t){return Array.isArray(t)===!0?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Mp(e,t){return Array.isArray(e)===!0?Cl(e,t):Array.isArray(t)===!0?Cl(t,e):e===t}function Ip(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(Mp(e[n],t[n])===!1)return!1;return!0}const Wu={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},sv={...Wu,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function Vp({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const n=ke(),{props:o,proxy:r,emit:i}=n,s=Du(n),l=R(()=>o.disable!==!0&&o.href!==void 0),a=R(t===!0?()=>s===!0&&o.disable!==!0&&l.value!==!0&&o.to!==void 0&&o.to!==null&&o.to!=="":()=>s===!0&&l.value!==!0&&o.to!==void 0&&o.to!==null&&o.to!==""),c=R(()=>a.value===!0?b(o.to):null),u=R(()=>c.value!==null),f=R(()=>l.value===!0||u.value===!0),d=R(()=>o.type==="a"||f.value===!0?"a":o.tag||e||"div"),h=R(()=>l.value===!0?{href:o.href,target:o.target}:u.value===!0?{href:c.value.href,target:o.target}:{}),g=R(()=>{if(u.value===!1)return-1;const{matched:$}=c.value,{length:j}=$,z=$[j-1];if(z===void 0)return-1;const N=r.$route.matched;if(N.length===0)return-1;const F=N.findIndex(xl.bind(null,z));if(F!==-1)return F;const x=El($[j-2]);return j>1&&El(z)===x&&N[N.length-1].path!==x?N.findIndex(xl.bind(null,$[j-2])):F}),w=R(()=>u.value===!0&&g.value!==-1&&Op(r.$route.params,c.value.params)),k=R(()=>w.value===!0&&g.value===r.$route.matched.length-1&&Ip(r.$route.params,c.value.params)),M=R(()=>u.value===!0?k.value===!0?` ${o.exactActiveClass} ${o.activeClass}`:o.exact===!0?"":w.value===!0?` ${o.activeClass}`:"":"");function b($){try{return r.$router.resolve($)}catch{}return null}function L($,{returnRouterError:j,to:z=o.to,replace:N=o.replace}={}){if(o.disable===!0)return $.preventDefault(),Promise.resolve(!1);if($.metaKey||$.altKey||$.ctrlKey||$.shiftKey||$.button!==void 0&&$.button!==0||o.target==="_blank")return Promise.resolve(!1);$.preventDefault();const F=r.$router[N===!0?"replace":"push"](z);return j===!0?F:F.then(()=>{}).catch(()=>{})}function A($){if(u.value===!0){const j=z=>L($,z);i("click",$,j),$.defaultPrevented!==!0&&j()}else i("click",$)}return{hasRouterLink:u,hasHrefLink:l,hasLink:f,linkTag:d,resolvedLink:c,linkIsActive:w,linkIsExactActive:k,linkClass:M,linkAttrs:h,getLink:b,navigateToRouterLink:L,navigateOnClick:A}}const kl={none:0,xs:4,sm:8,md:16,lg:24,xl:32},Dp={xs:8,sm:10,md:14,lg:20,xl:24},qp=["button","submit","reset"],$p=/[^\s]\/[^\s]/,Bp=["flat","outline","push","unelevated"];function Qu(e,t){return e.flat===!0?"flat":e.outline===!0?"outline":e.push===!0?"push":e.unelevated===!0?"unelevated":t}function lv(e){const t=Qu(e);return t!==void 0?{[t]:!0}:{}}const Fp={...bo,...Wu,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...Bp.reduce((e,t)=>(e[t]=Boolean)&&e,{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...Ku.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},jp={...Fp,round:Boolean};function Np(e){const t=yo(e,Dp),n=Uu(e),{hasRouterLink:o,hasLink:r,linkTag:i,linkAttrs:s,navigateOnClick:l}=Vp({fallbackTag:"button"}),a=R(()=>{const k=e.fab===!1&&e.fabMini===!1?t.value:{};return e.padding!==void 0?Object.assign({},k,{padding:e.padding.split(/\s+/).map(M=>M in kl?kl[M]+"px":M).join(" "),minWidth:"0",minHeight:"0"}):k}),c=R(()=>e.rounded===!0||e.fab===!0||e.fabMini===!0),u=R(()=>e.disable!==!0&&e.loading!==!0),f=R(()=>u.value===!0?e.tabindex||0:-1),d=R(()=>Qu(e,"standard")),h=R(()=>{const k={tabindex:f.value};return r.value===!0?Object.assign(k,s.value):qp.includes(e.type)===!0&&(k.type=e.type),i.value==="a"?(e.disable===!0?k["aria-disabled"]="true":k.href===void 0&&(k.role="button"),o.value!==!0&&$p.test(e.type)===!0&&(k.type=e.type)):e.disable===!0&&(k.disabled="",k["aria-disabled"]="true"),e.loading===!0&&e.percentage!==void 0&&Object.assign(k,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),k}),g=R(()=>{let k;e.color!==void 0?e.flat===!0||e.outline===!0?k=`text-${e.textColor||e.color}`:k=`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(k=`text-${e.textColor}`);const M=e.round===!0?"round":`rectangle${c.value===!0?" q-btn--rounded":e.square===!0?" q-btn--square":""}`;return`q-btn--${d.value} q-btn--${M}`+(k!==void 0?" "+k:"")+(u.value===!0?" q-btn--actionable q-focusable q-hoverable":e.disable===!0?" disabled":"")+(e.fab===!0?" q-btn--fab":e.fabMini===!0?" q-btn--fab-mini":"")+(e.noCaps===!0?" q-btn--no-uppercase":"")+(e.dense===!0?" q-btn--dense":"")+(e.stretch===!0?" no-border-radius self-stretch":"")+(e.glossy===!0?" glossy":"")+(e.square?" q-btn--square":"")}),w=R(()=>n.value+(e.stack===!0?" column":" row")+(e.noWrap===!0?" no-wrap text-no-wrap":"")+(e.loading===!0?" q-btn__content--hidden":""));return{classes:g,style:a,innerClasses:w,attributes:h,hasLink:r,linkTag:i,navigateOnClick:l,isActionable:u}}const{passiveCapture:tt}=Ue;let pn=null,gn=null,vn=null;const _i=Ae({name:"QBtn",props:{...jp,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:o}=ke(),{classes:r,style:i,innerClasses:s,attributes:l,hasLink:a,linkTag:c,navigateOnClick:u,isActionable:f}=Np(e),d=fe(null),h=fe(null);let g=null,w,k=null;const M=R(()=>e.label!==void 0&&e.label!==null&&e.label!==""),b=R(()=>e.disable===!0||e.ripple===!1?!1:{keyCodes:a.value===!0?[13,32]:[13],...e.ripple===!0?{}:e.ripple}),L=R(()=>({center:e.round})),A=R(()=>{const S=Math.max(0,Math.min(100,e.percentage));return S>0?{transition:"transform 0.6s",transform:`translateX(${S-100}%)`}:{}}),$=R(()=>{if(e.loading===!0)return{onMousedown:P,onTouchstart:P,onClick:P,onKeydown:P,onKeyup:P};if(f.value===!0){const S={onClick:z,onKeydown:N,onMousedown:x};if(o.$q.platform.has.touch===!0){const K=e.onTouchstart!==void 0?"":"Passive";S[`onTouchstart${K}`]=F}return S}return{onClick:nt}}),j=R(()=>({ref:d,class:"q-btn q-btn-item non-selectable no-outline "+r.value,style:i.value,...l.value,...$.value}));function z(S){if(d.value!==null){if(S!==void 0){if(S.defaultPrevented===!0)return;const K=document.activeElement;if(e.type==="submit"&&K!==document.body&&d.value.contains(K)===!1&&K.contains(d.value)===!1){S.qAvoidFocus!==!0&&d.value.focus();const X=()=>{document.removeEventListener("keydown",nt,!0),document.removeEventListener("keyup",X,tt),d.value?.removeEventListener("blur",X,tt)};document.addEventListener("keydown",nt,!0),document.addEventListener("keyup",X,tt),d.value.addEventListener("blur",X,tt)}}u(S)}}function N(S){d.value!==null&&(n("keydown",S),uo(S,[13,32])===!0&&gn!==d.value&&(gn!==null&&v(),S.defaultPrevented!==!0&&(S.qAvoidFocus!==!0&&d.value.focus(),gn=d.value,d.value.classList.add("q-btn--active"),document.addEventListener("keyup",C,!0),d.value.addEventListener("blur",C,tt)),nt(S)))}function F(S){d.value!==null&&(n("touchstart",S),S.defaultPrevented!==!0&&(pn!==d.value&&(pn!==null&&v(),pn=d.value,g=S.target,g.addEventListener("touchcancel",C,tt),g.addEventListener("touchend",C,tt)),w=!0,k!==null&&clearTimeout(k),k=setTimeout(()=>{k=null,w=!1},200)))}function x(S){d.value!==null&&(S.qSkipRipple=w===!0,n("mousedown",S),S.defaultPrevented!==!0&&vn!==d.value&&(vn!==null&&v(),vn=d.value,d.value.classList.add("q-btn--active"),document.addEventListener("mouseup",C,tt)))}function C(S){if(d.value!==null&&!(S?.type==="blur"&&document.activeElement===d.value)){if(S?.type==="keyup"){if(gn===d.value&&uo(S,[13,32])===!0){const K=new MouseEvent("click",S);K.qKeyEvent=!0,S.defaultPrevented===!0&&jt(K),S.cancelBubble===!0&&Zo(K),d.value.dispatchEvent(K),nt(S),S.qKeyEvent=!0}n("keyup",S)}v()}}function v(S){const K=h.value;S!==!0&&(pn===d.value||vn===d.value)&&K!==null&&K!==document.activeElement&&(K.setAttribute("tabindex",-1),K.focus()),pn===d.value&&(g!==null&&(g.removeEventListener("touchcancel",C,tt),g.removeEventListener("touchend",C,tt)),pn=g=null),vn===d.value&&(document.removeEventListener("mouseup",C,tt),vn=null),gn===d.value&&(document.removeEventListener("keyup",C,!0),d.value?.removeEventListener("blur",C,tt),gn=null),d.value?.classList.remove("q-btn--active")}function P(S){nt(S),S.qSkipRipple=!0}return it(()=>{v(!0)}),Object.assign(o,{click:S=>{f.value===!0&&z(S)}}),()=>{let S=[];e.icon!==void 0&&S.push(T(At,{name:e.icon,left:e.stack!==!0&&M.value===!0,role:"img"})),M.value===!0&&S.push(T("span",{class:"block"},[e.label])),S=nn(t.default,S),e.iconRight!==void 0&&e.round===!1&&S.push(T(At,{name:e.iconRight,right:e.stack!==!0&&M.value===!0,role:"img"}));const K=[T("span",{class:"q-focus-helper",ref:h})];return e.loading===!0&&e.percentage!==void 0&&K.push(T("span",{class:"q-btn__progress absolute-full overflow-hidden"+(e.darkPercentage===!0?" q-btn__progress--dark":"")},[T("span",{class:"q-btn__progress-indicator fit block",style:A.value})])),K.push(T("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+s.value},S)),e.loading!==null&&K.push(T(ao,{name:"q-transition--fade"},()=>e.loading===!0?[T("span",{key:"loading",class:"absolute-full flex flex-center"},t.loading!==void 0?t.loading():[T(Rn)])]:null)),pa(T(c.value,j.value,K),[[Ap,b.value,void 0,L.value]])}}}),fn={dark:{type:Boolean,default:null}};function dn(e,t){return R(()=>e.dark===null?t.dark.isActive:e.dark)}const Hp=Ae({name:"QCard",props:{...fn,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=ke(),o=dn(e,n),r=R(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>T(e.tag,{class:r.value},at(t.default))}}),Fn=Ae({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=R(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>T(e.tag,{class:n.value},at(t.default))}}),zp=Ae({name:"QCardActions",props:{...Ku,vertical:Boolean},setup(e,{slots:t}){const n=Uu(e),o=R(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>T("div",{class:o.value},at(t.default))}}),Kp={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Hr={xs:2,sm:4,md:8,lg:16,xl:24},Sl=Ae({name:"QSeparator",props:{...fn,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ke(),n=dn(e,t.proxy.$q),o=R(()=>e.vertical===!0?"vertical":"horizontal"),r=R(()=>` q-separator--${o.value}`),i=R(()=>e.inset!==!1?`${r.value}-${Kp[e.inset]}`:""),s=R(()=>`q-separator${r.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),l=R(()=>{const a={};if(e.size!==void 0&&(a[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const c=e.spaced===!0?`${Hr.md}px`:e.spaced in Hr?`${Hr[e.spaced]}px`:e.spaced,u=e.vertical===!0?["Left","Right"]:["Top","Bottom"];a[`margin${u[0]}`]=a[`margin${u[1]}`]=c}return a});return()=>T("hr",{class:s.value,style:l.value,"aria-orientation":o.value})}});let zr,Ro=0;const Oe=new Array(256);for(let e=0;e<256;e++)Oe[e]=(e+256).toString(16).substring(1);const Up=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),Tl=4096;function bi(){(zr===void 0||Ro+16>Tl)&&(Ro=0,zr=Up(Tl));const e=Array.prototype.slice.call(zr,Ro,Ro+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Oe[e[0]]+Oe[e[1]]+Oe[e[2]]+Oe[e[3]]+"-"+Oe[e[4]]+Oe[e[5]]+"-"+Oe[e[6]]+Oe[e[7]]+"-"+Oe[e[8]]+Oe[e[9]]+"-"+Oe[e[10]]+Oe[e[11]]+Oe[e[12]]+Oe[e[13]]+Oe[e[14]]+Oe[e[15]]}function Wp(e){return e??null}function Pl(e,t){return e??(t===!0?`f_${bi()}`:null)}function Qp({getValue:e,required:t=!0}={}){if(Kt.value===!0){const n=fe(e!==void 0?Wp(e()):null);return t===!0&&n.value===null&&Ot(()=>{n.value=`f_${bi()}`}),e!==void 0&&ye(e,o=>{n.value=Pl(o,t)}),n}return e!==void 0?R(()=>Pl(e(),t)):fe(`f_${bi()}`)}const Rl=/^on[A-Z]/;function Gp(){const{attrs:e,vnode:t}=ke(),n={listeners:fe({}),attributes:fe({})};function o(){const r={},i={};for(const s in e)s!=="class"&&s!=="style"&&Rl.test(s)===!1&&(r[s]=e[s]);for(const s in t.props)Rl.test(s)===!0&&(i[s]=t.props[s]);n.attributes.value=r,n.listeners.value=i}return Ta(o),o(),n}function Yp({validate:e,resetValidation:t,requiresQForm:n}){const o=Ze(vm,!1);if(o!==!1){const{props:r,proxy:i}=ke();Object.assign(i,{validate:e,resetValidation:t}),ye(()=>r.disable,s=>{s===!0?(typeof t=="function"&&t(),o.unbindComponent(i)):o.bindComponent(i)}),Ot(()=>{r.disable!==!0&&o.bindComponent(i)}),it(()=>{r.disable!==!0&&o.unbindComponent(i)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Al=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Ll=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ol=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ao=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Lo=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Kr={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Al.test(e),hexaColor:e=>Ll.test(e),hexOrHexaColor:e=>Ol.test(e),rgbColor:e=>Ao.test(e),rgbaColor:e=>Lo.test(e),rgbOrRgbaColor:e=>Ao.test(e)||Lo.test(e),hexOrRgbColor:e=>Al.test(e)||Ao.test(e),hexaOrRgbaColor:e=>Ll.test(e)||Lo.test(e),anyColor:e=>Ol.test(e)||Ao.test(e)||Lo.test(e)},Jp=[!0,!1,"ondemand"],Zp={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Jp.includes(e)}};function Xp(e,t){const{props:n,proxy:o}=ke(),r=fe(!1),i=fe(null),s=fe(!1);Yp({validate:w,resetValidation:g});let l=0,a;const c=R(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),u=R(()=>n.disable!==!0&&c.value===!0&&t.value===!1),f=R(()=>n.error===!0||r.value===!0),d=R(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:i.value);ye(()=>n.modelValue,()=>{s.value=!0,u.value===!0&&n.lazyRules===!1&&k()});function h(){n.lazyRules!=="ondemand"&&u.value===!0&&s.value===!0&&k()}ye(()=>n.reactiveRules,M=>{M===!0?a===void 0&&(a=ye(()=>n.rules,h,{immediate:!0,deep:!0})):a!==void 0&&(a(),a=void 0)},{immediate:!0}),ye(()=>n.lazyRules,h),ye(e,M=>{M===!0?s.value=!0:u.value===!0&&n.lazyRules!=="ondemand"&&k()});function g(){l++,t.value=!1,s.value=!1,r.value=!1,i.value=null,k.cancel()}function w(M=n.modelValue){if(n.disable===!0||c.value===!1)return!0;const b=++l,L=t.value!==!0?()=>{s.value=!0}:()=>{},A=(j,z)=>{j===!0&&L(),r.value=j,i.value=z||null,t.value=!1},$=[];for(let j=0;j<n.rules.length;j++){const z=n.rules[j];let N;if(typeof z=="function"?N=z(M,Kr):typeof z=="string"&&Kr[z]!==void 0&&(N=Kr[z](M)),N===!1||typeof N=="string")return A(!0,N),!1;N!==!0&&N!==void 0&&$.push(N)}return $.length===0?(A(!1),!0):(t.value=!0,Promise.all($).then(j=>{if(j===void 0||Array.isArray(j)===!1||j.length===0)return b===l&&A(!1),!0;const z=j.find(N=>N===!1||typeof N=="string");return b===l&&A(z!==void 0,z),z===void 0},j=>(b===l&&(console.error(j),A(!0)),!1)))}const k=au(w,0);return it(()=>{a?.(),k.cancel()}),Object.assign(o,{resetValidation:g,validate:w}),On(o,"hasError",()=>f.value),{isDirtyModel:s,hasRules:c,hasError:f,errorMessage:d,validate:w,resetValidation:g}}function yi(e){return e!=null&&(""+e).length!==0}const eg={...fn,...Zp,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},tg={...eg,maxlength:[Number,String]},ng=["update:modelValue","clear","focus","blur"];function og({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:o,proxy:r}=ke(),i=dn(o,r.$q),s=Qp({required:e,getValue:()=>o.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?R(()=>o.tag):{value:"label"},isDark:i,editable:R(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:fe(!1),focused:fe(!1),hasPopupOpen:!1,splitAttrs:Gp(),targetUid:s,rootRef:fe(null),targetRef:fe(null),controlRef:fe(null)}}function rg(e){const{props:t,emit:n,slots:o,attrs:r,proxy:i}=ke(),{$q:s}=i;let l=null;e.hasValue===void 0&&(e.hasValue=R(()=>yi(t.modelValue))),e.emitValue===void 0&&(e.emitValue=O=>{n("update:modelValue",O)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:F,onFocusout:x}),Object.assign(e,{clearValue:C,onControlFocusin:F,onControlFocusout:x,focus:z}),e.computedCounter===void 0&&(e.computedCounter=R(()=>{if(t.counter!==!1){const O=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,oe=t.maxlength!==void 0?t.maxlength:t.maxValues;return O+(oe!==void 0?" / "+oe:"")}}));const{isDirtyModel:a,hasRules:c,hasError:u,errorMessage:f,resetValidation:d}=Xp(e.focused,e.innerLoading),h=e.floatingLabel!==void 0?R(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):R(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),g=R(()=>t.bottomSlots===!0||t.hint!==void 0||c.value===!0||t.counter===!0||t.error!==null),w=R(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),k=R(()=>`q-field row no-wrap items-start q-field--${w.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(h.value===!0?" q-field--float":"")+(b.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(u.value===!0?" q-field--error":"")+(u.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&g.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),M=R(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(u.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),b=R(()=>t.labelSlot===!0||t.label!==void 0),L=R(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&u.value!==!0?` text-${t.labelColor}`:"")),A=R(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:h.value,modelValue:t.modelValue,emitValue:e.emitValue})),$=R(()=>{const O={};return e.targetUid.value&&(O.for=e.targetUid.value),t.disable===!0&&(O["aria-disabled"]="true"),O});function j(){const O=document.activeElement;let oe=e.targetRef?.value;oe&&(O===null||O.id!==e.targetUid.value)&&(oe.hasAttribute("tabindex")===!0||(oe=oe.querySelector("[tabindex]")),oe!==O&&oe?.focus({preventScroll:!0}))}function z(){Wi(j)}function N(){ap(j);const O=document.activeElement;O!==null&&e.rootRef.value.contains(O)&&O.blur()}function F(O){l!==null&&(clearTimeout(l),l=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",O))}function x(O,oe){l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",O)),oe?.())})}function C(O){nt(O),s.platform.is.mobile!==!0?(e.targetRef?.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),Qe(()=>{const oe=a.value;d(),a.value=oe})}function v(O){[13,32].includes(O.keyCode)&&C(O)}function P(){const O=[];return o.prepend!==void 0&&O.push(T("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:jt},o.prepend())),O.push(T("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},S())),u.value===!0&&t.noErrorIcon===!1&&O.push(X("error",[T(At,{name:s.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?O.push(X("inner-loading-append",o.loading!==void 0?o.loading():[T(Rn,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&O.push(X("inner-clearable-append",[T(At,{class:"q-field__focusable-action",name:t.clearIcon||s.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":s.lang.label.clear,onKeyup:v,onClick:C})])),o.append!==void 0&&O.push(T("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:jt},o.append())),e.getInnerAppend!==void 0&&O.push(X("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&O.push(e.getControlChild()),O}function S(){const O=[];return t.prefix!==void 0&&t.prefix!==null&&O.push(T("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&O.push(e.getShadowControl()),b.value===!0&&O.push(T("div",{class:L.value},at(o.label,t.label))),e.getControl!==void 0?O.push(e.getControl()):o.rawControl!==void 0?O.push(o.rawControl()):o.control!==void 0&&O.push(T("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(A.value))),t.suffix!==void 0&&t.suffix!==null&&O.push(T("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),O.concat(at(o.default))}function K(){let O,oe;u.value===!0?f.value!==null?(O=[T("div",{role:"alert"},f.value)],oe=`q--slot-error-${f.value}`):(O=at(o.error),oe="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(O=[T("div",t.hint)],oe=`q--slot-hint-${t.hint}`):(O=at(o.hint),oe="q--slot-hint"));const xe=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&xe===!1&&O===void 0)return;const le=T("div",{key:oe,class:"q-field__messages col"},O);return T("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:jt},[t.hideBottomSpace===!0?le:T(ao,{name:"q-transition--field-message"},()=>le),xe===!0?T("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function X(O,oe){return oe===null?null:T("div",{key:O,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},oe)}let U=!1;return go(()=>{U=!0}),qi(()=>{U===!0&&t.autofocus===!0&&i.focus()}),t.autofocus===!0&&Ot(()=>{i.focus()}),it(()=>{l!==null&&clearTimeout(l)}),Object.assign(i,{focus:z,blur:N}),function(){const oe=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...$.value}:$.value;return T(e.tag.value,{ref:e.rootRef,class:[k.value,r.class],style:r.style,...oe},[o.before!==void 0?T("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:jt},o.before()):null,T("div",{class:"q-field__inner relative-position col self-stretch"},[T("div",{ref:e.controlRef,class:M.value,tabindex:-1,...e.controlEvents},P()),g.value===!0?K():null]),o.after!==void 0?T("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:jt},o.after()):null])}}const Ml={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},{tokenMap:Il,tokenKeys:ig}=Gu({"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}});function Gu(e){const t=Object.keys(e),n={};return t.forEach(o=>{const r=e[o];n[o]={...r,regex:new RegExp(r.pattern)}}),{tokenMap:n,tokenKeys:t}}function Yu(e){return new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+e.join("")+"])|(.)","g")}const Vl=/[.*+?^${}()|[\]\\]/g,sg=Yu(ig),Se="",lg={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean,maskTokens:Object};function ag(e,t,n,o){let r,i,s,l,a,c;const u=R(()=>{if(e.maskTokens===void 0||e.maskTokens===null)return{tokenMap:Il,tokenRegexMask:sg};const{tokenMap:x}=Gu(e.maskTokens),C={...Il,...x};return{tokenMap:C,tokenRegexMask:Yu(Object.keys(C))}}),f=fe(null),d=fe(g());function h(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}ye(()=>e.type+e.autogrow,k),ye(()=>e.mask,x=>{if(x!==void 0)M(d.value,!0);else{const C=N(d.value);k(),e.modelValue!==C&&t("update:modelValue",C)}}),ye(()=>e.fillMask+e.reverseFillMask,()=>{f.value===!0&&M(d.value,!0)}),ye(()=>e.unmaskedValue,()=>{f.value===!0&&M(d.value)});function g(){if(k(),f.value===!0){const x=j(N(e.modelValue));return e.fillMask!==!1?F(x):x}return e.modelValue}function w(x){if(x<r.length)return r.slice(-x);let C="",v=r;const P=v.indexOf(Se);if(P!==-1){for(let S=x-v.length;S>0;S--)C+=Se;v=v.slice(0,P)+C+v.slice(P)}return v}function k(){if(f.value=e.mask!==void 0&&e.mask.length!==0&&h(),f.value===!1){l=void 0,r="",i="";return}const x=Ml[e.mask]===void 0?e.mask:Ml[e.mask],C=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",v=C.replace(Vl,"\\$&"),P=[],S=[],K=[];let X=e.reverseFillMask===!0,U="",O="";x.replace(u.value.tokenRegexMask,(q,ue,Ee,Le,te)=>{if(Le!==void 0){const y=u.value.tokenMap[Le];K.push(y),O=y.negate,X===!0&&(S.push("(?:"+O+"+)?("+y.pattern+"+)?(?:"+O+"+)?("+y.pattern+"+)?"),X=!1),S.push("(?:"+O+"+)?("+y.pattern+")?")}else if(Ee!==void 0)U="\\"+(Ee==="\\"?"":Ee),K.push(Ee),P.push("([^"+U+"]+)?"+U+"?");else{const y=ue!==void 0?ue:te;U=y==="\\"?"\\\\\\\\":y.replace(Vl,"\\\\$&"),K.push(y),P.push("([^"+U+"]+)?"+U+"?")}});const oe=new RegExp("^"+P.join("")+"("+(U===""?".":"[^"+U+"]")+"+)?"+(U===""?"":"["+U+"]*")+"$"),xe=S.length-1,le=S.map((q,ue)=>ue===0&&e.reverseFillMask===!0?new RegExp("^"+v+"*"+q):ue===xe?new RegExp("^"+q+"("+(O===""?".":O)+"+)?"+(e.reverseFillMask===!0?"$":v+"*")):new RegExp("^"+q));s=K,l=q=>{const ue=oe.exec(e.reverseFillMask===!0?q:q.slice(0,K.length+1));ue!==null&&(q=ue.slice(1).join(""));const Ee=[],Le=le.length;for(let te=0,y=q;te<Le;te++){const Q=le[te].exec(y);if(Q===null)break;y=y.slice(Q.shift().length),Ee.push(...Q)}return Ee.length!==0?Ee.join(""):q},r=K.map(q=>typeof q=="string"?q:Se).join(""),i=r.split(Se).join(C)}function M(x,C,v){const P=o.value,S=P.selectionEnd,K=P.value.length-S,X=N(x);C===!0&&k();const U=j(X,C),O=e.fillMask!==!1?F(U):U,oe=d.value!==O;P.value!==O&&(P.value=O),oe===!0&&(d.value=O),document.activeElement===P&&Qe(()=>{if(O===i){const le=e.reverseFillMask===!0?i.length:0;P.setSelectionRange(le,le,"forward");return}if(v==="insertFromPaste"&&e.reverseFillMask!==!0){const le=P.selectionEnd;let q=S-1;for(let ue=a;ue<=q&&ue<le;ue++)r[ue]!==Se&&q++;L.right(P,q);return}if(["deleteContentBackward","deleteContentForward"].indexOf(v)!==-1){const le=e.reverseFillMask===!0?S===0?O.length>U.length?1:0:Math.max(0,O.length-(O===i?0:Math.min(U.length,K)+1))+1:S;P.setSelectionRange(le,le,"forward");return}if(e.reverseFillMask===!0)if(oe===!0){const le=Math.max(0,O.length-(O===i?0:Math.min(U.length,K+1)));le===1&&S===1?P.setSelectionRange(le,le,"forward"):L.rightReverse(P,le)}else{const le=O.length-K;P.setSelectionRange(le,le,"backward")}else if(oe===!0){const le=Math.max(0,r.indexOf(Se),Math.min(U.length,S)-1);L.right(P,le)}else{const le=S-1;L.right(P,le)}});const xe=e.unmaskedValue===!0?N(O):O;String(e.modelValue)!==xe&&(e.modelValue!==null||xe!=="")&&n(xe,!0)}function b(x,C,v){const P=j(N(x.value));C=Math.max(0,r.indexOf(Se),Math.min(P.length,C)),a=C,x.setSelectionRange(C,v,"forward")}const L={left(x,C){const v=r.slice(C-1).indexOf(Se)===-1;let P=Math.max(0,C-1);for(;P>=0;P--)if(r[P]===Se){C=P,v===!0&&C++;break}if(P<0&&r[C]!==void 0&&r[C]!==Se)return L.right(x,0);C>=0&&x.setSelectionRange(C,C,"backward")},right(x,C){const v=x.value.length;let P=Math.min(v,C+1);for(;P<=v;P++)if(r[P]===Se){C=P;break}else r[P-1]===Se&&(C=P);if(P>v&&r[C-1]!==void 0&&r[C-1]!==Se)return L.left(x,v);x.setSelectionRange(C,C,"forward")},leftReverse(x,C){const v=w(x.value.length);let P=Math.max(0,C-1);for(;P>=0;P--)if(v[P-1]===Se){C=P;break}else if(v[P]===Se&&(C=P,P===0))break;if(P<0&&v[C]!==void 0&&v[C]!==Se)return L.rightReverse(x,0);C>=0&&x.setSelectionRange(C,C,"backward")},rightReverse(x,C){const v=x.value.length,P=w(v),S=P.slice(0,C+1).indexOf(Se)===-1;let K=Math.min(v,C+1);for(;K<=v;K++)if(P[K-1]===Se){C=K,C>0&&S===!0&&C--;break}if(K>v&&P[C-1]!==void 0&&P[C-1]!==Se)return L.leftReverse(x,v);x.setSelectionRange(C,C,"forward")}};function A(x){t("click",x),c=void 0}function $(x){if(t("keydown",x),cu(x)===!0||x.altKey===!0)return;const C=o.value,v=C.selectionStart,P=C.selectionEnd;if(x.shiftKey||(c=void 0),x.keyCode===37||x.keyCode===39){x.shiftKey&&c===void 0&&(c=C.selectionDirection==="forward"?v:P);const S=L[(x.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(x.preventDefault(),S(C,c===v?P:v),x.shiftKey){const K=C.selectionStart;C.setSelectionRange(Math.min(c,K),Math.max(c,K),"forward")}}else x.keyCode===8&&e.reverseFillMask!==!0&&v===P?(L.left(C,v),C.setSelectionRange(C.selectionStart,P,"backward")):x.keyCode===46&&e.reverseFillMask===!0&&v===P&&(L.rightReverse(C,P),C.setSelectionRange(v,C.selectionEnd,"forward"))}function j(x,C){if(x==null||x==="")return"";if(e.reverseFillMask===!0)return z(x,C);const v=s;let P=0,S="";for(let K=0;K<v.length;K++){const X=x[P],U=v[K];if(typeof U=="string")S+=U,C===!0&&X===U&&P++;else if(X!==void 0&&U.regex.test(X))S+=U.transform!==void 0?U.transform(X):X,P++;else return S}return S}function z(x,C){const v=s,P=r.indexOf(Se);let S=x.length-1,K="";for(let X=v.length-1;X>=0&&S!==-1;X--){const U=v[X];let O=x[S];if(typeof U=="string")K=U+K,C===!0&&O===U&&S--;else if(O!==void 0&&U.regex.test(O))do K=(U.transform!==void 0?U.transform(O):O)+K,S--,O=x[S];while(P===X&&O!==void 0&&U.regex.test(O));else return K}return K}function N(x){return typeof x!="string"||l===void 0?typeof x=="number"?l(""+x):x:l(x)}function F(x){return i.length-x.length<=0?x:e.reverseFillMask===!0&&x.length!==0?i.slice(0,-x.length)+x:x+i.slice(x.length)}return{innerValue:d,hasMask:f,moveCursorForPaste:b,updateMaskValue:M,onMaskedKeydown:$,onMaskedClick:A}}const Qi={name:String};function Ju(e={}){return(t,n,o)=>{t[n](T("input",{class:"hidden"+(o||""),...e.value}))}}function ug(e){return R(()=>e.name||e.for)}function cg(e,t){function n(){const o=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(i=>{r.items.add(i)}),{files:r.files}}catch{return{files:void 0}}}return R(()=>{if(e.type==="file")return n()})}const fg=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,dg=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,mg=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,hg=/[a-z0-9_ -]$/i;function pg(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Te.is.firefox===!0?hg.test(n.data)===!1:fg.test(n.data)===!0||dg.test(n.data)===!0||mg.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const gg=Ae({name:"QInput",inheritAttrs:!1,props:{...tg,...lg,...Qi,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ng,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=ke(),{$q:r}=o,i={};let s=NaN,l,a,c=null,u;const f=fe(null),d=ug(e),{innerValue:h,hasMask:g,moveCursorForPaste:w,updateMaskValue:k,onMaskedKeydown:M,onMaskedClick:b}=ag(e,t,X,f),L=cg(e),A=R(()=>yi(h.value)),$=pg(S),j=og({changeEvent:!0}),z=R(()=>e.type==="textarea"||e.autogrow===!0),N=R(()=>z.value===!0||["text","search","url","tel","password"].includes(e.type)),F=R(()=>{const q={...j.splitAttrs.listeners.value,onInput:S,onPaste:P,onChange:O,onBlur:oe,onFocus:Zo};return q.onCompositionstart=q.onCompositionupdate=q.onCompositionend=$,g.value===!0&&(q.onKeydown=M,q.onClick=b),e.autogrow===!0&&(q.onAnimationend=K),q}),x=R(()=>{const q={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:d.value,...j.splitAttrs.attributes.value,id:j.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return z.value===!1&&(q.type=e.type),e.autogrow===!0&&(q.rows=1),q});ye(()=>e.type,()=>{f.value&&(f.value.value=e.modelValue)}),ye(()=>e.modelValue,q=>{if(g.value===!0){if(a===!0&&(a=!1,String(q)===s))return;k(q)}else h.value!==q&&(h.value=q,e.type==="number"&&i.hasOwnProperty("value")===!0&&(l===!0?l=!1:delete i.value));e.autogrow===!0&&Qe(U)}),ye(()=>e.autogrow,q=>{q===!0?Qe(U):f.value!==null&&n.rows>0&&(f.value.style.height="auto")}),ye(()=>e.dense,()=>{e.autogrow===!0&&Qe(U)});function C(){Wi(()=>{const q=document.activeElement;f.value!==null&&f.value!==q&&(q===null||q.id!==j.targetUid.value)&&f.value.focus({preventScroll:!0})})}function v(){f.value?.select()}function P(q){if(g.value===!0&&e.reverseFillMask!==!0){const ue=q.target;w(ue,ue.selectionStart,ue.selectionEnd)}t("paste",q)}function S(q){if(!q||!q.target)return;if(e.type==="file"){t("update:modelValue",q.target.files);return}const ue=q.target.value;if(q.target.qComposing===!0){i.value=ue;return}if(g.value===!0)k(ue,!1,q.inputType);else if(X(ue),N.value===!0&&q.target===document.activeElement){const{selectionStart:Ee,selectionEnd:Le}=q.target;Ee!==void 0&&Le!==void 0&&Qe(()=>{q.target===document.activeElement&&ue.indexOf(q.target.value)===0&&q.target.setSelectionRange(Ee,Le)})}e.autogrow===!0&&U()}function K(q){t("animationend",q),U()}function X(q,ue){u=()=>{c=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==q&&s!==q&&(s=q,ue===!0&&(a=!0),t("update:modelValue",q),Qe(()=>{s===q&&(s=NaN)})),u=void 0},e.type==="number"&&(l=!0,i.value=q),e.debounce!==void 0?(c!==null&&clearTimeout(c),i.value=q,c=setTimeout(u,e.debounce)):u()}function U(){requestAnimationFrame(()=>{const q=f.value;if(q!==null){const ue=q.parentNode.style,{scrollTop:Ee}=q,{overflowY:Le,maxHeight:te}=r.platform.is.firefox===!0?{}:window.getComputedStyle(q),y=Le!==void 0&&Le!=="scroll";y===!0&&(q.style.overflowY="hidden"),ue.marginBottom=q.scrollHeight-1+"px",q.style.height="1px",q.style.height=q.scrollHeight+"px",y===!0&&(q.style.overflowY=parseInt(te,10)<q.scrollHeight?"auto":"hidden"),ue.marginBottom="",q.scrollTop=Ee}})}function O(q){$(q),c!==null&&(clearTimeout(c),c=null),u?.(),t("change",q.target.value)}function oe(q){q!==void 0&&Zo(q),c!==null&&(clearTimeout(c),c=null),u?.(),l=!1,a=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{f.value!==null&&(f.value.value=h.value!==void 0?h.value:"")})}function xe(){return i.hasOwnProperty("value")===!0?i.value:h.value!==void 0?h.value:""}it(()=>{oe()}),Ot(()=>{e.autogrow===!0&&U()}),Object.assign(j,{innerValue:h,fieldClass:R(()=>`q-${z.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:R(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:f,emitValue:X,hasValue:A,floatingLabel:R(()=>A.value===!0&&(e.type!=="number"||isNaN(h.value)===!1)||yi(e.displayValue)),getControl:()=>T(z.value===!0?"textarea":"input",{ref:f,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...x.value,...F.value,...e.type!=="file"?{value:xe()}:L.value}),getShadowControl:()=>T("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(z.value===!0?"":" text-no-wrap")},[T("span",{class:"invisible"},xe()),T("span",e.shadowText)])});const le=rg(j);return Object.assign(o,{focus:C,select:v,getNativeElement:()=>f.value}),On(o,"nativeEl",()=>f.value),le}});function Zu(e,t){const n=fe(null),o=R(()=>e.disable===!0?null:T("span",{ref:n,class:"no-outline",tabindex:-1}));function r(i){const s=t.value;i?.qAvoidFocus!==!0&&(i?.type.indexOf("key")===0?document.activeElement!==s&&s?.contains(document.activeElement)===!0&&s.focus():n.value!==null&&(i===void 0||s?.contains(i.target)===!0)&&n.value.focus())}return{refocusTargetEl:o,refocusTarget:r}}const Xu={xs:30,sm:35,md:40,lg:50,xl:60},vg=()=>T("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[T("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),T("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),_g=Ae({name:"QRadio",props:{...fn,...bo,...Qi,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:o}=ke(),r=dn(e,o.$q),i=yo(e,Xu),s=fe(null),{refocusTargetEl:l,refocusTarget:a}=Zu(e,s),c=R(()=>ae(e.modelValue)===ae(e.val)),u=R(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(r.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),f=R(()=>{const A=e.color!==void 0&&(e.keepColor===!0||c.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${c.value===!0?"truthy":"falsy"}${A}`}),d=R(()=>(c.value===!0?e.checkedIcon:e.uncheckedIcon)||null),h=R(()=>e.disable===!0?-1:e.tabindex||0),g=R(()=>{const A={type:"radio"};return e.name!==void 0&&Object.assign(A,{".checked":c.value===!0,"^checked":c.value===!0?"checked":void 0,name:e.name,value:e.val}),A}),w=Ju(g);function k(A){A!==void 0&&(nt(A),a(A)),e.disable!==!0&&c.value!==!0&&n("update:modelValue",e.val,A)}function M(A){(A.keyCode===13||A.keyCode===32)&&nt(A)}function b(A){(A.keyCode===13||A.keyCode===32)&&k(A)}Object.assign(o,{set:k});const L=vg();return()=>{const A=d.value!==null?[T("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[T(At,{class:"q-radio__icon",name:d.value})])]:[L];e.disable!==!0&&w(A,"unshift"," q-radio__native q-ma-none q-pa-none");const $=[T("div",{class:f.value,style:i.value,"aria-hidden":"true"},A)];l.value!==null&&$.push(l.value);const j=e.label!==void 0?nn(t.default,[e.label]):at(t.default);return j!==void 0&&$.push(T("div",{class:"q-radio__label q-anchor--skip"},j)),T("div",{ref:s,class:u.value,tabindex:h.value,role:"radio","aria-label":e.label,"aria-checked":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:k,onKeydown:M,onKeyup:b},$)}}}),ec={...fn,...bo,...Qi,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},tc=["update:modelValue"];function nc(e,t){const{props:n,slots:o,emit:r,proxy:i}=ke(),{$q:s}=i,l=dn(n,s),a=fe(null),{refocusTargetEl:c,refocusTarget:u}=Zu(n,a),f=yo(n,Xu),d=R(()=>n.val!==void 0&&Array.isArray(n.modelValue)),h=R(()=>{const v=ae(n.val);return d.value===!0?n.modelValue.findIndex(P=>ae(P)===v):-1}),g=R(()=>d.value===!0?h.value!==-1:ae(n.modelValue)===ae(n.trueValue)),w=R(()=>d.value===!0?h.value===-1:ae(n.modelValue)===ae(n.falseValue)),k=R(()=>g.value===!1&&w.value===!1),M=R(()=>n.disable===!0?-1:n.tabindex||0),b=R(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(l.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),L=R(()=>{const v=g.value===!0?"truthy":w.value===!0?"falsy":"indet",P=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?g.value===!0:w.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${v}${P}`}),A=R(()=>{const v={type:"checkbox"};return n.name!==void 0&&Object.assign(v,{".checked":g.value,"^checked":g.value===!0?"checked":void 0,name:n.name,value:d.value===!0?n.val:n.trueValue}),v}),$=Ju(A),j=R(()=>{const v={tabindex:M.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":k.value===!0?"mixed":g.value===!0?"true":"false"};return n.disable===!0&&(v["aria-disabled"]="true"),v});function z(v){v!==void 0&&(nt(v),u(v)),n.disable!==!0&&r("update:modelValue",N(),v)}function N(){if(d.value===!0){if(g.value===!0){const v=n.modelValue.slice();return v.splice(h.value,1),v}return n.modelValue.concat([n.val])}if(g.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(w.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function F(v){(v.keyCode===13||v.keyCode===32)&&nt(v)}function x(v){(v.keyCode===13||v.keyCode===32)&&z(v)}const C=t(g,k);return Object.assign(i,{toggle:z}),()=>{const v=C();n.disable!==!0&&$(v,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const P=[T("div",{class:L.value,style:f.value,"aria-hidden":"true"},v)];c.value!==null&&P.push(c.value);const S=n.label!==void 0?nn(o.default,[n.label]):at(o.default);return S!==void 0&&P.push(T("div",{class:`q-${e}__label q-anchor--skip`},S)),T("div",{ref:a,class:b.value,...j.value,onClick:z,onKeydown:F,onKeyup:x},P)}}const bg=()=>T("div",{key:"svg",class:"q-checkbox__bg absolute"},[T("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[T("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),T("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),yg=Ae({name:"QCheckbox",props:ec,emits:tc,setup(e){const t=bg();function n(o,r){const i=R(()=>(o.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>i.value!==null?[T("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[T(At,{class:"q-checkbox__icon",name:i.value})])]:[t]}return nc("checkbox",n)}}),wg=Ae({name:"QToggle",props:{...ec,icon:String,iconColor:String},emits:tc,setup(e){function t(n,o){const r=R(()=>(n.value===!0?e.checkedIcon:o.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),i=R(()=>n.value===!0?e.iconColor:null);return()=>[T("div",{class:"q-toggle__track"}),T("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[T(At,{name:r.value,color:i.value})]:void 0)]}return nc("toggle",t)}}),oc={radio:_g,checkbox:yg,toggle:wg},Eg=Object.keys(oc);function Ur(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return o=>o[n]}const xg=Ae({name:"QOptionGroup",props:{...fn,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(Ge),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:e=>Eg.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:o}}=ke(),r=Array.isArray(e.modelValue);e.type==="radio"?r===!0&&console.error("q-option-group: model should not be array"):r===!1&&console.error("q-option-group: model should be array in your case");const i=dn(e,o),s=R(()=>oc[e.type]),l=R(()=>Ur(e.optionValue,"value")),a=R(()=>Ur(e.optionLabel,"label")),c=R(()=>Ur(e.optionDisable,"disable")),u=R(()=>e.options.map(g=>({val:l.value(g),name:g.name===void 0?e.name:g.name,disable:e.disable||c.value(g),leftLabel:g.leftLabel===void 0?e.leftLabel:g.leftLabel,color:g.color===void 0?e.color:g.color,checkedIcon:g.checkedIcon,uncheckedIcon:g.uncheckedIcon,dark:g.dark===void 0?i.value:g.dark,size:g.size===void 0?e.size:g.size,dense:e.dense,keepColor:g.keepColor===void 0?e.keepColor:g.keepColor}))),f=R(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),d=R(()=>{const g={role:"group"};return e.type==="radio"&&(g.role="radiogroup",e.disable===!0&&(g["aria-disabled"]="true")),g});function h(g){t("update:modelValue",g)}return()=>T("div",{class:f.value,...d.value},e.options.map((g,w)=>{const k=n["label-"+w]!==void 0?()=>n["label-"+w](g):n.label!==void 0?()=>n.label(g):void 0;return T("div",[T(s.value,{label:k===void 0?a.value(g):null,modelValue:e.modelValue,"onUpdate:modelValue":h,...u.value[w]},k)])}))}}),Cg=Ae({name:"DialogPluginComponent",props:{...fn,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:e=>["ok","cancel","none"].includes(e)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(e,{emit:t}){const{proxy:n}=ke(),{$q:o}=n,r=dn(e,o),i=fe(null),s=fe(e.prompt!==void 0?e.prompt.model:e.options!==void 0?e.options.model:void 0),l=R(()=>"q-dialog-plugin"+(r.value===!0?" q-dialog-plugin--dark q-dark":"")+(e.progress!==!1?" q-dialog-plugin--progress":"")),a=R(()=>e.color||(r.value===!0?"amber":"primary")),c=R(()=>e.progress===!1?null:Ge(e.progress)===!0?{component:e.progress.spinner||Rn,props:{color:e.progress.color||a.value}}:{component:Rn,props:{color:a.value}}),u=R(()=>e.prompt!==void 0||e.options!==void 0),f=R(()=>{if(u.value!==!0)return{};const{model:S,isValid:K,items:X,...U}=e.prompt!==void 0?e.prompt:e.options;return U}),d=R(()=>Ge(e.ok)===!0||e.ok===!0?o.lang.label.ok:e.ok),h=R(()=>Ge(e.cancel)===!0||e.cancel===!0?o.lang.label.cancel:e.cancel),g=R(()=>e.prompt!==void 0?e.prompt.isValid!==void 0&&e.prompt.isValid(s.value)!==!0:e.options!==void 0?e.options.isValid!==void 0&&e.options.isValid(s.value)!==!0:!1),w=R(()=>({color:a.value,label:d.value,ripple:!1,disable:g.value,...Ge(e.ok)===!0?e.ok:{flat:!0},"data-autofocus":e.focus==="ok"&&u.value!==!0||void 0,onClick:L})),k=R(()=>({color:a.value,label:h.value,ripple:!1,...Ge(e.cancel)===!0?e.cancel:{flat:!0},"data-autofocus":e.focus==="cancel"&&u.value!==!0||void 0,onClick:A}));ye(()=>e.prompt&&e.prompt.model,j),ye(()=>e.options&&e.options.model,j);function M(){i.value.show()}function b(){i.value.hide()}function L(){t("ok",ae(s.value)),b()}function A(){b()}function $(){t("hide")}function j(S){s.value=S}function z(S){g.value!==!0&&e.prompt.type!=="textarea"&&uo(S,13)===!0&&L()}function N(S,K){return e.html===!0?T(Fn,{class:S,innerHTML:K}):T(Fn,{class:S},()=>K)}function F(){return[T(gg,{color:a.value,dense:!0,autofocus:!0,dark:r.value,...f.value,modelValue:s.value,"onUpdate:modelValue":j,onKeyup:z})]}function x(){return[T(xg,{color:a.value,options:e.options.items,dark:r.value,...f.value,modelValue:s.value,"onUpdate:modelValue":j})]}function C(){const S=[];return e.cancel&&S.push(T(_i,k.value)),e.ok&&S.push(T(_i,w.value)),T(zp,{class:e.stackButtons===!0?"items-end":"",vertical:e.stackButtons,align:"right"},()=>S)}function v(){const S=[];return e.title&&S.push(N("q-dialog__title",e.title)),e.progress!==!1&&S.push(T(Fn,{class:"q-dialog__progress"},()=>T(c.value.component,c.value.props))),e.message&&S.push(N("q-dialog__message",e.message)),e.prompt!==void 0?S.push(T(Fn,{class:"scroll q-dialog-plugin__form"},F)):e.options!==void 0&&S.push(T(Sl,{dark:r.value}),T(Fn,{class:"scroll q-dialog-plugin__form"},x),T(Sl,{dark:r.value})),(e.ok||e.cancel)&&S.push(C()),S}function P(){return[T(Hp,{class:[l.value,e.cardClass],style:e.cardStyle,dark:r.value},v)]}return Object.assign(n,{show:M,hide:b}),()=>T(wp,{ref:i,onHide:$},P)}});function rc(e,t){for(const n in t)n!=="spinner"&&Object(t[n])===t[n]?(e[n]=Object(e[n])!==e[n]?{}:{...e[n]},rc(e[n],t[n])):e[n]=t[n]}function kg(e,t,n){return o=>{let r,i;const s=o.component!==void 0;if(s===!0){const{component:b,componentProps:L}=o;r=typeof b=="string"?n.component(b):b,i=L||{}}else{const{class:b,style:L,...A}=o;r=e,i=A,b!==void 0&&(A.cardClass=b),L!==void 0&&(A.cardStyle=L)}let l,a=!1;const c=fe(null),u=gr(!1,"dialog"),f=b=>{if(c.value?.[b]!==void 0){c.value[b]();return}const L=l.$.subTree;if(L?.component){if(L.component.proxy&&L.component.proxy[b]){L.component.proxy[b]();return}if(L.component.subTree&&L.component.subTree.component&&L.component.subTree.component.proxy&&L.component.subTree.component.proxy[b]){L.component.subTree.component.proxy[b]();return}}console.error("[Quasar] Incorrectly defined Dialog component")},d=[],h=[],g={onOk(b){return d.push(b),g},onCancel(b){return h.push(b),g},onDismiss(b){return d.push(b),h.push(b),g},hide(){return f("hide"),g},update(b){if(l!==null){if(s===!0)Object.assign(i,b);else{const{class:L,style:A,...$}=b;L!==void 0&&($.cardClass=L),A!==void 0&&($.cardStyle=A),rc(i,$)}l.$forceUpdate()}return g}},w=b=>{a=!0,d.forEach(L=>{L(b)})},k=()=>{M.unmount(u),Ui(u),M=null,l=null,a!==!0&&h.forEach(b=>{b()})};let M=Hi({name:"QGlobalDialog",setup:()=>()=>T(r,{...i,ref:c,onOk:w,onHide:k,onVnodeMounted(...b){typeof i.onVnodeMounted=="function"&&i.onVnodeMounted(...b),Qe(()=>f("show"))}})},n);return l=M.mount(u),g}}const Sg={install({$q:e,parentApp:t}){e.dialog=this.create=kg(Cg,!0,t)}},Tg=Ae({name:"QAvatar",props:{...bo,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=yo(e),o=R(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),r=R(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const i=e.icon!==void 0?[T(At,{name:e.icon})]:void 0;return T("div",{class:o.value,style:n.value},[T("div",{class:"q-avatar__content row flex-center overflow-hidden",style:r.value},hp(t.default,i))])}}});let Pg=0;const Bo={},Fo={},st={},ic={},Rg=/^\s*$/,sc=[],Ag=[void 0,null,!0,!1,""],Gi=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],Lg=["top-left","top-right","bottom-left","bottom-right"],zn={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function lc(e,t,n){if(!e)return jn("parameter required");let o;const r={textColor:"white"};if(e.ignoreDefaults!==!0&&Object.assign(r,Bo),Ge(e)===!1&&(r.type&&Object.assign(r,zn[r.type]),e={message:e}),Object.assign(r,zn[e.type||r.type],e),typeof r.icon=="function"&&(r.icon=r.icon(t)),r.spinner?(r.spinner===!0&&(r.spinner=Rn),r.spinner=ho(r.spinner)):r.spinner=!1,r.meta={hasMedia:!!(r.spinner!==!1||r.icon||r.avatar),hasText:Dl(r.message)||Dl(r.caption)},r.position){if(Gi.includes(r.position)===!1)return jn("wrong position",e)}else r.position="bottom";if(Ag.includes(r.timeout)===!0)r.timeout=5e3;else{const a=Number(r.timeout);if(isNaN(a)||a<0)return jn("wrong timeout",e);r.timeout=Number.isFinite(a)?a:0}r.timeout===0?r.progress=!1:r.progress===!0&&(r.meta.progressClass="q-notification__progress"+(r.progressClass?` ${r.progressClass}`:""),r.meta.progressStyle={animationDuration:`${r.timeout+1e3}ms`});const i=(Array.isArray(e.actions)===!0?e.actions:[]).concat(e.ignoreDefaults!==!0&&Array.isArray(Bo.actions)===!0?Bo.actions:[]).concat(Array.isArray(zn[e.type]?.actions)===!0?zn[e.type].actions:[]),{closeBtn:s}=r;if(s&&i.push({label:typeof s=="string"?s:t.lang.label.close}),r.actions=i.map(({handler:a,noDismiss:c,...u})=>({flat:!0,...u,onClick:typeof a=="function"?()=>{a(),c!==!0&&l()}:()=>{l()}})),r.multiLine===void 0&&(r.multiLine=r.actions.length>1),Object.assign(r.meta,{class:`q-notification row items-stretch q-notification--${r.multiLine===!0?"multi-line":"standard"}`+(r.color!==void 0?` bg-${r.color}`:"")+(r.textColor!==void 0?` text-${r.textColor}`:"")+(r.classes!==void 0?` ${r.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(r.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(r.multiLine===!0?"":" col"),leftClass:r.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...r.attrs}}),r.group===!1?(r.group=void 0,r.meta.group=void 0):((r.group===void 0||r.group===!0)&&(r.group=[r.message,r.caption,r.multiline].concat(r.actions.map(a=>`${a.label}*${a.icon}`)).join("|")),r.meta.group=r.group+"|"+r.position),r.actions.length===0?r.actions=void 0:r.meta.actionsClass="q-notification__actions row items-center "+(r.multiLine===!0?"justify-end":"col-auto")+(r.meta.hasMedia===!0?" q-notification__actions--with-media":""),n!==void 0){n.notif.meta.timer&&(clearTimeout(n.notif.meta.timer),n.notif.meta.timer=void 0),r.meta.uid=n.notif.meta.uid;const a=st[r.position].value.indexOf(n.notif);st[r.position].value[a]=r}else{const a=Fo[r.meta.group];if(a===void 0){if(r.meta.uid=Pg++,r.meta.badge=1,["left","right","center"].indexOf(r.position)!==-1)st[r.position].value.splice(Math.floor(st[r.position].value.length/2),0,r);else{const c=r.position.indexOf("top")!==-1?"unshift":"push";st[r.position].value[c](r)}r.group!==void 0&&(Fo[r.meta.group]=r)}else{if(a.meta.timer&&(clearTimeout(a.meta.timer),a.meta.timer=void 0),r.badgePosition!==void 0){if(Lg.includes(r.badgePosition)===!1)return jn("wrong badgePosition",e)}else r.badgePosition=`top-${r.position.indexOf("left")!==-1?"right":"left"}`;r.meta.uid=a.meta.uid,r.meta.badge=a.meta.badge+1,r.meta.badgeClass=`q-notification__badge q-notification__badge--${r.badgePosition}`+(r.badgeColor!==void 0?` bg-${r.badgeColor}`:"")+(r.badgeTextColor!==void 0?` text-${r.badgeTextColor}`:"")+(r.badgeClass?` ${r.badgeClass}`:"");const c=st[r.position].value.indexOf(a);st[r.position].value[c]=Fo[r.meta.group]=r}}const l=()=>{Og(r),o=void 0};if(r.timeout>0&&(r.meta.timer=setTimeout(()=>{r.meta.timer=void 0,l()},r.timeout+1e3)),r.group!==void 0)return a=>{a!==void 0?jn("trying to update a grouped one which is forbidden",e):l()};if(o={dismiss:l,config:e,notif:r},n!==void 0){Object.assign(n,o);return}return a=>{if(o!==void 0)if(a===void 0)o.dismiss();else{const c=Object.assign({},o.config,a,{group:!1,position:r.position});lc(c,t,o)}}}function Og(e){e.meta.timer&&(clearTimeout(e.meta.timer),e.meta.timer=void 0);const t=st[e.position].value.indexOf(e);if(t!==-1){e.group!==void 0&&delete Fo[e.meta.group];const n=sc[""+e.meta.uid];if(n){const{width:o,height:r}=getComputedStyle(n);n.style.left=`${n.offsetLeft}px`,n.style.width=o,n.style.height=r}st[e.position].value.splice(t,1),typeof e.onDismiss=="function"&&e.onDismiss()}}function Dl(e){return e!=null&&Rg.test(e)!==!0}function jn(e,t){return console.error(`Notify: ${e}`,t),!1}function Mg(){return Ae({name:"QNotifications",devtools:{hide:!0},setup(){return()=>T("div",{class:"q-notifications"},Gi.map(e=>T(Ad,{key:e,class:ic[e],tag:"div",name:`q-notification--${e}`},()=>st[e].value.map(t=>{const n=t.meta,o=[];if(n.hasMedia===!0&&(t.spinner!==!1?o.push(T(t.spinner,{class:"q-notification__spinner q-notification__spinner--"+n.leftClass,color:t.spinnerColor,size:t.spinnerSize})):t.icon?o.push(T(At,{class:"q-notification__icon q-notification__icon--"+n.leftClass,name:t.icon,color:t.iconColor,size:t.iconSize,role:"img"})):t.avatar&&o.push(T(Tg,{class:"q-notification__avatar q-notification__avatar--"+n.leftClass},()=>T("img",{src:t.avatar,"aria-hidden":"true"})))),n.hasText===!0){let i;const s={class:"q-notification__message col"};if(t.html===!0)s.innerHTML=t.caption?`<div>${t.message}</div><div class="q-notification__caption">${t.caption}</div>`:t.message;else{const l=[t.message];i=t.caption?[T("div",l),T("div",{class:"q-notification__caption"},[t.caption])]:l}o.push(T("div",s,i))}const r=[T("div",{class:n.contentClass},o)];return t.progress===!0&&r.push(T("div",{key:`${n.uid}|p|${n.badge}`,class:n.progressClass,style:n.progressStyle})),t.actions!==void 0&&r.push(T("div",{class:n.actionsClass},t.actions.map(i=>T(_i,i)))),n.badge>1&&r.push(T("div",{key:`${n.uid}|${n.badge}`,class:t.meta.badgeClass,style:t.badgeStyle},[n.badge])),T("div",{ref:i=>{sc[""+n.uid]=i},key:n.uid,class:n.class,...n.attrs},[T("div",{class:n.wrapperClass},r)])}))))}})}const Ig={setDefaults(e){Ge(e)===!0&&Object.assign(Bo,e)},registerType(e,t){Ge(t)===!0&&(zn[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create=n=>lc(n,e),e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,e.config.notify!==void 0&&this.setDefaults(e.config.notify),this.__installed!==!0){Gi.forEach(o=>{st[o]=fe([]);const r=["left","center","right"].includes(o)===!0?"center":o.indexOf("top")!==-1?"top":"bottom",i=o.indexOf("left")!==-1?"start":o.indexOf("right")!==-1?"end":"center",s=["left","right"].includes(o)?`items-${o==="left"?"start":"end"} justify-center`:o==="center"?"flex-center":`items-${i}`;ic[o]=`q-notifications__list q-notifications__list--${r} fixed column no-wrap ${s}`});const n=gr("q-notify");Hi(Mg(),t).mount(n)}}},Vg={config:{},plugins:{Loading:Ke,Dialog:Sg,Notify:Ig}},Dg="";async function qg({app:e,router:t},n){let o=!1;const r=l=>{try{return t.resolve(l).href}catch{}return Object(l)===l?null:l},i=l=>{if(o=!0,typeof l=="string"&&/^https?:\/\//.test(l)){window.location.href=l;return}const a=r(l);a!==null&&(window.location.href=a,window.location.reload())},s=window.location.href.replace(window.location.origin,"");for(let l=0;o===!1&&l<n.length;l++)try{await n[l]({app:e,router:t,ssrContext:null,redirect:i,urlPath:s,publicPath:Dg})}catch(a){if(a&&a.url){i(a.url);return}console.error("[Quasar] boot error:",a);return}o!==!0&&(e.use(t),e.mount("#q-app"))}Zh(iu,Vg).then(e=>{const[t,n]=Promise.allSettled!==void 0?["allSettled",o=>o.map(r=>{if(r.status==="rejected"){console.error("[Quasar] boot error:",r.reason);return}return r.value.default})]:["all",o=>o.map(r=>r.default)];return Promise[t]([E(()=>import("./capacitor-app-DLFZMGeJ.js"),[],import.meta.url),E(()=>import("./modelViewer-3VdA1PxK.js"),[],import.meta.url)]).then(o=>{const r=n(o).filter(i=>typeof i=="function");qg(e,r)})});export{ao as $,Ar as A,uo as B,ii as C,nv as D,ov as E,_t as F,Kf as G,Qa as H,Fg as I,Ec as J,lt as K,$g as L,Si as M,Hp as N,Fn as O,sn as P,_i as Q,Ph as R,Yg as S,Ln as T,Ot as U,Gf as V,su as W,Sl as X,zp as Y,ki as Z,At as _,Xe as a,tg as a$,wp as a0,pa as a1,Gg as a2,cr as a3,Ue as a4,Jg as a5,Zg as a6,yt as a7,Ru as a8,Au as a9,tm as aA,jt as aB,Zo as aC,Hg as aD,op as aE,np as aF,rp as aG,Xh as aH,mp as aI,iv as aJ,au as aK,ev as aL,Xg as aM,Di as aN,Hc as aO,sd as aP,ae as aQ,Mi as aR,Tg as aS,rn as aT,wg as aU,Ta as aV,Rn as aW,yg as aX,jg as aY,On as aZ,ng as a_,tv as aa,Kt as ab,Qe as ac,Ng as ad,li as ae,sv as af,Vp as ag,nt as ah,Bg as ai,gg as aj,Wg as ak,Ap as al,cu as am,tp as an,ep as ao,go as ap,qi as aq,Qi as ar,lv as as,Ju as at,Ni as au,E as av,rm as aw,Te as ax,zg as ay,om as az,Ae as b,rg as b0,og as b1,hp as b2,$o as b3,ip as b4,sp as b5,dp as b6,_p as b7,pl as b8,bp as b9,gl as ba,up as bb,Oh as bc,Wi as bd,sf as be,ug as bf,yi as bg,pg as bh,Or as bi,Pa as bj,Sg as bk,Uf as c,dn as d,R as e,at as f,ke as g,T as h,Ze as i,Qg as j,Ug as k,Kg as l,fe as m,ye as n,Ka as o,Mo as p,it as q,df as r,rv as s,bo as t,fn as u,yo as v,Xc as w,nn as x,gm as y,em as z};


//# sourceMappingURL=data:application/json;base64,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LE1BQ0YsQ0FDQSxPQUFPQSxFQUFPLE1BQU0sT0FDdEIsQ0FBQyxDQUNULEVBQ1EsQ0FDQSxNQUNBMmtFLEdBQWFBLEVBQVUsSUFBSTFsQyxHQUFTQSxFQUFNLE9BQU8sQ0FDekQsRUFFSSxPQUFPLFFBQVNwL0IsR0FBUyxPQUV2QixPQUFPLDZCQUFvQixzQkFFNUJpZ0MsRUFBQSxJQUFDLE9BQU8sMkJBQWtCLHFCQUUvQixDQUFLLEVBQUUsS0FBSzZrQyxHQUFhLENBQ25CLE1BQU1LLEVBQU9ELEVBQU1KLENBQVMsRUFBRSxPQUFPMWxDLEdBQVMsT0FBT0EsR0FBVSxVQUFVLEVBQ3pFMTFCLEdBQU0yVSxFQUFLOG1ELENBQUksQ0FDakIsQ0FBQyxDQUNILENBQUMiLCJuYW1lcyI6WyJtYWtlTWFwIiwic3RyIiwibWFwIiwia2V5IiwidmFsIiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSIiwiTk9PUCIsIk5PIiwiaXNPbiIsImlzTW9kZWxMaXN0ZW5lciIsImV4dGVuZCIsInJlbW92ZSIsImFyciIsImVsIiwiaSIsImhhc093blByb3BlcnR5IiwiaGFzT3duIiwiaXNBcnJheSIsImlzTWFwIiwidG9UeXBlU3RyaW5nIiwiaXNTZXQiLCJpc0Z1bmN0aW9uIiwiaXNTdHJpbmciLCJpc1N5bWJvbCIsImlzT2JqZWN0IiwiaXNQcm9taXNlIiwib2JqZWN0VG9TdHJpbmciLCJ2YWx1ZSIsInRvUmF3VHlwZSIsImlzUGxhaW5PYmplY3QiLCJpc0ludGVnZXJLZXkiLCJpc1Jlc2VydmVkUHJvcCIsImNhY2hlU3RyaW5nRnVuY3Rpb24iLCJmbiIsImNhY2hlIiwiY2FtZWxpemVSRSIsImNhbWVsaXplIiwiYyIsImh5cGhlbmF0ZVJFIiwiaHlwaGVuYXRlIiwiY2FwaXRhbGl6ZSIsInRvSGFuZGxlcktleSIsImhhc0NoYW5nZWQiLCJvbGRWYWx1ZSIsImludm9rZUFycmF5Rm5zIiwiZm5zIiwiYXJnIiwiZGVmIiwib2JqIiwid3JpdGFibGUiLCJsb29zZVRvTnVtYmVyIiwibiIsInRvTnVtYmVyIiwiX2dsb2JhbFRoaXMiLCJnZXRHbG9iYWxUaGlzIiwibm9ybWFsaXplU3R5bGUiLCJyZXMiLCJpdGVtIiwibm9ybWFsaXplZCIsInBhcnNlU3RyaW5nU3R5bGUiLCJsaXN0RGVsaW1pdGVyUkUiLCJwcm9wZXJ0eURlbGltaXRlclJFIiwic3R5bGVDb21tZW50UkUiLCJjc3NUZXh0IiwicmV0IiwidG1wIiwibm9ybWFsaXplQ2xhc3MiLCJuYW1lIiwic3BlY2lhbEJvb2xlYW5BdHRycyIsImlzU3BlY2lhbEJvb2xlYW5BdHRyIiwiaW5jbHVkZUJvb2xlYW5BdHRyIiwiaXNSZWYiLCJ0b0Rpc3BsYXlTdHJpbmciLCJyZXBsYWNlciIsIl9rZXkiLCJlbnRyaWVzIiwidmFsMiIsInN0cmluZ2lmeVN5bWJvbCIsInYiLCJfYSIsImFjdGl2ZUVmZmVjdFNjb3BlIiwiRWZmZWN0U2NvcGUiLCJkZXRhY2hlZCIsImwiLCJjdXJyZW50RWZmZWN0U2NvcGUiLCJmcm9tUGFyZW50IiwibGFzdCIsImdldEN1cnJlbnRTY29wZSIsImFjdGl2ZVN1YiIsInBhdXNlZFF1ZXVlRWZmZWN0cyIsIlJlYWN0aXZlRWZmZWN0IiwiYmF0Y2giLCJjbGVhbnVwRWZmZWN0IiwicHJlcGFyZURlcHMiLCJwcmV2RWZmZWN0IiwicHJldlNob3VsZFRyYWNrIiwic2hvdWxkVHJhY2siLCJjbGVhbnVwRGVwcyIsImxpbmsiLCJyZW1vdmVTdWIiLCJpc0RpcnR5IiwiYmF0Y2hEZXB0aCIsImJhdGNoZWRTdWIiLCJiYXRjaGVkQ29tcHV0ZWQiLCJzdWIiLCJpc0NvbXB1dGVkIiwic3RhcnRCYXRjaCIsImVuZEJhdGNoIiwiZSIsIm5leHQiLCJlcnJvciIsImVyciIsImhlYWQiLCJ0YWlsIiwicHJldiIsInJlbW92ZURlcCIsInJlZnJlc2hDb21wdXRlZCIsImNvbXB1dGVkIiwiZ2xvYmFsVmVyc2lvbiIsImRlcCIsInByZXZTdWIiLCJzb2Z0IiwibmV4dFN1YiIsInByZXZEZXAiLCJuZXh0RGVwIiwidHJhY2tTdGFjayIsInBhdXNlVHJhY2tpbmciLCJyZXNldFRyYWNraW5nIiwiY2xlYW51cCIsIkxpbmsiLCJEZXAiLCJkZWJ1Z0luZm8iLCJhZGRTdWIiLCJjdXJyZW50VGFpbCIsInRhcmdldE1hcCIsIklURVJBVEVfS0VZIiwiTUFQX0tFWV9JVEVSQVRFX0tFWSIsIkFSUkFZX0lURVJBVEVfS0VZIiwidHJhY2siLCJ0YXJnZXQiLCJ0eXBlIiwiZGVwc01hcCIsInRyaWdnZXIiLCJuZXdWYWx1ZSIsIm9sZFRhcmdldCIsInJ1biIsInRhcmdldElzQXJyYXkiLCJpc0FycmF5SW5kZXgiLCJuZXdMZW5ndGgiLCJrZXkyIiwicmVhY3RpdmVSZWFkQXJyYXkiLCJhcnJheSIsInJhdyIsInRvUmF3IiwiaXNTaGFsbG93IiwidG9SZWFjdGl2ZSIsInNoYWxsb3dSZWFkQXJyYXkiLCJhcnJheUluc3RydW1lbnRhdGlvbnMiLCJpdGVyYXRvciIsImFyZ3MiLCJ4IiwidGhpc0FyZyIsImFwcGx5Iiwic2VhcmNoUHJveHkiLCJzZXBhcmF0b3IiLCJub1RyYWNraW5nIiwicmVkdWNlIiwiY29tcGFyZXIiLCJzZWxmIiwibWV0aG9kIiwid3JhcFZhbHVlIiwiaXRlciIsInJlc3VsdCIsImFycmF5UHJvdG8iLCJ3cmFwcGVkUmV0Rm4iLCJuZWVkc1dyYXAiLCJtZXRob2RGbiIsInJlc3VsdDIiLCJ3cmFwcGVkRm4iLCJpbmRleCIsImFjYyIsImlzUHJveHkiLCJpc05vblRyYWNrYWJsZUtleXMiLCJidWlsdEluU3ltYm9scyIsIkJhc2VSZWFjdGl2ZUhhbmRsZXIiLCJfaXNSZWFkb25seSIsIl9pc1NoYWxsb3ciLCJyZWNlaXZlciIsImlzUmVhZG9ubHkyIiwiaXNTaGFsbG93MiIsInNoYWxsb3dSZWFkb25seU1hcCIsInJlYWRvbmx5TWFwIiwic2hhbGxvd1JlYWN0aXZlTWFwIiwicmVhY3RpdmVNYXAiLCJyZWFkb25seSIsInJlYWN0aXZlIiwiTXV0YWJsZVJlYWN0aXZlSGFuZGxlciIsImlzT2xkVmFsdWVSZWFkb25seSIsImlzUmVhZG9ubHkiLCJoYWRLZXkiLCJSZWFkb25seVJlYWN0aXZlSGFuZGxlciIsIm11dGFibGVIYW5kbGVycyIsInJlYWRvbmx5SGFuZGxlcnMiLCJzaGFsbG93UmVhY3RpdmVIYW5kbGVycyIsInRvU2hhbGxvdyIsImdldFByb3RvIiwiY3JlYXRlSXRlcmFibGVNZXRob2QiLCJyYXdUYXJnZXQiLCJ0YXJnZXRJc01hcCIsImlzUGFpciIsImlzS2V5T25seSIsImlubmVySXRlcmF0b3IiLCJ3cmFwIiwidG9SZWFkb25seSIsImRvbmUiLCJjcmVhdGVSZWFkb25seU1ldGhvZCIsImNyZWF0ZUluc3RydW1lbnRhdGlvbnMiLCJzaGFsbG93IiwiaW5zdHJ1bWVudGF0aW9ucyIsInJhd0tleSIsImhhcyIsImNhbGxiYWNrIiwib2JzZXJ2ZWQiLCJnZXQiLCJoYWRJdGVtcyIsImNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlciIsIm11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzIiwicmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMiLCJ0YXJnZXRUeXBlTWFwIiwicmF3VHlwZSIsImdldFRhcmdldFR5cGUiLCJjcmVhdGVSZWFjdGl2ZU9iamVjdCIsInNoYWxsb3dSZWFjdGl2ZSIsImJhc2VIYW5kbGVycyIsImNvbGxlY3Rpb25IYW5kbGVycyIsInByb3h5TWFwIiwidGFyZ2V0VHlwZSIsImV4aXN0aW5nUHJveHkiLCJwcm94eSIsImlzUmVhY3RpdmUiLCJtYXJrUmF3IiwiciIsInJlZiIsImNyZWF0ZVJlZiIsInNoYWxsb3dSZWYiLCJyYXdWYWx1ZSIsIlJlZkltcGwiLCJ1c2VEaXJlY3RWYWx1ZSIsInVucmVmIiwicmVmMiIsInNoYWxsb3dVbndyYXBIYW5kbGVycyIsInByb3h5UmVmcyIsIm9iamVjdFdpdGhSZWZzIiwiQ29tcHV0ZWRSZWZJbXBsIiwic2V0dGVyIiwiaXNTU1IiLCJnZXR0ZXJPck9wdGlvbnMiLCJkZWJ1Z09wdGlvbnMiLCJnZXR0ZXIiLCJJTklUSUFMX1dBVENIRVJfVkFMVUUiLCJjbGVhbnVwTWFwIiwiYWN0aXZlV2F0Y2hlciIsIm9uV2F0Y2hlckNsZWFudXAiLCJjbGVhbnVwRm4iLCJmYWlsU2lsZW50bHkiLCJvd25lciIsImNsZWFudXBzIiwid2F0Y2giLCJzb3VyY2UiLCJjYiIsIm9wdGlvbnMiLCJpbW1lZGlhdGUiLCJkZWVwIiwib25jZSIsInNjaGVkdWxlciIsImF1Z21lbnRKb2IiLCJjYWxsIiwicmVhY3RpdmVHZXR0ZXIiLCJzb3VyY2UyIiwidHJhdmVyc2UiLCJlZmZlY3QiLCJib3VuZENsZWFudXAiLCJmb3JjZVRyaWdnZXIiLCJpc011bHRpU291cmNlIiwicyIsImN1cnJlbnRFZmZlY3QiLCJiYXNlR2V0dGVyIiwiZGVwdGgiLCJzY29wZSIsIndhdGNoSGFuZGxlIiwiX2NiIiwiam9iIiwiaW1tZWRpYXRlRmlyc3RSdW4iLCJjdXJyZW50V2F0Y2hlciIsImNsZWFudXAyIiwic2VlbiIsImNhbGxXaXRoRXJyb3JIYW5kbGluZyIsImluc3RhbmNlIiwiaGFuZGxlRXJyb3IiLCJjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyIsInZhbHVlcyIsInRocm93SW5EZXYiLCJjb250ZXh0Vk5vZGUiLCJlcnJvckhhbmRsZXIiLCJ0aHJvd1VuaGFuZGxlZEVycm9ySW5Qcm9kdWN0aW9uIiwiY3VyIiwiZXhwb3NlZEluc3RhbmNlIiwiZXJyb3JJbmZvIiwiZXJyb3JDYXB0dXJlZEhvb2tzIiwibG9nRXJyb3IiLCJ0aHJvd0luUHJvZCIsInF1ZXVlIiwiZmx1c2hJbmRleCIsInBlbmRpbmdQb3N0Rmx1c2hDYnMiLCJhY3RpdmVQb3N0Rmx1c2hDYnMiLCJwb3N0Rmx1c2hJbmRleCIsInJlc29sdmVkUHJvbWlzZSIsImN1cnJlbnRGbHVzaFByb21pc2UiLCJuZXh0VGljayIsInAiLCJmaW5kSW5zZXJ0aW9uSW5kZXgiLCJpZCIsInN0YXJ0IiwiZW5kIiwibWlkZGxlIiwibWlkZGxlSm9iIiwibWlkZGxlSm9iSWQiLCJnZXRJZCIsInF1ZXVlSm9iIiwiam9iSWQiLCJsYXN0Sm9iIiwicXVldWVGbHVzaCIsImZsdXNoSm9icyIsInF1ZXVlUG9zdEZsdXNoQ2IiLCJmbHVzaFByZUZsdXNoQ2JzIiwiZmx1c2hQb3N0Rmx1c2hDYnMiLCJkZWR1cGVkIiwiYSIsImIiLCJjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJjdXJyZW50U2NvcGVJZCIsInNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsIndpdGhDdHgiLCJjdHgiLCJpc05vblNjb3BlZFNsb3QiLCJyZW5kZXJGbldpdGhDb250ZXh0Iiwic2V0QmxvY2tUcmFja2luZyIsInByZXZJbnN0YW5jZSIsIndpdGhEaXJlY3RpdmVzIiwidm5vZGUiLCJkaXJlY3RpdmVzIiwiZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UiLCJiaW5kaW5ncyIsImRpciIsIm1vZGlmaWVycyIsImludm9rZURpcmVjdGl2ZUhvb2siLCJwcmV2Vk5vZGUiLCJvbGRCaW5kaW5ncyIsImJpbmRpbmciLCJob29rIiwiVGVsZXBvcnRFbmRLZXkiLCJpc1RlbGVwb3J0IiwiaXNUZWxlcG9ydERpc2FibGVkIiwicHJvcHMiLCJpc1RlbGVwb3J0RGVmZXJyZWQiLCJpc1RhcmdldFNWRyIsImlzVGFyZ2V0TWF0aE1MIiwicmVzb2x2ZVRhcmdldCIsInNlbGVjdCIsInRhcmdldFNlbGVjdG9yIiwiVGVsZXBvcnRJbXBsIiwibjEiLCJuMiIsImNvbnRhaW5lciIsImFuY2hvciIsInBhcmVudENvbXBvbmVudCIsInBhcmVudFN1c3BlbnNlIiwibmFtZXNwYWNlIiwic2xvdFNjb3BlSWRzIiwib3B0aW1pemVkIiwiaW50ZXJuYWxzIiwibW91bnRDaGlsZHJlbiIsInBhdGNoQ2hpbGRyZW4iLCJwYXRjaEJsb2NrQ2hpbGRyZW4iLCJpbnNlcnQiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlVGV4dCIsImNyZWF0ZUNvbW1lbnQiLCJkaXNhYmxlZCIsInNoYXBlRmxhZyIsImNoaWxkcmVuIiwiZHluYW1pY0NoaWxkcmVuIiwicGxhY2Vob2xkZXIiLCJtYWluQW5jaG9yIiwibW91bnQiLCJjb250YWluZXIyIiwiYW5jaG9yMiIsIm1vdW50VG9UYXJnZXQiLCJ0YXJnZXRBbmNob3IiLCJwcmVwYXJlQW5jaG9yIiwidXBkYXRlQ3NzVmFycyIsInF1ZXVlUG9zdFJlbmRlckVmZmVjdCIsIndhc0Rpc2FibGVkIiwiY3VycmVudENvbnRhaW5lciIsImN1cnJlbnRBbmNob3IiLCJ0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuIiwibW92ZVRlbGVwb3J0IiwibmV4dFRhcmdldCIsInVubW91bnQiLCJob3N0UmVtb3ZlIiwiZG9SZW1vdmUiLCJ0YXJnZXRTdGFydCIsInNob3VsZFJlbW92ZSIsImNoaWxkIiwiaHlkcmF0ZVRlbGVwb3J0IiwicGFyZW50QW5jaG9yIiwibW92ZSIsIm1vdmVUeXBlIiwiaXNSZW9yZGVyIiwibm9kZSIsIm5leHRTaWJsaW5nIiwicGFyZW50Tm9kZSIsImh5ZHJhdGVDaGlsZHJlbiIsImh5ZHJhdGVEaXNhYmxlZFRlbGVwb3J0Iiwibm9kZTIiLCJ2bm9kZTIiLCJ0YXJnZXROb2RlIiwiVGVsZXBvcnQiLCJpc0Rpc2FibGVkIiwibGVhdmVDYktleSIsImVudGVyQ2JLZXkiLCJ1c2VUcmFuc2l0aW9uU3RhdGUiLCJzdGF0ZSIsIm9uTW91bnRlZCIsIm9uQmVmb3JlVW5tb3VudCIsIlRyYW5zaXRpb25Ib29rVmFsaWRhdG9yIiwiQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJyZWN1cnNpdmVHZXRTdWJ0cmVlIiwic3ViVHJlZSIsIkJhc2VUcmFuc2l0aW9uSW1wbCIsInNsb3RzIiwiZ2V0Q3VycmVudEluc3RhbmNlIiwiZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuIiwiZmluZE5vbkNvbW1lbnRDaGlsZCIsInJhd1Byb3BzIiwibW9kZSIsImVtcHR5UGxhY2Vob2xkZXIiLCJpbm5lckNoaWxkIiwiZ2V0SW5uZXJDaGlsZCQxIiwiZW50ZXJIb29rcyIsInJlc29sdmVUcmFuc2l0aW9uSG9va3MiLCJob29rcyIsIkNvbW1lbnQiLCJzZXRUcmFuc2l0aW9uSG9va3MiLCJvbGRJbm5lckNoaWxkIiwiaXNTYW1lVk5vZGVUeXBlIiwibGVhdmluZ0hvb2tzIiwiZWFybHlSZW1vdmUiLCJkZWxheWVkTGVhdmUiLCJsZWF2aW5nVk5vZGVzQ2FjaGUiLCJnZXRMZWF2aW5nTm9kZXNGb3JUeXBlIiwiQmFzZVRyYW5zaXRpb24iLCJsZWF2aW5nVk5vZGVzIiwicG9zdENsb25lIiwiYXBwZWFyIiwicGVyc2lzdGVkIiwib25CZWZvcmVFbnRlciIsIm9uRW50ZXIiLCJvbkFmdGVyRW50ZXIiLCJvbkVudGVyQ2FuY2VsbGVkIiwib25CZWZvcmVMZWF2ZSIsIm9uTGVhdmUiLCJvbkFmdGVyTGVhdmUiLCJvbkxlYXZlQ2FuY2VsbGVkIiwib25CZWZvcmVBcHBlYXIiLCJvbkFwcGVhciIsIm9uQWZ0ZXJBcHBlYXIiLCJvbkFwcGVhckNhbmNlbGxlZCIsImNhbGxIb29rIiwiY2FsbEFzeW5jSG9vayIsImhvb2syIiwibGVhdmluZ1ZOb2RlIiwiYWZ0ZXJIb29rIiwiY2FuY2VsSG9vayIsImNhbGxlZCIsImNhbmNlbGxlZCIsImhvb2tzMiIsImlzS2VlcEFsaXZlIiwiY2xvbmVWTm9kZSIsImtlZXBDb21tZW50IiwicGFyZW50S2V5Iiwia2V5ZWRGcmFnbWVudENvdW50IiwiRnJhZ21lbnQiLCJkZWZpbmVDb21wb25lbnQiLCJleHRyYU9wdGlvbnMiLCJtYXJrQXN5bmNCb3VuZGFyeSIsInBlbmRpbmdTZXRSZWZNYXAiLCJzZXRSZWYiLCJyYXdSZWYiLCJvbGRSYXdSZWYiLCJpc1VubW91bnQiLCJpc0FzeW5jV3JhcHBlciIsInJlZlZhbHVlIiwib2xkUmVmIiwicmVmcyIsInNldHVwU3RhdGUiLCJyYXdTZXR1cFN0YXRlIiwiY2FuU2V0U2V0dXBSZWYiLCJpbnZhbGlkYXRlUGVuZGluZ1NldFJlZiIsIm9sZFJhd1JlZkF0b20iLCJfaXNTdHJpbmciLCJfaXNSZWYiLCJkb1NldCIsImV4aXN0aW5nIiwibmV3VmFsIiwicGVuZGluZ1NldFJlZiIsIm9uQWN0aXZhdGVkIiwicmVnaXN0ZXJLZWVwQWxpdmVIb29rIiwib25EZWFjdGl2YXRlZCIsImN1cnJlbnRJbnN0YW5jZSIsIndyYXBwZWRIb29rIiwiY3VycmVudCIsImluamVjdEhvb2siLCJpbmplY3RUb0tlZXBBbGl2ZVJvb3QiLCJrZWVwQWxpdmVSb290IiwiaW5qZWN0ZWQiLCJvblVubW91bnRlZCIsInByZXBlbmQiLCJyZXNldCIsInNldEN1cnJlbnRJbnN0YW5jZSIsImNyZWF0ZUhvb2siLCJsaWZlY3ljbGUiLCJpc0luU1NSQ29tcG9uZW50U2V0dXAiLCJvbkJlZm9yZU1vdW50Iiwib25CZWZvcmVVcGRhdGUiLCJvblVwZGF0ZWQiLCJvblNlcnZlclByZWZldGNoIiwib25SZW5kZXJUcmlnZ2VyZWQiLCJvblJlbmRlclRyYWNrZWQiLCJvbkVycm9yQ2FwdHVyZWQiLCJDT01QT05FTlRTIiwicmVzb2x2ZUNvbXBvbmVudCIsIm1heWJlU2VsZlJlZmVyZW5jZSIsInJlc29sdmVBc3NldCIsIk5VTExfRFlOQU1JQ19DT01QT05FTlQiLCJ3YXJuTWlzc2luZyIsIkNvbXBvbmVudCIsInNlbGZOYW1lIiwiZ2V0Q29tcG9uZW50TmFtZSIsInJlc29sdmUiLCJyZWdpc3RyeSIsInJlbmRlckxpc3QiLCJyZW5kZXJJdGVtIiwiY2FjaGVkIiwic291cmNlSXNBcnJheSIsInNvdXJjZUlzUmVhY3RpdmVBcnJheSIsImlzUmVhZG9ubHlTb3VyY2UiLCJrZXlzIiwiZ2V0UHVibGljSW5zdGFuY2UiLCJpc1N0YXRlZnVsQ29tcG9uZW50IiwicHVibGljUHJvcGVydGllc01hcCIsInJlc29sdmVNZXJnZWRPcHRpb25zIiwiaW5zdGFuY2VXYXRjaCIsImhhc1NldHVwQmluZGluZyIsIlB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyIsImRhdGEiLCJhY2Nlc3NDYWNoZSIsImFwcENvbnRleHQiLCJub3JtYWxpemVkUHJvcHMiLCJzaG91bGRDYWNoZUFjY2VzcyIsInB1YmxpY0dldHRlciIsImNzc01vZHVsZSIsImdsb2JhbFByb3BlcnRpZXMiLCJwcm9wc09wdGlvbnMiLCJjc3NNb2R1bGVzIiwiZGVzY3JpcHRvciIsIm5vcm1hbGl6ZVByb3BzT3JFbWl0cyIsImFwcGx5T3B0aW9ucyIsInB1YmxpY1RoaXMiLCJkYXRhT3B0aW9ucyIsImNvbXB1dGVkT3B0aW9ucyIsIm1ldGhvZHMiLCJ3YXRjaE9wdGlvbnMiLCJwcm92aWRlT3B0aW9ucyIsImluamVjdE9wdGlvbnMiLCJjcmVhdGVkIiwiYmVmb3JlTW91bnQiLCJtb3VudGVkIiwiYmVmb3JlVXBkYXRlIiwidXBkYXRlZCIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwiYmVmb3JlRGVzdHJveSIsImJlZm9yZVVubW91bnQiLCJkZXN0cm95ZWQiLCJ1bm1vdW50ZWQiLCJyZW5kZXIiLCJyZW5kZXJUcmFja2VkIiwicmVuZGVyVHJpZ2dlcmVkIiwiZXJyb3JDYXB0dXJlZCIsInNlcnZlclByZWZldGNoIiwiZXhwb3NlIiwiaW5oZXJpdEF0dHJzIiwiY29tcG9uZW50cyIsImZpbHRlcnMiLCJyZXNvbHZlSW5qZWN0aW9ucyIsIm1ldGhvZEhhbmRsZXIiLCJvcHQiLCJzZXQiLCJjcmVhdGVXYXRjaGVyIiwicHJvdmlkZXMiLCJwcm92aWRlIiwicmVnaXN0ZXJMaWZlY3ljbGVIb29rIiwicmVnaXN0ZXIiLCJfaG9vayIsImV4cG9zZWQiLCJjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMiLCJub3JtYWxpemVJbmplY3QiLCJpbmplY3QiLCJoIiwiY3JlYXRlUGF0aEdldHRlciIsImhhbmRsZXIiLCJiYXNlIiwibWl4aW5zIiwiZXh0ZW5kc09wdGlvbnMiLCJnbG9iYWxNaXhpbnMiLCJvcHRpb25NZXJnZVN0cmF0ZWdpZXMiLCJyZXNvbHZlZCIsIm0iLCJtZXJnZU9wdGlvbnMiLCJ0byIsImZyb20iLCJzdHJhdHMiLCJhc01peGluIiwic3RyYXQiLCJpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzIiwibWVyZ2VEYXRhRm4iLCJtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMiLCJtZXJnZU9iamVjdE9wdGlvbnMiLCJtZXJnZUFzQXJyYXkiLCJtZXJnZVdhdGNoT3B0aW9ucyIsIm1lcmdlSW5qZWN0IiwibWVyZ2VkIiwiY3JlYXRlQXBwQ29udGV4dCIsInVpZCQxIiwiY3JlYXRlQXBwQVBJIiwiaHlkcmF0ZSIsInJvb3RDb21wb25lbnQiLCJyb290UHJvcHMiLCJjb250ZXh0IiwiaW5zdGFsbGVkUGx1Z2lucyIsInBsdWdpbkNsZWFudXBGbnMiLCJpc01vdW50ZWQiLCJhcHAiLCJ2ZXJzaW9uIiwicGx1Z2luIiwibWl4aW4iLCJjb21wb25lbnQiLCJkaXJlY3RpdmUiLCJyb290Q29udGFpbmVyIiwiaXNIeWRyYXRlIiwiY3JlYXRlVk5vZGUiLCJsYXN0QXBwIiwiY3VycmVudEFwcCIsInBhcmVudFByb3ZpZGVzIiwiZGVmYXVsdFZhbHVlIiwidHJlYXREZWZhdWx0QXNGYWN0b3J5IiwiaW50ZXJuYWxPYmplY3RQcm90byIsImNyZWF0ZUludGVybmFsT2JqZWN0IiwiaXNJbnRlcm5hbE9iamVjdCIsImluaXRQcm9wcyIsImlzU3RhdGVmdWwiLCJhdHRycyIsInNldEZ1bGxQcm9wcyIsInVwZGF0ZVByb3BzIiwicmF3UHJldlByb3BzIiwicGF0Y2hGbGFnIiwicmF3Q3VycmVudFByb3BzIiwiaGFzQXR0cnNDaGFuZ2VkIiwicHJvcHNUb1VwZGF0ZSIsImlzRW1pdExpc3RlbmVyIiwiY2FtZWxpemVkS2V5IiwicmVzb2x2ZVByb3BWYWx1ZSIsImtlYmFiS2V5IiwibmVlZENhc3RLZXlzIiwicmF3Q2FzdFZhbHVlcyIsImNhbWVsS2V5IiwiY2FzdFZhbHVlcyIsImlzQWJzZW50IiwiaGFzRGVmYXVsdCIsInByb3BzRGVmYXVsdHMiLCJtaXhpblByb3BzQ2FjaGUiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJjb21wIiwiaGFzRXh0ZW5kcyIsImV4dGVuZFByb3BzIiwicmF3MiIsIm5vcm1hbGl6ZWRLZXkiLCJ2YWxpZGF0ZVByb3BOYW1lIiwicHJvcCIsInByb3BUeXBlIiwic2hvdWxkQ2FzdCIsInNob3VsZENhc3RUcnVlIiwidHlwZU5hbWUiLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplVk5vZGUiLCJub3JtYWxpemVTbG90IiwicmF3U2xvdCIsIm5vcm1hbGl6ZU9iamVjdFNsb3RzIiwicmF3U2xvdHMiLCJub3JtYWxpemVWTm9kZVNsb3RzIiwiYXNzaWduU2xvdHMiLCJpbml0U2xvdHMiLCJ1cGRhdGVTbG90cyIsIm5lZWREZWxldGlvbkNoZWNrIiwiZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0IiwicXVldWVFZmZlY3RXaXRoU3VzcGVuc2UiLCJjcmVhdGVSZW5kZXJlciIsImJhc2VDcmVhdGVSZW5kZXJlciIsImNyZWF0ZUh5ZHJhdGlvbkZucyIsImhvc3RJbnNlcnQiLCJob3N0UGF0Y2hQcm9wIiwiaG9zdENyZWF0ZUVsZW1lbnQiLCJob3N0Q3JlYXRlVGV4dCIsImhvc3RDcmVhdGVDb21tZW50IiwiaG9zdFNldFRleHQiLCJob3N0U2V0RWxlbWVudFRleHQiLCJob3N0UGFyZW50Tm9kZSIsImhvc3ROZXh0U2libGluZyIsImhvc3RTZXRTY29wZUlkIiwiaG9zdEluc2VydFN0YXRpY0NvbnRlbnQiLCJwYXRjaCIsImdldE5leHRIb3N0Tm9kZSIsIlRleHQiLCJwcm9jZXNzVGV4dCIsInByb2Nlc3NDb21tZW50Tm9kZSIsIlN0YXRpYyIsIm1vdW50U3RhdGljTm9kZSIsInByb2Nlc3NGcmFnbWVudCIsInByb2Nlc3NFbGVtZW50IiwicHJvY2Vzc0NvbXBvbmVudCIsIm1vdmVTdGF0aWNOb2RlIiwicmVtb3ZlU3RhdGljTm9kZSIsIm1vdW50RWxlbWVudCIsInBhdGNoRWxlbWVudCIsInZub2RlSG9vayIsInRyYW5zaXRpb24iLCJkaXJzIiwicmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlIiwic2V0U2NvcGVJZCIsImludm9rZVZOb2RlSG9vayIsIm5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIiwibmVlZFRyYW5zaXRpb24iLCJzY29wZUlkIiwiaXNTdXNwZW5zZSIsInBhcmVudFZOb2RlIiwiY2xvbmVJZk1vdW50ZWQiLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwidG9nZ2xlUmVjdXJzZSIsInBhdGNoUHJvcHMiLCJvbGRDaGlsZHJlbiIsIm5ld0NoaWxkcmVuIiwiZmFsbGJhY2tDb250YWluZXIiLCJvbGRWTm9kZSIsIm5ld1ZOb2RlIiwiZnJhZ21lbnRTdGFydEFuY2hvciIsImZyYWdtZW50RW5kQW5jaG9yIiwiZnJhZ21lbnRTbG90U2NvcGVJZHMiLCJtb3VudENvbXBvbmVudCIsInVwZGF0ZUNvbXBvbmVudCIsImluaXRpYWxWTm9kZSIsImNyZWF0ZUNvbXBvbmVudEluc3RhbmNlIiwic2V0dXBDb21wb25lbnQiLCJzZXR1cFJlbmRlckVmZmVjdCIsInNob3VsZFVwZGF0ZUNvbXBvbmVudCIsInVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciIsImNvbXBvbmVudFVwZGF0ZUZuIiwiYnUiLCJ1IiwicGFyZW50Iiwibm9uSHlkcmF0ZWRBc3luY1Jvb3QiLCJsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdCIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInJlbmRlckNvbXBvbmVudFJvb3QiLCJwcmV2VHJlZSIsInVwZGF0ZUhPQ0hvc3RFbCIsImJtIiwicm9vdCIsImlzQXN5bmNXcmFwcGVyVk5vZGUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJ1cGRhdGUiLCJuZXh0Vk5vZGUiLCJwcmV2UHJvcHMiLCJjMSIsInByZXZTaGFwZUZsYWciLCJjMiIsInBhdGNoS2V5ZWRDaGlsZHJlbiIsInBhdGNoVW5rZXllZENoaWxkcmVuIiwidW5tb3VudENoaWxkcmVuIiwib2xkTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwiaiIsInBhdGNoZWQiLCJ0b0JlUGF0Y2hlZCIsIm1vdmVkIiwibWF4TmV3SW5kZXhTb0ZhciIsIm5ld0luZGV4VG9PbGRJbmRleE1hcCIsInByZXZDaGlsZCIsIm5ld0luZGV4IiwiaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UiLCJnZXRTZXF1ZW5jZSIsIm5leHRJbmRleCIsImFuY2hvclZOb2RlIiwibGVhdmUiLCJkZWxheUxlYXZlIiwiYWZ0ZXJMZWF2ZSIsInJlbW92ZTIiLCJwZXJmb3JtTGVhdmUiLCJjYWNoZUluZGV4Iiwic2hvdWxkSW52b2tlRGlycyIsInNob3VsZEludm9rZVZub2RlSG9vayIsInVubW91bnRDb21wb25lbnQiLCJyZW1vdmVGcmFnbWVudCIsInBlcmZvcm1SZW1vdmUiLCJidW0iLCJ1bSIsImludmFsaWRhdGVNb3VudCIsInRlbGVwb3J0RW5kIiwiaXNGbHVzaGluZyIsImN1cnJlbnROYW1lc3BhY2UiLCJhbGxvd2VkIiwiY2gxIiwiY2gyIiwibGVuIiwiYXJySSIsInN1YkNvbXBvbmVudCIsInNzckNvbnRleHRLZXkiLCJ1c2VTU1JDb250ZXh0IiwiZG9XYXRjaCIsImZsdXNoIiwiYmFzZVdhdGNoT3B0aW9ucyIsInJ1bnNJbW1lZGlhdGVseSIsInNzckNsZWFudXAiLCJ3YXRjaFN0b3BIYW5kbGUiLCJpc1ByZSIsImlzRmlyc3RSdW4iLCJ3YXRjaCQxIiwicGF0aCIsInNlZ21lbnRzIiwiZ2V0TW9kZWxNb2RpZmllcnMiLCJtb2RlbE5hbWUiLCJlbWl0IiwiZXZlbnQiLCJyYXdBcmdzIiwiaGFuZGxlck5hbWUiLCJvbmNlSGFuZGxlciIsIm1peGluRW1pdHNDYWNoZSIsIm5vcm1hbGl6ZUVtaXRzT3B0aW9ucyIsImV4dGVuZEVtaXRzIiwibm9ybWFsaXplZEZyb21FeHRlbmQiLCJ3aXRoUHJveHkiLCJyZW5kZXJDYWNoZSIsImZhbGx0aHJvdWdoQXR0cnMiLCJwcm94eVRvVXNlIiwidGhpc1Byb3h5IiwicmVuZGVyMiIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsImJsb2NrU3RhY2siLCJmaWx0ZXJNb2RlbExpc3RlbmVycyIsInByZXZDaGlsZHJlbiIsIm5leHRQcm9wcyIsIm5leHRDaGlsZHJlbiIsImVtaXRzIiwiaGFzUHJvcHNDaGFuZ2VkIiwiZHluYW1pY1Byb3BzIiwiZW1pdHNPcHRpb25zIiwibmV4dEtleXMiLCJzdXNwZW5zZSIsImN1cnJlbnRCbG9jayIsIm9wZW5CbG9jayIsImRpc2FibGVUcmFja2luZyIsImNsb3NlQmxvY2siLCJpc0Jsb2NrVHJlZUVuYWJsZWQiLCJpblZPbmNlIiwic2V0dXBCbG9jayIsImNyZWF0ZUVsZW1lbnRCbG9jayIsImNyZWF0ZUJhc2VWTm9kZSIsImNyZWF0ZUJsb2NrIiwiaXNWTm9kZSIsIm5vcm1hbGl6ZUtleSIsIm5vcm1hbGl6ZVJlZiIsInJlZl9rZXkiLCJyZWZfZm9yIiwiaXNCbG9ja05vZGUiLCJuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbiIsIm5vcm1hbGl6ZUNoaWxkcmVuIiwiX2NyZWF0ZVZOb2RlIiwiY2xvbmVkIiwiaXNDbGFzc0NvbXBvbmVudCIsImd1YXJkUmVhY3RpdmVQcm9wcyIsImtsYXNzIiwic3R5bGUiLCJleHRyYVByb3BzIiwibWVyZ2VSZWYiLCJjbG9uZVRyYW5zaXRpb24iLCJtZXJnZWRQcm9wcyIsIm1lcmdlUHJvcHMiLCJjcmVhdGVUZXh0Vk5vZGUiLCJ0ZXh0IiwiZmxhZyIsImNyZWF0ZVN0YXRpY1ZOb2RlIiwiY29udGVudCIsIm51bWJlck9mTm9kZXMiLCJjcmVhdGVDb21tZW50Vk5vZGUiLCJhc0Jsb2NrIiwic2xvdCIsInNsb3RGbGFnIiwidG9NZXJnZSIsImluY29taW5nIiwiZW1wdHlBcHBDb250ZXh0IiwidWlkIiwiaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UiLCJzZXRJblNTUlNldHVwU3RhdGUiLCJnIiwicmVnaXN0ZXJHbG9iYWxTZXR0ZXIiLCJzZXR0ZXJzIiwidW5zZXRDdXJyZW50SW5zdGFuY2UiLCJzZXR1cFJlc3VsdCIsInNldHVwU3RhdGVmdWxDb21wb25lbnQiLCJzZXR1cCIsInNldHVwQ29udGV4dCIsImNyZWF0ZVNldHVwQ29udGV4dCIsImlzQXN5bmNTZXR1cCIsInJlc29sdmVkUmVzdWx0IiwiaGFuZGxlU2V0dXBSZXN1bHQiLCJmaW5pc2hDb21wb25lbnRTZXR1cCIsInNraXBPcHRpb25zIiwiYXR0cnNQcm94eUhhbmRsZXJzIiwiaW5jbHVkZUluZmVycmVkIiwiY29tcHV0ZWQkMSIsInByb3BzT3JDaGlsZHJlbiIsImRvQ3JlYXRlVk5vZGUiLCJ0eXBlMiIsImNoaWxkcmVuMiIsInBvbGljeSIsInR0IiwidW5zYWZlVG9UcnVzdGVkSFRNTCIsInN2Z05TIiwibWF0aG1sTlMiLCJkb2MiLCJ0ZW1wbGF0ZUNvbnRhaW5lciIsIm5vZGVPcHMiLCJ0YWciLCJpcyIsInNlbGVjdG9yIiwiYmVmb3JlIiwidGVtcGxhdGUiLCJ3cmFwcGVyIiwiVFJBTlNJVElPTiIsIkFOSU1BVElPTiIsInZ0Y0tleSIsIkRPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzIiwiZGVjb3JhdGUkMSIsInQiLCJUcmFuc2l0aW9uIiwicmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyIsImgyIiwiaGFzRXhwbGljaXRDYWxsYmFjayIsImJhc2VQcm9wcyIsImR1cmF0aW9uIiwiZW50ZXJGcm9tQ2xhc3MiLCJlbnRlckFjdGl2ZUNsYXNzIiwiZW50ZXJUb0NsYXNzIiwiYXBwZWFyRnJvbUNsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJhcHBlYXJUb0NsYXNzIiwibGVhdmVGcm9tQ2xhc3MiLCJsZWF2ZUFjdGl2ZUNsYXNzIiwibGVhdmVUb0NsYXNzIiwiZHVyYXRpb25zIiwibm9ybWFsaXplRHVyYXRpb24iLCJlbnRlckR1cmF0aW9uIiwibGVhdmVEdXJhdGlvbiIsImZpbmlzaEVudGVyIiwiaXNBcHBlYXIiLCJpc0NhbmNlbGxlZCIsInJlbW92ZVRyYW5zaXRpb25DbGFzcyIsImZpbmlzaExlYXZlIiwibWFrZUVudGVySG9vayIsIm5leHRGcmFtZSIsImFkZFRyYW5zaXRpb25DbGFzcyIsIndoZW5UcmFuc2l0aW9uRW5kcyIsImZvcmNlUmVmbG93IiwiTnVtYmVyT2YiLCJjbHMiLCJfdnRjIiwiZW5kSWQiLCJleHBlY3RlZFR5cGUiLCJleHBsaWNpdFRpbWVvdXQiLCJyZXNvbHZlSWZOb3RTdGFsZSIsInRpbWVvdXQiLCJwcm9wQ291bnQiLCJnZXRUcmFuc2l0aW9uSW5mbyIsImVuZEV2ZW50IiwiZW5kZWQiLCJvbkVuZCIsInN0eWxlcyIsImdldFN0eWxlUHJvcGVydGllcyIsInRyYW5zaXRpb25EZWxheXMiLCJ0cmFuc2l0aW9uRHVyYXRpb25zIiwidHJhbnNpdGlvblRpbWVvdXQiLCJnZXRUaW1lb3V0IiwiYW5pbWF0aW9uRGVsYXlzIiwiYW5pbWF0aW9uRHVyYXRpb25zIiwiYW5pbWF0aW9uVGltZW91dCIsImhhc1RyYW5zZm9ybSIsImRlbGF5cyIsImQiLCJ0b01zIiwicGF0Y2hDbGFzcyIsImlzU1ZHIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJ2U2hvd09yaWdpbmFsRGlzcGxheSIsInZTaG93SGlkZGVuIiwidlNob3ciLCJzZXREaXNwbGF5IiwiQ1NTX1ZBUl9URVhUIiwiZGlzcGxheVJFIiwicGF0Y2hTdHlsZSIsImlzQ3NzU3RyaW5nIiwiaGFzQ29udHJvbGxlZERpc3BsYXkiLCJwcmV2U3R5bGUiLCJzZXRTdHlsZSIsImNzc1ZhclRleHQiLCJpbXBvcnRhbnRSRSIsInByZWZpeGVkIiwiYXV0b1ByZWZpeCIsInByZWZpeGVzIiwicHJlZml4Q2FjaGUiLCJyYXdOYW1lIiwieGxpbmtOUyIsInBhdGNoQXR0ciIsImlzQm9vbGVhbiIsInBhdGNoRE9NUHJvcCIsImF0dHJOYW1lIiwibmVlZFJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidmVpS2V5IiwicGF0Y2hFdmVudCIsInByZXZWYWx1ZSIsIm5leHRWYWx1ZSIsImludm9rZXJzIiwiZXhpc3RpbmdJbnZva2VyIiwicGFyc2VOYW1lIiwiaW52b2tlciIsImNyZWF0ZUludm9rZXIiLCJvcHRpb25zTW9kaWZpZXJSRSIsImNhY2hlZE5vdyIsImdldE5vdyIsImluaXRpYWxWYWx1ZSIsInBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwib3JpZ2luYWxTdG9wIiwiaXNOYXRpdmVPbiIsInBhdGNoUHJvcCIsInNob3VsZFNldEFzUHJvcCIsImNhbWVsaXplJDEiLCJwb3NpdGlvbk1hcCIsIm5ld1Bvc2l0aW9uTWFwIiwibW92ZUNiS2V5IiwiZGVjb3JhdGUiLCJUcmFuc2l0aW9uR3JvdXBJbXBsIiwibW92ZUNsYXNzIiwiaGFzQ1NTVHJhbnNmb3JtIiwiY2FsbFBlbmRpbmdDYnMiLCJyZWNvcmRQb3NpdGlvbiIsIm1vdmVkQ2hpbGRyZW4iLCJhcHBseVRyYW5zbGF0aW9uIiwiY3NzVHJhbnNpdGlvblByb3BzIiwiVHJhbnNpdGlvbkdyb3VwIiwib2xkUG9zIiwibmV3UG9zIiwiZHgiLCJkeSIsImNsb25lIiwic3lzdGVtTW9kaWZpZXJzIiwibW9kaWZpZXJHdWFyZHMiLCJ3aXRoTW9kaWZpZXJzIiwiY2FjaGVLZXkiLCJndWFyZCIsInJlbmRlcmVyT3B0aW9ucyIsInJlbmRlcmVyIiwiZW5zdXJlUmVuZGVyZXIiLCJjcmVhdGVBcHAiLCJjb250YWluZXJPclNlbGVjdG9yIiwibm9ybWFsaXplQ29udGFpbmVyIiwicmVzb2x2ZVJvb3ROYW1lc3BhY2UiLCJFeGNlcHRpb25Db2RlIiwiQ2FwYWNpdG9yRXhjZXB0aW9uIiwibWVzc2FnZSIsImNvZGUiLCJnZXRQbGF0Zm9ybUlkIiwid2luIiwiX2IiLCJjcmVhdGVDYXBhY2l0b3IiLCJjYXBDdXN0b21QbGF0Zm9ybSIsImNhcCIsIlBsdWdpbnMiLCJnZXRQbGF0Zm9ybSIsImlzTmF0aXZlUGxhdGZvcm0iLCJpc1BsdWdpbkF2YWlsYWJsZSIsInBsdWdpbk5hbWUiLCJyZWdpc3RlcmVkUGx1Z2lucyIsImdldFBsdWdpbkhlYWRlciIsInJlZ2lzdGVyUGx1Z2luIiwianNJbXBsZW1lbnRhdGlvbnMiLCJyZWdpc3RlcmVkUGx1Z2luIiwicGxhdGZvcm0iLCJwbHVnaW5IZWFkZXIiLCJqc0ltcGxlbWVudGF0aW9uIiwibG9hZFBsdWdpbkltcGxlbWVudGF0aW9uIiwiY3JlYXRlUGx1Z2luTWV0aG9kIiwiaW1wbCIsIm1ldGhvZEhlYWRlciIsImNyZWF0ZVBsdWdpbk1ldGhvZFdyYXBwZXIiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiYWRkTGlzdGVuZXJOYXRpdmUiLCJldmVudE5hbWUiLCJjYWxsYmFja0lkIiwiXyIsImZpbGVQYXRoIiwiaW5pdENhcGFjaXRvckdsb2JhbCIsIkNhcGFjaXRvciIsIldlYlBsdWdpbiIsImxpc3RlbmVyRnVuYyIsImZpcnN0TGlzdGVuZXIiLCJ3aW5kb3dMaXN0ZW5lciIsImxpc3RlbmVyIiwicmV0YWluVW50aWxDb25zdW1lZCIsImxpc3RlbmVycyIsIndpbmRvd0V2ZW50TmFtZSIsInBsdWdpbkV2ZW50TmFtZSIsIm1zZyIsImhhbmRsZSIsImVuY29kZSIsImRlY29kZSIsIkNhcGFjaXRvckNvb2tpZXNQbHVnaW5XZWIiLCJjb29raWVzIiwiY29va2llTWFwIiwiY29va2llIiwiZW5jb2RlZEtleSIsImVuY29kZWRWYWx1ZSIsImV4cGlyZXMiLCJkb21haW4iLCJyZWFkQmxvYkFzQmFzZTY0IiwiYmxvYiIsInJlamVjdCIsInJlYWRlciIsImJhc2U2NFN0cmluZyIsIm5vcm1hbGl6ZUh0dHBIZWFkZXJzIiwiaGVhZGVycyIsIm9yaWdpbmFsS2V5cyIsImsiLCJidWlsZFVybFBhcmFtcyIsInBhcmFtcyIsInNob3VsZEVuY29kZSIsImFjY3VtdWxhdG9yIiwiZW50cnkiLCJidWlsZFJlcXVlc3RJbml0IiwiZXh0cmEiLCJvdXRwdXQiLCJmb3JtIiwiQ2FwYWNpdG9ySHR0cFBsdWdpbldlYiIsInJlcXVlc3RJbml0IiwidXJsUGFyYW1zIiwidXJsIiwicmVzcG9uc2UiLCJjb250ZW50VHlwZSIsInJlc3BvbnNlVHlwZSIsIkFwcCIsIl9fdml0ZVByZWxvYWQiLCJpbmplY3RQcm9wIiwicHJvcE5hbWUiLCJpc1J1bnRpbWVTc3JQcmVIeWRyYXRpb24iLCJwcmVIeWRyYXRpb25Ccm93c2VyIiwiZ2V0TWF0Y2giLCJ1c2VyQWdlbnQiLCJwbGF0Zm9ybU1hdGNoIiwibWF0Y2giLCJnZXRQbGF0Zm9ybU1hdGNoIiwiaGFzVG91Y2giLCJVQSIsIm1hdGNoZWQiLCJicm93c2VyIiwia25vd25Nb2JpbGVzIiwic3NyQ2xpZW50IiwiY2xpZW50IiwiUGxhdGZvcm0iLCJvcHRzIiwiJHEiLCJoYXNXZWJTdG9yYWdlIiwiY3JlYXRlQ29tcG9uZW50IiwiY3JlYXRlRGlyZWN0aXZlIiwiY3JlYXRlUmVhY3RpdmVQbHVnaW4iLCJyZWFjdGl2ZVN0YXRlIiwibGlzdGVuT3B0cyIsIm5vb3AiLCJsZWZ0Q2xpY2siLCJwb3NpdGlvbiIsImdldEV2ZW50UGF0aCIsInN0b3AiLCJwcmV2ZW50Iiwic3RvcEFuZFByZXZlbnQiLCJwcmV2ZW50RHJhZ2dhYmxlIiwic3RhdHVzIiwiYWRkRXZ0IiwidGFyZ2V0TmFtZSIsImV2ZW50cyIsImV2dCIsImNsZWFuRXZ0IiwiZGVib3VuY2UiLCJ3YWl0IiwidGltZXIiLCJkZWJvdW5jZWQiLCJsYXRlciIsIlNJWkVfTElTVCIsInBhc3NpdmUiLCJTY3JlZW4iLCJvblNTUkh5ZHJhdGVkIiwidmlzdWFsVmlld3BvcnQiLCJzY3JvbGxpbmdFbGVtZW50IiwiZ2V0U2l6ZSIsImNsYXNzZXMiLCJmb3JjZSIsInciLCJ1cGRhdGVFdnQiLCJ1cGRhdGVTaXplcyIsInVwZGF0ZURlYm91bmNlIiwic2l6ZXMiLCJkZWIiLCJkZWxheSIsIlBsdWdpbiIsInNzckNvbnRleHQiLCJkYXJrIiwic2V0Q3NzVmFyIiwiZWxlbWVudCIsImxhc3RLZXlDb21wb3NpdGlvblN0YXR1cyIsIm9uS2V5RG93bkNvbXBvc2l0aW9uIiwic2hvdWxkSWdub3JlS2V5IiwiaXNLZXlDb2RlIiwia2V5Q29kZXMiLCJnZXRNb2JpbGVQbGF0Zm9ybSIsImdldEJvZHlDbGFzc2VzIiwid2l0aGluIiwiY2ZnIiwibW9iaWxlIiwiYXBwbHlDbGllbnRTc3JDb3JyZWN0aW9ucyIsImNsYXNzTGlzdCIsIm5ld0NscyIsInNldENvbG9ycyIsImJyYW5kIiwiY29sb3IiLCJCb2R5IiwiZ2V0VHJ1ZSIsImZpbHRlckludmFsaWRQYXRoIiwibm9ybWFsaXplRXhpdFBhdGgiLCJnZXRTaG91bGRFeGl0Rm4iLCJleGl0UGF0aHMiLCJIaXN0b3J5IiwiY29yZG92YSIsImNhcGFjaXRvciIsInFDb25mIiwic2hvdWxkRXhpdCIsImJhY2tIYW5kbGVyIiwiZGVmYXVsdExhbmciLCJsYWJlbCIsInJhbmdlIiwicm93cyIsInRvdGFsIiwiZ2V0TG9jYWxlIiwibGFuZ09iamVjdCIsImxhbmciLCJtYXRlcmlhbEljb25zIiwic2V0T2JqZWN0IiwiaWNvblNldCIsInF1YXNhcktleSIsImxheW91dEtleSIsInBhZ2VDb250YWluZXJLZXkiLCJmb3JtS2V5IiwidGFic0tleSIsImVtcHR5UmVuZGVyRm4iLCJnbG9iYWxDb25maWciLCJnbG9iYWxDb25maWdJc0Zyb3plbiIsImZyZWV6ZUdsb2JhbENvbmZpZyIsImlzRGVlcEVxdWFsIiwibGVuZ3RoIiwiaXNEYXRlIiwiaXNSZWdleHAiLCJhdXRvSW5zdGFsbGVkUGx1Z2lucyIsIkRhcmsiLCJMYW5nIiwiSWNvblNldCIsImNyZWF0ZUNoaWxkQXBwIiwiYXBwQ2ZnIiwicGFyZW50QXBwIiwicmVsb2FkIiwiaW5zdGFsbFBsdWdpbnMiLCJwbHVnaW5PcHRzIiwicGx1Z2luTGlzdCIsInByZXBhcmVBcHAiLCJ1aU9wdHMiLCJpbnN0YWxsUXVhc2FyIiwiUXVhc2FyIiwiaXNCcm93c2VyIiwiaXNSb3V0ZUNvbXBvbmVudCIsImlzRVNNb2R1bGUiLCJhc3NpZ24iLCJhcHBseVRvUGFyYW1zIiwibmV3UGFyYW1zIiwiSEFTSF9SRSIsIkFNUEVSU0FORF9SRSIsIlNMQVNIX1JFIiwiRVFVQUxfUkUiLCJJTV9SRSIsIlBMVVNfUkUiLCJFTkNfQlJBQ0tFVF9PUEVOX1JFIiwiRU5DX0JSQUNLRVRfQ0xPU0VfUkUiLCJFTkNfQ0FSRVRfUkUiLCJFTkNfQkFDS1RJQ0tfUkUiLCJFTkNfQ1VSTFlfT1BFTl9SRSIsIkVOQ19QSVBFX1JFIiwiRU5DX0NVUkxZX0NMT1NFX1JFIiwiRU5DX1NQQUNFX1JFIiwiY29tbW9uRW5jb2RlIiwiZW5jb2RlSGFzaCIsImVuY29kZVF1ZXJ5VmFsdWUiLCJlbmNvZGVRdWVyeUtleSIsImVuY29kZVBhdGgiLCJlbmNvZGVQYXJhbSIsIlRSQUlMSU5HX1NMQVNIX1JFIiwicmVtb3ZlVHJhaWxpbmdTbGFzaCIsInBhcnNlVVJMIiwicGFyc2VRdWVyeSIsImxvY2F0aW9uIiwiY3VycmVudExvY2F0aW9uIiwicXVlcnkiLCJzZWFyY2hTdHJpbmciLCJoYXNoIiwiaGFzaFBvcyIsInNlYXJjaFBvcyIsInJlc29sdmVSZWxhdGl2ZVBhdGgiLCJzdHJpbmdpZnlVUkwiLCJzdHJpbmdpZnlRdWVyeSIsInN0cmlwQmFzZSIsInBhdGhuYW1lIiwiaXNTYW1lUm91dGVMb2NhdGlvbiIsImFMYXN0SW5kZXgiLCJiTGFzdEluZGV4IiwiaXNTYW1lUm91dGVSZWNvcmQiLCJpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zIiwiaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtc1ZhbHVlIiwiaXNFcXVpdmFsZW50QXJyYXkiLCJmcm9tU2VnbWVudHMiLCJ0b1NlZ21lbnRzIiwibGFzdFRvU2VnbWVudCIsInRvUG9zaXRpb24iLCJzZWdtZW50IiwiU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCIsIk5hdmlnYXRpb25UeXBlIiwiTmF2aWdhdGlvbkRpcmVjdGlvbiIsIm5vcm1hbGl6ZUJhc2UiLCJiYXNlRWwiLCJCRUZPUkVfSEFTSF9SRSIsImNyZWF0ZUhyZWYiLCJnZXRFbGVtZW50UG9zaXRpb24iLCJvZmZzZXQiLCJkb2NSZWN0IiwiZWxSZWN0IiwiY29tcHV0ZVNjcm9sbFBvc2l0aW9uIiwic2Nyb2xsVG9Qb3NpdGlvbiIsInNjcm9sbFRvT3B0aW9ucyIsInBvc2l0aW9uRWwiLCJpc0lkU2VsZWN0b3IiLCJnZXRTY3JvbGxLZXkiLCJkZWx0YSIsInNjcm9sbFBvc2l0aW9ucyIsInNhdmVTY3JvbGxQb3NpdGlvbiIsInNjcm9sbFBvc2l0aW9uIiwiZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbiIsInNjcm9sbCIsImNyZWF0ZUJhc2VMb2NhdGlvbiIsImNyZWF0ZUN1cnJlbnRMb2NhdGlvbiIsInNlYXJjaCIsInNsaWNlUG9zIiwicGF0aEZyb21IYXNoIiwidXNlSGlzdG9yeUxpc3RlbmVycyIsImhpc3RvcnlTdGF0ZSIsInJlcGxhY2UiLCJ0ZWFyZG93bnMiLCJwYXVzZVN0YXRlIiwicG9wU3RhdGVIYW5kbGVyIiwiZnJvbVN0YXRlIiwicGF1c2VMaXN0ZW5lcnMiLCJsaXN0ZW4iLCJ0ZWFyZG93biIsImJlZm9yZVVubG9hZExpc3RlbmVyIiwiaGlzdG9yeSIsImRlc3Ryb3kiLCJidWlsZFN0YXRlIiwiYmFjayIsImZvcndhcmQiLCJyZXBsYWNlZCIsImNvbXB1dGVTY3JvbGwiLCJ1c2VIaXN0b3J5U3RhdGVOYXZpZ2F0aW9uIiwiY2hhbmdlTG9jYXRpb24iLCJoYXNoSW5kZXgiLCJwdXNoIiwiY3VycmVudFN0YXRlIiwiY3JlYXRlV2ViSGlzdG9yeSIsImhpc3RvcnlOYXZpZ2F0aW9uIiwiaGlzdG9yeUxpc3RlbmVycyIsImdvIiwidHJpZ2dlckxpc3RlbmVycyIsInJvdXRlckhpc3RvcnkiLCJjcmVhdGVXZWJIYXNoSGlzdG9yeSIsImlzUm91dGVMb2NhdGlvbiIsInJvdXRlIiwiaXNSb3V0ZU5hbWUiLCJOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbCIsIk5hdmlnYXRpb25GYWlsdXJlVHlwZSIsImNyZWF0ZVJvdXRlckVycm9yIiwiaXNOYXZpZ2F0aW9uRmFpbHVyZSIsIkJBU0VfUEFSQU1fUEFUVEVSTiIsIkJBU0VfUEFUSF9QQVJTRVJfT1BUSU9OUyIsIlJFR0VYX0NIQVJTX1JFIiwidG9rZW5zVG9QYXJzZXIiLCJzY29yZSIsInBhdHRlcm4iLCJzZWdtZW50U2NvcmVzIiwidG9rZW5JbmRleCIsInRva2VuIiwic3ViU2VnbWVudFNjb3JlIiwicmVwZWF0YWJsZSIsIm9wdGlvbmFsIiwicmVnZXhwIiwicmUiLCJzdWJQYXR0ZXJuIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJhdm9pZER1cGxpY2F0ZWRTbGFzaCIsInBhcmFtIiwiY29tcGFyZVNjb3JlQXJyYXkiLCJkaWZmIiwiY29tcGFyZVBhdGhQYXJzZXJTY29yZSIsImFTY29yZSIsImJTY29yZSIsImlzTGFzdFNjb3JlTmVnYXRpdmUiLCJST09UX1RPS0VOIiwiVkFMSURfUEFSQU1fUkUiLCJ0b2tlbml6ZVBhdGgiLCJjcmFzaCIsImJ1ZmZlciIsInByZXZpb3VzU3RhdGUiLCJ0b2tlbnMiLCJmaW5hbGl6ZVNlZ21lbnQiLCJjaGFyIiwiY3VzdG9tUmUiLCJjb25zdW1lQnVmZmVyIiwiYWRkQ2hhclRvQnVmZmVyIiwiY3JlYXRlUm91dGVSZWNvcmRNYXRjaGVyIiwicmVjb3JkIiwicGFyc2VyIiwibWF0Y2hlciIsImNyZWF0ZVJvdXRlck1hdGNoZXIiLCJyb3V0ZXMiLCJnbG9iYWxPcHRpb25zIiwibWF0Y2hlcnMiLCJtYXRjaGVyTWFwIiwiZ2V0UmVjb3JkTWF0Y2hlciIsImFkZFJvdXRlIiwib3JpZ2luYWxSZWNvcmQiLCJpc1Jvb3RBZGQiLCJtYWluTm9ybWFsaXplZFJlY29yZCIsIm5vcm1hbGl6ZVJvdXRlUmVjb3JkIiwibm9ybWFsaXplZFJlY29yZHMiLCJhbGlhc2VzIiwiYWxpYXMiLCJvcmlnaW5hbE1hdGNoZXIiLCJub3JtYWxpemVkUmVjb3JkIiwicGFyZW50UGF0aCIsImNvbm5lY3RpbmdTbGFzaCIsImlzQWxpYXNSZWNvcmQiLCJyZW1vdmVSb3V0ZSIsImlzTWF0Y2hhYmxlIiwiaW5zZXJ0TWF0Y2hlciIsIm1hdGNoZXJSZWYiLCJnZXRSb3V0ZXMiLCJwYXJhbXNGcm9tTG9jYXRpb24iLCJwYXJlbnRNYXRjaGVyIiwibWVyZ2VNZXRhRmllbGRzIiwiY2xlYXJSb3V0ZXMiLCJub3JtYWxpemVSZWNvcmRQcm9wcyIsInByb3BzT2JqZWN0IiwibWV0YSIsImRlZmF1bHRzIiwicGFydGlhbE9wdGlvbnMiLCJsb3dlciIsInVwcGVyIiwibWlkIiwiaW5zZXJ0aW9uQW5jZXN0b3IiLCJnZXRJbnNlcnRpb25BbmNlc3RvciIsImFuY2VzdG9yIiwic2VhcmNoUGFyYW1zIiwic2VhcmNoUGFyYW0iLCJlcVBvcyIsImN1cnJlbnRWYWx1ZSIsIm5vcm1hbGl6ZVF1ZXJ5Iiwibm9ybWFsaXplZFF1ZXJ5IiwibWF0Y2hlZFJvdXRlS2V5Iiwidmlld0RlcHRoS2V5Iiwicm91dGVyS2V5Iiwicm91dGVMb2NhdGlvbktleSIsInJvdXRlclZpZXdMb2NhdGlvbktleSIsInVzZUNhbGxiYWNrcyIsImhhbmRsZXJzIiwiYWRkIiwicmVnaXN0ZXJHdWFyZCIsInJlbW92ZUZyb21MaXN0Iiwib25CZWZvcmVSb3V0ZUxlYXZlIiwibGVhdmVHdWFyZCIsImFjdGl2ZVJlY29yZCIsImd1YXJkVG9Qcm9taXNlRm4iLCJydW5XaXRoQ29udGV4dCIsImVudGVyQ2FsbGJhY2tBcnJheSIsInZhbGlkIiwiZ3VhcmRSZXR1cm4iLCJndWFyZENhbGwiLCJleHRyYWN0Q29tcG9uZW50c0d1YXJkcyIsImd1YXJkVHlwZSIsImd1YXJkcyIsInJhd0NvbXBvbmVudCIsImNvbXBvbmVudFByb21pc2UiLCJyZXNvbHZlZENvbXBvbmVudCIsInVzZUxpbmsiLCJyb3V0ZXIiLCJjdXJyZW50Um91dGUiLCJhY3RpdmVSZWNvcmRJbmRleCIsInJvdXRlTWF0Y2hlZCIsImN1cnJlbnRNYXRjaGVkIiwicGFyZW50UmVjb3JkUGF0aCIsImdldE9yaWdpbmFsUGF0aCIsImlzQWN0aXZlIiwiaW5jbHVkZXNQYXJhbXMiLCJpc0V4YWN0QWN0aXZlIiwibmF2aWdhdGUiLCJndWFyZEV2ZW50IiwicHJlZmVyU2luZ2xlVk5vZGUiLCJ2bm9kZXMiLCJSb3V0ZXJMaW5rSW1wbCIsImVsQ2xhc3MiLCJnZXRMaW5rQ2xhc3MiLCJSb3V0ZXJMaW5rIiwib3V0ZXIiLCJpbm5lciIsImlubmVyVmFsdWUiLCJvdXRlclZhbHVlIiwicHJvcENsYXNzIiwiZ2xvYmFsQ2xhc3MiLCJkZWZhdWx0Q2xhc3MiLCJSb3V0ZXJWaWV3SW1wbCIsImluamVjdGVkUm91dGUiLCJyb3V0ZVRvRGlzcGxheSIsImluamVjdGVkRGVwdGgiLCJpbml0aWFsRGVwdGgiLCJtYXRjaGVkUm91dGUiLCJtYXRjaGVkUm91dGVSZWYiLCJ2aWV3UmVmIiwib2xkSW5zdGFuY2UiLCJvbGROYW1lIiwiY3VycmVudE5hbWUiLCJWaWV3Q29tcG9uZW50Iiwicm91dGVQcm9wc09wdGlvbiIsInJvdXRlUHJvcHMiLCJzbG90Q29udGVudCIsIlJvdXRlclZpZXciLCJjcmVhdGVSb3V0ZXIiLCJwYXJzZVF1ZXJ5JDEiLCJzdHJpbmdpZnlRdWVyeSQxIiwiYmVmb3JlR3VhcmRzIiwiYmVmb3JlUmVzb2x2ZUd1YXJkcyIsImFmdGVyR3VhcmRzIiwicGVuZGluZ0xvY2F0aW9uIiwibm9ybWFsaXplUGFyYW1zIiwicGFyYW1WYWx1ZSIsImVuY29kZVBhcmFtcyIsImRlY29kZVBhcmFtcyIsInBhcmVudE9yUm91dGUiLCJyZWNvcmRNYXRjaGVyIiwicm91dGVNYXRjaGVyIiwiaGFzUm91dGUiLCJyYXdMb2NhdGlvbiIsImxvY2F0aW9uTm9ybWFsaXplZCIsImhyZWYiLCJtYXRjaGVyTG9jYXRpb24iLCJ0YXJnZXRQYXJhbXMiLCJmdWxsUGF0aCIsImxvY2F0aW9uQXNPYmplY3QiLCJjaGVja0NhbmNlbGVkTmF2aWdhdGlvbiIsInB1c2hXaXRoUmVkaXJlY3QiLCJoYW5kbGVSZWRpcmVjdFJlY29yZCIsImxhc3RNYXRjaGVkIiwicmVkaXJlY3QiLCJuZXdUYXJnZXRMb2NhdGlvbiIsInJlZGlyZWN0ZWRGcm9tIiwidGFyZ2V0TG9jYXRpb24iLCJzaG91bGRSZWRpcmVjdCIsInRvTG9jYXRpb24iLCJmYWlsdXJlIiwiaGFuZGxlU2Nyb2xsIiwibWFya0FzUmVhZHkiLCJ0cmlnZ2VyRXJyb3IiLCJmaW5hbGl6ZU5hdmlnYXRpb24iLCJ0cmlnZ2VyQWZ0ZXJFYWNoIiwiY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QiLCJpbnN0YWxsZWRBcHBzIiwibGVhdmluZ1JlY29yZHMiLCJ1cGRhdGluZ1JlY29yZHMiLCJlbnRlcmluZ1JlY29yZHMiLCJleHRyYWN0Q2hhbmdpbmdSZWNvcmRzIiwiY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2siLCJydW5HdWFyZFF1ZXVlIiwiYmVmb3JlRW50ZXIiLCJpc1B1c2giLCJpc0ZpcnN0TmF2aWdhdGlvbiIsInJlbW92ZUhpc3RvcnlMaXN0ZW5lciIsInNldHVwTGlzdGVuZXJzIiwiX2Zyb20iLCJpbmZvIiwicmVhZHlIYW5kbGVycyIsImVycm9yTGlzdGVuZXJzIiwicmVhZHkiLCJsaXN0IiwiaXNSZWFkeSIsInNjcm9sbEJlaGF2aW9yIiwic3RhcnRlZCIsInJlYWN0aXZlUm91dGUiLCJ1bm1vdW50QXBwIiwicHJvbWlzZSIsInJlY29yZEZyb20iLCJyZWNvcmRUbyIsInVzZVJvdXRlciIsInVzZVJvdXRlIiwiX25hbWUiLCJ1c2VTaXplRGVmYXVsdHMiLCJ1c2VTaXplUHJvcHMiLCJ1c2VTaXplIiwidXNlU3Bpbm5lclByb3BzIiwidXNlU3Bpbm5lciIsIlFTcGlubmVyIiwiY1NpemUiLCJwb3J0YWxJbmRleCIsImNyZWF0ZUdsb2JhbE5vZGUiLCJwb3J0YWxUeXBlIiwicmVtb3ZlR2xvYmFsTm9kZSIsImNzcyIsImdldEVsZW1lbnQiLCJjaGlsZEhhc0ZvY3VzIiwiZm9jdXNlZEVsIiwic2Nyb2xsVGFyZ2V0UHJvcCIsInNjcm9sbFRhcmdldHMiLCJnZXRTY3JvbGxUYXJnZXQiLCJ0YXJnZXRFbCIsImdldFZlcnRpY2FsU2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxUYXJnZXQiLCJnZXRIb3Jpem9udGFsU2Nyb2xsUG9zaXRpb24iLCJhbmltVmVydGljYWxTY3JvbGxUbyIsInByZXZUaW1lIiwicG9zIiwic2V0U2Nyb2xsIiwibm93VGltZSIsImZyYW1lVGltZSIsImFuaW1Ib3Jpem9udGFsU2Nyb2xsVG8iLCJzZXRIb3Jpem9udGFsU2Nyb2xsIiwic2V0VmVydGljYWxTY3JvbGxQb3NpdGlvbiIsInNldEhvcml6b250YWxTY3JvbGxQb3NpdGlvbiIsInNpemUiLCJnZXRTY3JvbGxiYXJXaWR0aCIsIncxIiwidzIiLCJoYXNTY3JvbGxiYXIiLCJvblkiLCJyZWdpc3RlcmVkIiwic2Nyb2xsUG9zaXRpb25YIiwic2Nyb2xsUG9zaXRpb25ZIiwibWF4U2Nyb2xsVG9wIiwidnBQZW5kaW5nVXBkYXRlIiwiYm9keUxlZnQiLCJib2R5VG9wIiwiY2xvc2VUaW1lciIsIm9uV2hlZWwiLCJzaG91bGRQcmV2ZW50U2Nyb2xsIiwic2hpZnQiLCJzY3JvbGxZIiwib25BcHBsZVNjcm9sbCIsIm9uQXBwbGVSZXNpemUiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxUb3AiLCJhY3Rpb24iLCJib2R5IiwiaGFzVmlld3BvcnQiLCJvdmVyZmxvd1kiLCJvdmVyZmxvd1giLCJwcmV2ZW50U2Nyb2xsIiwidm0iLCJhY3RpdmVHcm91cHMiLCJvcmlnaW5hbERlZmF1bHRzIiwicmVnaXN0ZXJQcm9wcyIsImdyb3VwIiwiZ2V0Q29udGVudCIsInBhcmFtUHJvcHMiLCJsYXN0R3JvdXAiLCJpbm5lckhUTUwiLCJRU3Bpbm5lckhvdXJnbGFzcyIsIm51bWJlciIsImdldEVtcHR5U3RvcmFnZSIsImdldFZhbCIsImdldFN0b3JhZ2UiLCJ3ZWJTdG9yYWdlIiwiaGFzSXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwic3RvcmFnZSIsImJnQXVkaW8iLCJjbGlja0F1ZGlvIiwiTk9STUFMX0JHTV9WT0xVTUUiLCJESU1NRURfQkdNX1ZPTFVNRSIsImdldFNldHRpbmdzIiwiTG9jYWxTdG9yYWdlIiwic2F2ZVNldHRpbmdzIiwic2V0dGluZ3MiLCJmYWRlVG8iLCJ0YXJnZXRWb2wiLCJzdGVwIiwiaW50ZXJ2YWwiLCJiaW5kVmlkZW9EdWNraW5nIiwiYXVkaW9NYW5hZ2VyIiwiYmdNdXNpY0VuYWJsZWQiLCJlbmFibGVkIiwic2Z4RW5hYmxlZCIsIkxvYWRpbmciLCJfb3BlbkJsb2NrIiwiX2NyZWF0ZUVsZW1lbnRCbG9jayIsIl9ob2lzdGVkXzEiLCJfY29tcG9uZW50X3JvdXRlcl92aWV3IiwiZGVmaW5lUm91dGVyIiwiY3JlYXRlUXVhc2FyQXBwIiwiY3JlYXRlQXBwRm4iLCJxdWFzYXJVc2VyT3B0aW9ucyIsIlJvb3RDb21wb25lbnQiLCJ1c2VIaXN0b3J5Iiwic2hvd2luZyIsImhpZGUiLCJoaWRlT25Sb3V0ZUNoYW5nZSIsImhpc3RvcnlFbnRyeSIsInJlbW92ZUZyb21IaXN0b3J5IiwiZ2V0UGFyZW50UHJveHkiLCJ2bUhhc1JvdXRlciIsInZtSXNEZXN0cm95ZWQiLCJ1c2VUaW1lb3V0IiwicmVtb3ZlVGltZW91dCIsInVzZVRpY2siLCJ0aWNrRm4iLCJyZW1vdmVUaWNrIiwidXNlTW9kZWxUb2dnbGVQcm9wcyIsInVzZU1vZGVsVG9nZ2xlRW1pdHMiLCJ1c2VNb2RlbFRvZ2dsZSIsImNhblNob3ciLCJoYW5kbGVTaG93IiwiaGFuZGxlSGlkZSIsInByb2Nlc3NPbk1vdW50IiwicGF5bG9hZCIsInRvZ2dsZSIsInNob3ciLCJwcm9jZXNzU2hvdyIsInByb2Nlc3NIaWRlIiwicHJvY2Vzc01vZGVsQ2hhbmdlIiwicHVibGljTWV0aG9kcyIsInVzZVRyYW5zaXRpb25Qcm9wcyIsInVzZVRyYW5zaXRpb24iLCJkZWZhdWx0U2hvd0ZuIiwiZGVmYXVsdEhpZGVGbiIsIndhaXRGbGFncyIsImNsZWFyRmxhZyIsImFkZEZvY3VzV2FpdEZsYWciLCJyZW1vdmVGb2N1c1dhaXRGbGFnIiwiYWRkRm9jdXNGbiIsInJlbW92ZUZvY3VzRm4iLCJwb3J0YWxQcm94eUxpc3QiLCJnZXRQb3J0YWxQcm94eSIsImNsb3NlUG9ydGFsTWVudXMiLCJjbG9zZVBvcnRhbHMiLCJRUG9ydGFsIiwiaXNPbkdsb2JhbERpYWxvZyIsInVzZVBvcnRhbCIsImlubmVyUmVmIiwicmVuZGVyUG9ydGFsQ29udGVudCIsInBvcnRhbElzQWN0aXZlIiwicG9ydGFsSXNBY2Nlc3NpYmxlIiwicG9ydGFsRWwiLCJmb2N1c09iaiIsIm9uR2xvYmFsRGlhbG9nIiwic2hvd1BvcnRhbCIsImhpZGVQb3J0YWwiLCJ1c2VQcmV2ZW50U2Nyb2xsIiwiaFNsb3QiLCJvdGhlcndpc2UiLCJoVW5pcXVlU2xvdCIsImhNZXJnZVNsb3QiLCJoTWVyZ2VTbG90U2FmZWx5IiwiaERpciIsImNvbmRpdGlvbiIsImdldERpcnNGbiIsImVzY0Rvd24iLCJvbktleWRvd24iLCJvbkJsdXIiLCJvbktleXVwIiwiYWRkRXNjYXBlS2V5IiwicmVtb3ZlRXNjYXBlS2V5IiwiYWRkRm9jdXNvdXQiLCJyZW1vdmVGb2N1c291dCIsIm1heGltaXplZE1vZGFscyIsInBvc2l0aW9uQ2xhc3MiLCJkZWZhdWx0VHJhbnNpdGlvbnMiLCJRRGlhbG9nIiwiYW5pbWF0aW5nIiwic2hha2VUaW1lb3V0IiwicmVmb2N1c1RhcmdldCIsImlzTWF4aW1pemVkIiwiYXZvaWRBdXRvQ2xvc2UiLCJwcmV2ZW50Qm9keVNjcm9sbCIsInJlZ2lzdGVyVGltZW91dCIsInJlZ2lzdGVyVGljayIsInRyYW5zaXRpb25Qcm9wcyIsInRyYW5zaXRpb25TdHlsZSIsImJhY2tkcm9wU3R5bGUiLCJyZW5kZXJQb3J0YWwiLCJhZGRUb0hpc3RvcnkiLCJ1c2VCYWNrZHJvcCIsIm9uRXZlbnRzIiwib25BdXRvQ2xvc2UiLCJyb290Q2xhc3NlcyIsInVwZGF0ZU1heGltaXplZCIsIm9uRm9jdXNDaGFuZ2UiLCJvbkVzY2FwZUtleSIsImZvY3VzIiwidG9wIiwiYm90dG9tIiwiaW5uZXJIZWlnaHQiLCJzaGFrZSIsImZvY3VzVGFyZ2V0IiwiaGlkaW5nIiwiYWN0aXZlIiwib25CYWNrZHJvcENsaWNrIiwiZGVmYXVsdFZpZXdCb3giLCJzYW1lRm4iLCJpb25GbiIsImxpYk1hcCIsIm1hdE1hcCIsInN5bU1hcCIsImxpYlJFIiwibWF0UkUiLCJzeW1SRSIsIm1SRSIsImltZ1JFIiwic3ZnVXNlUkUiLCJpb25SRSIsImZhUkUiLCJRSWNvbiIsInNpemVTdHlsZSIsImljb24iLCJ2aWV3Qm94IiwidHJhbnNmb3JtIiwibWF0Y2hlcyIsInRocm90dGxlIiwibGltaXQiLCJzaG93UmlwcGxlIiwiZm9yY2VDZW50ZXIiLCJjZW50ZXIiLCJpbm5lck5vZGUiLCJsZWZ0Iiwid2lkdGgiLCJkaWFtZXRlciIsInJhZGl1cyIsImNlbnRlclgiLCJjZW50ZXJZIiwieSIsImFib3J0IiwidXBkYXRlTW9kaWZpZXJzIiwiUmlwcGxlIiwiYWxpZ25NYXAiLCJhbGlnblZhbHVlcyIsInVzZUFsaWduUHJvcHMiLCJ1c2VBbGlnbiIsImFsaWduIiwidXNlUm91dGVyTGlua05vbk1hdGNoaW5nUHJvcHMiLCJ1c2VSb3V0ZXJMaW5rUHJvcHMiLCJ1c2VSb3V0ZXJMaW5rIiwiZmFsbGJhY2tUYWciLCJ1c2VEaXNhYmxlRm9yUm91dGVyTGlua1Byb3BzIiwiaGFzUm91dGVyIiwiaGFzSHJlZkxpbmsiLCJoYXNSb3V0ZXJMaW5rUHJvcHMiLCJyZXNvbHZlZExpbmsiLCJnZXRMaW5rIiwiaGFzUm91dGVyTGluayIsImhhc0xpbmsiLCJsaW5rVGFnIiwibGlua0F0dHJzIiwibGlua0FjdGl2ZUluZGV4IiwibGlua0lzQWN0aXZlIiwibGlua0lzRXhhY3RBY3RpdmUiLCJsaW5rQ2xhc3MiLCJuYXZpZ2F0ZVRvUm91dGVyTGluayIsInJldHVyblJvdXRlckVycm9yIiwibmF2aWdhdGVPbkNsaWNrIiwiYnRuUGFkZGluZyIsImRlZmF1bHRTaXplcyIsImZvcm1UeXBlcyIsIm1lZGlhVHlwZVJFIiwiYnRuRGVzaWduT3B0aW9ucyIsImdldEJ0bkRlc2lnbiIsImdldEJ0bkRlc2lnbkF0dHIiLCJkZXNpZ24iLCJub25Sb3VuZEJ0blByb3BzIiwidXNlQnRuUHJvcHMiLCJ1c2VCdG4iLCJhbGlnbkNsYXNzIiwiaXNSb3VuZGVkIiwiaXNBY3Rpb25hYmxlIiwidGFiSW5kZXgiLCJhdHRyaWJ1dGVzIiwiY29sb3JzIiwic2hhcGUiLCJpbm5lckNsYXNzZXMiLCJwYXNzaXZlQ2FwdHVyZSIsInRvdWNoVGFyZ2V0Iiwia2V5Ym9hcmRUYXJnZXQiLCJtb3VzZVRhcmdldCIsIlFCdG4iLCJyb290UmVmIiwiYmx1clRhcmdldFJlZiIsImxvY2FsVG91Y2hUYXJnZXRFbCIsImF2b2lkTW91c2VSaXBwbGUiLCJtb3VzZVRpbWVyIiwiaGFzTGFiZWwiLCJyaXBwbGUiLCJyaXBwbGVQcm9wcyIsInBlcmNlbnRhZ2VTdHlsZSIsIm9uTG9hZGluZ0V2dCIsIm9uQ2xpY2siLCJvbk1vdXNlZG93biIsInN1ZmZpeCIsIm9uVG91Y2hzdGFydCIsIm5vZGVQcm9wcyIsIm9uQ2xpY2tDbGVhbnVwIiwib25QcmVzc0VuZCIsImRlc3Ryb3lpbmciLCJibHVyVGFyZ2V0IiwidXNlRGFya1Byb3BzIiwidXNlRGFyayIsIlFDYXJkIiwiaXNEYXJrIiwiUUNhcmRTZWN0aW9uIiwiUUNhcmRBY3Rpb25zIiwiaW5zZXRNYXAiLCJtYXJnaW5zIiwiUVNlcGFyYXRvciIsIm9yaWVudGF0aW9uIiwib3JpZW50Q2xhc3MiLCJpbnNldENsYXNzIiwiYnVmIiwiYnVmSWR4IiwiaGV4Qnl0ZXMiLCJyYW5kb21CeXRlcyIsImxpYiIsImJ5dGVzIiwiQlVGRkVSX1NJWkUiLCJwYXJzZVZhbHVlIiwicmVxdWlyZWQiLCJ1c2VJZCIsImdldFZhbHVlIiwibmV3SWQiLCJsaXN0ZW5lclJFIiwidXNlU3BsaXRBdHRycyIsInVzZUZvcm1DaGlsZCIsInZhbGlkYXRlIiwicmVzZXRWYWxpZGF0aW9uIiwicmVxdWlyZXNRRm9ybSIsIiRmb3JtIiwiaGV4IiwiaGV4YSIsImhleE9ySGV4YSIsInJnYiIsInJnYmEiLCJ0ZXN0UGF0dGVybiIsImxhenlSdWxlc1ZhbHVlcyIsInVzZVZhbGlkYXRlUHJvcHMiLCJ1c2VWYWxpZGF0ZSIsImZvY3VzZWQiLCJpbm5lckxvYWRpbmciLCJpbm5lckVycm9yIiwiaW5uZXJFcnJvck1lc3NhZ2UiLCJpc0RpcnR5TW9kZWwiLCJ2YWxpZGF0ZUluZGV4IiwidW53YXRjaFJ1bGVzIiwiaGFzUnVsZXMiLCJjYW5EZWJvdW5jZVZhbGlkYXRlIiwiaGFzRXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJkZWJvdW5jZWRWYWxpZGF0ZSIsIm9uUnVsZXNDaGFuZ2UiLCJzZXREaXJ0eSIsInByb21pc2VzIiwicnVsZSIsImZpZWxkVmFsdWVJc0ZpbGxlZCIsInVzZU5vbklucHV0RmllbGRQcm9wcyIsInVzZUZpZWxkUHJvcHMiLCJ1c2VGaWVsZEVtaXRzIiwidXNlRmllbGRTdGF0ZSIsInJlcXVpcmVkRm9yQXR0ciIsInRhZ1Byb3AiLCJjaGFuZ2VFdmVudCIsInRhcmdldFVpZCIsInVzZUZpZWxkIiwiZm9jdXNvdXRUaW1lciIsIm9uQ29udHJvbEZvY3VzaW4iLCJvbkNvbnRyb2xGb2N1c291dCIsImNsZWFyVmFsdWUiLCJtYXgiLCJmbG9hdGluZ0xhYmVsIiwic2hvdWxkUmVuZGVyQm90dG9tIiwic3R5bGVUeXBlIiwiY29udGVudENsYXNzIiwibGFiZWxDbGFzcyIsImNvbnRyb2xTbG90U2NvcGUiLCJmb2N1c0hhbmRsZXIiLCJibHVyIiwidGhlbiIsIm9uQ2xlYXJhYmxlS2V5dXAiLCJnZXRDb250cm9sQ29udGFpbmVyIiwiZ2V0SW5uZXJBcHBlbmROb2RlIiwiZ2V0Qm90dG9tIiwiaGFzQ291bnRlciIsIm1haW4iLCJzaG91bGRBY3RpdmF0ZSIsImxhYmVsQXR0cnMiLCJOQU1FRF9NQVNLUyIsIkRFRkFVTFRfVE9LRU5fTUFQIiwiREVGQVVMVF9UT0tFTl9NQVBfS0VZUyIsImdldFRva2VuTWFwIiwidG9rZW5LZXlzIiwidG9rZW5NYXAiLCJnZXRUb2tlblJlZ2V4TWFzayIsImVzY1JlZ2V4IiwiREVGQVVMVF9UT0tFTl9SRUdFWF9NQVNLIiwiTUFSS0VSIiwidXNlTWFza1Byb3BzIiwidXNlTWFzayIsImVtaXRWYWx1ZSIsImlucHV0UmVmIiwibWFza01hcmtlZCIsIm1hc2tSZXBsYWNlZCIsImNvbXB1dGVkTWFzayIsImNvbXB1dGVkVW5tYXNrIiwicGFzdGVkVGV4dFN0YXJ0Iiwic2VsZWN0aW9uQW5jaG9yIiwiY3VzdG9tVG9rZW5zIiwiaGFzTWFzayIsImdldEluaXRpYWxNYXNrZWRWYWx1ZSIsImdldElzVHlwZVRleHQiLCJ1cGRhdGVNYXNrSW50ZXJuYWxzIiwidXBkYXRlTWFza1ZhbHVlIiwidW5tYXNrVmFsdWUiLCJtYXNrZWQiLCJtYXNrVmFsdWUiLCJmaWxsV2l0aE1hc2siLCJnZXRQYWRkZWRNYXNrTWFya2VkIiwicGFkIiwibG9jYWxNYXNrTWFya2VkIiwicGFkUG9zIiwibG9jYWxDb21wdXRlZE1hc2siLCJmaWxsQ2hhciIsImZpbGxDaGFyRXNjYXBlZCIsInVubWFzayIsImV4dHJhY3QiLCJtYXNrIiwiZmlyc3RNYXRjaCIsInVubWFza0NoYXIiLCJuZWdhdGVDaGFyIiwiY2hhcjEiLCJlc2MiLCJjaGFyMiIsInVubWFza01hdGNoZXIiLCJleHRyYWN0TGFzdCIsImV4dHJhY3RNYXRjaGVyIiwidW5tYXNrTWF0Y2giLCJleHRyYWN0TWF0Y2giLCJleHRyYWN0TWF0Y2hlckxlbmd0aCIsInJhd1ZhbCIsInVwZGF0ZU1hc2tJbnRlcm5hbHNGbGFnIiwiaW5wdXRUeXBlIiwiaW5wIiwiZW5kUmV2ZXJzZSIsInVubWFza2VkIiwicHJlTWFza2VkIiwiY2hhbmdlZCIsImN1cnNvciIsIm1heEVuZCIsIm1vdmVDdXJzb3IiLCJtb3ZlQ3Vyc29yRm9yUGFzdGUiLCJub01hcmtCZWZvcmUiLCJvbk1hc2tlZENsaWNrIiwib25NYXNrZWRLZXlkb3duIiwibWFza1ZhbHVlUmV2ZXJzZSIsInZhbEluZGV4IiwibWFza0luZGV4IiwidmFsQ2hhciIsIm1hc2tEZWYiLCJmaXJzdFRva2VuSW5kZXgiLCJ1c2VGb3JtUHJvcHMiLCJ1c2VGb3JtSW5qZWN0IiwiZm9ybUF0dHJzIiwiY2xhc3NOYW1lIiwidXNlRm9ybUlucHV0TmFtZUF0dHIiLCJ1c2VGaWxlRm9ybURvbVByb3BzIiwidHlwZUd1YXJkIiwiZ2V0Rm9ybURvbVByb3BzIiwibW9kZWwiLCJkdCIsImZpbGUiLCJpc0phcGFuZXNlIiwiaXNDaGluZXNlIiwiaXNLb3JlYW4iLCJpc1BsYWluVGV4dCIsInVzZUtleUNvbXBvc2l0aW9uIiwib25JbnB1dCIsIlFJbnB1dCIsInRlbXAiLCJlbWl0Q2FjaGVkVmFsdWUiLCJ0eXBlZE51bWJlciIsInN0b3BWYWx1ZVdhdGNoZXIiLCJlbWl0VGltZXIiLCJlbWl0VmFsdWVGbiIsIm5hbWVQcm9wIiwiZm9ybURvbVByb3BzIiwiaGFzVmFsdWUiLCJvbkNvbXBvc2l0aW9uIiwiaXNUZXh0YXJlYSIsImlzVHlwZVRleHQiLCJvblBhc3RlIiwib25DaGFuZ2UiLCJvbkZpbmlzaEVkaXRpbmciLCJvbkFuaW1hdGlvbmVuZCIsImlucHV0QXR0cnMiLCJhZGp1c3RIZWlnaHQiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsInN0b3BXYXRjaGVyIiwicGFyZW50U3R5bGUiLCJtYXhIZWlnaHQiLCJjaGFuZ2VPdmVyZmxvdyIsImdldEN1clZhbHVlIiwicmVuZGVyRm4iLCJ1c2VSZWZvY3VzVGFyZ2V0IiwicmVmb2N1c1JlZiIsInJlZm9jdXNUYXJnZXRFbCIsIm9wdGlvblNpemVzIiwiY3JlYXRlU3ZnIiwiUVJhZGlvIiwiaXNUcnVlIiwiaW5uZXJDbGFzcyIsInRhYmluZGV4IiwiaW5qZWN0Rm9ybUlucHV0Iiwic3ZnIiwidXNlQ2hlY2tib3hQcm9wcyIsInVzZUNoZWNrYm94RW1pdHMiLCJ1c2VDaGVja2JveCIsImdldElubmVyIiwibW9kZWxJc0FycmF5IiwiaXNGYWxzZSIsImlzSW5kZXRlcm1pbmF0ZSIsImdldE5leHRWYWx1ZSIsImdldElubmVyQ29udGVudCIsImNyZWF0ZUJnTm9kZSIsIlFDaGVja2JveCIsImJnTm9kZSIsIlFUb2dnbGUiLCJ0eXBlVmFsdWVzIiwiZ2V0UHJvcFZhbHVlRm4iLCJ1c2VyUHJvcE5hbWUiLCJkZWZhdWx0UHJvcE5hbWUiLCJRT3B0aW9uR3JvdXAiLCJhcnJheU1vZGVsIiwiZ2V0T3B0aW9uVmFsdWUiLCJnZXRPcHRpb25MYWJlbCIsImdldE9wdGlvbkRpc2FibGUiLCJpbm5lck9wdGlvbnMiLCJvblVwZGF0ZU1vZGVsVmFsdWUiLCJEaWFsb2dQbHVnaW4iLCJkaWFsb2dSZWYiLCJ2bUNvbG9yIiwic3Bpbm5lciIsImhhc0Zvcm0iLCJmb3JtUHJvcHMiLCJpc1ZhbGlkIiwiaXRlbXMiLCJva0xhYmVsIiwiY2FuY2VsTGFiZWwiLCJva0Rpc2FibGVkIiwib2tQcm9wcyIsIm9uT2siLCJjYW5jZWxQcm9wcyIsIm9uQ2FuY2VsIiwib25VcGRhdGVNb2RlbCIsIm9uRGlhbG9nSGlkZSIsIm9uSW5wdXRLZXl1cCIsImdldFNlY3Rpb24iLCJnZXRQcm9tcHQiLCJnZXRPcHRpb25zIiwiZ2V0QnV0dG9ucyIsImdldENhcmRDb250ZW50IiwibWVyZ2UiLCJnbG9iYWxEaWFsb2ciLCJEZWZhdWx0Q29tcG9uZW50Iiwic3VwcG9ydHNDdXN0b21Db21wb25lbnQiLCJwbHVnaW5Qcm9wcyIsIkRpYWxvZ0NvbXBvbmVudCIsImlzQ3VzdG9tIiwiY29tcG9uZW50UHJvcHMiLCJvdGhlclByb3BzIiwiZW1pdHRlZE9LIiwiYXBwbHlTdGF0ZSIsImNtZCIsIm9rRm5zIiwiY2FuY2VsRm5zIiwiQVBJIiwib25IaWRlIiwiRGlhbG9nIiwiUUF2YXRhciIsImNvbnRlbnRTdHlsZSIsImdyb3VwcyIsIm5vdGlmaWNhdGlvbnNMaXN0IiwiZW1wdHlSRSIsIm5vdGlmUmVmcyIsImludmFsaWRUaW1lb3V0VmFsdWVzIiwicG9zaXRpb25MaXN0IiwiYmFkZ2VQb3NpdGlvbnMiLCJub3RpZlR5cGVzIiwiYWRkTm90aWZpY2F0aW9uIiwiY29uZmlnIiwib3JpZ2luYWxBcGkiLCJBcGkiLCJub3RpZiIsImhhc0NvbnRlbnQiLCJhY3Rpb25zIiwiY2xvc2VCdG4iLCJub0Rpc21pc3MiLCJkaXNtaXNzIiwib3JpZ2luYWwiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJuZXdOb3RpZiIsImdldENvbXBvbmVudCIsIm1haW5DaGlsZCIsIm1zZ0NoaWxkIiwibXNnRGF0YSIsIm1zZ05vZGUiLCJOb3RpZnkiLCJ0eXBlT3B0cyIsInZlcnQiLCJwdWJsaWNQYXRoIiwiYm9vdEZpbGVzIiwiaGFzUmVkaXJlY3RlZCIsImdldFJlZGlyZWN0VXJsIiwidXJsUGF0aCIsIm1hcEZuIiwiYm9vdCJdLCJpZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNyw0MCw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5M10sInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvc2hhcmVkL2Rpc3Qvc2hhcmVkLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWUvcmVhY3Rpdml0eS9kaXN0L3JlYWN0aXZpdHkuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWNvcmUvZGlzdC9ydW50aW1lLWNvcmUuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWRvbS9kaXN0L3J1bnRpbWUtZG9tLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvY29yZS9kaXN0L2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BjYXBhY2l0b3IvYXBwL2Rpc3QvZXNtL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcHJpdmF0ZS5pbmplY3Qtb2JqLXByb3AvaW5qZWN0LW9iai1wcm9wLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvcGx1Z2lucy9wbGF0Zm9ybS9QbGF0Zm9ybS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3V0aWxzL2V2ZW50L2V2ZW50LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvZGVib3VuY2UvZGVib3VuY2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9wbHVnaW5zL3NjcmVlbi9TY3JlZW4uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9wbHVnaW5zL2RhcmsvRGFyay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3V0aWxzL2Nzcy12YXIvc2V0LWNzcy12YXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy91dGlscy9wcml2YXRlLmtleWJvYXJkL2tleS1jb21wb3NpdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3BsdWdpbnMvcHJpdmF0ZS5ib2R5L0JvZHkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9wbHVnaW5zL3ByaXZhdGUuaGlzdG9yeS9IaXN0b3J5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9sYW5nL2VuLVVTLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvcGx1Z2lucy9sYW5nL0xhbmcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL2ljb24tc2V0L21hdGVyaWFsLWljb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvcGx1Z2lucy9pY29uLXNldC9JY29uU2V0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcHJpdmF0ZS5zeW1ib2xzL3N5bWJvbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy91dGlscy9wcml2YXRlLmNvbmZpZy9pbnN0YW5jZS1jb25maWcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy91dGlscy9pcy9pcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2luc3RhbGwtcXVhc2FyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdnVlLXBsdWdpbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtcm91dGVyL2Rpc3QvdnVlLXJvdXRlci5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1zaXplL3VzZS1zaXplLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9uZW50cy9zcGlubmVyL3VzZS1zcGlubmVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9uZW50cy9zcGlubmVyL1FTcGlubmVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcHJpdmF0ZS5jb25maWcvbm9kZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy91dGlscy9kb20vZG9tLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvc2Nyb2xsL3Njcm9sbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3V0aWxzL3Njcm9sbC9wcmV2ZW50LXNjcm9sbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3BsdWdpbnMvbG9hZGluZy9Mb2FkaW5nLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9uZW50cy9zcGlubmVyL1FTcGlubmVySG91cmdsYXNzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvcGx1Z2lucy9zdG9yYWdlL2VuZ2luZS93ZWItc3RvcmFnZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3BsdWdpbnMvc3RvcmFnZS9Mb2NhbFN0b3JhZ2UuanMiLCIuLi8uLi8uLi9zcmMvdXRpbHMvYXVkaW9NYW5hZ2VyLmpzIiwiLi4vLi4vLi4vc3JjL0FwcC52dWUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHF1YXNhci9hcHAtdml0ZS9leHBvcnRzL3dyYXBwZXJzL3dyYXBwZXJzLmpzIiwiLi4vLi4vLi4vc3JjL3JvdXRlci9yb3V0ZXMuanMiLCIuLi8uLi8uLi9zcmMvcm91dGVyL2luZGV4LmpzIiwiLi4vLi4vLi4vLnF1YXNhci9wcm9kLWNhcGFjaXRvci1hbmRyb2lkL2FwcC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLWhpc3RvcnkvdXNlLWhpc3RvcnkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy91dGlscy9wcml2YXRlLnZtL3ZtLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9zYWJsZXMvdXNlLXRpbWVvdXQvdXNlLXRpbWVvdXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb3NhYmxlcy91c2UtdGljay91c2UtdGljay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLW1vZGVsLXRvZ2dsZS91c2UtbW9kZWwtdG9nZ2xlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9zYWJsZXMvcHJpdmF0ZS51c2UtdHJhbnNpdGlvbi91c2UtdHJhbnNpdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3V0aWxzL3ByaXZhdGUuZm9jdXMvZm9jdXMtbWFuYWdlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3V0aWxzL3ByaXZhdGUucG9ydGFsL3BvcnRhbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLXBvcnRhbC91c2UtcG9ydGFsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9zYWJsZXMvcHJpdmF0ZS51c2UtcHJldmVudC1zY3JvbGwvdXNlLXByZXZlbnQtc2Nyb2xsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcHJpdmF0ZS5yZW5kZXIvcmVuZGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcHJpdmF0ZS5rZXlib2FyZC9lc2NhcGUta2V5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcHJpdmF0ZS5mb2N1cy9mb2N1c291dC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvZGlhbG9nL1FEaWFsb2cuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL2ljb24vUUljb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy91dGlscy90aHJvdHRsZS90aHJvdHRsZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2RpcmVjdGl2ZXMvcmlwcGxlL1JpcHBsZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLWFsaWduL3VzZS1hbGlnbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLXJvdXRlci1saW5rL3VzZS1yb3V0ZXItbGluay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvYnRuL3VzZS1idG4uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL2J0bi9RQnRuLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9zYWJsZXMvcHJpdmF0ZS51c2UtZGFyay91c2UtZGFyay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvY2FyZC9RQ2FyZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvY2FyZC9RQ2FyZFNlY3Rpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL2NhcmQvUUNhcmRBY3Rpb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9uZW50cy9zZXBhcmF0b3IvUVNlcGFyYXRvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3V0aWxzL3VpZC91aWQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb3NhYmxlcy91c2UtaWQvdXNlLWlkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9zYWJsZXMvdXNlLXNwbGl0LWF0dHJzL3VzZS1zcGxpdC1hdHRycy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvc2FibGVzL3VzZS1mb3JtL3VzZS1mb3JtLWNoaWxkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcGF0dGVybnMvcGF0dGVybnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS12YWxpZGF0ZS91c2UtdmFsaWRhdGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1maWVsZC91c2UtZmllbGQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL2lucHV0L3VzZS1tYXNrLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9zYWJsZXMvdXNlLWZvcm0vcHJpdmF0ZS51c2UtZm9ybS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLWZpbGUvdXNlLWZpbGUtZG9tLXByb3BzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9zYWJsZXMvcHJpdmF0ZS51c2Uta2V5LWNvbXBvc2l0aW9uL3VzZS1rZXktY29tcG9zaXRpb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL2lucHV0L1FJbnB1dC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLXJlZm9jdXMtdGFyZ2V0L3VzZS1yZWZvY3VzLXRhcmdldC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3V0aWxzL3ByaXZhdGUub3B0aW9uLXNpemVzL29wdGlvbi1zaXplcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvcmFkaW8vUVJhZGlvLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9uZW50cy9jaGVja2JveC91c2UtY2hlY2tib3guanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL2NoZWNrYm94L1FDaGVja2JveC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvdG9nZ2xlL1FUb2dnbGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL29wdGlvbi1ncm91cC9RT3B0aW9uR3JvdXAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9wbHVnaW5zL2RpYWxvZy9jb21wb25lbnQvRGlhbG9nUGx1Z2luQ29tcG9uZW50LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcHJpdmF0ZS5kaWFsb2cvY3JlYXRlLWRpYWxvZy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL3BsdWdpbnMvZGlhbG9nL0RpYWxvZy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvYXZhdGFyL1FBdmF0YXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9wbHVnaW5zL25vdGlmeS9Ob3RpZnkuanMiLCIuLi8uLi8uLi8ucXVhc2FyL3Byb2QtY2FwYWNpdG9yLWFuZHJvaWQvcXVhc2FyLXVzZXItb3B0aW9ucy5qcyIsIi4uLy4uLy4uLy5xdWFzYXIvcHJvZC1jYXBhY2l0b3ItYW5kcm9pZC9jbGllbnQtZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEB2dWUvc2hhcmVkIHYzLjUuMjFcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBtYWtlTWFwKHN0cikge1xuICBjb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChjb25zdCBrZXkgb2Ygc3RyLnNwbGl0KFwiLFwiKSkgbWFwW2tleV0gPSAxO1xuICByZXR1cm4gKHZhbCkgPT4gdmFsIGluIG1hcDtcbn1cblxuY29uc3QgRU1QVFlfT0JKID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoe30pIDoge307XG5jb25zdCBFTVBUWV9BUlIgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gT2JqZWN0LmZyZWV6ZShbXSkgOiBbXTtcbmNvbnN0IE5PT1AgPSAoKSA9PiB7XG59O1xuY29uc3QgTk8gPSAoKSA9PiBmYWxzZTtcbmNvbnN0IGlzT24gPSAoa2V5KSA9PiBrZXkuY2hhckNvZGVBdCgwKSA9PT0gMTExICYmIGtleS5jaGFyQ29kZUF0KDEpID09PSAxMTAgJiYgLy8gdXBwZXJjYXNlIGxldHRlclxuKGtleS5jaGFyQ29kZUF0KDIpID4gMTIyIHx8IGtleS5jaGFyQ29kZUF0KDIpIDwgOTcpO1xuY29uc3QgaXNNb2RlbExpc3RlbmVyID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoXCJvblVwZGF0ZTpcIik7XG5jb25zdCBleHRlbmQgPSBPYmplY3QuYXNzaWduO1xuY29uc3QgcmVtb3ZlID0gKGFyciwgZWwpID0+IHtcbiAgY29uc3QgaSA9IGFyci5pbmRleE9mKGVsKTtcbiAgaWYgKGkgPiAtMSkge1xuICAgIGFyci5zcGxpY2UoaSwgMSk7XG4gIH1cbn07XG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5jb25zdCBoYXNPd24gPSAodmFsLCBrZXkpID0+IGhhc093blByb3BlcnR5LmNhbGwodmFsLCBrZXkpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc01hcCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgTWFwXVwiO1xuY29uc3QgaXNTZXQgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IFNldF1cIjtcbmNvbnN0IGlzRGF0ZSA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcbmNvbnN0IGlzUmVnRXhwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBSZWdFeHBdXCI7XG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNTdHJpbmcgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiO1xuY29uc3QgaXNTeW1ib2wgPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcInN5bWJvbFwiO1xuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIjtcbmNvbnN0IGlzUHJvbWlzZSA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkgJiYgaXNGdW5jdGlvbih2YWwudGhlbikgJiYgaXNGdW5jdGlvbih2YWwuY2F0Y2gpO1xufTtcbmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IHRvVHlwZVN0cmluZyA9ICh2YWx1ZSkgPT4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5jb25zdCB0b1Jhd1R5cGUgPSAodmFsdWUpID0+IHtcbiAgcmV0dXJuIHRvVHlwZVN0cmluZyh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xufTtcbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbmNvbnN0IGlzSW50ZWdlcktleSA9IChrZXkpID0+IGlzU3RyaW5nKGtleSkgJiYga2V5ICE9PSBcIk5hTlwiICYmIGtleVswXSAhPT0gXCItXCIgJiYgXCJcIiArIHBhcnNlSW50KGtleSwgMTApID09PSBrZXk7XG5jb25zdCBpc1Jlc2VydmVkUHJvcCA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICAvLyB0aGUgbGVhZGluZyBjb21tYSBpcyBpbnRlbnRpb25hbCBzbyBlbXB0eSBzdHJpbmcgXCJcIiBpcyBhbHNvIGluY2x1ZGVkXG4gIFwiLGtleSxyZWYscmVmX2ZvcixyZWZfa2V5LG9uVm5vZGVCZWZvcmVNb3VudCxvblZub2RlTW91bnRlZCxvblZub2RlQmVmb3JlVXBkYXRlLG9uVm5vZGVVcGRhdGVkLG9uVm5vZGVCZWZvcmVVbm1vdW50LG9uVm5vZGVVbm1vdW50ZWRcIlxuKTtcbmNvbnN0IGlzQnVpbHRJbkRpcmVjdGl2ZSA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBcImJpbmQsY2xvYWssZWxzZS1pZixlbHNlLGZvcixodG1sLGlmLG1vZGVsLG9uLG9uY2UscHJlLHNob3csc2xvdCx0ZXh0LG1lbW9cIlxuKTtcbmNvbnN0IGNhY2hlU3RyaW5nRnVuY3Rpb24gPSAoZm4pID0+IHtcbiAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuICgoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH0pO1xufTtcbmNvbnN0IGNhbWVsaXplUkUgPSAvLVxcdy9nO1xuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKFxuICAoc3RyKSA9PiB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIChjKSA9PiBjLnNsaWNlKDEpLnRvVXBwZXJDYXNlKCkpO1xuICB9XG4pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59KTtcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oXG4gIChzdHIpID0+IHtcbiAgICBjb25zdCBzID0gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgO1xuICAgIHJldHVybiBzO1xuICB9XG4pO1xuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgLi4uYXJnKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm5zW2ldKC4uLmFyZyk7XG4gIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlLCB3cml0YWJsZSA9IGZhbHNlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZSxcbiAgICB2YWx1ZVxuICB9KTtcbn07XG5jb25zdCBsb29zZVRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gaXNTdHJpbmcodmFsKSA/IE51bWJlcih2YWwpIDogTmFOO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2xvYmFsVGhpcyB8fCAoX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHt9KTtcbn07XG5jb25zdCBpZGVudFJFID0gL15bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKiQvO1xuZnVuY3Rpb24gZ2VuUHJvcHNBY2Nlc3NFeHAobmFtZSkge1xuICByZXR1cm4gaWRlbnRSRS50ZXN0KG5hbWUpID8gYF9fcHJvcHMuJHtuYW1lfWAgOiBgX19wcm9wc1ske0pTT04uc3RyaW5naWZ5KG5hbWUpfV1gO1xufVxuZnVuY3Rpb24gZ2VuQ2FjaGVLZXkoc291cmNlLCBvcHRpb25zKSB7XG4gIHJldHVybiBzb3VyY2UgKyBKU09OLnN0cmluZ2lmeShcbiAgICBvcHRpb25zLFxuICAgIChfLCB2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIiA/IHZhbC50b1N0cmluZygpIDogdmFsXG4gICk7XG59XG5cbmNvbnN0IFBhdGNoRmxhZ3MgPSB7XG4gIFwiVEVYVFwiOiAxLFxuICBcIjFcIjogXCJURVhUXCIsXG4gIFwiQ0xBU1NcIjogMixcbiAgXCIyXCI6IFwiQ0xBU1NcIixcbiAgXCJTVFlMRVwiOiA0LFxuICBcIjRcIjogXCJTVFlMRVwiLFxuICBcIlBST1BTXCI6IDgsXG4gIFwiOFwiOiBcIlBST1BTXCIsXG4gIFwiRlVMTF9QUk9QU1wiOiAxNixcbiAgXCIxNlwiOiBcIkZVTExfUFJPUFNcIixcbiAgXCJORUVEX0hZRFJBVElPTlwiOiAzMixcbiAgXCIzMlwiOiBcIk5FRURfSFlEUkFUSU9OXCIsXG4gIFwiU1RBQkxFX0ZSQUdNRU5UXCI6IDY0LFxuICBcIjY0XCI6IFwiU1RBQkxFX0ZSQUdNRU5UXCIsXG4gIFwiS0VZRURfRlJBR01FTlRcIjogMTI4LFxuICBcIjEyOFwiOiBcIktFWUVEX0ZSQUdNRU5UXCIsXG4gIFwiVU5LRVlFRF9GUkFHTUVOVFwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiVU5LRVlFRF9GUkFHTUVOVFwiLFxuICBcIk5FRURfUEFUQ0hcIjogNTEyLFxuICBcIjUxMlwiOiBcIk5FRURfUEFUQ0hcIixcbiAgXCJEWU5BTUlDX1NMT1RTXCI6IDEwMjQsXG4gIFwiMTAyNFwiOiBcIkRZTkFNSUNfU0xPVFNcIixcbiAgXCJERVZfUk9PVF9GUkFHTUVOVFwiOiAyMDQ4LFxuICBcIjIwNDhcIjogXCJERVZfUk9PVF9GUkFHTUVOVFwiLFxuICBcIkNBQ0hFRFwiOiAtMSxcbiAgXCItMVwiOiBcIkNBQ0hFRFwiLFxuICBcIkJBSUxcIjogLTIsXG4gIFwiLTJcIjogXCJCQUlMXCJcbn07XG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcbiAgWzFdOiBgVEVYVGAsXG4gIFsyXTogYENMQVNTYCxcbiAgWzRdOiBgU1RZTEVgLFxuICBbOF06IGBQUk9QU2AsXG4gIFsxNl06IGBGVUxMX1BST1BTYCxcbiAgWzMyXTogYE5FRURfSFlEUkFUSU9OYCxcbiAgWzY0XTogYFNUQUJMRV9GUkFHTUVOVGAsXG4gIFsxMjhdOiBgS0VZRURfRlJBR01FTlRgLFxuICBbMjU2XTogYFVOS0VZRURfRlJBR01FTlRgLFxuICBbNTEyXTogYE5FRURfUEFUQ0hgLFxuICBbMTAyNF06IGBEWU5BTUlDX1NMT1RTYCxcbiAgWzIwNDhdOiBgREVWX1JPT1RfRlJBR01FTlRgLFxuICBbLTFdOiBgQ0FDSEVEYCxcbiAgWy0yXTogYEJBSUxgXG59O1xuXG5jb25zdCBTaGFwZUZsYWdzID0ge1xuICBcIkVMRU1FTlRcIjogMSxcbiAgXCIxXCI6IFwiRUxFTUVOVFwiLFxuICBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCI6IDIsXG4gIFwiMlwiOiBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCIsXG4gIFwiU1RBVEVGVUxfQ09NUE9ORU5UXCI6IDQsXG4gIFwiNFwiOiBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiLFxuICBcIlRFWFRfQ0hJTERSRU5cIjogOCxcbiAgXCI4XCI6IFwiVEVYVF9DSElMRFJFTlwiLFxuICBcIkFSUkFZX0NISUxEUkVOXCI6IDE2LFxuICBcIjE2XCI6IFwiQVJSQVlfQ0hJTERSRU5cIixcbiAgXCJTTE9UU19DSElMRFJFTlwiOiAzMixcbiAgXCIzMlwiOiBcIlNMT1RTX0NISUxEUkVOXCIsXG4gIFwiVEVMRVBPUlRcIjogNjQsXG4gIFwiNjRcIjogXCJURUxFUE9SVFwiLFxuICBcIlNVU1BFTlNFXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJTVVNQRU5TRVwiLFxuICBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UX0tFUFRfQUxJVkVcIjogNTEyLFxuICBcIjUxMlwiOiBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UXCI6IDYsXG4gIFwiNlwiOiBcIkNPTVBPTkVOVFwiXG59O1xuXG5jb25zdCBTbG90RmxhZ3MgPSB7XG4gIFwiU1RBQkxFXCI6IDEsXG4gIFwiMVwiOiBcIlNUQUJMRVwiLFxuICBcIkRZTkFNSUNcIjogMixcbiAgXCIyXCI6IFwiRFlOQU1JQ1wiLFxuICBcIkZPUldBUkRFRFwiOiAzLFxuICBcIjNcIjogXCJGT1JXQVJERURcIlxufTtcbmNvbnN0IHNsb3RGbGFnc1RleHQgPSB7XG4gIFsxXTogXCJTVEFCTEVcIixcbiAgWzJdOiBcIkRZTkFNSUNcIixcbiAgWzNdOiBcIkZPUldBUkRFRFwiXG59O1xuXG5jb25zdCBHTE9CQUxTX0FMTE9XRUQgPSBcIkluZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCxjb25zb2xlLEVycm9yLFN5bWJvbFwiO1xuY29uc3QgaXNHbG9iYWxseUFsbG93ZWQgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChHTE9CQUxTX0FMTE9XRUQpO1xuY29uc3QgaXNHbG9iYWxseVdoaXRlbGlzdGVkID0gaXNHbG9iYWxseUFsbG93ZWQ7XG5cbmNvbnN0IHJhbmdlID0gMjtcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gIHN0YXJ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc3RhcnQsIHNvdXJjZS5sZW5ndGgpKTtcbiAgZW5kID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZW5kLCBzb3VyY2UubGVuZ3RoKSk7XG4gIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFwiXCI7XG4gIGxldCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvKFxccj9cXG4pLyk7XG4gIGNvbnN0IG5ld2xpbmVTZXF1ZW5jZXMgPSBsaW5lcy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICUgMiA9PT0gMSk7XG4gIGxpbmVzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDApO1xuICBsZXQgY291bnQgPSAwO1xuICBjb25zdCByZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIChuZXdsaW5lU2VxdWVuY2VzW2ldICYmIG5ld2xpbmVTZXF1ZW5jZXNbaV0ubGVuZ3RoIHx8IDApO1xuICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xuICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xuICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XG4gICAgICAgIHJlcy5wdXNoKFxuICAgICAgICAgIGAke2xpbmV9JHtcIiBcIi5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbmV3TGluZVNlcUxlbmd0aCA9IG5ld2xpbmVTZXF1ZW5jZXNbal0gJiYgbmV3bGluZVNlcXVlbmNlc1tqXS5sZW5ndGggfHwgMDtcbiAgICAgICAgaWYgKGogPT09IGkpIHtcbiAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIChsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aCkpO1xuICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIGVuZCA+IGNvdW50ID8gbGluZUxlbmd0aCAtIHBhZCA6IGVuZCAtIHN0YXJ0XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArIFwiIFwiLnJlcGVhdChwYWQpICsgXCJeXCIucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCksIDEpO1xuICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyBcIl5cIi5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyBuZXdMaW5lU2VxTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy5qb2luKFwiXFxuXCIpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gdmFsdWVbaV07XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogbm9ybWFsaXplU3R5bGUoaXRlbSk7XG4gICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XG4gICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KFteXSspLztcbmNvbnN0IHN0eWxlQ29tbWVudFJFID0gL1xcL1xcKlteXSo/XFwqXFwvL2c7XG5mdW5jdGlvbiBwYXJzZVN0cmluZ1N0eWxlKGNzc1RleHQpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGNzc1RleHQucmVwbGFjZShzdHlsZUNvbW1lbnRSRSwgXCJcIikuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XG4gICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVN0eWxlKHN0eWxlcykge1xuICBpZiAoIXN0eWxlcykgcmV0dXJuIFwiXCI7XG4gIGlmIChpc1N0cmluZyhzdHlsZXMpKSByZXR1cm4gc3R5bGVzO1xuICBsZXQgcmV0ID0gXCJcIjtcbiAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGVzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGtleS5zdGFydHNXaXRoKGAtLWApID8ga2V5IDogaHlwaGVuYXRlKGtleSk7XG4gICAgICByZXQgKz0gYCR7bm9ybWFsaXplZEtleX06JHt2YWx1ZX07YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKHZhbHVlKSB7XG4gIGxldCByZXMgPSBcIlwiO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmVzID0gdmFsdWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplQ2xhc3ModmFsdWVbaV0pO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWVbbmFtZV0pIHtcbiAgICAgICAgcmVzICs9IG5hbWUgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy50cmltKCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyhwcm9wcykge1xuICBpZiAoIXByb3BzKSByZXR1cm4gbnVsbDtcbiAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XG4gIH1cbiAgaWYgKHN0eWxlKSB7XG4gICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuXG5jb25zdCBIVE1MX1RBR1MgPSBcImh0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGhncm91cCxoMSxoMixoMyxoNCxoNSxoNixuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucyxjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSxzdW1tYXJ5LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290XCI7XG5jb25zdCBTVkdfVEFHUyA9IFwic3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLGRlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCxmZURpc3RhbnRMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLGZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlcixmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3XCI7XG5jb25zdCBNQVRIX1RBR1MgPSBcImFubm90YXRpb24sYW5ub3RhdGlvbi14bWwsbWFjdGlvbixtYWxpZ25ncm91cCxtYWxpZ25tYXJrLG1hdGgsbWVuY2xvc2UsbWVycm9yLG1mZW5jZWQsbWZyYWMsbWZyYWN0aW9uLG1nbHlwaCxtaSxtbGFiZWxlZHRyLG1sb25nZGl2LG1tdWx0aXNjcmlwdHMsbW4sbW8sbW92ZXIsbXBhZGRlZCxtcGhhbnRvbSxtcHJlc2NyaXB0cyxtcm9vdCxtcm93LG1zLG1zY2Fycmllcyxtc2NhcnJ5LG1zZ3JvdXAsbXNsaW5lLG1zcGFjZSxtc3FydCxtc3Jvdyxtc3RhY2ssbXN0eWxlLG1zdWIsbXN1YnN1cCxtc3VwLG10YWJsZSxtdGQsbXRleHQsbXRyLG11bmRlcixtdW5kZXJvdmVyLG5vbmUsc2VtYW50aWNzXCI7XG5jb25zdCBWT0lEX1RBR1MgPSBcImFyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyXCI7XG5jb25zdCBpc0hUTUxUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xuY29uc3QgaXNTVkdUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChTVkdfVEFHUyk7XG5jb25zdCBpc01hdGhNTFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKE1BVEhfVEFHUyk7XG5jb25zdCBpc1ZvaWRUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChWT0lEX1RBR1MpO1xuXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMpO1xuY29uc3QgaXNCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBzcGVjaWFsQm9vbGVhbkF0dHJzICsgYCxhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY29udHJvbHMsZGVmYXVsdCxkZWZlcixkaXNhYmxlZCxoaWRkZW4saW5lcnQsbG9vcCxvcGVuLHJlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxjaGVja2VkLG11dGVkLG11bHRpcGxlLHNlbGVjdGVkYFxuKTtcbmZ1bmN0aW9uIGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSB8fCB2YWx1ZSA9PT0gXCJcIjtcbn1cbmNvbnN0IHVuc2FmZUF0dHJDaGFyUkUgPSAvWz4vPVwiJ1xcdTAwMDlcXHUwMDBhXFx1MDAwY1xcdTAwMjBdLztcbmNvbnN0IGF0dHJWYWxpZGF0aW9uQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcbiAgaWYgKGF0dHJWYWxpZGF0aW9uQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXTtcbiAgfVxuICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcbiAgaWYgKGlzVW5zYWZlKSB7XG4gICAgY29uc29sZS5lcnJvcihgdW5zYWZlIGF0dHJpYnV0ZSBuYW1lOiAke25hbWV9YCk7XG4gIH1cbiAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV0gPSAhaXNVbnNhZmU7XG59XG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcbiAgYWNjZXB0Q2hhcnNldDogXCJhY2NlcHQtY2hhcnNldFwiLFxuICBjbGFzc05hbWU6IFwiY2xhc3NcIixcbiAgaHRtbEZvcjogXCJmb3JcIixcbiAgaHR0cEVxdWl2OiBcImh0dHAtZXF1aXZcIlxufTtcbmNvbnN0IGlzS25vd25IdG1sQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbmVydCxpbnRlZ3JpdHksaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLHZhbHVlLHdpZHRoLHdyYXBgXG4pO1xuY29uc3QgaXNLbm93blN2Z0F0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYHhtbG5zLGFjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbGlnbm1lbnQtYmFzZWxpbmUsYWxwaGFiZXRpYyxhbXBsaXR1ZGUsYXJhYmljLWZvcm0sYXNjZW50LGF0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxhemltdXRoLGJhc2VGcmVxdWVuY3ksYmFzZWxpbmUtc2hpZnQsYmFzZVByb2ZpbGUsYmJveCxiZWdpbixiaWFzLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY2xpcCxjbGlwUGF0aFVuaXRzLGNsaXAtcGF0aCxjbGlwLXJ1bGUsY29sb3IsY29sb3ItaW50ZXJwb2xhdGlvbixjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMsY29sb3ItcHJvZmlsZSxjb2xvci1yZW5kZXJpbmcsY29udGVudFNjcmlwdFR5cGUsY29udGVudFN0eWxlVHlwZSxjcm9zc29yaWdpbixjdXJzb3IsY3gsY3ksZCxkZWNlbGVyYXRlLGRlc2NlbnQsZGlmZnVzZUNvbnN0YW50LGRpcmVjdGlvbixkaXNwbGF5LGRpdmlzb3IsZG9taW5hbnQtYmFzZWxpbmUsZHVyLGR4LGR5LGVkZ2VNb2RlLGVsZXZhdGlvbixlbmFibGUtYmFja2dyb3VuZCxlbmQsZXhwb25lbnQsZmlsbCxmaWxsLW9wYWNpdHksZmlsbC1ydWxlLGZpbHRlcixmaWx0ZXJSZXMsZmlsdGVyVW5pdHMsZmxvb2QtY29sb3IsZmxvb2Qtb3BhY2l0eSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zaXplLWFkanVzdCxmb250LXN0cmV0Y2gsZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZm9ybWF0LGZyb20sZnIsZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsLGdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsLGdseXBoUmVmLGdyYWRpZW50VHJhbnNmb3JtLGdyYWRpZW50VW5pdHMsaGFuZ2luZyxoZWlnaHQsaHJlZixocmVmbGFuZyxob3Jpei1hZHYteCxob3Jpei1vcmlnaW4teCxpZCxpZGVvZ3JhcGhpYyxpbWFnZS1yZW5kZXJpbmcsaW4saW4yLGludGVyY2VwdCxrLGsxLGsyLGszLGs0LGtlcm5lbE1hdHJpeCxrZXJuZWxVbml0TGVuZ3RoLGtlcm5pbmcsa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxsZW5ndGhBZGp1c3QsbGV0dGVyLXNwYWNpbmcsbGlnaHRpbmctY29sb3IsbGltaXRpbmdDb25lQW5nbGUsbG9jYWwsbWFya2VyLWVuZCxtYXJrZXItbWlkLG1hcmtlci1zdGFydCxtYXJrZXJIZWlnaHQsbWFya2VyVW5pdHMsbWFya2VyV2lkdGgsbWFzayxtYXNrQ29udGVudFVuaXRzLG1hc2tVbml0cyxtYXRoZW1hdGljYWwsbWF4LG1lZGlhLG1ldGhvZCxtaW4sbW9kZSxuYW1lLG51bU9jdGF2ZXMsb2Zmc2V0LG9wYWNpdHksb3BlcmF0b3Isb3JkZXIsb3JpZW50LG9yaWVudGF0aW9uLG9yaWdpbixvdmVyZmxvdyxvdmVybGluZS1wb3NpdGlvbixvdmVybGluZS10aGlja25lc3MscGFub3NlLTEscGFpbnQtb3JkZXIscGF0aCxwYXRoTGVuZ3RoLHBhdHRlcm5Db250ZW50VW5pdHMscGF0dGVyblRyYW5zZm9ybSxwYXR0ZXJuVW5pdHMscGluZyxwb2ludGVyLWV2ZW50cyxwb2ludHMscG9pbnRzQXRYLHBvaW50c0F0WSxwb2ludHNBdFoscHJlc2VydmVBbHBoYSxwcmVzZXJ2ZUFzcGVjdFJhdGlvLHByaW1pdGl2ZVVuaXRzLHIscmFkaXVzLHJlZmVycmVyUG9saWN5LHJlZlgscmVmWSxyZWwscmVuZGVyaW5nLWludGVudCxyZXBlYXRDb3VudCxyZXBlYXREdXIscmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyZXN1bHQscm90YXRlLHJ4LHJ5LHNjYWxlLHNlZWQsc2hhcGUtcmVuZGVyaW5nLHNsb3BlLHNwYWNpbmcsc3BlY3VsYXJDb25zdGFudCxzcGVjdWxhckV4cG9uZW50LHNwZWVkLHNwcmVhZE1ldGhvZCxzdGFydE9mZnNldCxzdGREZXZpYXRpb24sc3RlbWgsc3RlbXYsc3RpdGNoVGlsZXMsc3RvcC1jb2xvcixzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJpbmcsc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzdHlsZSxzdXJmYWNlU2NhbGUsc3lzdGVtTGFuZ3VhZ2UsdGFiaW5kZXgsdGFibGVWYWx1ZXMsdGFyZ2V0LHRhcmdldFgsdGFyZ2V0WSx0ZXh0LWFuY2hvcix0ZXh0LWRlY29yYXRpb24sdGV4dC1yZW5kZXJpbmcsdGV4dExlbmd0aCx0byx0cmFuc2Zvcm0sdHJhbnNmb3JtLW9yaWdpbix0eXBlLHUxLHUyLHVuZGVybGluZS1wb3NpdGlvbix1bmRlcmxpbmUtdGhpY2tuZXNzLHVuaWNvZGUsdW5pY29kZS1iaWRpLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHYtYWxwaGFiZXRpYyx2LWhhbmdpbmcsdi1pZGVvZ3JhcGhpYyx2LW1hdGhlbWF0aWNhbCx2YWx1ZXMsdmVjdG9yLWVmZmVjdCx2ZXJzaW9uLHZlcnQtYWR2LXksdmVydC1vcmlnaW4teCx2ZXJ0LW9yaWdpbi15LHZpZXdCb3gsdmlld1RhcmdldCx2aXNpYmlsaXR5LHdpZHRoLHdpZHRocyx3b3JkLXNwYWNpbmcsd3JpdGluZy1tb2RlLHgseC1oZWlnaHQseDEseDIseENoYW5uZWxTZWxlY3Rvcix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6aHJlZix4bGluazpyb2xlLHhsaW5rOnNob3cseGxpbms6dGl0bGUseGxpbms6dHlwZSx4bWxuczp4bGluayx4bWw6YmFzZSx4bWw6bGFuZyx4bWw6c3BhY2UseSx5MSx5Mix5Q2hhbm5lbFNlbGVjdG9yLHosem9vbUFuZFBhbmBcbik7XG5jb25zdCBpc0tub3duTWF0aE1MQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZW50LGFjY2VudHVuZGVyLGFjdGlvbnR5cGUsYWxpZ24sYWxpZ25tZW50c2NvcGUsYWx0aW1nLGFsdGltZy1oZWlnaHQsYWx0aW1nLXZhbGlnbixhbHRpbWctd2lkdGgsYWx0dGV4dCxiZXZlbGxlZCxjbG9zZSxjb2x1bW5zYWxpZ24sY29sdW1ubGluZXMsY29sdW1uc3BhbixkZW5vbWFsaWduLGRlcHRoLGRpcixkaXNwbGF5LGRpc3BsYXlzdHlsZSxlbmNvZGluZyxlcXVhbGNvbHVtbnMsZXF1YWxyb3dzLGZlbmNlLGZvbnRzdHlsZSxmb250d2VpZ2h0LGZvcm0sZnJhbWUsZnJhbWVzcGFjaW5nLGdyb3VwYWxpZ24saGVpZ2h0LGhyZWYsaWQsaW5kZW50YWxpZ24saW5kZW50YWxpZ25maXJzdCxpbmRlbnRhbGlnbmxhc3QsaW5kZW50c2hpZnQsaW5kZW50c2hpZnRmaXJzdCxpbmRlbnRzaGlmdGxhc3QsaW5kZXh0eXBlLGp1c3RpZnksbGFyZ2V0b3AsbGFyZ2VvcCxscXVvdGUsbHNwYWNlLG1hdGhiYWNrZ3JvdW5kLG1hdGhjb2xvcixtYXRoc2l6ZSxtYXRodmFyaWFudCxtYXhzaXplLG1pbmxhYmVsc3BhY2luZyxtb2RlLG90aGVyLG92ZXJmbG93LHBvc2l0aW9uLHJvd2FsaWduLHJvd2xpbmVzLHJvd3NwYW4scnF1b3RlLHJzcGFjZSxzY3JpcHRsZXZlbCxzY3JpcHRtaW5zaXplLHNjcmlwdHNpemVtdWx0aXBsaWVyLHNlbGVjdGlvbixzZXBhcmF0b3Isc2VwYXJhdG9ycyxzaGlmdCxzaWRlLHNyYyxzdGFja2FsaWduLHN0cmV0Y2h5LHN1YnNjcmlwdHNoaWZ0LHN1cGVyc2NyaXB0c2hpZnQsc3ltbWV0cmljLHZvZmZzZXQsd2lkdGgsd2lkdGhzLHhsaW5rOmhyZWYseGxpbms6c2hvdyx4bGluazp0eXBlLHhtbG5zYFxuKTtcbmZ1bmN0aW9uIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiO1xufVxuXG5jb25zdCBlc2NhcGVSRSA9IC9bXCInJjw+XS87XG5mdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xuICBjb25zdCBzdHIgPSBcIlwiICsgc3RyaW5nO1xuICBjb25zdCBtYXRjaCA9IGVzY2FwZVJFLmV4ZWMoc3RyKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgbGV0IGh0bWwgPSBcIlwiO1xuICBsZXQgZXNjYXBlZDtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xuICAgICAgY2FzZSAzNDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJnF1b3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmFtcDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBlc2NhcGVkID0gXCImIzM5O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjA6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZsdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYyOlxuICAgICAgICBlc2NhcGVkID0gXCImZ3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XG4gICAgICBodG1sICs9IHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KTtcbiAgICB9XG4gICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xuICAgIGh0bWwgKz0gZXNjYXBlZDtcbiAgfVxuICByZXR1cm4gbGFzdEluZGV4ICE9PSBpbmRleCA/IGh0bWwgKyBzdHIuc2xpY2UobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xufVxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWxDb21tZW50KHNyYykge1xuICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsIFwiXCIpO1xufVxuY29uc3QgY3NzVmFyTmFtZUVzY2FwZVN5bWJvbHNSRSA9IC9bICFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxcXFxcXV5ge3x9fl0vZztcbmZ1bmN0aW9uIGdldEVzY2FwZWRDc3NWYXJOYW1lKGtleSwgZG91YmxlRXNjYXBlKSB7XG4gIHJldHVybiBrZXkucmVwbGFjZShcbiAgICBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLFxuICAgIChzKSA9PiBkb3VibGVFc2NhcGUgPyBzID09PSAnXCInID8gJ1xcXFxcXFxcXFxcXFwiJyA6IGBcXFxcXFxcXCR7c31gIDogYFxcXFwke3N9YFxuICApO1xufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGxldCBlcXVhbCA9IHRydWU7XG4gIGZvciAobGV0IGkgPSAwOyBlcXVhbCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcbiAgfVxuICByZXR1cm4gZXF1YWw7XG59XG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcbiAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzU3ltYm9sKGEpO1xuICBiVmFsaWRUeXBlID0gaXNTeW1ib2woYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcbiAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xuICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xuICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKGFIYXNLZXkgJiYgIWJIYXNLZXkgfHwgIWFIYXNLZXkgJiYgYkhhc0tleSB8fCAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG59XG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5maW5kSW5kZXgoKGl0ZW0pID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XG59XG5cbmNvbnN0IGlzUmVmID0gKHZhbCkgPT4ge1xuICByZXR1cm4gISEodmFsICYmIHZhbFtcIl9fdl9pc1JlZlwiXSA9PT0gdHJ1ZSk7XG59O1xuY29uc3QgdG9EaXNwbGF5U3RyaW5nID0gKHZhbCkgPT4ge1xuICByZXR1cm4gaXNTdHJpbmcodmFsKSA/IHZhbCA6IHZhbCA9PSBudWxsID8gXCJcIiA6IGlzQXJyYXkodmFsKSB8fCBpc09iamVjdCh2YWwpICYmICh2YWwudG9TdHJpbmcgPT09IG9iamVjdFRvU3RyaW5nIHx8ICFpc0Z1bmN0aW9uKHZhbC50b1N0cmluZykpID8gaXNSZWYodmFsKSA/IHRvRGlzcGxheVN0cmluZyh2YWwudmFsdWUpIDogSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMikgOiBTdHJpbmcodmFsKTtcbn07XG5jb25zdCByZXBsYWNlciA9IChfa2V5LCB2YWwpID0+IHtcbiAgaWYgKGlzUmVmKHZhbCkpIHtcbiAgICByZXR1cm4gcmVwbGFjZXIoX2tleSwgdmFsLnZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc01hcCh2YWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKFxuICAgICAgICAoZW50cmllcywgW2tleSwgdmFsMl0sIGkpID0+IHtcbiAgICAgICAgICBlbnRyaWVzW3N0cmluZ2lmeVN5bWJvbChrZXksIGkpICsgXCIgPT5cIl0gPSB2YWwyO1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgICAgICB9LFxuICAgICAgICB7fVxuICAgICAgKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNTZXQodmFsKSkge1xuICAgIHJldHVybiB7XG4gICAgICBbYFNldCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC52YWx1ZXMoKV0ubWFwKCh2KSA9PiBzdHJpbmdpZnlTeW1ib2wodikpXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc1N5bWJvbCh2YWwpKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVN5bWJvbCh2YWwpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkgJiYgIWlzQXJyYXkodmFsKSAmJiAhaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICB9XG4gIHJldHVybiB2YWw7XG59O1xuY29uc3Qgc3RyaW5naWZ5U3ltYm9sID0gKHYsIGkgPSBcIlwiKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChcbiAgICAvLyBTeW1ib2wuZGVzY3JpcHRpb24gaW4gZXMyMDE5KyBzbyB3ZSBuZWVkIHRvIGNhc3QgaGVyZSB0byBwYXNzXG4gICAgLy8gdGhlIGxpYjogZXMyMDE2IGNoZWNrXG4gICAgaXNTeW1ib2wodikgPyBgU3ltYm9sKCR7KF9hID0gdi5kZXNjcmlwdGlvbikgIT0gbnVsbCA/IF9hIDogaX0pYCA6IHZcbiAgKTtcbn07XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNzc1ZhclZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwiaW5pdGlhbFwiO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IFwiXCIgPyBcIiBcIiA6IHZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIltWdWUgd2Fybl0gSW52YWxpZCB2YWx1ZSB1c2VkIGZvciBDU1MgYmluZGluZy4gRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYSBmaW5pdGUgbnVtYmVyIGJ1dCByZWNlaXZlZDpcIixcbiAgICAgICAgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuXG5leHBvcnQgeyBFTVBUWV9BUlIsIEVNUFRZX09CSiwgTk8sIE5PT1AsIFBhdGNoRmxhZ05hbWVzLCBQYXRjaEZsYWdzLCBTaGFwZUZsYWdzLCBTbG90RmxhZ3MsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbkNhY2hlS2V5LCBnZW5Qcm9wc0FjY2Vzc0V4cCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdldEVzY2FwZWRDc3NWYXJOYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpbnZva2VBcnJheUZucywgaXNBcnJheSwgaXNCb29sZWFuQXR0ciwgaXNCdWlsdEluRGlyZWN0aXZlLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzR2xvYmFsbHlBbGxvd2VkLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQsIGlzSFRNTFRhZywgaXNJbnRlZ2VyS2V5LCBpc0tub3duSHRtbEF0dHIsIGlzS25vd25NYXRoTUxBdHRyLCBpc0tub3duU3ZnQXR0ciwgaXNNYXAsIGlzTWF0aE1MVGFnLCBpc01vZGVsTGlzdGVuZXIsIGlzT2JqZWN0LCBpc09uLCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVnRXhwLCBpc1JlbmRlcmFibGVBdHRyVmFsdWUsIGlzUmVzZXJ2ZWRQcm9wLCBpc1NTUlNhZmVBdHRyTmFtZSwgaXNTVkdUYWcsIGlzU2V0LCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1ZvaWRUYWcsIGxvb3NlRXF1YWwsIGxvb3NlSW5kZXhPZiwgbG9vc2VUb051bWJlciwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZUNzc1ZhclZhbHVlLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiLyoqXG4qIEB2dWUvcmVhY3Rpdml0eSB2My41LjIxXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBleHRlbmQsIGhhc0NoYW5nZWQsIGlzQXJyYXksIGlzSW50ZWdlcktleSwgaXNTeW1ib2wsIGlzTWFwLCBoYXNPd24sIG1ha2VNYXAsIGlzT2JqZWN0LCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBpc1NldCwgaXNQbGFpbk9iamVjdCwgcmVtb3ZlLCBOT09QIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xuICBjb25zb2xlLndhcm4oYFtWdWUgd2Fybl0gJHttc2d9YCwgLi4uYXJncyk7XG59XG5cbmxldCBhY3RpdmVFZmZlY3RTY29wZTtcbmNsYXNzIEVmZmVjdFNjb3BlIHtcbiAgY29uc3RydWN0b3IoZGV0YWNoZWQgPSBmYWxzZSkge1xuICAgIHRoaXMuZGV0YWNoZWQgPSBkZXRhY2hlZDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbCB0cmFjayBgb25gIGNhbGxzLCBhbGxvdyBgb25gIGNhbGwgbXVsdGlwbGUgdGltZXNcbiAgICAgKi9cbiAgICB0aGlzLl9vbiA9IDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5lZmZlY3RzID0gW107XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5jbGVhbnVwcyA9IFtdO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICB0aGlzLmluZGV4ID0gKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyB8fCAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzID0gW10pKS5wdXNoKFxuICAgICAgICB0aGlzXG4gICAgICApIC0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICB9XG4gIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICAgIGxldCBpLCBsO1xuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc3VtZXMgdGhlIGVmZmVjdCBzY29wZSwgaW5jbHVkaW5nIGFsbCBjaGlsZCBzY29wZXMgYW5kIGVmZmVjdHMuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgaWYgKHRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBpLCBsO1xuICAgICAgICBpZiAodGhpcy5zY29wZXMpIHtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5yZXN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcnVuKGZuKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICB0cnkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSBjdXJyZW50RWZmZWN0U2NvcGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKGBjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvbigpIHtcbiAgICBpZiAoKyt0aGlzLl9vbiA9PT0gMSkge1xuICAgICAgdGhpcy5wcmV2U2NvcGUgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvZmYoKSB7XG4gICAgaWYgKHRoaXMuX29uID4gMCAmJiAtLXRoaXMuX29uID09PSAwKSB7XG4gICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXMucHJldlNjb3BlO1xuICAgICAgdGhpcy5wcmV2U2NvcGUgPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHN0b3AoZnJvbVBhcmVudCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGV0IGksIGw7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0uc3RvcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5lZmZlY3RzLmxlbmd0aCA9IDA7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5jbGVhbnVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwc1tpXSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGVhbnVwcy5sZW5ndGggPSAwO1xuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5zdG9wKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NvcGVzLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZGV0YWNoZWQgJiYgdGhpcy5wYXJlbnQgJiYgIWZyb21QYXJlbnQpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGFyZW50LnNjb3Blcy5wb3AoKTtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdCAhPT0gdGhpcykge1xuICAgICAgICAgIHRoaXMucGFyZW50LnNjb3Blc1t0aGlzLmluZGV4XSA9IGxhc3Q7XG4gICAgICAgICAgbGFzdC5pbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucGFyZW50ID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZWZmZWN0U2NvcGUoZGV0YWNoZWQpIHtcbiAgcmV0dXJuIG5ldyBFZmZlY3RTY29wZShkZXRhY2hlZCk7XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50U2NvcGUoKSB7XG4gIHJldHVybiBhY3RpdmVFZmZlY3RTY29wZTtcbn1cbmZ1bmN0aW9uIG9uU2NvcGVEaXNwb3NlKGZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSkge1xuICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICBhY3RpdmVFZmZlY3RTY29wZS5jbGVhbnVwcy5wdXNoKGZuKTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uU2NvcGVEaXNwb3NlKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGVmZmVjdCBzY29wZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbn1cblxubGV0IGFjdGl2ZVN1YjtcbmNvbnN0IEVmZmVjdEZsYWdzID0ge1xuICBcIkFDVElWRVwiOiAxLFxuICBcIjFcIjogXCJBQ1RJVkVcIixcbiAgXCJSVU5OSU5HXCI6IDIsXG4gIFwiMlwiOiBcIlJVTk5JTkdcIixcbiAgXCJUUkFDS0lOR1wiOiA0LFxuICBcIjRcIjogXCJUUkFDS0lOR1wiLFxuICBcIk5PVElGSUVEXCI6IDgsXG4gIFwiOFwiOiBcIk5PVElGSUVEXCIsXG4gIFwiRElSVFlcIjogMTYsXG4gIFwiMTZcIjogXCJESVJUWVwiLFxuICBcIkFMTE9XX1JFQ1VSU0VcIjogMzIsXG4gIFwiMzJcIjogXCJBTExPV19SRUNVUlNFXCIsXG4gIFwiUEFVU0VEXCI6IDY0LFxuICBcIjY0XCI6IFwiUEFVU0VEXCIsXG4gIFwiRVZBTFVBVEVEXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJFVkFMVUFURURcIlxufTtcbmNvbnN0IHBhdXNlZFF1ZXVlRWZmZWN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuY2xhc3MgUmVhY3RpdmVFZmZlY3Qge1xuICBjb25zdHJ1Y3Rvcihmbikge1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZsYWdzID0gMSB8IDQ7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuY2xlYW51cCA9IHZvaWQgMDtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHZvaWQgMDtcbiAgICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUgJiYgYWN0aXZlRWZmZWN0U2NvcGUuYWN0aXZlKSB7XG4gICAgICBhY3RpdmVFZmZlY3RTY29wZS5lZmZlY3RzLnB1c2godGhpcyk7XG4gICAgfVxuICB9XG4gIHBhdXNlKCkge1xuICAgIHRoaXMuZmxhZ3MgfD0gNjQ7XG4gIH1cbiAgcmVzdW1lKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgNjQpIHtcbiAgICAgIHRoaXMuZmxhZ3MgJj0gLTY1O1xuICAgICAgaWYgKHBhdXNlZFF1ZXVlRWZmZWN0cy5oYXModGhpcykpIHtcbiAgICAgICAgcGF1c2VkUXVldWVFZmZlY3RzLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeSgpIHtcbiAgICBpZiAodGhpcy5mbGFncyAmIDIgJiYgISh0aGlzLmZsYWdzICYgMzIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghKHRoaXMuZmxhZ3MgJiA4KSkge1xuICAgICAgYmF0Y2godGhpcyk7XG4gICAgfVxuICB9XG4gIHJ1bigpIHtcbiAgICBpZiAoISh0aGlzLmZsYWdzICYgMSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfVxuICAgIHRoaXMuZmxhZ3MgfD0gMjtcbiAgICBjbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgIHByZXBhcmVEZXBzKHRoaXMpO1xuICAgIGNvbnN0IHByZXZFZmZlY3QgPSBhY3RpdmVTdWI7XG4gICAgY29uc3QgcHJldlNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gICAgYWN0aXZlU3ViID0gdGhpcztcbiAgICBzaG91bGRUcmFjayA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGFjdGl2ZVN1YiAhPT0gdGhpcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQWN0aXZlIGVmZmVjdCB3YXMgbm90IHJlc3RvcmVkIGNvcnJlY3RseSAtIHRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFsIGJ1Zy5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2xlYW51cERlcHModGhpcyk7XG4gICAgICBhY3RpdmVTdWIgPSBwcmV2RWZmZWN0O1xuICAgICAgc2hvdWxkVHJhY2sgPSBwcmV2U2hvdWxkVHJhY2s7XG4gICAgICB0aGlzLmZsYWdzICY9IC0zO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgMSkge1xuICAgICAgZm9yIChsZXQgbGluayA9IHRoaXMuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgICAgICByZW1vdmVTdWIobGluayk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlcHMgPSB0aGlzLmRlcHNUYWlsID0gdm9pZCAwO1xuICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgIHRoaXMub25TdG9wICYmIHRoaXMub25TdG9wKCk7XG4gICAgICB0aGlzLmZsYWdzICY9IC0yO1xuICAgIH1cbiAgfVxuICB0cmlnZ2VyKCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgNjQpIHtcbiAgICAgIHBhdXNlZFF1ZXVlRWZmZWN0cy5hZGQodGhpcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNjaGVkdWxlcikge1xuICAgICAgdGhpcy5zY2hlZHVsZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydW5JZkRpcnR5KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJ1bklmRGlydHkoKSB7XG4gICAgaWYgKGlzRGlydHkodGhpcykpIHtcbiAgICAgIHRoaXMucnVuKCk7XG4gICAgfVxuICB9XG4gIGdldCBkaXJ0eSgpIHtcbiAgICByZXR1cm4gaXNEaXJ0eSh0aGlzKTtcbiAgfVxufVxubGV0IGJhdGNoRGVwdGggPSAwO1xubGV0IGJhdGNoZWRTdWI7XG5sZXQgYmF0Y2hlZENvbXB1dGVkO1xuZnVuY3Rpb24gYmF0Y2goc3ViLCBpc0NvbXB1dGVkID0gZmFsc2UpIHtcbiAgc3ViLmZsYWdzIHw9IDg7XG4gIGlmIChpc0NvbXB1dGVkKSB7XG4gICAgc3ViLm5leHQgPSBiYXRjaGVkQ29tcHV0ZWQ7XG4gICAgYmF0Y2hlZENvbXB1dGVkID0gc3ViO1xuICAgIHJldHVybjtcbiAgfVxuICBzdWIubmV4dCA9IGJhdGNoZWRTdWI7XG4gIGJhdGNoZWRTdWIgPSBzdWI7XG59XG5mdW5jdGlvbiBzdGFydEJhdGNoKCkge1xuICBiYXRjaERlcHRoKys7XG59XG5mdW5jdGlvbiBlbmRCYXRjaCgpIHtcbiAgaWYgKC0tYmF0Y2hEZXB0aCA+IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGJhdGNoZWRDb21wdXRlZCkge1xuICAgIGxldCBlID0gYmF0Y2hlZENvbXB1dGVkO1xuICAgIGJhdGNoZWRDb21wdXRlZCA9IHZvaWQgMDtcbiAgICB3aGlsZSAoZSkge1xuICAgICAgY29uc3QgbmV4dCA9IGUubmV4dDtcbiAgICAgIGUubmV4dCA9IHZvaWQgMDtcbiAgICAgIGUuZmxhZ3MgJj0gLTk7XG4gICAgICBlID0gbmV4dDtcbiAgICB9XG4gIH1cbiAgbGV0IGVycm9yO1xuICB3aGlsZSAoYmF0Y2hlZFN1Yikge1xuICAgIGxldCBlID0gYmF0Y2hlZFN1YjtcbiAgICBiYXRjaGVkU3ViID0gdm9pZCAwO1xuICAgIHdoaWxlIChlKSB7XG4gICAgICBjb25zdCBuZXh0ID0gZS5uZXh0O1xuICAgICAgZS5uZXh0ID0gdm9pZCAwO1xuICAgICAgZS5mbGFncyAmPSAtOTtcbiAgICAgIGlmIChlLmZsYWdzICYgMSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIDtcbiAgICAgICAgICBlLnRyaWdnZXIoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGUgPSBuZXh0O1xuICAgIH1cbiAgfVxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xufVxuZnVuY3Rpb24gcHJlcGFyZURlcHMoc3ViKSB7XG4gIGZvciAobGV0IGxpbmsgPSBzdWIuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgIGxpbmsudmVyc2lvbiA9IC0xO1xuICAgIGxpbmsucHJldkFjdGl2ZUxpbmsgPSBsaW5rLmRlcC5hY3RpdmVMaW5rO1xuICAgIGxpbmsuZGVwLmFjdGl2ZUxpbmsgPSBsaW5rO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRGVwcyhzdWIpIHtcbiAgbGV0IGhlYWQ7XG4gIGxldCB0YWlsID0gc3ViLmRlcHNUYWlsO1xuICBsZXQgbGluayA9IHRhaWw7XG4gIHdoaWxlIChsaW5rKSB7XG4gICAgY29uc3QgcHJldiA9IGxpbmsucHJldkRlcDtcbiAgICBpZiAobGluay52ZXJzaW9uID09PSAtMSkge1xuICAgICAgaWYgKGxpbmsgPT09IHRhaWwpIHRhaWwgPSBwcmV2O1xuICAgICAgcmVtb3ZlU3ViKGxpbmspO1xuICAgICAgcmVtb3ZlRGVwKGxpbmspO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkID0gbGluaztcbiAgICB9XG4gICAgbGluay5kZXAuYWN0aXZlTGluayA9IGxpbmsucHJldkFjdGl2ZUxpbms7XG4gICAgbGluay5wcmV2QWN0aXZlTGluayA9IHZvaWQgMDtcbiAgICBsaW5rID0gcHJldjtcbiAgfVxuICBzdWIuZGVwcyA9IGhlYWQ7XG4gIHN1Yi5kZXBzVGFpbCA9IHRhaWw7XG59XG5mdW5jdGlvbiBpc0RpcnR5KHN1Yikge1xuICBmb3IgKGxldCBsaW5rID0gc3ViLmRlcHM7IGxpbms7IGxpbmsgPSBsaW5rLm5leHREZXApIHtcbiAgICBpZiAobGluay5kZXAudmVyc2lvbiAhPT0gbGluay52ZXJzaW9uIHx8IGxpbmsuZGVwLmNvbXB1dGVkICYmIChyZWZyZXNoQ29tcHV0ZWQobGluay5kZXAuY29tcHV0ZWQpIHx8IGxpbmsuZGVwLnZlcnNpb24gIT09IGxpbmsudmVyc2lvbikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoc3ViLl9kaXJ0eSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlZnJlc2hDb21wdXRlZChjb21wdXRlZCkge1xuICBpZiAoY29tcHV0ZWQuZmxhZ3MgJiA0ICYmICEoY29tcHV0ZWQuZmxhZ3MgJiAxNikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29tcHV0ZWQuZmxhZ3MgJj0gLTE3O1xuICBpZiAoY29tcHV0ZWQuZ2xvYmFsVmVyc2lvbiA9PT0gZ2xvYmFsVmVyc2lvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb21wdXRlZC5nbG9iYWxWZXJzaW9uID0gZ2xvYmFsVmVyc2lvbjtcbiAgaWYgKCFjb21wdXRlZC5pc1NTUiAmJiBjb21wdXRlZC5mbGFncyAmIDEyOCAmJiAoIWNvbXB1dGVkLmRlcHMgJiYgIWNvbXB1dGVkLl9kaXJ0eSB8fCAhaXNEaXJ0eShjb21wdXRlZCkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbXB1dGVkLmZsYWdzIHw9IDI7XG4gIGNvbnN0IGRlcCA9IGNvbXB1dGVkLmRlcDtcbiAgY29uc3QgcHJldlN1YiA9IGFjdGl2ZVN1YjtcbiAgY29uc3QgcHJldlNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gIGFjdGl2ZVN1YiA9IGNvbXB1dGVkO1xuICBzaG91bGRUcmFjayA9IHRydWU7XG4gIHRyeSB7XG4gICAgcHJlcGFyZURlcHMoY29tcHV0ZWQpO1xuICAgIGNvbnN0IHZhbHVlID0gY29tcHV0ZWQuZm4oY29tcHV0ZWQuX3ZhbHVlKTtcbiAgICBpZiAoZGVwLnZlcnNpb24gPT09IDAgfHwgaGFzQ2hhbmdlZCh2YWx1ZSwgY29tcHV0ZWQuX3ZhbHVlKSkge1xuICAgICAgY29tcHV0ZWQuZmxhZ3MgfD0gMTI4O1xuICAgICAgY29tcHV0ZWQuX3ZhbHVlID0gdmFsdWU7XG4gICAgICBkZXAudmVyc2lvbisrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVwLnZlcnNpb24rKztcbiAgICB0aHJvdyBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgYWN0aXZlU3ViID0gcHJldlN1YjtcbiAgICBzaG91bGRUcmFjayA9IHByZXZTaG91bGRUcmFjaztcbiAgICBjbGVhbnVwRGVwcyhjb21wdXRlZCk7XG4gICAgY29tcHV0ZWQuZmxhZ3MgJj0gLTM7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZVN1YihsaW5rLCBzb2Z0ID0gZmFsc2UpIHtcbiAgY29uc3QgeyBkZXAsIHByZXZTdWIsIG5leHRTdWIgfSA9IGxpbms7XG4gIGlmIChwcmV2U3ViKSB7XG4gICAgcHJldlN1Yi5uZXh0U3ViID0gbmV4dFN1YjtcbiAgICBsaW5rLnByZXZTdWIgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKG5leHRTdWIpIHtcbiAgICBuZXh0U3ViLnByZXZTdWIgPSBwcmV2U3ViO1xuICAgIGxpbmsubmV4dFN1YiA9IHZvaWQgMDtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZXAuc3Vic0hlYWQgPT09IGxpbmspIHtcbiAgICBkZXAuc3Vic0hlYWQgPSBuZXh0U3ViO1xuICB9XG4gIGlmIChkZXAuc3VicyA9PT0gbGluaykge1xuICAgIGRlcC5zdWJzID0gcHJldlN1YjtcbiAgICBpZiAoIXByZXZTdWIgJiYgZGVwLmNvbXB1dGVkKSB7XG4gICAgICBkZXAuY29tcHV0ZWQuZmxhZ3MgJj0gLTU7XG4gICAgICBmb3IgKGxldCBsID0gZGVwLmNvbXB1dGVkLmRlcHM7IGw7IGwgPSBsLm5leHREZXApIHtcbiAgICAgICAgcmVtb3ZlU3ViKGwsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoIXNvZnQgJiYgIS0tZGVwLnNjICYmIGRlcC5tYXApIHtcbiAgICBkZXAubWFwLmRlbGV0ZShkZXAua2V5KTtcbiAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlRGVwKGxpbmspIHtcbiAgY29uc3QgeyBwcmV2RGVwLCBuZXh0RGVwIH0gPSBsaW5rO1xuICBpZiAocHJldkRlcCkge1xuICAgIHByZXZEZXAubmV4dERlcCA9IG5leHREZXA7XG4gICAgbGluay5wcmV2RGVwID0gdm9pZCAwO1xuICB9XG4gIGlmIChuZXh0RGVwKSB7XG4gICAgbmV4dERlcC5wcmV2RGVwID0gcHJldkRlcDtcbiAgICBsaW5rLm5leHREZXAgPSB2b2lkIDA7XG4gIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdChmbiwgb3B0aW9ucykge1xuICBpZiAoZm4uZWZmZWN0IGluc3RhbmNlb2YgUmVhY3RpdmVFZmZlY3QpIHtcbiAgICBmbiA9IGZuLmVmZmVjdC5mbjtcbiAgfVxuICBjb25zdCBlID0gbmV3IFJlYWN0aXZlRWZmZWN0KGZuKTtcbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBleHRlbmQoZSwgb3B0aW9ucyk7XG4gIH1cbiAgdHJ5IHtcbiAgICBlLnJ1bigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBlLnN0b3AoKTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgY29uc3QgcnVubmVyID0gZS5ydW4uYmluZChlKTtcbiAgcnVubmVyLmVmZmVjdCA9IGU7XG4gIHJldHVybiBydW5uZXI7XG59XG5mdW5jdGlvbiBzdG9wKHJ1bm5lcikge1xuICBydW5uZXIuZWZmZWN0LnN0b3AoKTtcbn1cbmxldCBzaG91bGRUcmFjayA9IHRydWU7XG5jb25zdCB0cmFja1N0YWNrID0gW107XG5mdW5jdGlvbiBwYXVzZVRyYWNraW5nKCkge1xuICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICBzaG91bGRUcmFjayA9IGZhbHNlO1xufVxuZnVuY3Rpb24gZW5hYmxlVHJhY2tpbmcoKSB7XG4gIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XG4gIHNob3VsZFRyYWNrID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlc2V0VHJhY2tpbmcoKSB7XG4gIGNvbnN0IGxhc3QgPSB0cmFja1N0YWNrLnBvcCgpO1xuICBzaG91bGRUcmFjayA9IGxhc3QgPT09IHZvaWQgMCA/IHRydWUgOiBsYXN0O1xufVxuZnVuY3Rpb24gb25FZmZlY3RDbGVhbnVwKGZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSkge1xuICBpZiAoYWN0aXZlU3ViIGluc3RhbmNlb2YgUmVhY3RpdmVFZmZlY3QpIHtcbiAgICBhY3RpdmVTdWIuY2xlYW51cCA9IGZuO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWZhaWxTaWxlbnRseSkge1xuICAgIHdhcm4oXG4gICAgICBgb25FZmZlY3RDbGVhbnVwKCkgd2FzIGNhbGxlZCB3aGVuIHRoZXJlIHdhcyBubyBhY3RpdmUgZWZmZWN0IHRvIGFzc29jaWF0ZSB3aXRoLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRWZmZWN0KGUpIHtcbiAgY29uc3QgeyBjbGVhbnVwIH0gPSBlO1xuICBlLmNsZWFudXAgPSB2b2lkIDA7XG4gIGlmIChjbGVhbnVwKSB7XG4gICAgY29uc3QgcHJldlN1YiA9IGFjdGl2ZVN1YjtcbiAgICBhY3RpdmVTdWIgPSB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWN0aXZlU3ViID0gcHJldlN1YjtcbiAgICB9XG4gIH1cbn1cblxubGV0IGdsb2JhbFZlcnNpb24gPSAwO1xuY2xhc3MgTGluayB7XG4gIGNvbnN0cnVjdG9yKHN1YiwgZGVwKSB7XG4gICAgdGhpcy5zdWIgPSBzdWI7XG4gICAgdGhpcy5kZXAgPSBkZXA7XG4gICAgdGhpcy52ZXJzaW9uID0gZGVwLnZlcnNpb247XG4gICAgdGhpcy5uZXh0RGVwID0gdGhpcy5wcmV2RGVwID0gdGhpcy5uZXh0U3ViID0gdGhpcy5wcmV2U3ViID0gdGhpcy5wcmV2QWN0aXZlTGluayA9IHZvaWQgMDtcbiAgfVxufVxuY2xhc3MgRGVwIHtcbiAgLy8gVE9ETyBpc29sYXRlZERlY2xhcmF0aW9ucyBcIl9fdl9za2lwXCJcbiAgY29uc3RydWN0b3IoY29tcHV0ZWQpIHtcbiAgICB0aGlzLmNvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgdGhpcy52ZXJzaW9uID0gMDtcbiAgICAvKipcbiAgICAgKiBMaW5rIGJldHdlZW4gdGhpcyBkZXAgYW5kIHRoZSBjdXJyZW50IGFjdGl2ZSBlZmZlY3RcbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZUxpbmsgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogRG91Ymx5IGxpbmtlZCBsaXN0IHJlcHJlc2VudGluZyB0aGUgc3Vic2NyaWJpbmcgZWZmZWN0cyAodGFpbClcbiAgICAgKi9cbiAgICB0aGlzLnN1YnMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogRm9yIG9iamVjdCBwcm9wZXJ0eSBkZXBzIGNsZWFudXBcbiAgICAgKi9cbiAgICB0aGlzLm1hcCA9IHZvaWQgMDtcbiAgICB0aGlzLmtleSA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVyIGNvdW50ZXJcbiAgICAgKi9cbiAgICB0aGlzLnNjID0gMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9fdl9za2lwID0gdHJ1ZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgdGhpcy5zdWJzSGVhZCA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgdHJhY2soZGVidWdJbmZvKSB7XG4gICAgaWYgKCFhY3RpdmVTdWIgfHwgIXNob3VsZFRyYWNrIHx8IGFjdGl2ZVN1YiA9PT0gdGhpcy5jb21wdXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbGluayA9IHRoaXMuYWN0aXZlTGluaztcbiAgICBpZiAobGluayA9PT0gdm9pZCAwIHx8IGxpbmsuc3ViICE9PSBhY3RpdmVTdWIpIHtcbiAgICAgIGxpbmsgPSB0aGlzLmFjdGl2ZUxpbmsgPSBuZXcgTGluayhhY3RpdmVTdWIsIHRoaXMpO1xuICAgICAgaWYgKCFhY3RpdmVTdWIuZGVwcykge1xuICAgICAgICBhY3RpdmVTdWIuZGVwcyA9IGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5rLnByZXZEZXAgPSBhY3RpdmVTdWIuZGVwc1RhaWw7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbC5uZXh0RGVwID0gbGluaztcbiAgICAgICAgYWN0aXZlU3ViLmRlcHNUYWlsID0gbGluaztcbiAgICAgIH1cbiAgICAgIGFkZFN1YihsaW5rKTtcbiAgICB9IGVsc2UgaWYgKGxpbmsudmVyc2lvbiA9PT0gLTEpIHtcbiAgICAgIGxpbmsudmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcbiAgICAgIGlmIChsaW5rLm5leHREZXApIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGxpbmsubmV4dERlcDtcbiAgICAgICAgbmV4dC5wcmV2RGVwID0gbGluay5wcmV2RGVwO1xuICAgICAgICBpZiAobGluay5wcmV2RGVwKSB7XG4gICAgICAgICAgbGluay5wcmV2RGVwLm5leHREZXAgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGxpbmsucHJldkRlcCA9IGFjdGl2ZVN1Yi5kZXBzVGFpbDtcbiAgICAgICAgbGluay5uZXh0RGVwID0gdm9pZCAwO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwubmV4dERlcCA9IGxpbms7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICAgIGlmIChhY3RpdmVTdWIuZGVwcyA9PT0gbGluaykge1xuICAgICAgICAgIGFjdGl2ZVN1Yi5kZXBzID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhY3RpdmVTdWIub25UcmFjaykge1xuICAgICAgYWN0aXZlU3ViLm9uVHJhY2soXG4gICAgICAgIGV4dGVuZChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlZmZlY3Q6IGFjdGl2ZVN1YlxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVidWdJbmZvXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBsaW5rO1xuICB9XG4gIHRyaWdnZXIoZGVidWdJbmZvKSB7XG4gICAgdGhpcy52ZXJzaW9uKys7XG4gICAgZ2xvYmFsVmVyc2lvbisrO1xuICAgIHRoaXMubm90aWZ5KGRlYnVnSW5mbyk7XG4gIH1cbiAgbm90aWZ5KGRlYnVnSW5mbykge1xuICAgIHN0YXJ0QmF0Y2goKTtcbiAgICB0cnkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZm9yIChsZXQgaGVhZCA9IHRoaXMuc3Vic0hlYWQ7IGhlYWQ7IGhlYWQgPSBoZWFkLm5leHRTdWIpIHtcbiAgICAgICAgICBpZiAoaGVhZC5zdWIub25UcmlnZ2VyICYmICEoaGVhZC5zdWIuZmxhZ3MgJiA4KSkge1xuICAgICAgICAgICAgaGVhZC5zdWIub25UcmlnZ2VyKFxuICAgICAgICAgICAgICBleHRlbmQoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZWZmZWN0OiBoZWFkLnN1YlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVidWdJbmZvXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBsaW5rID0gdGhpcy5zdWJzOyBsaW5rOyBsaW5rID0gbGluay5wcmV2U3ViKSB7XG4gICAgICAgIGlmIChsaW5rLnN1Yi5ub3RpZnkoKSkge1xuICAgICAgICAgIDtcbiAgICAgICAgICBsaW5rLnN1Yi5kZXAubm90aWZ5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgZW5kQmF0Y2goKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFkZFN1YihsaW5rKSB7XG4gIGxpbmsuZGVwLnNjKys7XG4gIGlmIChsaW5rLnN1Yi5mbGFncyAmIDQpIHtcbiAgICBjb25zdCBjb21wdXRlZCA9IGxpbmsuZGVwLmNvbXB1dGVkO1xuICAgIGlmIChjb21wdXRlZCAmJiAhbGluay5kZXAuc3Vicykge1xuICAgICAgY29tcHV0ZWQuZmxhZ3MgfD0gNCB8IDE2O1xuICAgICAgZm9yIChsZXQgbCA9IGNvbXB1dGVkLmRlcHM7IGw7IGwgPSBsLm5leHREZXApIHtcbiAgICAgICAgYWRkU3ViKGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VGFpbCA9IGxpbmsuZGVwLnN1YnM7XG4gICAgaWYgKGN1cnJlbnRUYWlsICE9PSBsaW5rKSB7XG4gICAgICBsaW5rLnByZXZTdWIgPSBjdXJyZW50VGFpbDtcbiAgICAgIGlmIChjdXJyZW50VGFpbCkgY3VycmVudFRhaWwubmV4dFN1YiA9IGxpbms7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGxpbmsuZGVwLnN1YnNIZWFkID09PSB2b2lkIDApIHtcbiAgICAgIGxpbmsuZGVwLnN1YnNIZWFkID0gbGluaztcbiAgICB9XG4gICAgbGluay5kZXAuc3VicyA9IGxpbms7XG4gIH1cbn1cbmNvbnN0IHRhcmdldE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woXG4gICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIk9iamVjdCBpdGVyYXRlXCIgOiBcIlwiXG4pO1xuY29uc3QgTUFQX0tFWV9JVEVSQVRFX0tFWSA9IFN5bWJvbChcbiAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiTWFwIGtleXMgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmNvbnN0IEFSUkFZX0lURVJBVEVfS0VZID0gU3ltYm9sKFxuICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJBcnJheSBpdGVyYXRlXCIgOiBcIlwiXG4pO1xuZnVuY3Rpb24gdHJhY2sodGFyZ2V0LCB0eXBlLCBrZXkpIHtcbiAgaWYgKHNob3VsZFRyYWNrICYmIGFjdGl2ZVN1Yikge1xuICAgIGxldCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICAgIGlmICghZGVwc01hcCkge1xuICAgICAgdGFyZ2V0TWFwLnNldCh0YXJnZXQsIGRlcHNNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgICB9XG4gICAgbGV0IGRlcCA9IGRlcHNNYXAuZ2V0KGtleSk7XG4gICAgaWYgKCFkZXApIHtcbiAgICAgIGRlcHNNYXAuc2V0KGtleSwgZGVwID0gbmV3IERlcCgpKTtcbiAgICAgIGRlcC5tYXAgPSBkZXBzTWFwO1xuICAgICAgZGVwLmtleSA9IGtleTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGRlcC50cmFjayh7XG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVwLnRyYWNrKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyKHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCkge1xuICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICBpZiAoIWRlcHNNYXApIHtcbiAgICBnbG9iYWxWZXJzaW9uKys7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJ1biA9IChkZXApID0+IHtcbiAgICBpZiAoZGVwKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBkZXAudHJpZ2dlcih7XG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcC50cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBzdGFydEJhdGNoKCk7XG4gIGlmICh0eXBlID09PSBcImNsZWFyXCIpIHtcbiAgICBkZXBzTWFwLmZvckVhY2gocnVuKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0YXJnZXRJc0FycmF5ID0gaXNBcnJheSh0YXJnZXQpO1xuICAgIGNvbnN0IGlzQXJyYXlJbmRleCA9IHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSk7XG4gICAgaWYgKHRhcmdldElzQXJyYXkgJiYga2V5ID09PSBcImxlbmd0aFwiKSB7XG4gICAgICBjb25zdCBuZXdMZW5ndGggPSBOdW1iZXIobmV3VmFsdWUpO1xuICAgICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleTIpID0+IHtcbiAgICAgICAgaWYgKGtleTIgPT09IFwibGVuZ3RoXCIgfHwga2V5MiA9PT0gQVJSQVlfSVRFUkFURV9LRVkgfHwgIWlzU3ltYm9sKGtleTIpICYmIGtleTIgPj0gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgcnVuKGRlcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoa2V5ICE9PSB2b2lkIDAgfHwgZGVwc01hcC5oYXModm9pZCAwKSkge1xuICAgICAgICBydW4oZGVwc01hcC5nZXQoa2V5KSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUluZGV4KSB7XG4gICAgICAgIHJ1bihkZXBzTWFwLmdldChBUlJBWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJhZGRcIjpcbiAgICAgICAgICBpZiAoIXRhcmdldElzQXJyYXkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlJbmRleCkge1xuICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KFwibGVuZ3RoXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgICAgICBpZiAoIXRhcmdldElzQXJyYXkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzZXRcIjpcbiAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbmRCYXRjaCgpO1xufVxuZnVuY3Rpb24gZ2V0RGVwRnJvbVJlYWN0aXZlKG9iamVjdCwga2V5KSB7XG4gIGNvbnN0IGRlcE1hcCA9IHRhcmdldE1hcC5nZXQob2JqZWN0KTtcbiAgcmV0dXJuIGRlcE1hcCAmJiBkZXBNYXAuZ2V0KGtleSk7XG59XG5cbmZ1bmN0aW9uIHJlYWN0aXZlUmVhZEFycmF5KGFycmF5KSB7XG4gIGNvbnN0IHJhdyA9IHRvUmF3KGFycmF5KTtcbiAgaWYgKHJhdyA9PT0gYXJyYXkpIHJldHVybiByYXc7XG4gIHRyYWNrKHJhdywgXCJpdGVyYXRlXCIsIEFSUkFZX0lURVJBVEVfS0VZKTtcbiAgcmV0dXJuIGlzU2hhbGxvdyhhcnJheSkgPyByYXcgOiByYXcubWFwKHRvUmVhY3RpdmUpO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWRBcnJheShhcnIpIHtcbiAgdHJhY2soYXJyID0gdG9SYXcoYXJyKSwgXCJpdGVyYXRlXCIsIEFSUkFZX0lURVJBVEVfS0VZKTtcbiAgcmV0dXJuIGFycjtcbn1cbmNvbnN0IGFycmF5SW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgX19wcm90b19fOiBudWxsLFxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgU3ltYm9sLml0ZXJhdG9yLCB0b1JlYWN0aXZlKTtcbiAgfSxcbiAgY29uY2F0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykuY29uY2F0KFxuICAgICAgLi4uYXJncy5tYXAoKHgpID0+IGlzQXJyYXkoeCkgPyByZWFjdGl2ZVJlYWRBcnJheSh4KSA6IHgpXG4gICAgKTtcbiAgfSxcbiAgZW50cmllcygpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgXCJlbnRyaWVzXCIsICh2YWx1ZSkgPT4ge1xuICAgICAgdmFsdWVbMV0gPSB0b1JlYWN0aXZlKHZhbHVlWzFdKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbiAgfSxcbiAgZXZlcnkoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJldmVyeVwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaWx0ZXIoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaWx0ZXJcIiwgZm4sIHRoaXNBcmcsICh2KSA9PiB2Lm1hcCh0b1JlYWN0aXZlKSwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRcIiwgZm4sIHRoaXNBcmcsIHRvUmVhY3RpdmUsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbmRJbmRleChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRJbmRleFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaW5kTGFzdChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRMYXN0XCIsIGZuLCB0aGlzQXJnLCB0b1JlYWN0aXZlLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaW5kTGFzdEluZGV4KGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZmluZExhc3RJbmRleFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICAvLyBmbGF0LCBmbGF0TWFwIGNvdWxkIGJlbmVmaXQgZnJvbSBBUlJBWV9JVEVSQVRFIGJ1dCBhcmUgbm90IHN0cmFpZ2h0LWZvcndhcmQgdG8gaW1wbGVtZW50XG4gIGZvckVhY2goZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmb3JFYWNoXCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGluY2x1ZGVzKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gc2VhcmNoUHJveHkodGhpcywgXCJpbmNsdWRlc1wiLCBhcmdzKTtcbiAgfSxcbiAgaW5kZXhPZiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHNlYXJjaFByb3h5KHRoaXMsIFwiaW5kZXhPZlwiLCBhcmdzKTtcbiAgfSxcbiAgam9pbihzZXBhcmF0b3IpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykuam9pbihzZXBhcmF0b3IpO1xuICB9LFxuICAvLyBrZXlzKCkgaXRlcmF0b3Igb25seSByZWFkcyBgbGVuZ3RoYCwgbm8gb3B0aW1pemF0aW9uIHJlcXVpcmVkXG4gIGxhc3RJbmRleE9mKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gc2VhcmNoUHJveHkodGhpcywgXCJsYXN0SW5kZXhPZlwiLCBhcmdzKTtcbiAgfSxcbiAgbWFwKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwibWFwXCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIHBvcCgpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInBvcFwiKTtcbiAgfSxcbiAgcHVzaCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJwdXNoXCIsIGFyZ3MpO1xuICB9LFxuICByZWR1Y2UoZm4sIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVkdWNlKHRoaXMsIFwicmVkdWNlXCIsIGZuLCBhcmdzKTtcbiAgfSxcbiAgcmVkdWNlUmlnaHQoZm4sIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVkdWNlKHRoaXMsIFwicmVkdWNlUmlnaHRcIiwgZm4sIGFyZ3MpO1xuICB9LFxuICBzaGlmdCgpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInNoaWZ0XCIpO1xuICB9LFxuICAvLyBzbGljZSBjb3VsZCB1c2UgQVJSQVlfSVRFUkFURSBidXQgYWxzbyBzZWVtcyB0byBiZWcgZm9yIHJhbmdlIHRyYWNraW5nXG4gIHNvbWUoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJzb21lXCIsIGZuLCB0aGlzQXJnLCB2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIHNwbGljZSguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJzcGxpY2VcIiwgYXJncyk7XG4gIH0sXG4gIHRvUmV2ZXJzZWQoKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLnRvUmV2ZXJzZWQoKTtcbiAgfSxcbiAgdG9Tb3J0ZWQoY29tcGFyZXIpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykudG9Tb3J0ZWQoY29tcGFyZXIpO1xuICB9LFxuICB0b1NwbGljZWQoLi4uYXJncykge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS50b1NwbGljZWQoLi4uYXJncyk7XG4gIH0sXG4gIHVuc2hpZnQoLi4uYXJncykge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwidW5zaGlmdFwiLCBhcmdzKTtcbiAgfSxcbiAgdmFsdWVzKCkge1xuICAgIHJldHVybiBpdGVyYXRvcih0aGlzLCBcInZhbHVlc1wiLCB0b1JlYWN0aXZlKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGl0ZXJhdG9yKHNlbGYsIG1ldGhvZCwgd3JhcFZhbHVlKSB7XG4gIGNvbnN0IGFyciA9IHNoYWxsb3dSZWFkQXJyYXkoc2VsZik7XG4gIGNvbnN0IGl0ZXIgPSBhcnJbbWV0aG9kXSgpO1xuICBpZiAoYXJyICE9PSBzZWxmICYmICFpc1NoYWxsb3coc2VsZikpIHtcbiAgICBpdGVyLl9uZXh0ID0gaXRlci5uZXh0O1xuICAgIGl0ZXIubmV4dCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXIuX25leHQoKTtcbiAgICAgIGlmIChyZXN1bHQudmFsdWUpIHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gd3JhcFZhbHVlKHJlc3VsdC52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGl0ZXI7XG59XG5jb25zdCBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xuZnVuY3Rpb24gYXBwbHkoc2VsZiwgbWV0aG9kLCBmbiwgdGhpc0FyZywgd3JhcHBlZFJldEZuLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHNoYWxsb3dSZWFkQXJyYXkoc2VsZik7XG4gIGNvbnN0IG5lZWRzV3JhcCA9IGFyciAhPT0gc2VsZiAmJiAhaXNTaGFsbG93KHNlbGYpO1xuICBjb25zdCBtZXRob2RGbiA9IGFyclttZXRob2RdO1xuICBpZiAobWV0aG9kRm4gIT09IGFycmF5UHJvdG9bbWV0aG9kXSkge1xuICAgIGNvbnN0IHJlc3VsdDIgPSBtZXRob2RGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICByZXR1cm4gbmVlZHNXcmFwID8gdG9SZWFjdGl2ZShyZXN1bHQyKSA6IHJlc3VsdDI7XG4gIH1cbiAgbGV0IHdyYXBwZWRGbiA9IGZuO1xuICBpZiAoYXJyICE9PSBzZWxmKSB7XG4gICAgaWYgKG5lZWRzV3JhcCkge1xuICAgICAgd3JhcHBlZEZuID0gZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgdG9SZWFjdGl2ZShpdGVtKSwgaW5kZXgsIHNlbGYpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGZuLmxlbmd0aCA+IDIpIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGl0ZW0sIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdCA9IG1ldGhvZEZuLmNhbGwoYXJyLCB3cmFwcGVkRm4sIHRoaXNBcmcpO1xuICByZXR1cm4gbmVlZHNXcmFwICYmIHdyYXBwZWRSZXRGbiA/IHdyYXBwZWRSZXRGbihyZXN1bHQpIDogcmVzdWx0O1xufVxuZnVuY3Rpb24gcmVkdWNlKHNlbGYsIG1ldGhvZCwgZm4sIGFyZ3MpIHtcbiAgY29uc3QgYXJyID0gc2hhbGxvd1JlYWRBcnJheShzZWxmKTtcbiAgbGV0IHdyYXBwZWRGbiA9IGZuO1xuICBpZiAoYXJyICE9PSBzZWxmKSB7XG4gICAgaWYgKCFpc1NoYWxsb3coc2VsZikpIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGFjYywgaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYWNjLCB0b1JlYWN0aXZlKGl0ZW0pLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZm4ubGVuZ3RoID4gMykge1xuICAgICAgd3JhcHBlZEZuID0gZnVuY3Rpb24oYWNjLCBpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBhY2MsIGl0ZW0sIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJbbWV0aG9kXSh3cmFwcGVkRm4sIC4uLmFyZ3MpO1xufVxuZnVuY3Rpb24gc2VhcmNoUHJveHkoc2VsZiwgbWV0aG9kLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHRvUmF3KHNlbGYpO1xuICB0cmFjayhhcnIsIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIGNvbnN0IHJlcyA9IGFyclttZXRob2RdKC4uLmFyZ3MpO1xuICBpZiAoKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkgJiYgaXNQcm94eShhcmdzWzBdKSkge1xuICAgIGFyZ3NbMF0gPSB0b1JhdyhhcmdzWzBdKTtcbiAgICByZXR1cm4gYXJyW21ldGhvZF0oLi4uYXJncyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG5vVHJhY2tpbmcoc2VsZiwgbWV0aG9kLCBhcmdzID0gW10pIHtcbiAgcGF1c2VUcmFja2luZygpO1xuICBzdGFydEJhdGNoKCk7XG4gIGNvbnN0IHJlcyA9IHRvUmF3KHNlbGYpW21ldGhvZF0uYXBwbHkoc2VsZiwgYXJncyk7XG4gIGVuZEJhdGNoKCk7XG4gIHJlc2V0VHJhY2tpbmcoKTtcbiAgcmV0dXJuIHJlcztcbn1cblxuY29uc3QgaXNOb25UcmFja2FibGVLZXlzID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoYF9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZWApO1xuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KFxuICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKS5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSBcImFyZ3VtZW50c1wiICYmIGtleSAhPT0gXCJjYWxsZXJcIikubWFwKChrZXkpID0+IFN5bWJvbFtrZXldKS5maWx0ZXIoaXNTeW1ib2wpXG4pO1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkoa2V5KSB7XG4gIGlmICghaXNTeW1ib2woa2V5KSkga2V5ID0gU3RyaW5nKGtleSk7XG4gIGNvbnN0IG9iaiA9IHRvUmF3KHRoaXMpO1xuICB0cmFjayhvYmosIFwiaGFzXCIsIGtleSk7XG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkoa2V5KTtcbn1cbmNsYXNzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihfaXNSZWFkb25seSA9IGZhbHNlLCBfaXNTaGFsbG93ID0gZmFsc2UpIHtcbiAgICB0aGlzLl9pc1JlYWRvbmx5ID0gX2lzUmVhZG9ubHk7XG4gICAgdGhpcy5faXNTaGFsbG93ID0gX2lzU2hhbGxvdztcbiAgfVxuICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3Zfc2tpcFwiKSByZXR1cm4gdGFyZ2V0W1wiX192X3NraXBcIl07XG4gICAgY29uc3QgaXNSZWFkb25seTIgPSB0aGlzLl9pc1JlYWRvbmx5LCBpc1NoYWxsb3cyID0gdGhpcy5faXNTaGFsbG93O1xuICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIikge1xuICAgICAgcmV0dXJuICFpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzU2hhbGxvd1wiKSB7XG4gICAgICByZXR1cm4gaXNTaGFsbG93MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIGlmIChyZWNlaXZlciA9PT0gKGlzUmVhZG9ubHkyID8gaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFkb25seU1hcCA6IHJlYWRvbmx5TWFwIDogaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFjdGl2ZU1hcCA6IHJlYWN0aXZlTWFwKS5nZXQodGFyZ2V0KSB8fCAvLyByZWNlaXZlciBpcyBub3QgdGhlIHJlYWN0aXZlIHByb3h5LCBidXQgaGFzIHRoZSBzYW1lIHByb3RvdHlwZVxuICAgICAgLy8gdGhpcyBtZWFucyB0aGUgcmVjZWl2ZXIgaXMgYSB1c2VyIHByb3h5IG9mIHRoZSByZWFjdGl2ZSBwcm94eVxuICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihyZWNlaXZlcikpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICBsZXQgZm47XG4gICAgICBpZiAodGFyZ2V0SXNBcnJheSAmJiAoZm4gPSBhcnJheUluc3RydW1lbnRhdGlvbnNba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gXCJoYXNPd25Qcm9wZXJ0eVwiKSB7XG4gICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQoXG4gICAgICB0YXJnZXQsXG4gICAgICBrZXksXG4gICAgICAvLyBpZiB0aGlzIGlzIGEgcHJveHkgd3JhcHBpbmcgYSByZWYsIHJldHVybiBtZXRob2RzIHVzaW5nIHRoZSByYXcgcmVmXG4gICAgICAvLyBhcyByZWNlaXZlciBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gY2FsbCBgdG9SYXdgIG9uIHRoZSByZWYgaW4gYWxsXG4gICAgICAvLyBpdHMgY2xhc3MgbWV0aG9kc1xuICAgICAgaXNSZWYodGFyZ2V0KSA/IHRhcmdldCA6IHJlY2VpdmVyXG4gICAgKTtcbiAgICBpZiAoaXNTeW1ib2woa2V5KSA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpIDogaXNOb25UcmFja2FibGVLZXlzKGtleSkpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmICghaXNSZWFkb25seTIpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwga2V5KTtcbiAgICB9XG4gICAgaWYgKGlzU2hhbGxvdzIpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChpc1JlZihyZXMpKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0SXNBcnJheSAmJiBpc0ludGVnZXJLZXkoa2V5KSA/IHJlcyA6IHJlcy52YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcbiAgICAgIHJldHVybiBpc1JlYWRvbmx5MiA/IHJlYWRvbmx5KHJlcykgOiByZWFjdGl2ZShyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG59XG5jbGFzcyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyIGV4dGVuZHMgQmFzZVJlYWN0aXZlSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKGlzU2hhbGxvdzIgPSBmYWxzZSkge1xuICAgIHN1cGVyKGZhbHNlLCBpc1NoYWxsb3cyKTtcbiAgfVxuICBzZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikge1xuICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGlmICghdGhpcy5faXNTaGFsbG93KSB7XG4gICAgICBjb25zdCBpc09sZFZhbHVlUmVhZG9ubHkgPSBpc1JlYWRvbmx5KG9sZFZhbHVlKTtcbiAgICAgIGlmICghaXNTaGFsbG93KHZhbHVlKSAmJiAhaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgb2xkVmFsdWUgPSB0b1JhdyhvbGRWYWx1ZSk7XG4gICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGlzT2xkVmFsdWVSZWFkb25seSkge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICBgU2V0IG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgICAgICAgIHRhcmdldFtrZXldXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGhhZEtleSA9IGlzQXJyYXkodGFyZ2V0KSAmJiBpc0ludGVnZXJLZXkoa2V5KSA/IE51bWJlcihrZXkpIDwgdGFyZ2V0Lmxlbmd0aCA6IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5zZXQoXG4gICAgICB0YXJnZXQsXG4gICAgICBrZXksXG4gICAgICB2YWx1ZSxcbiAgICAgIGlzUmVmKHRhcmdldCkgPyB0YXJnZXQgOiByZWNlaXZlclxuICAgICk7XG4gICAgaWYgKHRhcmdldCA9PT0gdG9SYXcocmVjZWl2ZXIpKSB7XG4gICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiwga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgaGFkS2V5ID0gaGFzT3duKHRhcmdldCwga2V5KTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpO1xuICAgIGlmIChyZXN1bHQgJiYgaGFkS2V5KSB7XG4gICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiwga2V5LCB2b2lkIDAsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIGtleSk7XG4gICAgaWYgKCFpc1N5bWJvbChrZXkpIHx8ICFidWlsdEluU3ltYm9scy5oYXMoa2V5KSkge1xuICAgICAgdHJhY2sodGFyZ2V0LCBcImhhc1wiLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIG93bktleXModGFyZ2V0KSB7XG4gICAgdHJhY2soXG4gICAgICB0YXJnZXQsXG4gICAgICBcIml0ZXJhdGVcIixcbiAgICAgIGlzQXJyYXkodGFyZ2V0KSA/IFwibGVuZ3RoXCIgOiBJVEVSQVRFX0tFWVxuICAgICk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICB9XG59XG5jbGFzcyBSZWFkb25seVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcih0cnVlLCBpc1NoYWxsb3cyKTtcbiAgfVxuICBzZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYFNldCBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0YXJnZXRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBEZWxldGUgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuY29uc3QgbXV0YWJsZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKCk7XG5jb25zdCByZWFkb25seUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBSZWFkb25seVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE11dGFibGVSZWFjdGl2ZUhhbmRsZXIodHJ1ZSk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIodHJ1ZSk7XG5cbmNvbnN0IHRvU2hhbGxvdyA9ICh2YWx1ZSkgPT4gdmFsdWU7XG5jb25zdCBnZXRQcm90byA9ICh2KSA9PiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHYpO1xuZnVuY3Rpb24gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCBpc1JlYWRvbmx5MiwgaXNTaGFsbG93Mikge1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xuICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gXCJlbnRyaWVzXCIgfHwgbWV0aG9kID09PSBTeW1ib2wuaXRlcmF0b3IgJiYgdGFyZ2V0SXNNYXA7XG4gICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSBcImtleXNcIiAmJiB0YXJnZXRJc01hcDtcbiAgICBjb25zdCBpbm5lckl0ZXJhdG9yID0gdGFyZ2V0W21ldGhvZF0oLi4uYXJncyk7XG4gICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdzIgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5MiA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICFpc1JlYWRvbmx5MiAmJiB0cmFjayhcbiAgICAgIHJhd1RhcmdldCxcbiAgICAgIFwiaXRlcmF0ZVwiLFxuICAgICAgaXNLZXlPbmx5ID8gTUFQX0tFWV9JVEVSQVRFX0tFWSA6IElURVJBVEVfS0VZXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcbiAgICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gZG9uZSA/IHsgdmFsdWUsIGRvbmUgfSA6IHtcbiAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcbiAgICAgICAgICBkb25lXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgLy8gaXRlcmFibGUgcHJvdG9jb2xcbiAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUmVhZG9ubHlNZXRob2QodHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBjb25zdCBrZXkgPSBhcmdzWzBdID8gYG9uIGtleSBcIiR7YXJnc1swXX1cIiBgIDogYGA7XG4gICAgICB3YXJuKFxuICAgICAgICBgJHtjYXBpdGFsaXplKHR5cGUpfSBvcGVyYXRpb24gJHtrZXl9ZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdG9SYXcodGhpcylcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0eXBlID09PSBcImRlbGV0ZVwiID8gZmFsc2UgOiB0eXBlID09PSBcImNsZWFyXCIgPyB2b2lkIDAgOiB0aGlzO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyhyZWFkb25seSwgc2hhbGxvdykge1xuICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0ge1xuICAgIGdldChrZXkpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gICAgICBpZiAoIXJlYWRvbmx5KSB7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKGtleSwgcmF3S2V5KSkge1xuICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIsIHJhd0tleSk7XG4gICAgICB9XG4gICAgICBjb25zdCB7IGhhcyB9ID0gZ2V0UHJvdG8ocmF3VGFyZ2V0KTtcbiAgICAgIGNvbnN0IHdyYXAgPSBzaGFsbG93ID8gdG9TaGFsbG93IDogcmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAgIGlmIChoYXMuY2FsbChyYXdUYXJnZXQsIGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChrZXkpKTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQocmF3S2V5KSk7XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldCAhPT0gcmF3VGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldC5nZXQoa2V5KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldCBzaXplKCkge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIl07XG4gICAgICAhcmVhZG9ubHkgJiYgdHJhY2sodG9SYXcodGFyZ2V0KSwgXCJpdGVyYXRlXCIsIElURVJBVEVfS0VZKTtcbiAgICAgIHJldHVybiB0YXJnZXQuc2l6ZTtcbiAgICB9LFxuICAgIGhhcyhrZXkpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gICAgICBpZiAoIXJlYWRvbmx5KSB7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKGtleSwgcmF3S2V5KSkge1xuICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIsIHJhd0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5ID09PSByYXdLZXkgPyB0YXJnZXQuaGFzKGtleSkgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xuICAgIH0sXG4gICAgZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgY29uc3Qgb2JzZXJ2ZWQgPSB0aGlzO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHdyYXAgPSBzaGFsbG93ID8gdG9TaGFsbG93IDogcmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAgICFyZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBleHRlbmQoXG4gICAgaW5zdHJ1bWVudGF0aW9ucyxcbiAgICByZWFkb25seSA/IHtcbiAgICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiksXG4gICAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIpLFxuICAgICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIpXG4gICAgfSA6IHtcbiAgICAgIGFkZCh2YWx1ZSkge1xuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IHByb3RvID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XG4gICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIHZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFzaGFsbG93ICYmICFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldC5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHZvaWQgMDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAoaGFkS2V5KSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBjbGVhcigpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IGhhZEl0ZW1zID0gdGFyZ2V0LnNpemUgIT09IDA7XG4gICAgICAgIGNvbnN0IG9sZFRhcmdldCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBpc01hcCh0YXJnZXQpID8gbmV3IE1hcCh0YXJnZXQpIDogbmV3IFNldCh0YXJnZXQpIDogdm9pZCAwO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuY2xlYXIoKTtcbiAgICAgICAgaWYgKGhhZEl0ZW1zKSB7XG4gICAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIFwiY2xlYXJcIixcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFtcbiAgICBcImtleXNcIixcbiAgICBcInZhbHVlc1wiLFxuICAgIFwiZW50cmllc1wiLFxuICAgIFN5bWJvbC5pdGVyYXRvclxuICBdO1xuICBpdGVyYXRvck1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgaW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCByZWFkb25seSwgc2hhbGxvdyk7XG4gIH0pO1xuICByZXR1cm4gaW5zdHJ1bWVudGF0aW9ucztcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5Miwgc2hhbGxvdykge1xuICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyhpc1JlYWRvbmx5Miwgc2hhbGxvdyk7XG4gIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiKSB7XG4gICAgICByZXR1cm4gIWlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIpIHtcbiAgICAgIHJldHVybiBpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0LmdldChcbiAgICAgIGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXQgPyBpbnN0cnVtZW50YXRpb25zIDogdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgcmVjZWl2ZXJcbiAgICApO1xuICB9O1xufVxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXG59O1xuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxufTtcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpIHtcbiAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xuICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcbiAgICB3YXJuKFxuICAgICAgYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xuICBzd2l0Y2ggKHJhd1R5cGUpIHtcbiAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICByZXR1cm4gMSAvKiBDT01NT04gKi87XG4gICAgY2FzZSBcIk1hcFwiOlxuICAgIGNhc2UgXCJTZXRcIjpcbiAgICBjYXNlIFwiV2Vha01hcFwiOlxuICAgIGNhc2UgXCJXZWFrU2V0XCI6XG4gICAgICByZXR1cm4gMiAvKiBDT0xMRUNUSU9OICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMCAvKiBJTlZBTElEICovO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVtcIl9fdl9za2lwXCJdIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSA/IDAgLyogSU5WQUxJRCAqLyA6IHRhcmdldFR5cGVNYXAodG9SYXdUeXBlKHZhbHVlKSk7XG59XG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcbiAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBtdXRhYmxlSGFuZGxlcnMsXG4gICAgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICByZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIGZhbHNlLFxuICAgIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLFxuICAgIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWN0aXZlTWFwXG4gICk7XG59XG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHJlYWRvbmx5SGFuZGxlcnMsXG4gICAgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seTIsIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYHZhbHVlIGNhbm5vdCBiZSBtYWRlICR7aXNSZWFkb25seTIgPyBcInJlYWRvbmx5XCIgOiBcInJlYWN0aXZlXCJ9OiAke1N0cmluZyhcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICAgKX1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCJdICYmICEoaXNSZWFkb25seTIgJiYgdGFyZ2V0W1wiX192X2lzUmVhY3RpdmVcIl0pKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCB0YXJnZXRUeXBlID0gZ2V0VGFyZ2V0VHlwZSh0YXJnZXQpO1xuICBpZiAodGFyZ2V0VHlwZSA9PT0gMCAvKiBJTlZBTElEICovKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBleGlzdGluZ1Byb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XG4gIGlmIChleGlzdGluZ1Byb3h5KSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nUHJveHk7XG4gIH1cbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoXG4gICAgdGFyZ2V0LFxuICAgIHRhcmdldFR5cGUgPT09IDIgLyogQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVyc1xuICApO1xuICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn1cbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcbiAgaWYgKGlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCJdKTtcbiAgfVxuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiXSk7XG59XG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCJdKTtcbn1cbmZ1bmN0aW9uIGlzU2hhbGxvdyh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNTaGFsbG93XCJdKTtcbn1cbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gISF2YWx1ZVtcIl9fdl9yYXdcIl0gOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XG4gIGNvbnN0IHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiXTtcbiAgcmV0dXJuIHJhdyA/IHRvUmF3KHJhdykgOiBvYnNlcnZlZDtcbn1cbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcbiAgaWYgKCFoYXNPd24odmFsdWUsIFwiX192X3NraXBcIikgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkpIHtcbiAgICBkZWYodmFsdWUsIFwiX192X3NraXBcIiwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdG9SZWFjdGl2ZSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhY3RpdmUodmFsdWUpIDogdmFsdWU7XG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcblxuZnVuY3Rpb24gaXNSZWYocikge1xuICByZXR1cm4gciA/IHJbXCJfX3ZfaXNSZWZcIl0gPT09IHRydWUgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlZih2YWx1ZSkge1xuICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVmKHZhbHVlKSB7XG4gIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93KSB7XG4gIGlmIChpc1JlZihyYXdWYWx1ZSkpIHtcbiAgICByZXR1cm4gcmF3VmFsdWU7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcbn1cbmNsYXNzIFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgaXNTaGFsbG93Mikge1xuICAgIHRoaXMuZGVwID0gbmV3IERlcCgpO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdID0gZmFsc2U7XG4gICAgdGhpcy5fcmF3VmFsdWUgPSBpc1NoYWxsb3cyID8gdmFsdWUgOiB0b1Jhdyh2YWx1ZSk7XG4gICAgdGhpcy5fdmFsdWUgPSBpc1NoYWxsb3cyID8gdmFsdWUgOiB0b1JlYWN0aXZlKHZhbHVlKTtcbiAgICB0aGlzW1wiX192X2lzU2hhbGxvd1wiXSA9IGlzU2hhbGxvdzI7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB0aGlzLmRlcC50cmFjayh7XG4gICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAga2V5OiBcInZhbHVlXCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlcC50cmFjaygpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl9yYXdWYWx1ZTtcbiAgICBjb25zdCB1c2VEaXJlY3RWYWx1ZSA9IHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdIHx8IGlzU2hhbGxvdyhuZXdWYWx1ZSkgfHwgaXNSZWFkb25seShuZXdWYWx1ZSk7XG4gICAgbmV3VmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbHVlIDogdG9SYXcobmV3VmFsdWUpO1xuICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB0aGlzLl92YWx1ZSA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsdWUgOiB0b1JlYWN0aXZlKG5ld1ZhbHVlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHRoaXMuZGVwLnRyaWdnZXIoe1xuICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kZXAudHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYyKSB7XG4gIGlmIChyZWYyLmRlcCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICByZWYyLmRlcC50cmlnZ2VyKHtcbiAgICAgICAgdGFyZ2V0OiByZWYyLFxuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIixcbiAgICAgICAgbmV3VmFsdWU6IHJlZjIuX3ZhbHVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVmMi5kZXAudHJpZ2dlcigpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdW5yZWYocmVmMikge1xuICByZXR1cm4gaXNSZWYocmVmMikgPyByZWYyLnZhbHVlIDogcmVmMjtcbn1cbmZ1bmN0aW9uIHRvVmFsdWUoc291cmNlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZSkgPyBzb3VyY2UoKSA6IHVucmVmKHNvdXJjZSk7XG59XG5jb25zdCBzaGFsbG93VW53cmFwSGFuZGxlcnMgPSB7XG4gIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4ga2V5ID09PSBcIl9fdl9yYXdcIiA/IHRhcmdldCA6IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxuICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xuICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcykgPyBvYmplY3RXaXRoUmVmcyA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcbn1cbmNsYXNzIEN1c3RvbVJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gICAgY29uc3QgZGVwID0gdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeShkZXAudHJhY2suYmluZChkZXApLCBkZXAudHJpZ2dlci5iaW5kKGRlcCkpO1xuICAgIHRoaXMuX2dldCA9IGdldDtcbiAgICB0aGlzLl9zZXQgPSBzZXQ7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldCgpO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9zZXQobmV3VmFsKTtcbiAgfVxufVxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcbiAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XG4gICAgd2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XG4gIH1cbiAgY29uc3QgcmV0ID0gaXNBcnJheShvYmplY3QpID8gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpIDoge307XG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgIHJldFtrZXldID0gcHJvcGVydHlUb1JlZihvYmplY3QsIGtleSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmNsYXNzIE9iamVjdFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcihfb2JqZWN0LCBfa2V5LCBfZGVmYXVsdFZhbHVlKSB7XG4gICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcbiAgICB0aGlzLl9rZXkgPSBfa2V5O1xuICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IF9kZWZhdWx0VmFsdWU7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHZhbCA9PT0gdm9pZCAwID8gdGhpcy5fZGVmYXVsdFZhbHVlIDogdmFsO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcbiAgfVxuICBnZXQgZGVwKCkge1xuICAgIHJldHVybiBnZXREZXBGcm9tUmVhY3RpdmUodG9SYXcodGhpcy5fb2JqZWN0KSwgdGhpcy5fa2V5KTtcbiAgfVxufVxuY2xhc3MgR2V0dGVyUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9nZXR0ZXIpIHtcbiAgICB0aGlzLl9nZXR0ZXIgPSBfZ2V0dGVyO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldHRlcigpO1xuICB9XG59XG5mdW5jdGlvbiB0b1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICByZXR1cm4gbmV3IEdldHRlclJlZkltcGwoc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5VG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZihzb3VyY2UpO1xuICB9XG59XG5mdW5jdGlvbiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgY29uc3QgdmFsID0gc291cmNlW2tleV07XG4gIHJldHVybiBpc1JlZih2YWwpID8gdmFsIDogbmV3IE9iamVjdFJlZkltcGwoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG59XG5cbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKGZuLCBzZXR0ZXIsIGlzU1NSKSB7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuc2V0dGVyID0gc2V0dGVyO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwID0gbmV3IERlcCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgLy8gVE9ETyBpc29sYXRlZERlY2xhcmF0aW9ucyBcIl9fdl9pc1JlYWRvbmx5XCJcbiAgICAvLyBBIGNvbXB1dGVkIGlzIGFsc28gYSBzdWJzY3JpYmVyIHRoYXQgdHJhY2tzIG90aGVyIGRlcHNcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZsYWdzID0gMTY7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5nbG9iYWxWZXJzaW9uID0gZ2xvYmFsVmVyc2lvbiAtIDE7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgdGhpcy5lZmZlY3QgPSB0aGlzO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9ICFzZXR0ZXI7XG4gICAgdGhpcy5pc1NTUiA9IGlzU1NSO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeSgpIHtcbiAgICB0aGlzLmZsYWdzIHw9IDE2O1xuICAgIGlmICghKHRoaXMuZmxhZ3MgJiA4KSAmJiAvLyBhdm9pZCBpbmZpbml0ZSBzZWxmIHJlY3Vyc2lvblxuICAgIGFjdGl2ZVN1YiAhPT0gdGhpcykge1xuICAgICAgYmF0Y2godGhpcywgdHJ1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIDtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgY29uc3QgbGluayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB0aGlzLmRlcC50cmFjayh7XG4gICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICB0eXBlOiBcImdldFwiLFxuICAgICAga2V5OiBcInZhbHVlXCJcbiAgICB9KSA6IHRoaXMuZGVwLnRyYWNrKCk7XG4gICAgcmVmcmVzaENvbXB1dGVkKHRoaXMpO1xuICAgIGlmIChsaW5rKSB7XG4gICAgICBsaW5rLnZlcnNpb24gPSB0aGlzLmRlcC52ZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgaWYgKHRoaXMuc2V0dGVyKSB7XG4gICAgICB0aGlzLnNldHRlcihuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFwiV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHlcIik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNTU1IgPSBmYWxzZSkge1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgc2V0dGVyO1xuICBpZiAoaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpKSB7XG4gICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XG4gICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcbiAgfVxuICBjb25zdCBjUmVmID0gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgaXNTU1IpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZWJ1Z09wdGlvbnMgJiYgIWlzU1NSKSB7XG4gICAgY1JlZi5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XG4gICAgY1JlZi5vblRyaWdnZXIgPSBkZWJ1Z09wdGlvbnMub25UcmlnZ2VyO1xuICB9XG4gIHJldHVybiBjUmVmO1xufVxuXG5jb25zdCBUcmFja09wVHlwZXMgPSB7XG4gIFwiR0VUXCI6IFwiZ2V0XCIsXG4gIFwiSEFTXCI6IFwiaGFzXCIsXG4gIFwiSVRFUkFURVwiOiBcIml0ZXJhdGVcIlxufTtcbmNvbnN0IFRyaWdnZXJPcFR5cGVzID0ge1xuICBcIlNFVFwiOiBcInNldFwiLFxuICBcIkFERFwiOiBcImFkZFwiLFxuICBcIkRFTEVURVwiOiBcImRlbGV0ZVwiLFxuICBcIkNMRUFSXCI6IFwiY2xlYXJcIlxufTtcbmNvbnN0IFJlYWN0aXZlRmxhZ3MgPSB7XG4gIFwiU0tJUFwiOiBcIl9fdl9za2lwXCIsXG4gIFwiSVNfUkVBQ1RJVkVcIjogXCJfX3ZfaXNSZWFjdGl2ZVwiLFxuICBcIklTX1JFQURPTkxZXCI6IFwiX192X2lzUmVhZG9ubHlcIixcbiAgXCJJU19TSEFMTE9XXCI6IFwiX192X2lzU2hhbGxvd1wiLFxuICBcIlJBV1wiOiBcIl9fdl9yYXdcIixcbiAgXCJJU19SRUZcIjogXCJfX3ZfaXNSZWZcIlxufTtcblxuY29uc3QgV2F0Y2hFcnJvckNvZGVzID0ge1xuICBcIldBVENIX0dFVFRFUlwiOiAyLFxuICBcIjJcIjogXCJXQVRDSF9HRVRURVJcIixcbiAgXCJXQVRDSF9DQUxMQkFDS1wiOiAzLFxuICBcIjNcIjogXCJXQVRDSF9DQUxMQkFDS1wiLFxuICBcIldBVENIX0NMRUFOVVBcIjogNCxcbiAgXCI0XCI6IFwiV0FUQ0hfQ0xFQU5VUFwiXG59O1xuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XG5jb25zdCBjbGVhbnVwTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5sZXQgYWN0aXZlV2F0Y2hlciA9IHZvaWQgMDtcbmZ1bmN0aW9uIGdldEN1cnJlbnRXYXRjaGVyKCkge1xuICByZXR1cm4gYWN0aXZlV2F0Y2hlcjtcbn1cbmZ1bmN0aW9uIG9uV2F0Y2hlckNsZWFudXAoY2xlYW51cEZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSwgb3duZXIgPSBhY3RpdmVXYXRjaGVyKSB7XG4gIGlmIChvd25lcikge1xuICAgIGxldCBjbGVhbnVwcyA9IGNsZWFudXBNYXAuZ2V0KG93bmVyKTtcbiAgICBpZiAoIWNsZWFudXBzKSBjbGVhbnVwTWFwLnNldChvd25lciwgY2xlYW51cHMgPSBbXSk7XG4gICAgY2xlYW51cHMucHVzaChjbGVhbnVwRm4pO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWZhaWxTaWxlbnRseSkge1xuICAgIHdhcm4oXG4gICAgICBgb25XYXRjaGVyQ2xlYW51cCgpIHdhcyBjYWxsZWQgd2hlbiB0aGVyZSB3YXMgbm8gYWN0aXZlIHdhdGNoZXIgdG8gYXNzb2NpYXRlIHdpdGguYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgeyBpbW1lZGlhdGUsIGRlZXAsIG9uY2UsIHNjaGVkdWxlciwgYXVnbWVudEpvYiwgY2FsbCB9ID0gb3B0aW9ucztcbiAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xuICAgIChvcHRpb25zLm9uV2FybiB8fCB3YXJuKShcbiAgICAgIGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCxcbiAgICAgIHMsXG4gICAgICBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmBcbiAgICApO1xuICB9O1xuICBjb25zdCByZWFjdGl2ZUdldHRlciA9IChzb3VyY2UyKSA9PiB7XG4gICAgaWYgKGRlZXApIHJldHVybiBzb3VyY2UyO1xuICAgIGlmIChpc1NoYWxsb3coc291cmNlMikgfHwgZGVlcCA9PT0gZmFsc2UgfHwgZGVlcCA9PT0gMClcbiAgICAgIHJldHVybiB0cmF2ZXJzZShzb3VyY2UyLCAxKTtcbiAgICByZXR1cm4gdHJhdmVyc2Uoc291cmNlMik7XG4gIH07XG4gIGxldCBlZmZlY3Q7XG4gIGxldCBnZXR0ZXI7XG4gIGxldCBjbGVhbnVwO1xuICBsZXQgYm91bmRDbGVhbnVwO1xuICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XG4gIGxldCBpc011bHRpU291cmNlID0gZmFsc2U7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xuICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xuICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHJlYWN0aXZlR2V0dGVyKHNvdXJjZSk7XG4gICAgZm9yY2VUcmlnZ2VyID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZSgocykgPT4gaXNSZWFjdGl2ZShzKSB8fCBpc1NoYWxsb3cocykpO1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS5tYXAoKHMpID0+IHtcbiAgICAgIGlmIChpc1JlZihzKSkge1xuICAgICAgICByZXR1cm4gcy52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSkge1xuICAgICAgICByZXR1cm4gcmVhY3RpdmVHZXR0ZXIocyk7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocykpIHtcbiAgICAgICAgcmV0dXJuIGNhbGwgPyBjYWxsKHMsIDIpIDogcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGdldHRlciA9IGNhbGwgPyAoKSA9PiBjYWxsKHNvdXJjZSwgMikgOiBzb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50RWZmZWN0ID0gYWN0aXZlV2F0Y2hlcjtcbiAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGVmZmVjdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gY2FsbCA/IGNhbGwoc291cmNlLCAzLCBbYm91bmRDbGVhbnVwXSkgOiBzb3VyY2UoYm91bmRDbGVhbnVwKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY3RpdmVXYXRjaGVyID0gY3VycmVudEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZ2V0dGVyID0gTk9PUDtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5JbnZhbGlkU291cmNlKHNvdXJjZSk7XG4gIH1cbiAgaWYgKGNiICYmIGRlZXApIHtcbiAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgIGNvbnN0IGRlcHRoID0gZGVlcCA9PT0gdHJ1ZSA/IEluZmluaXR5IDogZGVlcDtcbiAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCksIGRlcHRoKTtcbiAgfVxuICBjb25zdCBzY29wZSA9IGdldEN1cnJlbnRTY29wZSgpO1xuICBjb25zdCB3YXRjaEhhbmRsZSA9ICgpID0+IHtcbiAgICBlZmZlY3Quc3RvcCgpO1xuICAgIGlmIChzY29wZSAmJiBzY29wZS5hY3RpdmUpIHtcbiAgICAgIHJlbW92ZShzY29wZS5lZmZlY3RzLCBlZmZlY3QpO1xuICAgIH1cbiAgfTtcbiAgaWYgKG9uY2UgJiYgY2IpIHtcbiAgICBjb25zdCBfY2IgPSBjYjtcbiAgICBjYiA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBfY2IoLi4uYXJncyk7XG4gICAgICB3YXRjaEhhbmRsZSgpO1xuICAgIH07XG4gIH1cbiAgbGV0IG9sZFZhbHVlID0gaXNNdWx0aVNvdXJjZSA/IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKS5maWxsKElOSVRJQUxfV0FUQ0hFUl9WQUxVRSkgOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XG4gIGNvbnN0IGpvYiA9IChpbW1lZGlhdGVGaXJzdFJ1bikgPT4ge1xuICAgIGlmICghKGVmZmVjdC5mbGFncyAmIDEpIHx8ICFlZmZlY3QuZGlydHkgJiYgIWltbWVkaWF0ZUZpcnN0UnVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYikge1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgICBpZiAoZGVlcCB8fCBmb3JjZVRyaWdnZXIgfHwgKGlzTXVsdGlTb3VyY2UgPyBuZXdWYWx1ZS5zb21lKCh2LCBpKSA9PiBoYXNDaGFuZ2VkKHYsIG9sZFZhbHVlW2ldKSkgOiBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpKSB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRXYXRjaGVyID0gYWN0aXZlV2F0Y2hlcjtcbiAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGVmZmVjdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhcmdzID0gW1xuICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHZvaWQgMCA6IGlzTXVsdGlTb3VyY2UgJiYgb2xkVmFsdWVbMF0gPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IFtdIDogb2xkVmFsdWUsXG4gICAgICAgICAgICBib3VuZENsZWFudXBcbiAgICAgICAgICBdO1xuICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgY2FsbCA/IGNhbGwoY2IsIDMsIGFyZ3MpIDogKFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgY2IoLi4uYXJncylcbiAgICAgICAgICApO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBjdXJyZW50V2F0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9O1xuICBpZiAoYXVnbWVudEpvYikge1xuICAgIGF1Z21lbnRKb2Ioam9iKTtcbiAgfVxuICBlZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZ2V0dGVyKTtcbiAgZWZmZWN0LnNjaGVkdWxlciA9IHNjaGVkdWxlciA/ICgpID0+IHNjaGVkdWxlcihqb2IsIGZhbHNlKSA6IGpvYjtcbiAgYm91bmRDbGVhbnVwID0gKGZuKSA9PiBvbldhdGNoZXJDbGVhbnVwKGZuLCBmYWxzZSwgZWZmZWN0KTtcbiAgY2xlYW51cCA9IGVmZmVjdC5vblN0b3AgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cHMgPSBjbGVhbnVwTWFwLmdldChlZmZlY3QpO1xuICAgIGlmIChjbGVhbnVwcykge1xuICAgICAgaWYgKGNhbGwpIHtcbiAgICAgICAgY2FsbChjbGVhbnVwcywgNCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGNsZWFudXAyIG9mIGNsZWFudXBzKSBjbGVhbnVwMigpO1xuICAgICAgfVxuICAgICAgY2xlYW51cE1hcC5kZWxldGUoZWZmZWN0KTtcbiAgICB9XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgZWZmZWN0Lm9uVHJhY2sgPSBvcHRpb25zLm9uVHJhY2s7XG4gICAgZWZmZWN0Lm9uVHJpZ2dlciA9IG9wdGlvbnMub25UcmlnZ2VyO1xuICB9XG4gIGlmIChjYikge1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIGpvYih0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2xkVmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHNjaGVkdWxlcikge1xuICAgIHNjaGVkdWxlcihqb2IuYmluZChudWxsLCB0cnVlKSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0LnJ1bigpO1xuICB9XG4gIHdhdGNoSGFuZGxlLnBhdXNlID0gZWZmZWN0LnBhdXNlLmJpbmQoZWZmZWN0KTtcbiAgd2F0Y2hIYW5kbGUucmVzdW1lID0gZWZmZWN0LnJlc3VtZS5iaW5kKGVmZmVjdCk7XG4gIHdhdGNoSGFuZGxlLnN0b3AgPSB3YXRjaEhhbmRsZTtcbiAgcmV0dXJuIHdhdGNoSGFuZGxlO1xufVxuZnVuY3Rpb24gdHJhdmVyc2UodmFsdWUsIGRlcHRoID0gSW5maW5pdHksIHNlZW4pIHtcbiAgaWYgKGRlcHRoIDw9IDAgfHwgIWlzT2JqZWN0KHZhbHVlKSB8fCB2YWx1ZVtcIl9fdl9za2lwXCJdKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGlmICgoc2Vlbi5nZXQodmFsdWUpIHx8IDApID49IGRlcHRoKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHNlZW4uc2V0KHZhbHVlLCBkZXB0aCk7XG4gIGRlcHRoLS07XG4gIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICB0cmF2ZXJzZSh2YWx1ZS52YWx1ZSwgZGVwdGgsIHNlZW4pO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdHJhdmVyc2UodmFsdWVbaV0sIGRlcHRoLCBzZWVuKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpIHx8IGlzTWFwKHZhbHVlKSkge1xuICAgIHZhbHVlLmZvckVhY2goKHYpID0+IHtcbiAgICAgIHRyYXZlcnNlKHYsIGRlcHRoLCBzZWVuKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBkZXB0aCwgc2Vlbik7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModmFsdWUpKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIGRlcHRoLCBzZWVuKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgeyBBUlJBWV9JVEVSQVRFX0tFWSwgRWZmZWN0RmxhZ3MsIEVmZmVjdFNjb3BlLCBJVEVSQVRFX0tFWSwgTUFQX0tFWV9JVEVSQVRFX0tFWSwgUmVhY3RpdmVFZmZlY3QsIFJlYWN0aXZlRmxhZ3MsIFRyYWNrT3BUeXBlcywgVHJpZ2dlck9wVHlwZXMsIFdhdGNoRXJyb3JDb2RlcywgY29tcHV0ZWQsIGN1c3RvbVJlZiwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZW5hYmxlVHJhY2tpbmcsIGdldEN1cnJlbnRTY29wZSwgZ2V0Q3VycmVudFdhdGNoZXIsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBpc1NoYWxsb3csIG1hcmtSYXcsIG9uRWZmZWN0Q2xlYW51cCwgb25TY29wZURpc3Bvc2UsIG9uV2F0Y2hlckNsZWFudXAsIHBhdXNlVHJhY2tpbmcsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWN0aXZlUmVhZEFycmF5LCByZWFkb25seSwgcmVmLCByZXNldFRyYWNraW5nLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkQXJyYXksIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVhY3RpdmUsIHRvUmVhZG9ubHksIHRvUmVmLCB0b1JlZnMsIHRvVmFsdWUsIHRyYWNrLCB0cmF2ZXJzZSwgdHJpZ2dlciwgdHJpZ2dlclJlZiwgdW5yZWYsIHdhdGNoIH07XG4iLCIvKipcbiogQHZ1ZS9ydW50aW1lLWNvcmUgdjMuNS4yMVxuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuaW1wb3J0IHsgcGF1c2VUcmFja2luZywgcmVzZXRUcmFja2luZywgaXNSZWYsIHRvUmF3LCB0cmF2ZXJzZSwgc2hhbGxvd1JlZiwgcmVhZG9ubHksIGlzUmVhY3RpdmUsIHJlZiwgaXNTaGFsbG93LCBpc1JlYWRvbmx5LCBzaGFsbG93UmVhZEFycmF5LCB0b1JlYWRvbmx5LCB0b1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHRyYWNrLCByZWFjdGl2ZSwgc2hhbGxvd1JlYWN0aXZlLCB0cmlnZ2VyLCBSZWFjdGl2ZUVmZmVjdCwgd2F0Y2ggYXMgd2F0Y2gkMSwgY3VzdG9tUmVmLCBpc1Byb3h5LCBwcm94eVJlZnMsIG1hcmtSYXcsIEVmZmVjdFNjb3BlLCBjb21wdXRlZCBhcyBjb21wdXRlZCQxIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmV4cG9ydCB7IEVmZmVjdFNjb3BlLCBSZWFjdGl2ZUVmZmVjdCwgVHJhY2tPcFR5cGVzLCBUcmlnZ2VyT3BUeXBlcywgY3VzdG9tUmVmLCBlZmZlY3QsIGVmZmVjdFNjb3BlLCBnZXRDdXJyZW50U2NvcGUsIGdldEN1cnJlbnRXYXRjaGVyLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvblNjb3BlRGlzcG9zZSwgb25XYXRjaGVyQ2xlYW51cCwgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0b1ZhbHVlLCB0cmlnZ2VyUmVmLCB1bnJlZiB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5pbXBvcnQgeyBpc1N0cmluZywgaXNGdW5jdGlvbiwgRU1QVFlfT0JKLCBpc1Byb21pc2UsIGlzQXJyYXksIE5PT1AsIGdldEdsb2JhbFRoaXMsIGV4dGVuZCwgaXNCdWlsdEluRGlyZWN0aXZlLCBOTywgaGFzT3duLCByZW1vdmUsIGRlZiwgaXNPbiwgaXNSZXNlcnZlZFByb3AsIG5vcm1hbGl6ZUNsYXNzLCBzdHJpbmdpZnlTdHlsZSwgbm9ybWFsaXplU3R5bGUsIGlzS25vd25TdmdBdHRyLCBpc0Jvb2xlYW5BdHRyLCBpc0tub3duSHRtbEF0dHIsIGluY2x1ZGVCb29sZWFuQXR0ciwgaXNSZW5kZXJhYmxlQXR0clZhbHVlLCBub3JtYWxpemVDc3NWYXJWYWx1ZSwgZ2V0RXNjYXBlZENzc1Zhck5hbWUsIGlzT2JqZWN0LCBpc1JlZ0V4cCwgaW52b2tlQXJyYXlGbnMsIHRvSGFuZGxlcktleSwgY2FtZWxpemUsIGNhcGl0YWxpemUsIGlzU3ltYm9sLCBpc0dsb2JhbGx5QWxsb3dlZCwgRU1QVFlfQVJSLCBoeXBoZW5hdGUsIG1ha2VNYXAsIHRvUmF3VHlwZSwgaGFzQ2hhbmdlZCwgbG9vc2VUb051bWJlciwgaXNNb2RlbExpc3RlbmVyLCB0b051bWJlciB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGNhbWVsaXplLCBjYXBpdGFsaXplLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplUHJvcHMsIG5vcm1hbGl6ZVN0eWxlLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSkge1xuICBzdGFjay5wdXNoKHZub2RlKTtcbn1cbmZ1bmN0aW9uIHBvcFdhcm5pbmdDb250ZXh0KCkge1xuICBzdGFjay5wb3AoKTtcbn1cbmxldCBpc1dhcm5pbmcgPSBmYWxzZTtcbmZ1bmN0aW9uIHdhcm4kMShtc2csIC4uLmFyZ3MpIHtcbiAgaWYgKGlzV2FybmluZykgcmV0dXJuO1xuICBpc1dhcm5pbmcgPSB0cnVlO1xuICBwYXVzZVRyYWNraW5nKCk7XG4gIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcbiAgY29uc3QgYXBwV2FybkhhbmRsZXIgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy53YXJuSGFuZGxlcjtcbiAgY29uc3QgdHJhY2UgPSBnZXRDb21wb25lbnRUcmFjZSgpO1xuICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcbiAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBhcHBXYXJuSGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMTEsXG4gICAgICBbXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBtc2cgKyBhcmdzLm1hcCgoYSkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IGEudG9TdHJpbmcpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGEpKSAhPSBudWxsID8gX2IgOiBKU09OLnN0cmluZ2lmeShhKTtcbiAgICAgICAgfSkuam9pbihcIlwiKSxcbiAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHksXG4gICAgICAgIHRyYWNlLm1hcChcbiAgICAgICAgICAoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmBcbiAgICAgICAgKS5qb2luKFwiXFxuXCIpLFxuICAgICAgICB0cmFjZVxuICAgICAgXVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgd2FybkFyZ3MgPSBbYFtWdWUgd2Fybl06ICR7bXNnfWAsIC4uLmFyZ3NdO1xuICAgIGlmICh0cmFjZS5sZW5ndGggJiYgLy8gYXZvaWQgc3BhbW1pbmcgY29uc29sZSBkdXJpbmcgdGVzdHNcbiAgICB0cnVlKSB7XG4gICAgICB3YXJuQXJncy5wdXNoKGBcbmAsIC4uLmZvcm1hdFRyYWNlKHRyYWNlKSk7XG4gICAgfVxuICAgIGNvbnNvbGUud2FybiguLi53YXJuQXJncyk7XG4gIH1cbiAgcmVzZXRUcmFja2luZygpO1xuICBpc1dhcm5pbmcgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFRyYWNlKCkge1xuICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gIGlmICghY3VycmVudFZOb2RlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xuICB3aGlsZSAoY3VycmVudFZOb2RlKSB7XG4gICAgY29uc3QgbGFzdCA9IG5vcm1hbGl6ZWRTdGFja1swXTtcbiAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcbiAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRTdGFjay5wdXNoKHtcbiAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcbiAgICAgICAgcmVjdXJzZUNvdW50OiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50SW5zdGFuY2UgPSBjdXJyZW50Vk5vZGUuY29tcG9uZW50ICYmIGN1cnJlbnRWTm9kZS5jb21wb25lbnQucGFyZW50O1xuICAgIGN1cnJlbnRWTm9kZSA9IHBhcmVudEluc3RhbmNlICYmIHBhcmVudEluc3RhbmNlLnZub2RlO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkU3RhY2s7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZSh0cmFjZSkge1xuICBjb25zdCBsb2dzID0gW107XG4gIHRyYWNlLmZvckVhY2goKGVudHJ5LCBpKSA9PiB7XG4gICAgbG9ncy5wdXNoKC4uLmkgPT09IDAgPyBbXSA6IFtgXG5gXSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xuICB9KTtcbiAgcmV0dXJuIGxvZ3M7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZUVudHJ5KHsgdm5vZGUsIHJlY3Vyc2VDb3VudCB9KSB7XG4gIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XG4gIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xuICBjb25zdCBvcGVuID0gYCBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKFxuICAgIHZub2RlLmNvbXBvbmVudCxcbiAgICB2bm9kZS50eXBlLFxuICAgIGlzUm9vdFxuICApfWA7XG4gIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcbiAgcmV0dXJuIHZub2RlLnByb3BzID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdIDogW29wZW4gKyBjbG9zZV07XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xuICBjb25zdCByZXMgPSBbXTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xuICB9KTtcbiAgaWYgKGtleXMubGVuZ3RoID4gMykge1xuICAgIHJlcy5wdXNoKGAgLi4uYCk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgIHZhbHVlID0gZm9ybWF0UHJvcChrZXksIHRvUmF3KHZhbHVlLnZhbHVlKSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIFtgJHtrZXl9PWZuJHt2YWx1ZS5uYW1lID8gYDwke3ZhbHVlLm5hbWV9PmAgOiBgYH1gXTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE51bWJlcih2YWwsIHR5cGUpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSByZXR1cm47XG4gIGlmICh2YWwgPT09IHZvaWQgMCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xuICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICB3YXJuJDEoYCR7dHlwZX0gaXMgTmFOIC0gdGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LmApO1xuICB9XG59XG5cbmNvbnN0IEVycm9yQ29kZXMgPSB7XG4gIFwiU0VUVVBfRlVOQ1RJT05cIjogMCxcbiAgXCIwXCI6IFwiU0VUVVBfRlVOQ1RJT05cIixcbiAgXCJSRU5ERVJfRlVOQ1RJT05cIjogMSxcbiAgXCIxXCI6IFwiUkVOREVSX0ZVTkNUSU9OXCIsXG4gIFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIjogNSxcbiAgXCI1XCI6IFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiOiA2LFxuICBcIjZcIjogXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiLFxuICBcIlZOT0RFX0hPT0tcIjogNyxcbiAgXCI3XCI6IFwiVk5PREVfSE9PS1wiLFxuICBcIkRJUkVDVElWRV9IT09LXCI6IDgsXG4gIFwiOFwiOiBcIkRJUkVDVElWRV9IT09LXCIsXG4gIFwiVFJBTlNJVElPTl9IT09LXCI6IDksXG4gIFwiOVwiOiBcIlRSQU5TSVRJT05fSE9PS1wiLFxuICBcIkFQUF9FUlJPUl9IQU5ETEVSXCI6IDEwLFxuICBcIjEwXCI6IFwiQVBQX0VSUk9SX0hBTkRMRVJcIixcbiAgXCJBUFBfV0FSTl9IQU5ETEVSXCI6IDExLFxuICBcIjExXCI6IFwiQVBQX1dBUk5fSEFORExFUlwiLFxuICBcIkZVTkNUSU9OX1JFRlwiOiAxMixcbiAgXCIxMlwiOiBcIkZVTkNUSU9OX1JFRlwiLFxuICBcIkFTWU5DX0NPTVBPTkVOVF9MT0FERVJcIjogMTMsXG4gIFwiMTNcIjogXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCIsXG4gIFwiU0NIRURVTEVSXCI6IDE0LFxuICBcIjE0XCI6IFwiU0NIRURVTEVSXCIsXG4gIFwiQ09NUE9ORU5UX1VQREFURVwiOiAxNSxcbiAgXCIxNVwiOiBcIkNPTVBPTkVOVF9VUERBVEVcIixcbiAgXCJBUFBfVU5NT1VOVF9DTEVBTlVQXCI6IDE2LFxuICBcIjE2XCI6IFwiQVBQX1VOTU9VTlRfQ0xFQU5VUFwiXG59O1xuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyQxID0ge1xuICBbXCJzcFwiXTogXCJzZXJ2ZXJQcmVmZXRjaCBob29rXCIsXG4gIFtcImJjXCJdOiBcImJlZm9yZUNyZWF0ZSBob29rXCIsXG4gIFtcImNcIl06IFwiY3JlYXRlZCBob29rXCIsXG4gIFtcImJtXCJdOiBcImJlZm9yZU1vdW50IGhvb2tcIixcbiAgW1wibVwiXTogXCJtb3VudGVkIGhvb2tcIixcbiAgW1wiYnVcIl06IFwiYmVmb3JlVXBkYXRlIGhvb2tcIixcbiAgW1widVwiXTogXCJ1cGRhdGVkXCIsXG4gIFtcImJ1bVwiXTogXCJiZWZvcmVVbm1vdW50IGhvb2tcIixcbiAgW1widW1cIl06IFwidW5tb3VudGVkIGhvb2tcIixcbiAgW1wiYVwiXTogXCJhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJkYVwiXTogXCJkZWFjdGl2YXRlZCBob29rXCIsXG4gIFtcImVjXCJdOiBcImVycm9yQ2FwdHVyZWQgaG9va1wiLFxuICBbXCJydGNcIl06IFwicmVuZGVyVHJhY2tlZCBob29rXCIsXG4gIFtcInJ0Z1wiXTogXCJyZW5kZXJUcmlnZ2VyZWQgaG9va1wiLFxuICBbMF06IFwic2V0dXAgZnVuY3Rpb25cIixcbiAgWzFdOiBcInJlbmRlciBmdW5jdGlvblwiLFxuICBbMl06IFwid2F0Y2hlciBnZXR0ZXJcIixcbiAgWzNdOiBcIndhdGNoZXIgY2FsbGJhY2tcIixcbiAgWzRdOiBcIndhdGNoZXIgY2xlYW51cCBmdW5jdGlvblwiLFxuICBbNV06IFwibmF0aXZlIGV2ZW50IGhhbmRsZXJcIixcbiAgWzZdOiBcImNvbXBvbmVudCBldmVudCBoYW5kbGVyXCIsXG4gIFs3XTogXCJ2bm9kZSBob29rXCIsXG4gIFs4XTogXCJkaXJlY3RpdmUgaG9va1wiLFxuICBbOV06IFwidHJhbnNpdGlvbiBob29rXCIsXG4gIFsxMF06IFwiYXBwIGVycm9ySGFuZGxlclwiLFxuICBbMTFdOiBcImFwcCB3YXJuSGFuZGxlclwiLFxuICBbMTJdOiBcInJlZiBmdW5jdGlvblwiLFxuICBbMTNdOiBcImFzeW5jIGNvbXBvbmVudCBsb2FkZXJcIixcbiAgWzE0XTogXCJzY2hlZHVsZXIgZmx1c2hcIixcbiAgWzE1XTogXCJjb21wb25lbnQgdXBkYXRlXCIsXG4gIFsxNl06IFwiYXBwIHVubW91bnQgY2xlYW51cCBmdW5jdGlvblwiXG59O1xuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICB0cnkge1xuICAgIHJldHVybiBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICAgIGlmIChyZXMgJiYgaXNQcm9taXNlKHJlcykpIHtcbiAgICAgIHJlcy5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBJbnZhbGlkIHZhbHVlIHR5cGUgcGFzc2VkIHRvIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKCk6ICR7dHlwZW9mIGZufWBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICBjb25zdCBjb250ZXh0Vk5vZGUgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnZub2RlIDogbnVsbDtcbiAgY29uc3QgeyBlcnJvckhhbmRsZXIsIHRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24gfSA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnIHx8IEVNUFRZX09CSjtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgbGV0IGN1ciA9IGluc3RhbmNlLnBhcmVudDtcbiAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcbiAgICBjb25zdCBlcnJvckluZm8gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdIDogYGh0dHBzOi8vdnVlanMub3JnL2Vycm9yLXJlZmVyZW5jZS8jcnVudGltZS0ke3R5cGV9YDtcbiAgICB3aGlsZSAoY3VyKSB7XG4gICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XG4gICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XG4gICAgfVxuICAgIGlmIChlcnJvckhhbmRsZXIpIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhlcnJvckhhbmRsZXIsIG51bGwsIDEwLCBbXG4gICAgICAgIGVycixcbiAgICAgICAgZXhwb3NlZEluc3RhbmNlLFxuICAgICAgICBlcnJvckluZm9cbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiwgdGhyb3dVbmhhbmRsZWRFcnJvckluUHJvZHVjdGlvbik7XG59XG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUsIHRocm93SW5Qcm9kID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdO1xuICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xuICAgIH1cbiAgICB3YXJuJDEoYFVuaGFuZGxlZCBlcnJvciR7aW5mbyA/IGAgZHVyaW5nIGV4ZWN1dGlvbiBvZiAke2luZm99YCA6IGBgfWApO1xuICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgfVxuICAgIGlmICh0aHJvd0luRGV2KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhyb3dJblByb2QpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmNvbnN0IHF1ZXVlID0gW107XG5sZXQgZmx1c2hJbmRleCA9IC0xO1xuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xuZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xuICByZXR1cm4gZm4gPyBwLnRoZW4odGhpcyA/IGZuLmJpbmQodGhpcykgOiBmbikgOiBwO1xufVxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGlkKSB7XG4gIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xuICBsZXQgZW5kID0gcXVldWUubGVuZ3RoO1xuICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICBjb25zdCBtaWRkbGUgPSBzdGFydCArIGVuZCA+Pj4gMTtcbiAgICBjb25zdCBtaWRkbGVKb2IgPSBxdWV1ZVttaWRkbGVdO1xuICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQobWlkZGxlSm9iKTtcbiAgICBpZiAobWlkZGxlSm9iSWQgPCBpZCB8fCBtaWRkbGVKb2JJZCA9PT0gaWQgJiYgbWlkZGxlSm9iLmZsYWdzICYgMikge1xuICAgICAgc3RhcnQgPSBtaWRkbGUgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmQgPSBtaWRkbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGFydDtcbn1cbmZ1bmN0aW9uIHF1ZXVlSm9iKGpvYikge1xuICBpZiAoIShqb2IuZmxhZ3MgJiAxKSkge1xuICAgIGNvbnN0IGpvYklkID0gZ2V0SWQoam9iKTtcbiAgICBjb25zdCBsYXN0Sm9iID0gcXVldWVbcXVldWUubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFsYXN0Sm9iIHx8IC8vIGZhc3QgcGF0aCB3aGVuIHRoZSBqb2IgaWQgaXMgbGFyZ2VyIHRoYW4gdGhlIHRhaWxcbiAgICAhKGpvYi5mbGFncyAmIDIpICYmIGpvYklkID49IGdldElkKGxhc3RKb2IpKSB7XG4gICAgICBxdWV1ZS5wdXNoKGpvYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlLnNwbGljZShmaW5kSW5zZXJ0aW9uSW5kZXgoam9iSWQpLCAwLCBqb2IpO1xuICAgIH1cbiAgICBqb2IuZmxhZ3MgfD0gMTtcbiAgICBxdWV1ZUZsdXNoKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlRmx1c2goKSB7XG4gIGlmICghY3VycmVudEZsdXNoUHJvbWlzZSkge1xuICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSByZXNvbHZlZFByb21pc2UudGhlbihmbHVzaEpvYnMpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XG4gIGlmICghaXNBcnJheShjYikpIHtcbiAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzICYmIGNiLmlkID09PSAtMSkge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNwbGljZShwb3N0Rmx1c2hJbmRleCArIDEsIDAsIGNiKTtcbiAgICB9IGVsc2UgaWYgKCEoY2IuZmxhZ3MgJiAxKSkge1xuICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKGNiKTtcbiAgICAgIGNiLmZsYWdzIHw9IDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaCguLi5jYik7XG4gIH1cbiAgcXVldWVGbHVzaCgpO1xufVxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSwgc2VlbiwgaSA9IGZsdXNoSW5kZXggKyAxKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBmb3IgKDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2IgPSBxdWV1ZVtpXTtcbiAgICBpZiAoY2IgJiYgY2IuZmxhZ3MgJiAyKSB7XG4gICAgICBpZiAoaW5zdGFuY2UgJiYgY2IuaWQgIT09IGluc3RhbmNlLnVpZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICBpLS07XG4gICAgICBpZiAoY2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgIGNiLmZsYWdzICY9IC0yO1xuICAgICAgfVxuICAgICAgY2IoKTtcbiAgICAgIGlmICghKGNiLmZsYWdzICYgNCkpIHtcbiAgICAgICAgY2IuZmxhZ3MgJj0gLTI7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmbHVzaFBvc3RGbHVzaENicyhzZWVuKSB7XG4gIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV0uc29ydChcbiAgICAgIChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpXG4gICAgKTtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicykge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGNiID0gYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoY2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgIGNiLmZsYWdzICY9IC0yO1xuICAgICAgfVxuICAgICAgaWYgKCEoY2IuZmxhZ3MgJiA4KSkgY2IoKTtcbiAgICAgIGNiLmZsYWdzICY9IC0yO1xuICAgIH1cbiAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xuICAgIHBvc3RGbHVzaEluZGV4ID0gMDtcbiAgfVxufVxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IGpvYi5mbGFncyAmIDIgPyAtMSA6IEluZmluaXR5IDogam9iLmlkO1xuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIGNvbnN0IGNoZWNrID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IChqb2IpID0+IGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpIDogTk9PUDtcbiAgdHJ5IHtcbiAgICBmb3IgKGZsdXNoSW5kZXggPSAwOyBmbHVzaEluZGV4IDwgcXVldWUubGVuZ3RoOyBmbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGpvYiA9IHF1ZXVlW2ZsdXNoSW5kZXhdO1xuICAgICAgaWYgKGpvYiAmJiAhKGpvYi5mbGFncyAmIDgpKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrKGpvYikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoam9iLmZsYWdzICYgNCkge1xuICAgICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICAgICAgam9iLFxuICAgICAgICAgIGpvYi5pLFxuICAgICAgICAgIGpvYi5pID8gMTUgOiAxNFxuICAgICAgICApO1xuICAgICAgICBpZiAoIShqb2IuZmxhZ3MgJiA0KSkge1xuICAgICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBmb3IgKDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgIGlmIChqb2IpIHtcbiAgICAgICAgam9iLmZsYWdzICY9IC0yO1xuICAgICAgfVxuICAgIH1cbiAgICBmbHVzaEluZGV4ID0gLTE7XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBmbHVzaFBvc3RGbHVzaENicyhzZWVuKTtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbiAgICBpZiAocXVldWUubGVuZ3RoIHx8IHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgICBmbHVzaEpvYnMoc2Vlbik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgZm4pIHtcbiAgY29uc3QgY291bnQgPSBzZWVuLmdldChmbikgfHwgMDtcbiAgaWYgKGNvdW50ID4gUkVDVVJTSU9OX0xJTUlUKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBmbi5pO1xuICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xuICAgIGhhbmRsZUVycm9yKFxuICAgICAgYE1heGltdW0gcmVjdXJzaXZlIHVwZGF0ZXMgZXhjZWVkZWQke2NvbXBvbmVudE5hbWUgPyBgIGluIGNvbXBvbmVudCA8JHtjb21wb25lbnROYW1lfT5gIDogYGB9LiBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmAsXG4gICAgICBudWxsLFxuICAgICAgMTBcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHNlZW4uc2V0KGZuLCBjb3VudCArIDEpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgY29uc3QgZyA9IGdldEdsb2JhbFRoaXMoKTtcbiAgaWYgKCFnLl9fVlVFX0hNUl9SVU5USU1FX18pIHtcbiAgICBnLl9fVlVFX0hNUl9SVU5USU1FX18gPSB7XG4gICAgICBjcmVhdGVSZWNvcmQ6IHRyeVdyYXAoY3JlYXRlUmVjb3JkKSxcbiAgICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcbiAgICAgIHJlbG9hZDogdHJ5V3JhcChyZWxvYWQpXG4gICAgfTtcbiAgfVxufVxuY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIGNvbnN0IGlkID0gaW5zdGFuY2UudHlwZS5fX2htcklkO1xuICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcbiAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgfVxuICByZWNvcmQuaW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIG1hcC5nZXQoaW5zdGFuY2UudHlwZS5fX2htcklkKS5pbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCwgaW5pdGlhbERlZikge1xuICBpZiAobWFwLmhhcyhpZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbWFwLnNldChpZCwge1xuICAgIGluaXRpYWxEZWY6IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluaXRpYWxEZWYpLFxuICAgIGluc3RhbmNlczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICB9KTtcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC5fX3ZjY09wdHMgOiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XG4gIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICBpZiAoIXJlY29yZCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZWNvcmQuaW5pdGlhbERlZi5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gIFsuLi5yZWNvcmQuaW5zdGFuY2VzXS5mb3JFYWNoKChpbnN0YW5jZSkgPT4ge1xuICAgIGlmIChuZXdSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICAgIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICBpZiAoIShpbnN0YW5jZS5qb2IuZmxhZ3MgJiA4KSkge1xuICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgfVxuICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSByZXR1cm47XG4gIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICBsZXQgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG9sZENvbXApO1xuICAgIGlmICghZGlydHlJbnN0YW5jZXMpIHtcbiAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICB9XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuc2V0KG9sZENvbXAsIGRpcnR5SW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgfVxuICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5wcm9wc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LmVtaXRzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQub3B0aW9uc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoaW5zdGFuY2UuY2VSZWxvYWQpIHtcbiAgICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgICBpbnN0YW5jZS5jZVJlbG9hZChuZXdDb21wLnN0eWxlcyk7XG4gICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICBxdWV1ZUpvYigoKSA9PiB7XG4gICAgICAgIGlmICghKGluc3RhbmNlLmpvYi5mbGFncyAmIDgpKSB7XG4gICAgICAgICAgaXNIbXJVcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgaW5zdGFuY2UucGFyZW50LnVwZGF0ZSgpO1xuICAgICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKSB7XG4gICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnJvb3QuY2UgJiYgaW5zdGFuY2UgIT09IGluc3RhbmNlLnJvb3QpIHtcbiAgICAgIGluc3RhbmNlLnJvb3QuY2UuX3JlbW92ZUNoaWxkU3R5bGUob2xkQ29tcCk7XG4gICAgfVxuICB9XG4gIHF1ZXVlUG9zdEZsdXNoQ2IoKCkgPT4ge1xuICAgIGhtckRpcnR5Q29tcG9uZW50cy5jbGVhcigpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudERlZihvbGRDb21wLCBuZXdDb21wKSB7XG4gIGV4dGVuZChvbGRDb21wLCBuZXdDb21wKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2xkQ29tcCkge1xuICAgIGlmIChrZXkgIT09IFwiX19maWxlXCIgJiYgIShrZXkgaW4gbmV3Q29tcCkpIHtcbiAgICAgIGRlbGV0ZSBvbGRDb21wW2tleV07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XG4gIHJldHVybiAoaWQsIGFyZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFtITVJdIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBWdWUgY29tcG9uZW50IGhvdC1yZWxvYWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLmBcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG5sZXQgZGV2dG9vbHMkMTtcbmxldCBidWZmZXIgPSBbXTtcbmxldCBkZXZ0b29sc05vdEluc3RhbGxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gZW1pdCQxKGV2ZW50LCAuLi5hcmdzKSB7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgfSBlbHNlIGlmICghZGV2dG9vbHNOb3RJbnN0YWxsZWQpIHtcbiAgICBidWZmZXIucHVzaCh7IGV2ZW50LCBhcmdzIH0pO1xuICB9XG59XG5mdW5jdGlvbiBzZXREZXZ0b29sc0hvb2skMShob29rLCB0YXJnZXQpIHtcbiAgdmFyIF9hLCBfYjtcbiAgZGV2dG9vbHMkMSA9IGhvb2s7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbmFibGVkID0gdHJ1ZTtcbiAgICBidWZmZXIuZm9yRWFjaCgoeyBldmVudCwgYXJncyB9KSA9PiBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpKTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfSBlbHNlIGlmIChcbiAgICAvLyBoYW5kbGUgbGF0ZSBkZXZ0b29scyBpbmplY3Rpb24gLSBvbmx5IGRvIHRoaXMgaWYgd2UgYXJlIGluIGFuIGFjdHVhbFxuICAgIC8vIGJyb3dzZXIgZW52aXJvbm1lbnQgdG8gYXZvaWQgdGhlIHRpbWVyIGhhbmRsZSBzdGFsbGluZyB0ZXN0IHJ1bm5lciBleGl0XG4gICAgLy8gKCM0ODE1KVxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgLy8gc29tZSBlbnZzIG1vY2sgd2luZG93IGJ1dCBub3QgZnVsbHlcbiAgICB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgLy8gYWxzbyBleGNsdWRlIGpzZG9tXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgISgoX2IgPSAoX2EgPSB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlckFnZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJqc2RvbVwiKSlcbiAgKSB7XG4gICAgY29uc3QgcmVwbGF5ID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyB8fCBbXTtcbiAgICByZXBsYXkucHVzaCgobmV3SG9vaykgPT4ge1xuICAgICAgc2V0RGV2dG9vbHNIb29rJDEobmV3SG9vaywgdGFyZ2V0KTtcbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghZGV2dG9vbHMkMSkge1xuICAgICAgICB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IG51bGw7XG4gICAgICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgICAgYnVmZmVyID0gW107XG4gICAgICB9XG4gICAgfSwgM2UzKTtcbiAgfSBlbHNlIHtcbiAgICBkZXZ0b29sc05vdEluc3RhbGxlZCA9IHRydWU7XG4gICAgYnVmZmVyID0gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pIHtcbiAgZW1pdCQxKFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XG4gICAgRnJhZ21lbnQsXG4gICAgVGV4dCxcbiAgICBDb21tZW50LFxuICAgIFN0YXRpY1xuICB9KTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzVW5tb3VudEFwcChhcHApIHtcbiAgZW1pdCQxKFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcbn1cbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50QWRkZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OmFkZGVkXCIgLyogQ09NUE9ORU5UX0FEREVEICovKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIENPTVBPTkVOVF9VUERBVEVEICovKTtcbmNvbnN0IF9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFxuICBcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi9cbik7XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAoY29tcG9uZW50KSA9PiB7XG4gIGlmIChkZXZ0b29scyQxICYmIHR5cGVvZiBkZXZ0b29scyQxLmNsZWFudXBCdWZmZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAvLyByZW1vdmUgdGhlIGNvbXBvbmVudCBpZiBpdCB3YXNuJ3QgYnVmZmVyZWRcbiAgIWRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlcihjb21wb25lbnQpKSB7XG4gICAgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChjb21wb25lbnQpO1xuICB9XG59O1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhob29rKSB7XG4gIHJldHVybiAoY29tcG9uZW50KSA9PiB7XG4gICAgZW1pdCQxKFxuICAgICAgaG9vayxcbiAgICAgIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCxcbiAgICAgIGNvbXBvbmVudC51aWQsXG4gICAgICBjb21wb25lbnQucGFyZW50ID8gY29tcG9uZW50LnBhcmVudC51aWQgOiB2b2lkIDAsXG4gICAgICBjb21wb25lbnRcbiAgICApO1xuICB9O1xufVxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXCJwZXJmOnN0YXJ0XCIgLyogUEVSRk9STUFOQ0VfU1RBUlQgKi8pO1xuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjplbmRcIiAvKiBQRVJGT1JNQU5DRV9FTkQgKi8pO1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xuICByZXR1cm4gKGNvbXBvbmVudCwgdHlwZSwgdGltZSkgPT4ge1xuICAgIGVtaXQkMShob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudCwgdHlwZSwgdGltZSk7XG4gIH07XG59XG5mdW5jdGlvbiBkZXZ0b29sc0NvbXBvbmVudEVtaXQoY29tcG9uZW50LCBldmVudCwgcGFyYW1zKSB7XG4gIGVtaXQkMShcbiAgICBcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sXG4gICAgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLFxuICAgIGNvbXBvbmVudCxcbiAgICBldmVudCxcbiAgICBwYXJhbXNcbiAgKTtcbn1cblxubGV0IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IGluc3RhbmNlO1xuICBjdXJyZW50U2NvcGVJZCA9IGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX19zY29wZUlkIHx8IG51bGw7XG4gIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gcHVzaFNjb3BlSWQoaWQpIHtcbiAgY3VycmVudFNjb3BlSWQgPSBpZDtcbn1cbmZ1bmN0aW9uIHBvcFNjb3BlSWQoKSB7XG4gIGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbn1cbmNvbnN0IHdpdGhTY29wZUlkID0gKF9pZCkgPT4gd2l0aEN0eDtcbmZ1bmN0aW9uIHdpdGhDdHgoZm4sIGN0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgaXNOb25TY29wZWRTbG90KSB7XG4gIGlmICghY3R4KSByZXR1cm4gZm47XG4gIGlmIChmbi5fbikge1xuICAgIHJldHVybiBmbjtcbiAgfVxuICBjb25zdCByZW5kZXJGbldpdGhDb250ZXh0ID0gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgc2V0QmxvY2tUcmFja2luZygtMSk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZJbnN0YW5jZSA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShjdHgpO1xuICAgIGxldCByZXM7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IGZuKC4uLmFyZ3MpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldkluc3RhbmNlKTtcbiAgICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICAgIHNldEJsb2NrVHJhY2tpbmcoMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGN0eCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH07XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX24gPSB0cnVlO1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9jID0gdHJ1ZTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fZCA9IHRydWU7XG4gIHJldHVybiByZW5kZXJGbldpdGhDb250ZXh0O1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xuICBpZiAoaXNCdWlsdEluRGlyZWN0aXZlKG5hbWUpKSB7XG4gICAgd2FybiQxKFwiRG8gbm90IHVzZSBidWlsdC1pbiBkaXJlY3RpdmUgaWRzIGFzIGN1c3RvbSBkaXJlY3RpdmUgaWQ6IFwiICsgbmFtZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XG4gIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZShjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpO1xuICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcbiAgICBpZiAoZGlyKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XG4gICAgICAgIGRpciA9IHtcbiAgICAgICAgICBtb3VudGVkOiBkaXIsXG4gICAgICAgICAgdXBkYXRlZDogZGlyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoZGlyLmRlZXApIHtcbiAgICAgICAgdHJhdmVyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgYmluZGluZ3MucHVzaCh7XG4gICAgICAgIGRpcixcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxuICAgICAgICBhcmcsXG4gICAgICAgIG1vZGlmaWVyc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xuICBjb25zdCBvbGRCaW5kaW5ncyA9IHByZXZWTm9kZSAmJiBwcmV2Vk5vZGUuZGlycztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICBpZiAob2xkQmluZGluZ3MpIHtcbiAgICAgIGJpbmRpbmcub2xkVmFsdWUgPSBvbGRCaW5kaW5nc1tpXS52YWx1ZTtcbiAgICB9XG4gICAgbGV0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcbiAgICBpZiAoaG9vaykge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDgsIFtcbiAgICAgICAgdm5vZGUuZWwsXG4gICAgICAgIGJpbmRpbmcsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBwcmV2Vk5vZGVcbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBUZWxlcG9ydEVuZEtleSA9IFN5bWJvbChcIl92dGVcIik7XG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xuY29uc3QgaXNUZWxlcG9ydERpc2FibGVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMuZGlzYWJsZWQgPT09IFwiXCIpO1xuY29uc3QgaXNUZWxlcG9ydERlZmVycmVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGVmZXIgfHwgcHJvcHMuZGVmZXIgPT09IFwiXCIpO1xuY29uc3QgaXNUYXJnZXRTVkcgPSAodGFyZ2V0KSA9PiB0eXBlb2YgU1ZHRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuY29uc3QgaXNUYXJnZXRNYXRoTUwgPSAodGFyZ2V0KSA9PiB0eXBlb2YgTWF0aE1MRWxlbWVudCA9PT0gXCJmdW5jdGlvblwiICYmIHRhcmdldCBpbnN0YW5jZW9mIE1hdGhNTEVsZW1lbnQ7XG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcbiAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcbiAgaWYgKGlzU3RyaW5nKHRhcmdldFNlbGVjdG9yKSkge1xuICAgIGlmICghc2VsZWN0KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIChtaXNzaW5nIHF1ZXJ5U2VsZWN0b3IgcmVuZGVyZXIgb3B0aW9uKWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0YXJnZXQgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBGYWlsZWQgdG8gbG9jYXRlIFRlbGVwb3J0IHRhcmdldCB3aXRoIHNlbGVjdG9yIFwiJHt0YXJnZXRTZWxlY3Rvcn1cIi4gTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gaS5lLiB0aGUgdGFyZ2V0IGNhbm5vdCBiZSByZW5kZXJlZCBieSB0aGUgY29tcG9uZW50IGl0c2VsZiwgYW5kIGlkZWFsbHkgc2hvdWxkIGJlIG91dHNpZGUgb2YgdGhlIGVudGlyZSBWdWUgY29tcG9uZW50IHRyZWUuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXRhcmdldFNlbGVjdG9yICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgVGVsZXBvcnQgdGFyZ2V0OiAke3RhcmdldFNlbGVjdG9yfWApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0U2VsZWN0b3I7XG4gIH1cbn07XG5jb25zdCBUZWxlcG9ydEltcGwgPSB7XG4gIG5hbWU6IFwiVGVsZXBvcnRcIixcbiAgX19pc1RlbGVwb3J0OiB0cnVlLFxuICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xuICAgIGNvbnN0IHtcbiAgICAgIG1jOiBtb3VudENoaWxkcmVuLFxuICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICAgIG86IHsgaW5zZXJ0LCBxdWVyeVNlbGVjdG9yLCBjcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50IH1cbiAgICB9ID0gaW50ZXJuYWxzO1xuICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcbiAgICBsZXQgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gbjIuZWwgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlQ29tbWVudChcInRlbGVwb3J0IHN0YXJ0XCIpIDogY3JlYXRlVGV4dChcIlwiKTtcbiAgICAgIGNvbnN0IG1haW5BbmNob3IgPSBuMi5hbmNob3IgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlQ29tbWVudChcInRlbGVwb3J0IGVuZFwiKSA6IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGluc2VydChtYWluQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBjb25zdCBtb3VudCA9IChjb250YWluZXIyLCBhbmNob3IyKSA9PiB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIGlmIChwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LmlzQ0UpIHtcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5jZS5fdGVsZXBvcnRUYXJnZXQgPSBjb250YWluZXIyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBjb250YWluZXIyLFxuICAgICAgICAgICAgYW5jaG9yMixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1vdW50VG9UYXJnZXQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpO1xuICAgICAgICBjb25zdCB0YXJnZXRBbmNob3IgPSBwcmVwYXJlQW5jaG9yKHRhcmdldCwgbjIsIGNyZWF0ZVRleHQsIGluc2VydCk7XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICBpZiAobmFtZXNwYWNlICE9PSBcInN2Z1wiICYmIGlzVGFyZ2V0U1ZHKHRhcmdldCkpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgIT09IFwibWF0aG1sXCIgJiYgaXNUYXJnZXRNYXRoTUwodGFyZ2V0KSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJtYXRobWxcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICAgICAgbW91bnQodGFyZ2V0LCB0YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgdXBkYXRlQ3NzVmFycyhuMiwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFkaXNhYmxlZCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIFwiSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gbW91bnQ6XCIsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBgKCR7dHlwZW9mIHRhcmdldH0pYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgbW91bnQoY29udGFpbmVyLCBtYWluQW5jaG9yKTtcbiAgICAgICAgdXBkYXRlQ3NzVmFycyhuMiwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNUZWxlcG9ydERlZmVycmVkKG4yLnByb3BzKSkge1xuICAgICAgICBuMi5lbC5fX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIG1vdW50VG9UYXJnZXQoKTtcbiAgICAgICAgICBkZWxldGUgbjIuZWwuX19pc01vdW50ZWQ7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vdW50VG9UYXJnZXQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzVGVsZXBvcnREZWZlcnJlZChuMi5wcm9wcykgJiYgbjEuZWwuX19pc01vdW50ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgVGVsZXBvcnRJbXBsLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICBuMi50YXJnZXRTdGFydCA9IG4xLnRhcmdldFN0YXJ0O1xuICAgICAgY29uc3QgbWFpbkFuY2hvciA9IG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG4yLnRhcmdldCA9IG4xLnRhcmdldDtcbiAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcjtcbiAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDb250YWluZXIgPSB3YXNEaXNhYmxlZCA/IGNvbnRhaW5lciA6IHRhcmdldDtcbiAgICAgIGNvbnN0IGN1cnJlbnRBbmNob3IgPSB3YXNEaXNhYmxlZCA/IG1haW5BbmNob3IgOiB0YXJnZXRBbmNob3I7XG4gICAgICBpZiAobmFtZXNwYWNlID09PSBcInN2Z1wiIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCkpIHtcbiAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSBcIm1hdGhtbFwiIHx8IGlzVGFyZ2V0TWF0aE1MKHRhcmdldCkpIHtcbiAgICAgICAgbmFtZXNwYWNlID0gXCJtYXRobWxcIjtcbiAgICAgIH1cbiAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKFxuICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgY3VycmVudENvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpO1xuICAgICAgfSBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICAgIHBhdGNoQ2hpbGRyZW4oXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY3VycmVudENvbnRhaW5lcixcbiAgICAgICAgICBjdXJyZW50QW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKCF3YXNEaXNhYmxlZCkge1xuICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbWFpbkFuY2hvcixcbiAgICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChuMi5wcm9wcyAmJiBuMS5wcm9wcyAmJiBuMi5wcm9wcy50byAhPT0gbjEucHJvcHMudG8pIHtcbiAgICAgICAgICAgIG4yLnByb3BzLnRvID0gbjEucHJvcHMudG87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKG4yLnByb3BzICYmIG4yLnByb3BzLnRvKSAhPT0gKG4xLnByb3BzICYmIG4xLnByb3BzLnRvKSkge1xuICAgICAgICAgIGNvbnN0IG5leHRUYXJnZXQgPSBuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KFxuICAgICAgICAgICAgbjIucHJvcHMsXG4gICAgICAgICAgICBxdWVyeVNlbGVjdG9yXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV4dFRhcmdldCkge1xuICAgICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgICBuMixcbiAgICAgICAgICAgICAgbmV4dFRhcmdldCxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBcIkludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIHVwZGF0ZTpcIixcbiAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICBgKCR7dHlwZW9mIHRhcmdldH0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAod2FzRGlzYWJsZWQpIHtcbiAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIHRhcmdldEFuY2hvcixcbiAgICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1cGRhdGVDc3NWYXJzKG4yLCBkaXNhYmxlZCk7XG4gICAgfVxuICB9LFxuICByZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHsgdW06IHVubW91bnQsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSwgZG9SZW1vdmUpIHtcbiAgICBjb25zdCB7XG4gICAgICBzaGFwZUZsYWcsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGFuY2hvcixcbiAgICAgIHRhcmdldFN0YXJ0LFxuICAgICAgdGFyZ2V0QW5jaG9yLFxuICAgICAgdGFyZ2V0LFxuICAgICAgcHJvcHNcbiAgICB9ID0gdm5vZGU7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaG9zdFJlbW92ZSh0YXJnZXRTdGFydCk7XG4gICAgICBob3N0UmVtb3ZlKHRhcmdldEFuY2hvcik7XG4gICAgfVxuICAgIGRvUmVtb3ZlICYmIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGNvbnN0IHNob3VsZFJlbW92ZSA9IGRvUmVtb3ZlIHx8ICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICB1bm1vdW50KFxuICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzaG91bGRSZW1vdmUsXG4gICAgICAgICAgISFjaGlsZC5keW5hbWljQ2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1vdmU6IG1vdmVUZWxlcG9ydCxcbiAgaHlkcmF0ZTogaHlkcmF0ZVRlbGVwb3J0XG59O1xuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMikge1xuICBpZiAobW92ZVR5cGUgPT09IDApIHtcbiAgICBpbnNlcnQodm5vZGUudGFyZ2V0QW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbiAgY29uc3QgeyBlbCwgYW5jaG9yLCBzaGFwZUZsYWcsIGNoaWxkcmVuLCBwcm9wcyB9ID0gdm5vZGU7XG4gIGNvbnN0IGlzUmVvcmRlciA9IG1vdmVUeXBlID09PSAyO1xuICBpZiAoaXNSZW9yZGVyKSB7XG4gICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbiAgaWYgKCFpc1Jlb3JkZXIgfHwgaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3ZlKFxuICAgICAgICAgIGNoaWxkcmVuW2ldLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRBbmNob3IsXG4gICAgICAgICAgMlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaXNSZW9yZGVyKSB7XG4gICAgaW5zZXJ0KGFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG59XG5mdW5jdGlvbiBoeWRyYXRlVGVsZXBvcnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7XG4gIG86IHsgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGUsIHF1ZXJ5U2VsZWN0b3IsIGluc2VydCwgY3JlYXRlVGV4dCB9XG59LCBoeWRyYXRlQ2hpbGRyZW4pIHtcbiAgZnVuY3Rpb24gaHlkcmF0ZURpc2FibGVkVGVsZXBvcnQobm9kZTIsIHZub2RlMiwgdGFyZ2V0U3RhcnQsIHRhcmdldEFuY2hvcikge1xuICAgIHZub2RlMi5hbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICBuZXh0U2libGluZyhub2RlMiksXG4gICAgICB2bm9kZTIsXG4gICAgICBwYXJlbnROb2RlKG5vZGUyKSxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgb3B0aW1pemVkXG4gICAgKTtcbiAgICB2bm9kZTIudGFyZ2V0U3RhcnQgPSB0YXJnZXRTdGFydDtcbiAgICB2bm9kZTIudGFyZ2V0QW5jaG9yID0gdGFyZ2V0QW5jaG9yO1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IHZub2RlLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgdm5vZGUucHJvcHMsXG4gICAgcXVlcnlTZWxlY3RvclxuICApO1xuICBjb25zdCBkaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZCh2bm9kZS5wcm9wcyk7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0Ll9scGEgfHwgdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgaHlkcmF0ZURpc2FibGVkVGVsZXBvcnQoXG4gICAgICAgICAgbm9kZSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICB0YXJnZXROb2RlLFxuICAgICAgICAgIHRhcmdldE5vZGUgJiYgbmV4dFNpYmxpbmcodGFyZ2V0Tm9kZSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBsZXQgdGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgd2hpbGUgKHRhcmdldEFuY2hvcikge1xuICAgICAgICAgIGlmICh0YXJnZXRBbmNob3IgJiYgdGFyZ2V0QW5jaG9yLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0QW5jaG9yLmRhdGEgPT09IFwidGVsZXBvcnQgc3RhcnQgYW5jaG9yXCIpIHtcbiAgICAgICAgICAgICAgdm5vZGUudGFyZ2V0U3RhcnQgPSB0YXJnZXRBbmNob3I7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldEFuY2hvci5kYXRhID09PSBcInRlbGVwb3J0IGFuY2hvclwiKSB7XG4gICAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgICAgdGFyZ2V0Ll9scGEgPSB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhcmdldEFuY2hvciA9IG5leHRTaWJsaW5nKHRhcmdldEFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2bm9kZS50YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICBwcmVwYXJlQW5jaG9yKHRhcmdldCwgdm5vZGUsIGNyZWF0ZVRleHQsIGluc2VydCk7XG4gICAgICAgIH1cbiAgICAgICAgaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIHRhcmdldE5vZGUgJiYgbmV4dFNpYmxpbmcodGFyZ2V0Tm9kZSksXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUNzc1ZhcnModm5vZGUsIGRpc2FibGVkKTtcbiAgfSBlbHNlIGlmIChkaXNhYmxlZCkge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNikge1xuICAgICAgaHlkcmF0ZURpc2FibGVkVGVsZXBvcnQobm9kZSwgdm5vZGUsIG5vZGUsIG5leHRTaWJsaW5nKG5vZGUpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZub2RlLmFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IpO1xufVxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5mdW5jdGlvbiB1cGRhdGVDc3NWYXJzKHZub2RlLCBpc0Rpc2FibGVkKSB7XG4gIGNvbnN0IGN0eCA9IHZub2RlLmN0eDtcbiAgaWYgKGN0eCAmJiBjdHgudXQpIHtcbiAgICBsZXQgbm9kZSwgYW5jaG9yO1xuICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICBub2RlID0gdm5vZGUuZWw7XG4gICAgICBhbmNob3IgPSB2bm9kZS5hbmNob3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUgPSB2bm9kZS50YXJnZXRTdGFydDtcbiAgICAgIGFuY2hvciA9IHZub2RlLnRhcmdldEFuY2hvcjtcbiAgICB9XG4gICAgd2hpbGUgKG5vZGUgJiYgbm9kZSAhPT0gYW5jaG9yKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXYtb3duZXJcIiwgY3R4LnVpZCk7XG4gICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgY3R4LnV0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHByZXBhcmVBbmNob3IodGFyZ2V0LCB2bm9kZSwgY3JlYXRlVGV4dCwgaW5zZXJ0KSB7XG4gIGNvbnN0IHRhcmdldFN0YXJ0ID0gdm5vZGUudGFyZ2V0U3RhcnQgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICBjb25zdCB0YXJnZXRBbmNob3IgPSB2bm9kZS50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICB0YXJnZXRTdGFydFtUZWxlcG9ydEVuZEtleV0gPSB0YXJnZXRBbmNob3I7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBpbnNlcnQodGFyZ2V0U3RhcnQsIHRhcmdldCk7XG4gICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0QW5jaG9yO1xufVxuXG5jb25zdCBsZWF2ZUNiS2V5ID0gU3ltYm9sKFwiX2xlYXZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XG4gIGNvbnN0IHN0YXRlID0ge1xuICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgaXNMZWF2aW5nOiBmYWxzZSxcbiAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxuICAgIGxlYXZpbmdWTm9kZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgfTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBzdGF0ZS5pc01vdW50ZWQgPSB0cnVlO1xuICB9KTtcbiAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICBtb2RlOiBTdHJpbmcsXG4gIGFwcGVhcjogQm9vbGVhbixcbiAgcGVyc2lzdGVkOiBCb29sZWFuLFxuICAvLyBlbnRlclxuICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBsZWF2ZVxuICBvbkJlZm9yZUxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uTGVhdmVDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBhcHBlYXJcbiAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3Jcbn07XG5jb25zdCByZWN1cnNpdmVHZXRTdWJ0cmVlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHN1YlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICByZXR1cm4gc3ViVHJlZS5jb21wb25lbnQgPyByZWN1cnNpdmVHZXRTdWJ0cmVlKHN1YlRyZWUuY29tcG9uZW50KSA6IHN1YlRyZWU7XG59O1xuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xuICBuYW1lOiBgQmFzZVRyYW5zaXRpb25gLFxuICBwcm9wczogQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcbiAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZCA9IGZpbmROb25Db21tZW50Q2hpbGQoY2hpbGRyZW4pO1xuICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICBjb25zdCB7IG1vZGUgfSA9IHJhd1Byb3BzO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbW9kZSAmJiBtb2RlICE9PSBcImluLW91dFwiICYmIG1vZGUgIT09IFwib3V0LWluXCIgJiYgbW9kZSAhPT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgd2FybiQxKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlubmVyQ2hpbGQgPSBnZXRJbm5lckNoaWxkJDEoY2hpbGQpO1xuICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGxldCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgaW5uZXJDaGlsZCxcbiAgICAgICAgcmF3UHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgLy8gIzExMDYxLCBlbnN1cmUgZW50ZXJIb29rcyBpcyBmcmVzaCBhZnRlciBjbG9uZVxuICAgICAgICAoaG9va3MpID0+IGVudGVySG9va3MgPSBob29rc1xuICAgICAgKTtcbiAgICAgIGlmIChpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xuICAgICAgfVxuICAgICAgbGV0IG9sZElubmVyQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlICYmIGdldElubmVyQ2hpbGQkMShpbnN0YW5jZS5zdWJUcmVlKTtcbiAgICAgIGlmIChvbGRJbm5lckNoaWxkICYmIG9sZElubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCAmJiAhaXNTYW1lVk5vZGVUeXBlKG9sZElubmVyQ2hpbGQsIGlubmVyQ2hpbGQpICYmIHJlY3Vyc2l2ZUdldFN1YnRyZWUoaW5zdGFuY2UpLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgbGV0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgb2xkSW5uZXJDaGlsZCxcbiAgICAgICAgICByYXdQcm9wcyxcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgbGVhdmluZ0hvb2tzKTtcbiAgICAgICAgaWYgKG1vZGUgPT09IFwib3V0LWluXCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgICAgICBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCEoaW5zdGFuY2Uuam9iLmZsYWdzICYgOCkpIHtcbiAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmU7XG4gICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiaW4tb3V0XCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgbGVhdmluZ0hvb2tzLmRlbGF5TGVhdmUgPSAoZWwsIGVhcmx5UmVtb3ZlLCBkZWxheWVkTGVhdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW1N0cmluZyhvbGRJbm5lckNoaWxkLmtleSldID0gb2xkSW5uZXJDaGlsZDtcbiAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldID0gKCkgPT4ge1xuICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xuICAgICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVudGVySG9va3MuZGVsYXllZExlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICBkZWxheWVkTGVhdmUoKTtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob2xkSW5uZXJDaGlsZCkge1xuICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gIH1cbn07XG5mdW5jdGlvbiBmaW5kTm9uQ29tbWVudENoaWxkKGNoaWxkcmVuKSB7XG4gIGxldCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgIGxldCBoYXNGb3VuZCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgYyBvZiBjaGlsZHJlbikge1xuICAgICAgaWYgKGMudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBoYXNGb3VuZCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIFwiPHRyYW5zaXRpb24+IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBzaW5nbGUgZWxlbWVudCBvciBjb21wb25lbnQuIFVzZSA8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjaGlsZCA9IGM7XG4gICAgICAgIGhhc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoaWxkO1xufVxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XG5mdW5jdGlvbiBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSkge1xuICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xuICBsZXQgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gbGVhdmluZ1ZOb2Rlcy5nZXQodm5vZGUudHlwZSk7XG4gIGlmICghbGVhdmluZ1ZOb2Rlc0NhY2hlKSB7XG4gICAgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGVhdmluZ1ZOb2Rlcy5zZXQodm5vZGUudHlwZSwgbGVhdmluZ1ZOb2Rlc0NhY2hlKTtcbiAgfVxuICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSwgcG9zdENsb25lKSB7XG4gIGNvbnN0IHtcbiAgICBhcHBlYXIsXG4gICAgbW9kZSxcbiAgICBwZXJzaXN0ZWQgPSBmYWxzZSxcbiAgICBvbkJlZm9yZUVudGVyLFxuICAgIG9uRW50ZXIsXG4gICAgb25BZnRlckVudGVyLFxuICAgIG9uRW50ZXJDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVMZWF2ZSxcbiAgICBvbkxlYXZlLFxuICAgIG9uQWZ0ZXJMZWF2ZSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlQXBwZWFyLFxuICAgIG9uQXBwZWFyLFxuICAgIG9uQWZ0ZXJBcHBlYXIsXG4gICAgb25BcHBlYXJDYW5jZWxsZWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpO1xuICBjb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgaG9vayAmJiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIGhvb2ssXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDksXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgY2FsbEFzeW5jSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgY29uc3QgZG9uZSA9IGFyZ3NbMV07XG4gICAgY2FsbEhvb2soaG9vaywgYXJncyk7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGlmIChob29rLmV2ZXJ5KChob29rMikgPT4gaG9vazIubGVuZ3RoIDw9IDEpKSBkb25lKCk7XG4gICAgfSBlbHNlIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBob29rcyA9IHtcbiAgICBtb2RlLFxuICAgIHBlcnNpc3RlZCxcbiAgICBiZWZvcmVFbnRlcihlbCkge1xuICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xuICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVsW2xlYXZlQ2JLZXldKSB7XG4gICAgICAgIGVsW2xlYXZlQ2JLZXldKFxuICAgICAgICAgIHRydWVcbiAgICAgICAgICAvKiBjYW5jZWxsZWQgKi9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZSA9IGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xuICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJiBpc1NhbWVWTm9kZVR5cGUodm5vZGUsIGxlYXZpbmdWTm9kZSkgJiYgbGVhdmluZ1ZOb2RlLmVsW2xlYXZlQ2JLZXldKSB7XG4gICAgICAgIGxlYXZpbmdWTm9kZS5lbFtsZWF2ZUNiS2V5XSgpO1xuICAgICAgfVxuICAgICAgY2FsbEhvb2soaG9vaywgW2VsXSk7XG4gICAgfSxcbiAgICBlbnRlcihlbCkge1xuICAgICAgbGV0IGhvb2sgPSBvbkVudGVyO1xuICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcbiAgICAgIGxldCBjYW5jZWxIb29rID0gb25FbnRlckNhbmNlbGxlZDtcbiAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICBob29rID0gb25BcHBlYXIgfHwgb25FbnRlcjtcbiAgICAgICAgICBhZnRlckhvb2sgPSBvbkFmdGVyQXBwZWFyIHx8IG9uQWZ0ZXJFbnRlcjtcbiAgICAgICAgICBjYW5jZWxIb29rID0gb25BcHBlYXJDYW5jZWxsZWQgfHwgb25FbnRlckNhbmNlbGxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRvbmUgPSBlbFtlbnRlckNiS2V5XSA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2soY2FuY2VsSG9vaywgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2soYWZ0ZXJIb29rLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XG4gICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxbZW50ZXJDYktleV0gPSB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgaWYgKGhvb2spIHtcbiAgICAgICAgY2FsbEFzeW5jSG9vayhob29rLCBbZWwsIGRvbmVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcbiAgICAgIGNvbnN0IGtleTIgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgICAgIGlmIChlbFtlbnRlckNiS2V5XSkge1xuICAgICAgICBlbFtlbnRlckNiS2V5XShcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XG4gICAgICAgIHJldHVybiByZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlTGVhdmUsIFtlbF0pO1xuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2xlYXZlQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJlbW92ZSgpO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXSA9PT0gdm5vZGUpIHtcbiAgICAgICAgICBkZWxldGUgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID0gdm5vZGU7XG4gICAgICBpZiAob25MZWF2ZSkge1xuICAgICAgICBjYWxsQXN5bmNIb29rKG9uTGVhdmUsIFtlbCwgZG9uZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xvbmUodm5vZGUyKSB7XG4gICAgICBjb25zdCBob29rczIgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICB2bm9kZTIsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHBvc3RDbG9uZVxuICAgICAgKTtcbiAgICAgIGlmIChwb3N0Q2xvbmUpIHBvc3RDbG9uZShob29rczIpO1xuICAgICAgcmV0dXJuIGhvb2tzMjtcbiAgICB9XG4gIH07XG4gIHJldHVybiBob29rcztcbn1cbmZ1bmN0aW9uIGVtcHR5UGxhY2Vob2xkZXIodm5vZGUpIHtcbiAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xuICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xuICAgIHJldHVybiB2bm9kZTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCQxKHZub2RlKSB7XG4gIGlmICghaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgaWYgKGlzVGVsZXBvcnQodm5vZGUudHlwZSkgJiYgdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBmaW5kTm9uQ29tbWVudENoaWxkKHZub2RlLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIGlmICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICByZXR1cm4gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XG4gIH1cbiAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAzMiAmJiBpc0Z1bmN0aW9uKGNoaWxkcmVuLmRlZmF1bHQpKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW4uZGVmYXVsdCgpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAmJiB2bm9kZS5jb21wb25lbnQpIHtcbiAgICB2bm9kZS50cmFuc2l0aW9uID0gaG9va3M7XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBob29rcyk7XG4gIH0gZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xuICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkcmVuLCBrZWVwQ29tbWVudCA9IGZhbHNlLCBwYXJlbnRLZXkpIHtcbiAgbGV0IHJldCA9IFtdO1xuICBsZXQga2V5ZWRGcmFnbWVudENvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGNvbnN0IGtleSA9IHBhcmVudEtleSA9PSBudWxsID8gY2hpbGQua2V5IDogU3RyaW5nKHBhcmVudEtleSkgKyBTdHJpbmcoY2hpbGQua2V5ICE9IG51bGwgPyBjaGlsZC5rZXkgOiBpKTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGlmIChjaGlsZC5wYXRjaEZsYWcgJiAxMjgpIGtleWVkRnJhZ21lbnRDb3VudCsrO1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChcbiAgICAgICAgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCwga2V5KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGtlZXBDb21tZW50IHx8IGNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgIHJldC5wdXNoKGtleSAhPSBudWxsID8gY2xvbmVWTm9kZShjaGlsZCwgeyBrZXkgfSkgOiBjaGlsZCk7XG4gICAgfVxuICB9XG4gIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldFtpXS5wYXRjaEZsYWcgPSAtMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChvcHRpb25zLCBleHRyYU9wdGlvbnMpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24ob3B0aW9ucykgPyAoXG4gICAgLy8gIzgyMzY6IGV4dGVuZCBjYWxsIGFuZCBvcHRpb25zLm5hbWUgYWNjZXNzIGFyZSBjb25zaWRlcmVkIHNpZGUtZWZmZWN0c1xuICAgIC8vIGJ5IFJvbGx1cCwgc28gd2UgaGF2ZSB0byB3cmFwIGl0IGluIGEgcHVyZS1hbm5vdGF0ZWQgSUlGRS5cbiAgICAvKiBAX19QVVJFX18gKi8gKCgpID0+IGV4dGVuZCh7IG5hbWU6IG9wdGlvbnMubmFtZSB9LCBleHRyYU9wdGlvbnMsIHsgc2V0dXA6IG9wdGlvbnMgfSkpKClcbiAgKSA6IG9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHVzZUlkKCkge1xuICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmIChpKSB7XG4gICAgcmV0dXJuIChpLmFwcENvbnRleHQuY29uZmlnLmlkUHJlZml4IHx8IFwidlwiKSArIFwiLVwiICsgaS5pZHNbMF0gKyBpLmlkc1sxXSsrO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgdXNlSWQoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC5gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLmlkcyA9IFtpbnN0YW5jZS5pZHNbMF0gKyBpbnN0YW5jZS5pZHNbMl0rKyArIFwiLVwiLCAwLCAwXTtcbn1cblxuY29uc3Qga25vd25UZW1wbGF0ZVJlZnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbmZ1bmN0aW9uIHVzZVRlbXBsYXRlUmVmKGtleSkge1xuICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IHIgPSBzaGFsbG93UmVmKG51bGwpO1xuICBpZiAoaSkge1xuICAgIGNvbnN0IHJlZnMgPSBpLnJlZnMgPT09IEVNUFRZX09CSiA/IGkucmVmcyA9IHt9IDogaS5yZWZzO1xuICAgIGxldCBkZXNjO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIChkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyZWZzLCBrZXkpKSAmJiAhZGVzYy5jb25maWd1cmFibGUpIHtcbiAgICAgIHdhcm4kMShgdXNlVGVtcGxhdGVSZWYoJyR7a2V5fScpIGFscmVhZHkgZXhpc3RzLmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVmcywga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gci52YWx1ZSxcbiAgICAgICAgc2V0OiAodmFsKSA9PiByLnZhbHVlID0gdmFsXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGB1c2VUZW1wbGF0ZVJlZigpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IHJldCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyByZWFkb25seShyKSA6IHI7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAga25vd25UZW1wbGF0ZVJlZnMuYWRkKHJldCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuY29uc3QgcGVuZGluZ1NldFJlZk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gc2V0UmVmKHJhd1JlZiwgb2xkUmF3UmVmLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIGlzVW5tb3VudCA9IGZhbHNlKSB7XG4gIGlmIChpc0FycmF5KHJhd1JlZikpIHtcbiAgICByYXdSZWYuZm9yRWFjaChcbiAgICAgIChyLCBpKSA9PiBzZXRSZWYoXG4gICAgICAgIHIsXG4gICAgICAgIG9sZFJhd1JlZiAmJiAoaXNBcnJheShvbGRSYXdSZWYpID8gb2xkUmF3UmVmW2ldIDogb2xkUmF3UmVmKSxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBpc1VubW91bnRcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpICYmICFpc1VubW91bnQpIHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNTEyICYmIHZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkICYmIHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLmNvbXBvbmVudCkge1xuICAgICAgc2V0UmVmKHJhd1JlZiwgb2xkUmF3UmVmLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcmVmVmFsdWUgPSB2bm9kZS5zaGFwZUZsYWcgJiA0ID8gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2Uodm5vZGUuY29tcG9uZW50KSA6IHZub2RlLmVsO1xuICBjb25zdCB2YWx1ZSA9IGlzVW5tb3VudCA/IG51bGwgOiByZWZWYWx1ZTtcbiAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFvd25lcikge1xuICAgIHdhcm4kMShcbiAgICAgIGBNaXNzaW5nIHJlZiBvd25lciBjb250ZXh0LiByZWYgY2Fubm90IGJlIHVzZWQgb24gaG9pc3RlZCB2bm9kZXMuIEEgdm5vZGUgd2l0aCByZWYgbXVzdCBiZSBjcmVhdGVkIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uLmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XG4gIGNvbnN0IHJlZnMgPSBvd25lci5yZWZzID09PSBFTVBUWV9PQkogPyBvd25lci5yZWZzID0ge30gOiBvd25lci5yZWZzO1xuICBjb25zdCBzZXR1cFN0YXRlID0gb3duZXIuc2V0dXBTdGF0ZTtcbiAgY29uc3QgcmF3U2V0dXBTdGF0ZSA9IHRvUmF3KHNldHVwU3RhdGUpO1xuICBjb25zdCBjYW5TZXRTZXR1cFJlZiA9IHNldHVwU3RhdGUgPT09IEVNUFRZX09CSiA/IE5PIDogKGtleSkgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoaGFzT3duKHJhd1NldHVwU3RhdGUsIGtleSkgJiYgIWlzUmVmKHJhd1NldHVwU3RhdGVba2V5XSkpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBUZW1wbGF0ZSByZWYgXCIke2tleX1cIiB1c2VkIG9uIGEgbm9uLXJlZiB2YWx1ZS4gSXQgd2lsbCBub3Qgd29yayBpbiB0aGUgcHJvZHVjdGlvbiBidWlsZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoa25vd25UZW1wbGF0ZVJlZnMuaGFzKHJhd1NldHVwU3RhdGVba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFzT3duKHJhd1NldHVwU3RhdGUsIGtleSk7XG4gIH07XG4gIGNvbnN0IGNhblNldFJlZiA9IChyZWYyKSA9PiB7XG4gICAgcmV0dXJuICEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8ICFrbm93blRlbXBsYXRlUmVmcy5oYXMocmVmMik7XG4gIH07XG4gIGlmIChvbGRSZWYgIT0gbnVsbCAmJiBvbGRSZWYgIT09IHJlZikge1xuICAgIGludmFsaWRhdGVQZW5kaW5nU2V0UmVmKG9sZFJhd1JlZik7XG4gICAgaWYgKGlzU3RyaW5nKG9sZFJlZikpIHtcbiAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XG4gICAgICBpZiAoY2FuU2V0U2V0dXBSZWYob2xkUmVmKSkge1xuICAgICAgICBzZXR1cFN0YXRlW29sZFJlZl0gPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xuICAgICAgaWYgKGNhblNldFJlZihvbGRSZWYpKSB7XG4gICAgICAgIG9sZFJlZi52YWx1ZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBvbGRSYXdSZWZBdG9tID0gb2xkUmF3UmVmO1xuICAgICAgaWYgKG9sZFJhd1JlZkF0b20uaykgcmVmc1tvbGRSYXdSZWZBdG9tLmtdID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xuICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiwgW3ZhbHVlLCByZWZzXSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgX2lzU3RyaW5nID0gaXNTdHJpbmcocmVmKTtcbiAgICBjb25zdCBfaXNSZWYgPSBpc1JlZihyZWYpO1xuICAgIGlmIChfaXNTdHJpbmcgfHwgX2lzUmVmKSB7XG4gICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJhd1JlZi5mKSB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBfaXNTdHJpbmcgPyBjYW5TZXRTZXR1cFJlZihyZWYpID8gc2V0dXBTdGF0ZVtyZWZdIDogcmVmc1tyZWZdIDogY2FuU2V0UmVmKHJlZikgfHwgIXJhd1JlZi5rID8gcmVmLnZhbHVlIDogcmVmc1tyYXdSZWYua107XG4gICAgICAgICAgaWYgKGlzVW5tb3VudCkge1xuICAgICAgICAgICAgaXNBcnJheShleGlzdGluZykgJiYgcmVtb3ZlKGV4aXN0aW5nLCByZWZWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgICAgICAgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKGNhblNldFNldHVwUmVmKHJlZikpIHtcbiAgICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHJlZnNbcmVmXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuU2V0UmVmKHJlZikpIHtcbiAgICAgICAgICAgICAgICAgIHJlZi52YWx1ZSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghZXhpc3RpbmcuaW5jbHVkZXMocmVmVmFsdWUpKSB7XG4gICAgICAgICAgICAgIGV4aXN0aW5nLnB1c2gocmVmVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICByZWZzW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoY2FuU2V0U2V0dXBSZWYocmVmKSkge1xuICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF9pc1JlZikge1xuICAgICAgICAgIGlmIChjYW5TZXRSZWYocmVmKSkge1xuICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyYXdSZWYuaykgcmVmc1tyYXdSZWYua10gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgam9iID0gKCkgPT4ge1xuICAgICAgICAgIGRvU2V0KCk7XG4gICAgICAgICAgcGVuZGluZ1NldFJlZk1hcC5kZWxldGUocmF3UmVmKTtcbiAgICAgICAgfTtcbiAgICAgICAgam9iLmlkID0gLTE7XG4gICAgICAgIHBlbmRpbmdTZXRSZWZNYXAuc2V0KHJhd1JlZiwgam9iKTtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGpvYiwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52YWxpZGF0ZVBlbmRpbmdTZXRSZWYocmF3UmVmKTtcbiAgICAgICAgZG9TZXQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShcIkludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6XCIsIHJlZiwgYCgke3R5cGVvZiByZWZ9KWApO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaW52YWxpZGF0ZVBlbmRpbmdTZXRSZWYocmF3UmVmKSB7XG4gIGNvbnN0IHBlbmRpbmdTZXRSZWYgPSBwZW5kaW5nU2V0UmVmTWFwLmdldChyYXdSZWYpO1xuICBpZiAocGVuZGluZ1NldFJlZikge1xuICAgIHBlbmRpbmdTZXRSZWYuZmxhZ3MgfD0gODtcbiAgICBwZW5kaW5nU2V0UmVmTWFwLmRlbGV0ZShyYXdSZWYpO1xuICB9XG59XG5cbmxldCBoYXNMb2dnZWRNaXNtYXRjaEVycm9yID0gZmFsc2U7XG5jb25zdCBsb2dNaXNtYXRjaEVycm9yID0gKCkgPT4ge1xuICBpZiAoaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvcikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmVycm9yKFwiSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5cIik7XG4gIGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IgPSB0cnVlO1xufTtcbmNvbnN0IGlzU1ZHQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcInN2Z1wiKSAmJiBjb250YWluZXIudGFnTmFtZSAhPT0gXCJmb3JlaWduT2JqZWN0XCI7XG5jb25zdCBpc01hdGhNTENvbnRhaW5lciA9IChjb250YWluZXIpID0+IGNvbnRhaW5lci5uYW1lc3BhY2VVUkkuaW5jbHVkZXMoXCJNYXRoTUxcIik7XG5jb25zdCBnZXRDb250YWluZXJUeXBlID0gKGNvbnRhaW5lcikgPT4ge1xuICBpZiAoY29udGFpbmVyLm5vZGVUeXBlICE9PSAxKSByZXR1cm4gdm9pZCAwO1xuICBpZiAoaXNTVkdDb250YWluZXIoY29udGFpbmVyKSkgcmV0dXJuIFwic3ZnXCI7XG4gIGlmIChpc01hdGhNTENvbnRhaW5lcihjb250YWluZXIpKSByZXR1cm4gXCJtYXRobWxcIjtcbiAgcmV0dXJuIHZvaWQgMDtcbn07XG5jb25zdCBpc0NvbW1lbnQgPSAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gODtcbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyhyZW5kZXJlckludGVybmFscykge1xuICBjb25zdCB7XG4gICAgbXQ6IG1vdW50Q29tcG9uZW50LFxuICAgIHA6IHBhdGNoLFxuICAgIG86IHtcbiAgICAgIHBhdGNoUHJvcCxcbiAgICAgIGNyZWF0ZVRleHQsXG4gICAgICBuZXh0U2libGluZyxcbiAgICAgIHBhcmVudE5vZGUsXG4gICAgICByZW1vdmUsXG4gICAgICBpbnNlcnQsXG4gICAgICBjcmVhdGVDb21tZW50XG4gICAgfVxuICB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xuICAgIGlmICghY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgIGBBdHRlbXB0aW5nIHRvIGh5ZHJhdGUgZXhpc3RpbmcgbWFya3VwIGJ1dCBjb250YWluZXIgaXMgZW1wdHkuIFBlcmZvcm1pbmcgZnVsbCBtb3VudCBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyKTtcbiAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGh5ZHJhdGVOb2RlKGNvbnRhaW5lci5maXJzdENoaWxkLCB2bm9kZSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVOb2RlID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGlzRnJhZ21lbnRTdGFydCA9IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiO1xuICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChcbiAgICAgIG5vZGUsXG4gICAgICB2bm9kZSxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgaXNGcmFnbWVudFN0YXJ0XG4gICAgKTtcbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcgfSA9IHZub2RlO1xuICAgIGxldCBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICB2bm9kZS5lbCA9IG5vZGU7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZWYobm9kZSwgXCJfX3Zub2RlXCIsIHZub2RlLCB0cnVlKTtcbiAgICAgIGRlZihub2RlLCBcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIsIHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFRleHQ6XG4gICAgICAgIGlmIChkb21UeXBlICE9PSAzKSB7XG4gICAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuID09PSBcIlwiKSB7XG4gICAgICAgICAgICBpbnNlcnQodm5vZGUuZWwgPSBjcmVhdGVUZXh0KFwiXCIpLCBwYXJlbnROb2RlKG5vZGUpLCBub2RlKTtcbiAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgICAgICAgYEh5ZHJhdGlvbiB0ZXh0IG1pc21hdGNoIGluYCxcbiAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YVxuICAgICAgICAgICAgICApfVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHtKU09OLnN0cmluZ2lmeSh2bm9kZS5jaGlsZHJlbil9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICBpZiAoaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIHJlcGxhY2VOb2RlKFxuICAgICAgICAgICAgdm5vZGUuZWwgPSBub2RlLmNvbnRlbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGRvbVR5cGUgIT09IDggfHwgaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb21UeXBlID09PSAxIHx8IGRvbVR5cGUgPT09IDMpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZWVkVG9BZG9wdENvbnRlbnQpXG4gICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9IG5leHROb2RlLm5vZGVUeXBlID09PSAxID8gbmV4dE5vZGUub3V0ZXJIVE1MIDogbmV4dE5vZGUuZGF0YTtcbiAgICAgICAgICAgIGlmIChpID09PSB2bm9kZS5zdGF0aWNDb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGlzRnJhZ21lbnRTdGFydCA/IG5leHRTaWJsaW5nKG5leHROb2RlKSA6IG5leHROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIGlmICghaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSkge1xuICAgICAgICAgIGlmICgoZG9tVHlwZSAhPT0gMSB8fCB2bm9kZS50eXBlLnRvTG93ZXJDYXNlKCkgIT09IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSAmJiAhaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcInRlbGVwb3J0IHN0YXJ0XCIpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlLCBub2RlLmRhdGEsIFwidGVsZXBvcnQgZW5kXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb3VudENvbXBvbmVudChcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpICYmICF2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICAgICAgbGV0IHN1YlRyZWU7XG4gICAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgIHN1YlRyZWUgPSBjcmVhdGVWTm9kZShGcmFnbWVudCk7XG4gICAgICAgICAgICAgIHN1YlRyZWUuYW5jaG9yID0gbmV4dE5vZGUgPyBuZXh0Tm9kZS5wcmV2aW91c1NpYmxpbmcgOiBjb250YWluZXIubGFzdENoaWxkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IG5vZGUubm9kZVR5cGUgPT09IDMgPyBjcmVhdGVUZXh0Vk5vZGUoXCJcIikgOiBjcmVhdGVWTm9kZShcImRpdlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xuICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUgPSBzdWJUcmVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4KSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgICAgICAgICAgIGh5ZHJhdGVDaGlsZHJlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUoXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIGdldENvbnRhaW5lclR5cGUocGFyZW50Tm9kZShub2RlKSksXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgIGh5ZHJhdGVOb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykge1xuICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgSG9zdFZOb2RlIHR5cGU6XCIsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dE5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICAgIGNvbnN0IGZvcmNlUGF0Y2ggPSB0eXBlID09PSBcImlucHV0XCIgfHwgdHlwZSA9PT0gXCJvcHRpb25cIjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBmb3JjZVBhdGNoIHx8IHBhdGNoRmxhZyAhPT0gLTEpIHtcbiAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJjcmVhdGVkXCIpO1xuICAgICAgfVxuICAgICAgbGV0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gZmFsc2U7XG4gICAgICBpZiAoaXNUZW1wbGF0ZU5vZGUoZWwpKSB7XG4gICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gbmVlZFRyYW5zaXRpb24oXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAvLyBubyBuZWVkIGNoZWNrIHBhcmVudFN1c3BlbnNlIGluIGh5ZHJhdGlvblxuICAgICAgICAgIHRyYW5zaXRpb25cbiAgICAgICAgKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzICYmIHBhcmVudENvbXBvbmVudC52bm9kZS5wcm9wcy5hcHBlYXI7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlbC5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICAgIGNvbnN0IGNscyA9IGNvbnRlbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgICAgICAgaWYgKGNscykgY29udGVudC4kY2xzID0gY2xzO1xuICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZU5vZGUoY29udGVudCwgZWwsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIHZub2RlLmVsID0gZWwgPSBjb250ZW50O1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2ICYmIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcbiAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XG4gICAgICAgIGxldCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIGVsLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoZWwsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgICBgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdXIgPSBuZXh0O1xuICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIHJlbW92ZShjdXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgbGV0IGNsaWVudFRleHQgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNsaWVudFRleHRbMF0gPT09IFwiXFxuXCIgJiYgKGVsLnRhZ05hbWUgPT09IFwiUFJFXCIgfHwgZWwudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSkge1xuICAgICAgICAgIGNsaWVudFRleHQgPSBjbGllbnRUZXh0LnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gY2xpZW50VGV4dCkge1xuICAgICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoZWwsIDAgLyogVEVYVCAqLykpIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgY29udGVudCBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke2VsLnRleHRDb250ZW50fVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHt2bm9kZS5jaGlsZHJlbn1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fIHx8IGZvcmNlUGF0Y2ggfHwgIW9wdGltaXplZCB8fCBwYXRjaEZsYWcgJiAoMTYgfCAzMikpIHtcbiAgICAgICAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBlbC50YWdOYW1lLmluY2x1ZGVzKFwiLVwiKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgaWYgKCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgLy8gIzExMTg5IHNraXAgaWYgdGhpcyBub2RlIGhhcyBkaXJlY3RpdmVzIHRoYXQgaGF2ZSBjcmVhdGVkIGhvb2tzXG4gICAgICAgICAgICAvLyBhcyBpdCBjb3VsZCBoYXZlIG11dGF0ZWQgdGhlIERPTSBpbiBhbnkgcG9zc2libGUgd2F5XG4gICAgICAgICAgICAhKGRpcnMgJiYgZGlycy5zb21lKChkKSA9PiBkLmRpci5jcmVhdGVkKSkgJiYgcHJvcEhhc01pc21hdGNoKGVsLCBrZXksIHByb3BzW2tleV0sIHZub2RlLCBwYXJlbnRDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3JjZVBhdGNoICYmIChrZXkuZW5kc1dpdGgoXCJ2YWx1ZVwiKSB8fCBrZXkgPT09IFwiaW5kZXRlcm1pbmF0ZVwiKSB8fCBpc09uKGtleSkgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkgfHwgLy8gZm9yY2UgaHlkcmF0ZSB2LWJpbmQgd2l0aCAucHJvcCBtb2RpZmllcnNcbiAgICAgICAgICAgIGtleVswXSA9PT0gXCIuXCIgfHwgaXNDdXN0b21FbGVtZW50KSB7XG4gICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCB2b2lkIDAsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgICBwYXRjaFByb3AoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIFwib25DbGlja1wiLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDQgJiYgaXNSZWFjdGl2ZShwcm9wcy5zdHlsZSkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcy5zdHlsZSkgcHJvcHMuc3R5bGVba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHZub2RlSG9va3M7XG4gICAgICBpZiAodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkge1xuICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAoZGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlTW91bnRcIik7XG4gICAgICB9XG4gICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHwgZGlycyB8fCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSgoKSA9PiB7XG4gICAgICAgICAgdm5vZGVIb29rcyAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwibW91bnRlZFwiKTtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWwubmV4dFNpYmxpbmc7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVDaGlsZHJlbiA9IChub2RlLCBwYXJlbnRWTm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xuICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCB2bm9kZSA9IG9wdGltaXplZCA/IGNoaWxkcmVuW2ldIDogY2hpbGRyZW5baV0gPSBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSk7XG4gICAgICBjb25zdCBpc1RleHQgPSB2bm9kZS50eXBlID09PSBUZXh0O1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgaWYgKGlzVGV4dCAmJiAhb3B0aW1pemVkKSB7XG4gICAgICAgICAgaWYgKGkgKyAxIDwgbCAmJiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpICsgMV0pLnR5cGUgPT09IFRleHQpIHtcbiAgICAgICAgICAgIGluc2VydChcbiAgICAgICAgICAgICAgY3JlYXRlVGV4dChcbiAgICAgICAgICAgICAgICBub2RlLmRhdGEuc2xpY2Uodm5vZGUuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICAgIG5leHRTaWJsaW5nKG5vZGUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBoeWRyYXRlTm9kZShcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGlzVGV4dCAmJiAhdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgaW5zZXJ0KHZub2RlLmVsID0gY3JlYXRlVGV4dChcIlwiKSwgY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoY29udGFpbmVyLCAxIC8qIENISUxEUkVOICovKSkge1xuICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgYFxuU2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgZmV3ZXIgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIGdldENvbnRhaW5lclR5cGUoY29udGFpbmVyKSxcbiAgICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVGcmFnbWVudCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCB7IHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IHZub2RlO1xuICAgIGlmIChmcmFnbWVudFNsb3RTY29wZUlkcykge1xuICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcykgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICBjb25zdCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgbmV4dFNpYmxpbmcobm9kZSksXG4gICAgICB2bm9kZSxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgb3B0aW1pemVkXG4gICAgKTtcbiAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSBcIl1cIikge1xuICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvciA9IG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICBpbnNlcnQodm5vZGUuYW5jaG9yID0gY3JlYXRlQ29tbWVudChgXWApLCBjb250YWluZXIsIG5leHQpO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50KSA9PiB7XG4gICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChub2RlLnBhcmVudEVsZW1lbnQsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEh5ZHJhdGlvbiBub2RlIG1pc21hdGNoOlxuLSByZW5kZXJlZCBvbiBzZXJ2ZXI6YCxcbiAgICAgICAgbm9kZSxcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGAodGV4dClgIDogaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCIgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWAgOiBgYCxcbiAgICAgICAgYFxuLSBleHBlY3RlZCBvbiBjbGllbnQ6YCxcbiAgICAgICAgdm5vZGUudHlwZVxuICAgICAgKTtcbiAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICB9XG4gICAgdm5vZGUuZWwgPSBudWxsO1xuICAgIGlmIChpc0ZyYWdtZW50KSB7XG4gICAgICBjb25zdCBlbmQgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUpO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgbmV4dDIgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgaWYgKG5leHQyICYmIG5leHQyICE9PSBlbmQpIHtcbiAgICAgICAgICByZW1vdmUobmV4dDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgIHJlbW92ZShub2RlKTtcbiAgICBwYXRjaChcbiAgICAgIG51bGwsXG4gICAgICB2bm9kZSxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG5leHQsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgIGdldENvbnRhaW5lclR5cGUoY29udGFpbmVyKSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgcGFyZW50Q29tcG9uZW50LnZub2RlLmVsID0gdm5vZGUuZWw7XG4gICAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCB2bm9kZS5lbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0O1xuICB9O1xuICBjb25zdCBsb2NhdGVDbG9zaW5nQW5jaG9yID0gKG5vZGUsIG9wZW4gPSBcIltcIiwgY2xvc2UgPSBcIl1cIikgPT4ge1xuICAgIGxldCBtYXRjaCA9IDA7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBvcGVuKSBtYXRjaCsrO1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBjbG9zZSkge1xuICAgICAgICAgIGlmIChtYXRjaCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRjaC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgcmVwbGFjZU5vZGUgPSAobmV3Tm9kZSwgb2xkTm9kZSwgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgcGFyZW50Tm9kZTIgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUyKSB7XG4gICAgICBwYXJlbnROb2RlMi5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gICAgfVxuICAgIGxldCBwYXJlbnQgPSBwYXJlbnRDb21wb25lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC52bm9kZS5lbCA9PT0gb2xkTm9kZSkge1xuICAgICAgICBwYXJlbnQudm5vZGUuZWwgPSBwYXJlbnQuc3ViVHJlZS5lbCA9IG5ld05vZGU7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaXNUZW1wbGF0ZU5vZGUgPSAobm9kZSkgPT4ge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxICYmIG5vZGUudGFnTmFtZSA9PT0gXCJURU1QTEFURVwiO1xuICB9O1xuICByZXR1cm4gW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXTtcbn1cbmZ1bmN0aW9uIHByb3BIYXNNaXNtYXRjaChlbCwga2V5LCBjbGllbnRWYWx1ZSwgdm5vZGUsIGluc3RhbmNlKSB7XG4gIGxldCBtaXNtYXRjaFR5cGU7XG4gIGxldCBtaXNtYXRjaEtleTtcbiAgbGV0IGFjdHVhbDtcbiAgbGV0IGV4cGVjdGVkO1xuICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICBpZiAoZWwuJGNscykge1xuICAgICAgYWN0dWFsID0gZWwuJGNscztcbiAgICAgIGRlbGV0ZSBlbC4kY2xzO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICB9XG4gICAgZXhwZWN0ZWQgPSBub3JtYWxpemVDbGFzcyhjbGllbnRWYWx1ZSk7XG4gICAgaWYgKCFpc1NldEVxdWFsKHRvQ2xhc3NTZXQoYWN0dWFsIHx8IFwiXCIpLCB0b0NsYXNzU2V0KGV4cGVjdGVkKSkpIHtcbiAgICAgIG1pc21hdGNoVHlwZSA9IDIgLyogQ0xBU1MgKi87XG4gICAgICBtaXNtYXRjaEtleSA9IGBjbGFzc2A7XG4gICAgfVxuICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikgfHwgXCJcIjtcbiAgICBleHBlY3RlZCA9IGlzU3RyaW5nKGNsaWVudFZhbHVlKSA/IGNsaWVudFZhbHVlIDogc3RyaW5naWZ5U3R5bGUobm9ybWFsaXplU3R5bGUoY2xpZW50VmFsdWUpKTtcbiAgICBjb25zdCBhY3R1YWxNYXAgPSB0b1N0eWxlTWFwKGFjdHVhbCk7XG4gICAgY29uc3QgZXhwZWN0ZWRNYXAgPSB0b1N0eWxlTWFwKGV4cGVjdGVkKTtcbiAgICBpZiAodm5vZGUuZGlycykge1xuICAgICAgZm9yIChjb25zdCB7IGRpciwgdmFsdWUgfSBvZiB2bm9kZS5kaXJzKSB7XG4gICAgICAgIGlmIChkaXIubmFtZSA9PT0gXCJzaG93XCIgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgZXhwZWN0ZWRNYXAuc2V0KFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICByZXNvbHZlQ3NzVmFycyhpbnN0YW5jZSwgdm5vZGUsIGV4cGVjdGVkTWFwKTtcbiAgICB9XG4gICAgaWYgKCFpc01hcEVxdWFsKGFjdHVhbE1hcCwgZXhwZWN0ZWRNYXApKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSAzIC8qIFNUWUxFICovO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBcInN0eWxlXCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKGVsIGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiBpc0tub3duU3ZnQXR0cihrZXkpIHx8IGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgKGlzQm9vbGVhbkF0dHIoa2V5KSB8fCBpc0tub3duSHRtbEF0dHIoa2V5KSkpIHtcbiAgICBpZiAoaXNCb29sZWFuQXR0cihrZXkpKSB7XG4gICAgICBhY3R1YWwgPSBlbC5oYXNBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGV4cGVjdGVkID0gaW5jbHVkZUJvb2xlYW5BdHRyKGNsaWVudFZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGNsaWVudFZhbHVlID09IG51bGwpIHtcbiAgICAgIGFjdHVhbCA9IGVsLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgZXhwZWN0ZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZShrZXkpKSB7XG4gICAgICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwidmFsdWVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICAgICAgYWN0dWFsID0gZWwudmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3R1YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGV4cGVjdGVkID0gaXNSZW5kZXJhYmxlQXR0clZhbHVlKGNsaWVudFZhbHVlKSA/IFN0cmluZyhjbGllbnRWYWx1ZSkgOiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpIHtcbiAgICAgIG1pc21hdGNoVHlwZSA9IDQgLyogQVRUUklCVVRFICovO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBrZXk7XG4gICAgfVxuICB9XG4gIGlmIChtaXNtYXRjaFR5cGUgIT0gbnVsbCAmJiAhaXNNaXNtYXRjaEFsbG93ZWQoZWwsIG1pc21hdGNoVHlwZSkpIHtcbiAgICBjb25zdCBmb3JtYXQgPSAodikgPT4gdiA9PT0gZmFsc2UgPyBgKG5vdCByZW5kZXJlZClgIDogYCR7bWlzbWF0Y2hLZXl9PVwiJHt2fVwiYDtcbiAgICBjb25zdCBwcmVTZWdtZW50ID0gYEh5ZHJhdGlvbiAke01pc21hdGNoVHlwZVN0cmluZ1ttaXNtYXRjaFR5cGVdfSBtaXNtYXRjaCBvbmA7XG4gICAgY29uc3QgcG9zdFNlZ21lbnQgPSBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke2Zvcm1hdChhY3R1YWwpfVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHtmb3JtYXQoZXhwZWN0ZWQpfVxuICBOb3RlOiB0aGlzIG1pc21hdGNoIGlzIGNoZWNrLW9ubHkuIFRoZSBET00gd2lsbCBub3QgYmUgcmVjdGlmaWVkIGluIHByb2R1Y3Rpb24gZHVlIHRvIHBlcmZvcm1hbmNlIG92ZXJoZWFkLlxuICBZb3Ugc2hvdWxkIGZpeCB0aGUgc291cmNlIG9mIHRoZSBtaXNtYXRjaC5gO1xuICAgIHtcbiAgICAgIHdhcm4kMShwcmVTZWdtZW50LCBlbCwgcG9zdFNlZ21lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB0b0NsYXNzU2V0KHN0cikge1xuICByZXR1cm4gbmV3IFNldChzdHIudHJpbSgpLnNwbGl0KC9cXHMrLykpO1xufVxuZnVuY3Rpb24gaXNTZXRFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IHMgb2YgYSkge1xuICAgIGlmICghYi5oYXMocykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiB0b1N0eWxlTWFwKHN0cikge1xuICBjb25zdCBzdHlsZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBzdHIuc3BsaXQoXCI7XCIpKSB7XG4gICAgbGV0IFtrZXksIHZhbHVlXSA9IGl0ZW0uc3BsaXQoXCI6XCIpO1xuICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgdmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZS50cmltKCk7XG4gICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgc3R5bGVNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGVNYXA7XG59XG5mdW5jdGlvbiBpc01hcEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGEpIHtcbiAgICBpZiAodmFsdWUgIT09IGIuZ2V0KGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiByZXNvbHZlQ3NzVmFycyhpbnN0YW5jZSwgdm5vZGUsIGV4cGVjdGVkTWFwKSB7XG4gIGNvbnN0IHJvb3QgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICBpZiAoaW5zdGFuY2UuZ2V0Q3NzVmFycyAmJiAodm5vZGUgPT09IHJvb3QgfHwgcm9vdCAmJiByb290LnR5cGUgPT09IEZyYWdtZW50ICYmIHJvb3QuY2hpbGRyZW4uaW5jbHVkZXModm5vZGUpKSkge1xuICAgIGNvbnN0IGNzc1ZhcnMgPSBpbnN0YW5jZS5nZXRDc3NWYXJzKCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY3NzVmFycykge1xuICAgICAgY29uc3QgdmFsdWUgPSBub3JtYWxpemVDc3NWYXJWYWx1ZShjc3NWYXJzW2tleV0pO1xuICAgICAgZXhwZWN0ZWRNYXAuc2V0KGAtLSR7Z2V0RXNjYXBlZENzc1Zhck5hbWUoa2V5LCBmYWxzZSl9YCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICBpZiAodm5vZGUgPT09IHJvb3QgJiYgaW5zdGFuY2UucGFyZW50KSB7XG4gICAgcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UucGFyZW50LCBpbnN0YW5jZS52bm9kZSwgZXhwZWN0ZWRNYXApO1xuICB9XG59XG5jb25zdCBhbGxvd01pc21hdGNoQXR0ciA9IFwiZGF0YS1hbGxvdy1taXNtYXRjaFwiO1xuY29uc3QgTWlzbWF0Y2hUeXBlU3RyaW5nID0ge1xuICBbMCAvKiBURVhUICovXTogXCJ0ZXh0XCIsXG4gIFsxIC8qIENISUxEUkVOICovXTogXCJjaGlsZHJlblwiLFxuICBbMiAvKiBDTEFTUyAqL106IFwiY2xhc3NcIixcbiAgWzMgLyogU1RZTEUgKi9dOiBcInN0eWxlXCIsXG4gIFs0IC8qIEFUVFJJQlVURSAqL106IFwiYXR0cmlidXRlXCJcbn07XG5mdW5jdGlvbiBpc01pc21hdGNoQWxsb3dlZChlbCwgYWxsb3dlZFR5cGUpIHtcbiAgaWYgKGFsbG93ZWRUeXBlID09PSAwIC8qIFRFWFQgKi8gfHwgYWxsb3dlZFR5cGUgPT09IDEgLyogQ0hJTERSRU4gKi8pIHtcbiAgICB3aGlsZSAoZWwgJiYgIWVsLmhhc0F0dHJpYnV0ZShhbGxvd01pc21hdGNoQXR0cikpIHtcbiAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICB9XG4gIH1cbiAgY29uc3QgYWxsb3dlZEF0dHIgPSBlbCAmJiBlbC5nZXRBdHRyaWJ1dGUoYWxsb3dNaXNtYXRjaEF0dHIpO1xuICBpZiAoYWxsb3dlZEF0dHIgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChhbGxvd2VkQXR0ciA9PT0gXCJcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGxpc3QgPSBhbGxvd2VkQXR0ci5zcGxpdChcIixcIik7XG4gICAgaWYgKGFsbG93ZWRUeXBlID09PSAwIC8qIFRFWFQgKi8gJiYgbGlzdC5pbmNsdWRlcyhcImNoaWxkcmVuXCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGxpc3QuaW5jbHVkZXMoTWlzbWF0Y2hUeXBlU3RyaW5nW2FsbG93ZWRUeXBlXSk7XG4gIH1cbn1cblxuY29uc3QgcmVxdWVzdElkbGVDYWxsYmFjayA9IGdldEdsb2JhbFRoaXMoKS5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICgoY2IpID0+IHNldFRpbWVvdXQoY2IsIDEpKTtcbmNvbnN0IGNhbmNlbElkbGVDYWxsYmFjayA9IGdldEdsb2JhbFRoaXMoKS5jYW5jZWxJZGxlQ2FsbGJhY2sgfHwgKChpZCkgPT4gY2xlYXJUaW1lb3V0KGlkKSk7XG5jb25zdCBoeWRyYXRlT25JZGxlID0gKHRpbWVvdXQgPSAxZTQpID0+IChoeWRyYXRlKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxdWVzdElkbGVDYWxsYmFjayhoeWRyYXRlLCB7IHRpbWVvdXQgfSk7XG4gIHJldHVybiAoKSA9PiBjYW5jZWxJZGxlQ2FsbGJhY2soaWQpO1xufTtcbmZ1bmN0aW9uIGVsZW1lbnRJc1Zpc2libGVJblZpZXdwb3J0KGVsKSB7XG4gIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgeyBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCB9ID0gd2luZG93O1xuICByZXR1cm4gKHRvcCA+IDAgJiYgdG9wIDwgaW5uZXJIZWlnaHQgfHwgYm90dG9tID4gMCAmJiBib3R0b20gPCBpbm5lckhlaWdodCkgJiYgKGxlZnQgPiAwICYmIGxlZnQgPCBpbm5lcldpZHRoIHx8IHJpZ2h0ID4gMCAmJiByaWdodCA8IGlubmVyV2lkdGgpO1xufVxuY29uc3QgaHlkcmF0ZU9uVmlzaWJsZSA9IChvcHRzKSA9PiAoaHlkcmF0ZSwgZm9yRWFjaCkgPT4ge1xuICBjb25zdCBvYiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgIGZvciAoY29uc3QgZSBvZiBlbnRyaWVzKSB7XG4gICAgICBpZiAoIWUuaXNJbnRlcnNlY3RpbmcpIGNvbnRpbnVlO1xuICAgICAgb2IuZGlzY29ubmVjdCgpO1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBvcHRzKTtcbiAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoIShlbCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm47XG4gICAgaWYgKGVsZW1lbnRJc1Zpc2libGVJblZpZXdwb3J0KGVsKSkge1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgb2IuZGlzY29ubmVjdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYi5vYnNlcnZlKGVsKTtcbiAgfSk7XG4gIHJldHVybiAoKSA9PiBvYi5kaXNjb25uZWN0KCk7XG59O1xuY29uc3QgaHlkcmF0ZU9uTWVkaWFRdWVyeSA9IChxdWVyeSkgPT4gKGh5ZHJhdGUpID0+IHtcbiAgaWYgKHF1ZXJ5KSB7XG4gICAgY29uc3QgbXFsID0gbWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgaWYgKG1xbC5tYXRjaGVzKSB7XG4gICAgICBoeWRyYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1xbC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGh5ZHJhdGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiAoKSA9PiBtcWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoeWRyYXRlKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBoeWRyYXRlT25JbnRlcmFjdGlvbiA9IChpbnRlcmFjdGlvbnMgPSBbXSkgPT4gKGh5ZHJhdGUsIGZvckVhY2gpID0+IHtcbiAgaWYgKGlzU3RyaW5nKGludGVyYWN0aW9ucykpIGludGVyYWN0aW9ucyA9IFtpbnRlcmFjdGlvbnNdO1xuICBsZXQgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgY29uc3QgZG9IeWRyYXRlID0gKGUpID0+IHtcbiAgICBpZiAoIWhhc0h5ZHJhdGVkKSB7XG4gICAgICBoYXNIeWRyYXRlZCA9IHRydWU7XG4gICAgICB0ZWFyZG93bigpO1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgZS50YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgZS5jb25zdHJ1Y3RvcihlLnR5cGUsIGUpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHRlYXJkb3duID0gKCkgPT4ge1xuICAgIGZvckVhY2goKGVsKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgaW50ZXJhY3Rpb25zKSB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSwgZG9IeWRyYXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgaW50ZXJhY3Rpb25zKSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGksIGRvSHlkcmF0ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0ZWFyZG93bjtcbn07XG5mdW5jdGlvbiBmb3JFYWNoRWxlbWVudChub2RlLCBjYikge1xuICBpZiAoaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCIpIHtcbiAgICBsZXQgZGVwdGggPSAxO1xuICAgIGxldCBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICB3aGlsZSAobmV4dCkge1xuICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2IobmV4dCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNDb21tZW50KG5leHQpKSB7XG4gICAgICAgIGlmIChuZXh0LmRhdGEgPT09IFwiXVwiKSB7XG4gICAgICAgICAgaWYgKC0tZGVwdGggPT09IDApIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKG5leHQuZGF0YSA9PT0gXCJbXCIpIHtcbiAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2Iobm9kZSk7XG4gIH1cbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkZWZpbmVBc3luY0NvbXBvbmVudChzb3VyY2UpIHtcbiAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xuICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcbiAgfVxuICBjb25zdCB7XG4gICAgbG9hZGVyLFxuICAgIGxvYWRpbmdDb21wb25lbnQsXG4gICAgZXJyb3JDb21wb25lbnQsXG4gICAgZGVsYXkgPSAyMDAsXG4gICAgaHlkcmF0ZTogaHlkcmF0ZVN0cmF0ZWd5LFxuICAgIHRpbWVvdXQsXG4gICAgLy8gdW5kZWZpbmVkID0gbmV2ZXIgdGltZXMgb3V0XG4gICAgc3VzcGVuc2libGUgPSB0cnVlLFxuICAgIG9uRXJyb3I6IHVzZXJPbkVycm9yXG4gIH0gPSBzb3VyY2U7XG4gIGxldCBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gIGxldCByZXNvbHZlZENvbXA7XG4gIGxldCByZXRyaWVzID0gMDtcbiAgY29uc3QgcmV0cnkgPSAoKSA9PiB7XG4gICAgcmV0cmllcysrO1xuICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICByZXR1cm4gbG9hZCgpO1xuICB9O1xuICBjb25zdCBsb2FkID0gKCkgPT4ge1xuICAgIGxldCB0aGlzUmVxdWVzdDtcbiAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3QgfHwgKHRoaXNSZXF1ZXN0ID0gcGVuZGluZ1JlcXVlc3QgPSBsb2FkZXIoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBlcnIgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyKSk7XG4gICAgICBpZiAodXNlck9uRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCB1c2VyUmV0cnkgPSAoKSA9PiByZXNvbHZlKHJldHJ5KCkpO1xuICAgICAgICAgIGNvbnN0IHVzZXJGYWlsID0gKCkgPT4gcmVqZWN0KGVycik7XG4gICAgICAgICAgdXNlck9uRXJyb3IoZXJyLCB1c2VyUmV0cnksIHVzZXJGYWlsLCByZXRyaWVzICsgMSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0pLnRoZW4oKGNvbXApID0+IHtcbiAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0O1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWNvbXApIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBBc3luYyBjb21wb25lbnQgbG9hZGVyIHJlc29sdmVkIHRvIHVuZGVmaW5lZC4gSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXAgJiYgKGNvbXAuX19lc01vZHVsZSB8fCBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09IFwiTW9kdWxlXCIpKSB7XG4gICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXN5bmMgY29tcG9uZW50IGxvYWQgcmVzdWx0OiAke2NvbXB9YCk7XG4gICAgICB9XG4gICAgICByZXNvbHZlZENvbXAgPSBjb21wO1xuICAgICAgcmV0dXJuIGNvbXA7XG4gICAgfSkpO1xuICB9O1xuICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiBcIkFzeW5jQ29tcG9uZW50V3JhcHBlclwiLFxuICAgIF9fYXN5bmNMb2FkZXI6IGxvYWQsXG4gICAgX19hc3luY0h5ZHJhdGUoZWwsIGluc3RhbmNlLCBoeWRyYXRlKSB7XG4gICAgICBsZXQgcGF0Y2hlZCA9IGZhbHNlO1xuICAgICAgKGluc3RhbmNlLmJ1IHx8IChpbnN0YW5jZS5idSA9IFtdKSkucHVzaCgoKSA9PiBwYXRjaGVkID0gdHJ1ZSk7XG4gICAgICBjb25zdCBwZXJmb3JtSHlkcmF0ZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHBhdGNoZWQpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgU2tpcHBpbmcgbGF6eSBoeWRyYXRpb24gZm9yIGNvbXBvbmVudCAnJHtnZXRDb21wb25lbnROYW1lKHJlc29sdmVkQ29tcCkgfHwgcmVzb2x2ZWRDb21wLl9fZmlsZX0nOiBpdCB3YXMgdXBkYXRlZCBiZWZvcmUgbGF6eSBoeWRyYXRpb24gcGVyZm9ybWVkLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoeWRyYXRlKCk7XG4gICAgICB9O1xuICAgICAgY29uc3QgZG9IeWRyYXRlID0gaHlkcmF0ZVN0cmF0ZWd5ID8gKCkgPT4ge1xuICAgICAgICBjb25zdCB0ZWFyZG93biA9IGh5ZHJhdGVTdHJhdGVneShcbiAgICAgICAgICBwZXJmb3JtSHlkcmF0ZSxcbiAgICAgICAgICAoY2IpID0+IGZvckVhY2hFbGVtZW50KGVsLCBjYilcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRlYXJkb3duKSB7XG4gICAgICAgICAgKGluc3RhbmNlLmJ1bSB8fCAoaW5zdGFuY2UuYnVtID0gW10pKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgfVxuICAgICAgfSA6IHBlcmZvcm1IeWRyYXRlO1xuICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xuICAgICAgICBkb0h5ZHJhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvYWQoKS50aGVuKCgpID0+ICFpbnN0YW5jZS5pc1VubW91bnRlZCAmJiBkb0h5ZHJhdGUoKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQgX19hc3luY1Jlc29sdmVkKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVkQ29tcDtcbiAgICB9LFxuICAgIHNldHVwKCkge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gICAgICBpZiAocmVzb2x2ZWRDb21wKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIGhhbmRsZUVycm9yKFxuICAgICAgICAgIGVycixcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAxMyxcbiAgICAgICAgICAhZXJyb3JDb21wb25lbnRcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgICBpZiAoc3VzcGVuc2libGUgJiYgaW5zdGFuY2Uuc3VzcGVuc2UgfHwgaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgICAgIHJldHVybiBsb2FkKCkudGhlbigoY29tcCkgPT4ge1xuICAgICAgICAgIHJldHVybiAoKSA9PiBjcmVhdGVJbm5lckNvbXAoY29tcCwgaW5zdGFuY2UpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgIHJldHVybiAoKSA9PiBlcnJvckNvbXBvbmVudCA/IGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XG4gICAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgICAgfSkgOiBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxvYWRlZCA9IHJlZihmYWxzZSk7XG4gICAgICBjb25zdCBlcnJvciA9IHJlZigpO1xuICAgICAgY29uc3QgZGVsYXllZCA9IHJlZighIWRlbGF5KTtcbiAgICAgIGlmIChkZWxheSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBkZWxheWVkLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFsb2FkZWQudmFsdWUgJiYgIWVycm9yLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBBc3luYyBjb21wb25lbnQgdGltZWQgb3V0IGFmdGVyICR7dGltZW91dH1tcy5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgIH1cbiAgICAgIGxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgbG9hZGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgaWYgKGluc3RhbmNlLnBhcmVudCAmJiBpc0tlZXBBbGl2ZShpbnN0YW5jZS5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgICAgaW5zdGFuY2UucGFyZW50LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChsb2FkZWQudmFsdWUgJiYgcmVzb2x2ZWRDb21wKSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci52YWx1ZSAmJiBlcnJvckNvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9hZGluZ0NvbXBvbmVudCAmJiAhZGVsYXllZC52YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShsb2FkaW5nQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHBhcmVudCkge1xuICBjb25zdCB7IHJlZjogcmVmMiwgcHJvcHMsIGNoaWxkcmVuLCBjZSB9ID0gcGFyZW50LnZub2RlO1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XG4gIHZub2RlLnJlZiA9IHJlZjI7XG4gIHZub2RlLmNlID0gY2U7XG4gIGRlbGV0ZSBwYXJlbnQudm5vZGUuY2U7XG4gIHJldHVybiB2bm9kZTtcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcbmNvbnN0IEtlZXBBbGl2ZUltcGwgPSB7XG4gIG5hbWU6IGBLZWVwQWxpdmVgLFxuICAvLyBNYXJrZXIgZm9yIHNwZWNpYWwgaGFuZGxpbmcgaW5zaWRlIHRoZSByZW5kZXJlci4gV2UgYXJlIG5vdCB1c2luZyBhID09PVxuICAvLyBjaGVjayBkaXJlY3RseSBvbiBLZWVwQWxpdmUgaW4gdGhlIHJlbmRlcmVyLCBiZWNhdXNlIGltcG9ydGluZyBpdCBkaXJlY3RseVxuICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXG4gIF9faXNLZWVwQWxpdmU6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgZXhjbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXG4gIH0sXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHNoYXJlZENvbnRleHQgPSBpbnN0YW5jZS5jdHg7XG4gICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAxID8gY2hpbGRyZW5bMF0gOiBjaGlsZHJlbjtcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCBrZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBsZXQgY3VycmVudCA9IG51bGw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5fX3ZfY2FjaGUgPSBjYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50U3VzcGVuc2UgPSBpbnN0YW5jZS5zdXNwZW5zZTtcbiAgICBjb25zdCB7XG4gICAgICByZW5kZXJlcjoge1xuICAgICAgICBwOiBwYXRjaCxcbiAgICAgICAgbTogbW92ZSxcbiAgICAgICAgdW06IF91bm1vdW50LFxuICAgICAgICBvOiB7IGNyZWF0ZUVsZW1lbnQgfVxuICAgICAgfVxuICAgIH0gPSBzaGFyZWRDb250ZXh0O1xuICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNoYXJlZENvbnRleHQuYWN0aXZhdGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBpbnN0YW5jZTIudm5vZGUsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgaW5zdGFuY2UyLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuYSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlMi5hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcbiAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlMi5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNoYXJlZENvbnRleHQuZGVhY3RpdmF0ZSA9ICh2bm9kZSkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgaW52YWxpZGF0ZU1vdW50KGluc3RhbmNlMi5tKTtcbiAgICAgIGludmFsaWRhdGVNb3VudChpbnN0YW5jZTIuYSk7XG4gICAgICBtb3ZlKHZub2RlLCBzdG9yYWdlQ29udGFpbmVyLCBudWxsLCAxLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UyLmRhKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UyLmRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO1xuICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UyLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gdHJ1ZTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlMik7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gICAgICAgIGluc3RhbmNlMi5fX2tlZXBBbGl2ZVN0b3JhZ2VDb250YWluZXIgPSBzdG9yYWdlQ29udGFpbmVyO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSkge1xuICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XG4gICAgICBjYWNoZS5mb3JFYWNoKCh2bm9kZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xuICAgICAgICBpZiAobmFtZSAmJiAhZmlsdGVyKG5hbWUpKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkoa2V5KSB7XG4gICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmIChjYWNoZWQgJiYgKCFjdXJyZW50IHx8ICFpc1NhbWVWTm9kZVR5cGUoY2FjaGVkLCBjdXJyZW50KSkpIHtcbiAgICAgICAgdW5tb3VudChjYWNoZWQpO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50KSB7XG4gICAgICAgIHJlc2V0U2hhcGVGbGFnKGN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICB3YXRjaChcbiAgICAgICgpID0+IFtwcm9wcy5pbmNsdWRlLCBwcm9wcy5leGNsdWRlXSxcbiAgICAgIChbaW5jbHVkZSwgZXhjbHVkZV0pID0+IHtcbiAgICAgICAgaW5jbHVkZSAmJiBwcnVuZUNhY2hlKChuYW1lKSA9PiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKTtcbiAgICAgICAgZXhjbHVkZSAmJiBwcnVuZUNhY2hlKChuYW1lKSA9PiAhbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSk7XG4gICAgICB9LFxuICAgICAgLy8gcHJ1bmUgcG9zdC1yZW5kZXIgYWZ0ZXIgYGN1cnJlbnRgIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgIHsgZmx1c2g6IFwicG9zdFwiLCBkZWVwOiB0cnVlIH1cbiAgICApO1xuICAgIGxldCBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgIGNvbnN0IGNhY2hlU3VidHJlZSA9ICgpID0+IHtcbiAgICAgIGlmIChwZW5kaW5nQ2FjaGVLZXkgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNTdXNwZW5zZShpbnN0YW5jZS5zdWJUcmVlLnR5cGUpKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xuICAgICAgICAgIH0sIGluc3RhbmNlLnN1YlRyZWUuc3VzcGVuc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgY2FjaGUuZm9yRWFjaCgoY2FjaGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc3ViVHJlZSwgc3VzcGVuc2UgfSA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCB2bm9kZSA9IGdldElubmVyQ2hpbGQoc3ViVHJlZSk7XG4gICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSAmJiBjYWNoZWQua2V5ID09PSB2bm9kZS5rZXkpIHtcbiAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICAgICAgY29uc3QgZGEgPSB2bm9kZS5jb21wb25lbnQuZGE7XG4gICAgICAgICAgZGEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRhLCBzdXNwZW5zZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgICAgaWYgKCFzbG90cy5kZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgY29uc3QgcmF3Vk5vZGUgPSBjaGlsZHJlblswXTtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBLZWVwQWxpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgY29tcG9uZW50IGNoaWxkLmApO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fCAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDQpICYmICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XG4gICAgICBpZiAodm5vZGUudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgICAgfVxuICAgICAgY29uc3QgY29tcCA9IHZub2RlLnR5cGU7XG4gICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShcbiAgICAgICAgaXNBc3luY1dyYXBwZXIodm5vZGUpID8gdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgfHwge30gOiBjb21wXG4gICAgICApO1xuICAgICAgY29uc3QgeyBpbmNsdWRlLCBleGNsdWRlLCBtYXggfSA9IHByb3BzO1xuICAgICAgaWYgKGluY2x1ZGUgJiYgKCFuYW1lIHx8ICFtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSB8fCBleGNsdWRlICYmIG5hbWUgJiYgbWF0Y2hlcyhleGNsdWRlLCBuYW1lKSkge1xuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgJj0gLTI1NztcbiAgICAgICAgY3VycmVudCA9IHZub2RlO1xuICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICB9XG4gICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XG4gICAgICBjb25zdCBjYWNoZWRWTm9kZSA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKHZub2RlLmVsKSB7XG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgIGlmIChyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICByYXdWTm9kZS5zc0NvbnRlbnQgPSB2bm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0ga2V5O1xuICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XG4gICAgICAgIHZub2RlLmVsID0gY2FjaGVkVk5vZGUuZWw7XG4gICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcbiAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIHZub2RlLnRyYW5zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSA1MTI7XG4gICAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgICBpZiAobWF4ICYmIGtleXMuc2l6ZSA+IHBhcnNlSW50KG1heCwgMTApKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleXMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDI1NjtcbiAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgIHJldHVybiBpc1N1c3BlbnNlKHJhd1ZOb2RlLnR5cGUpID8gcmF3Vk5vZGUgOiB2bm9kZTtcbiAgICB9O1xuICB9XG59O1xuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcbmZ1bmN0aW9uIG1hdGNoZXMocGF0dGVybiwgbmFtZSkge1xuICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoXCIsXCIpLmluY2x1ZGVzKG5hbWUpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgcGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25BY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImFcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIG9uRGVhY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImRhXCIsIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fCAoaG9vay5fX3dkYyA9ICgpID0+IHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBob29rKCk7XG4gIH0pO1xuICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQucGFyZW50KSB7XG4gICAgICBpZiAoaXNLZWVwQWxpdmUoY3VycmVudC5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgIGluamVjdFRvS2VlcEFsaXZlUm9vdCh3cmFwcGVkSG9vaywgdHlwZSwgdGFyZ2V0LCBjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdFRvS2VlcEFsaXZlUm9vdChob29rLCB0eXBlLCB0YXJnZXQsIGtlZXBBbGl2ZVJvb3QpIHtcbiAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKFxuICAgIHR5cGUsXG4gICAgaG9vayxcbiAgICBrZWVwQWxpdmVSb290LFxuICAgIHRydWVcbiAgICAvKiBwcmVwZW5kICovXG4gICk7XG4gIG9uVW5tb3VudGVkKCgpID0+IHtcbiAgICByZW1vdmUoa2VlcEFsaXZlUm9vdFt0eXBlXSwgaW5qZWN0ZWQpO1xuICB9LCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcbiAgdm5vZGUuc2hhcGVGbGFnICY9IC0yNTc7XG4gIHZub2RlLnNoYXBlRmxhZyAmPSAtNTEzO1xufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xuICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgMTI4ID8gdm5vZGUuc3NDb250ZW50IDogdm5vZGU7XG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IGhvb2tzID0gdGFyZ2V0W3R5cGVdIHx8ICh0YXJnZXRbdHlwZV0gPSBbXSk7XG4gICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8IChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKHRhcmdldCk7XG4gICAgICBjb25zdCByZXMgPSBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCB0YXJnZXQsIHR5cGUsIGFyZ3MpO1xuICAgICAgcmVzZXQoKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gICAgaWYgKHByZXBlbmQpIHtcbiAgICAgIGhvb2tzLnVuc2hpZnQod3JhcHBlZEhvb2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBob29rcy5wdXNoKHdyYXBwZWRIb29rKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyYXBwZWRIb29rO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBhcGlOYW1lID0gdG9IYW5kbGVyS2V5KEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXS5yZXBsYWNlKC8gaG9vayQvLCBcIlwiKSk7XG4gICAgd2FybiQxKFxuICAgICAgYCR7YXBpTmFtZX0gaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguIExpZmVjeWNsZSBpbmplY3Rpb24gQVBJcyBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBleGVjdXRpb24gb2Ygc2V0dXAoKS5gICsgKGAgSWYgeW91IGFyZSB1c2luZyBhc3luYyBzZXR1cCgpLCBtYWtlIHN1cmUgdG8gcmVnaXN0ZXIgbGlmZWN5Y2xlIGhvb2tzIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQgc3RhdGVtZW50LmAgKVxuICAgICk7XG4gIH1cbn1cbmNvbnN0IGNyZWF0ZUhvb2sgPSAobGlmZWN5Y2xlKSA9PiAoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSA9PiB7XG4gIGlmICghaXNJblNTUkNvbXBvbmVudFNldHVwIHx8IGxpZmVjeWNsZSA9PT0gXCJzcFwiKSB7XG4gICAgaW5qZWN0SG9vayhsaWZlY3ljbGUsICguLi5hcmdzKSA9PiBob29rKC4uLmFyZ3MpLCB0YXJnZXQpO1xuICB9XG59O1xuY29uc3Qgb25CZWZvcmVNb3VudCA9IGNyZWF0ZUhvb2soXCJibVwiKTtcbmNvbnN0IG9uTW91bnRlZCA9IGNyZWF0ZUhvb2soXCJtXCIpO1xuY29uc3Qgb25CZWZvcmVVcGRhdGUgPSBjcmVhdGVIb29rKFxuICBcImJ1XCJcbik7XG5jb25zdCBvblVwZGF0ZWQgPSBjcmVhdGVIb29rKFwidVwiKTtcbmNvbnN0IG9uQmVmb3JlVW5tb3VudCA9IGNyZWF0ZUhvb2soXG4gIFwiYnVtXCJcbik7XG5jb25zdCBvblVubW91bnRlZCA9IGNyZWF0ZUhvb2soXCJ1bVwiKTtcbmNvbnN0IG9uU2VydmVyUHJlZmV0Y2ggPSBjcmVhdGVIb29rKFxuICBcInNwXCJcbik7XG5jb25zdCBvblJlbmRlclRyaWdnZXJlZCA9IGNyZWF0ZUhvb2soXCJydGdcIik7XG5jb25zdCBvblJlbmRlclRyYWNrZWQgPSBjcmVhdGVIb29rKFwicnRjXCIpO1xuZnVuY3Rpb24gb25FcnJvckNhcHR1cmVkKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICBpbmplY3RIb29rKFwiZWNcIiwgaG9vaywgdGFyZ2V0KTtcbn1cblxuY29uc3QgQ09NUE9ORU5UUyA9IFwiY29tcG9uZW50c1wiO1xuY29uc3QgRElSRUNUSVZFUyA9IFwiZGlyZWN0aXZlc1wiO1xuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lLCB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UpIHx8IG5hbWU7XG59XG5jb25zdCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UID0gU3ltYm9sLmZvcihcInYtbmRjXCIpO1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKG5hbWUpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVBc3NldCh0eXBlLCBuYW1lLCB3YXJuTWlzc2luZyA9IHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIHx8IGN1cnJlbnRJbnN0YW5jZTtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xuICAgICAgY29uc3Qgc2VsZk5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgaWYgKHNlbGZOYW1lICYmIChzZWxmTmFtZSA9PT0gbmFtZSB8fCBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHwgc2VsZk5hbWUgPT09IGNhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpKSkge1xuICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXMgPSAoXG4gICAgICAvLyBsb2NhbCByZWdpc3RyYXRpb25cbiAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxuICAgICAgcmVzb2x2ZShpbnN0YW5jZVt0eXBlXSB8fCBDb21wb25lbnRbdHlwZV0sIG5hbWUpIHx8IC8vIGdsb2JhbCByZWdpc3RyYXRpb25cbiAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSlcbiAgICApO1xuICAgIGlmICghcmVzICYmIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xuICAgICAgY29uc3QgZXh0cmEgPSB0eXBlID09PSBDT01QT05FTlRTID8gYFxuSWYgdGhpcyBpcyBhIG5hdGl2ZSBjdXN0b20gZWxlbWVudCwgbWFrZSBzdXJlIHRvIGV4Y2x1ZGUgaXQgZnJvbSBjb21wb25lbnQgcmVzb2x1dGlvbiB2aWEgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudC5gIDogYGA7XG4gICAgICB3YXJuJDEoYEZhaWxlZCB0byByZXNvbHZlICR7dHlwZS5zbGljZSgwLCAtMSl9OiAke25hbWV9JHtleHRyYX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBjYW4gb25seSBiZSB1c2VkIGluIHJlbmRlcigpIG9yIHNldHVwKCkuYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcbiAgcmV0dXJuIHJlZ2lzdHJ5ICYmIChyZWdpc3RyeVtuYW1lXSB8fCByZWdpc3RyeVtjYW1lbGl6ZShuYW1lKV0gfHwgcmVnaXN0cnlbY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSldKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyTGlzdChzb3VyY2UsIHJlbmRlckl0ZW0sIGNhY2hlLCBpbmRleCkge1xuICBsZXQgcmV0O1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZSAmJiBjYWNoZVtpbmRleF07XG4gIGNvbnN0IHNvdXJjZUlzQXJyYXkgPSBpc0FycmF5KHNvdXJjZSk7XG4gIGlmIChzb3VyY2VJc0FycmF5IHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcbiAgICBjb25zdCBzb3VyY2VJc1JlYWN0aXZlQXJyYXkgPSBzb3VyY2VJc0FycmF5ICYmIGlzUmVhY3RpdmUoc291cmNlKTtcbiAgICBsZXQgbmVlZHNXcmFwID0gZmFsc2U7XG4gICAgbGV0IGlzUmVhZG9ubHlTb3VyY2UgPSBmYWxzZTtcbiAgICBpZiAoc291cmNlSXNSZWFjdGl2ZUFycmF5KSB7XG4gICAgICBuZWVkc1dyYXAgPSAhaXNTaGFsbG93KHNvdXJjZSk7XG4gICAgICBpc1JlYWRvbmx5U291cmNlID0gaXNSZWFkb25seShzb3VyY2UpO1xuICAgICAgc291cmNlID0gc2hhbGxvd1JlYWRBcnJheShzb3VyY2UpO1xuICAgIH1cbiAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICByZXRbaV0gPSByZW5kZXJJdGVtKFxuICAgICAgICBuZWVkc1dyYXAgPyBpc1JlYWRvbmx5U291cmNlID8gdG9SZWFkb25seSh0b1JlYWN0aXZlKHNvdXJjZVtpXSkpIDogdG9SZWFjdGl2ZShzb3VyY2VbaV0pIDogc291cmNlW2ldLFxuICAgICAgICBpLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGNhY2hlZCAmJiBjYWNoZWRbaV1cbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XG4gICAgICB3YXJuJDEoYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShpICsgMSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgIGlmIChzb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgcmV0ID0gQXJyYXkuZnJvbShcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuICB9XG4gIGlmIChjYWNoZSkge1xuICAgIGNhY2hlW2luZGV4XSA9IHJldDtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcbiAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xvdCkge1xuICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3Qua2V5ID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgaWYgKHJlcykgcmVzLmtleSA9IHNsb3Qua2V5O1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSA6IHNsb3QuZm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzbG90cztcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2xvdChzbG90cywgbmFtZSwgcHJvcHMgPSB7fSwgZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xuICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCkgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudC5jZSkge1xuICAgIGlmIChuYW1lICE9PSBcImRlZmF1bHRcIikgcHJvcHMubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhcbiAgICAgIEZyYWdtZW50LFxuICAgICAgbnVsbCxcbiAgICAgIFtjcmVhdGVWTm9kZShcInNsb3RcIiwgcHJvcHMsIGZhbGxiYWNrICYmIGZhbGxiYWNrKCkpXSxcbiAgICAgIDY0XG4gICAgKTtcbiAgfVxuICBsZXQgc2xvdCA9IHNsb3RzW25hbWVdO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzbG90ICYmIHNsb3QubGVuZ3RoID4gMSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgcGFyZW50IHRlbXBsYXRlLmBcbiAgICApO1xuICAgIHNsb3QgPSAoKSA9PiBbXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IGZhbHNlO1xuICB9XG4gIG9wZW5CbG9jaygpO1xuICBjb25zdCB2YWxpZFNsb3RDb250ZW50ID0gc2xvdCAmJiBlbnN1cmVWYWxpZFZOb2RlKHNsb3QocHJvcHMpKTtcbiAgY29uc3Qgc2xvdEtleSA9IHByb3BzLmtleSB8fCAvLyBzbG90IGNvbnRlbnQgYXJyYXkgb2YgYSBkeW5hbWljIGNvbmRpdGlvbmFsIHNsb3QgbWF5IGhhdmUgYSBicmFuY2hcbiAgLy8ga2V5IGF0dGFjaGVkIGluIHRoZSBgY3JlYXRlU2xvdHNgIGhlbHBlciwgcmVzcGVjdCB0aGF0XG4gIHZhbGlkU2xvdENvbnRlbnQgJiYgdmFsaWRTbG90Q29udGVudC5rZXk7XG4gIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlQmxvY2soXG4gICAgRnJhZ21lbnQsXG4gICAge1xuICAgICAga2V5OiAoc2xvdEtleSAmJiAhaXNTeW1ib2woc2xvdEtleSkgPyBzbG90S2V5IDogYF8ke25hbWV9YCkgKyAvLyAjNzI1NiBmb3JjZSBkaWZmZXJlbnRpYXRlIGZhbGxiYWNrIGNvbnRlbnQgZnJvbSBhY3R1YWwgY29udGVudFxuICAgICAgKCF2YWxpZFNsb3RDb250ZW50ICYmIGZhbGxiYWNrID8gXCJfZmJcIiA6IFwiXCIpXG4gICAgfSxcbiAgICB2YWxpZFNsb3RDb250ZW50IHx8IChmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSksXG4gICAgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxID8gNjQgOiAtMlxuICApO1xuICBpZiAoIW5vU2xvdHRlZCAmJiByZW5kZXJlZC5zY29wZUlkKSB7XG4gICAgcmVuZGVyZWQuc2xvdFNjb3BlSWRzID0gW3JlbmRlcmVkLnNjb3BlSWQgKyBcIi1zXCJdO1xuICB9XG4gIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICBzbG90Ll9kID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVuZGVyZWQ7XG59XG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xuICByZXR1cm4gdm5vZGVzLnNvbWUoKGNoaWxkKSA9PiB7XG4gICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiYgIWVuc3VyZVZhbGlkVk5vZGUoY2hpbGQuY2hpbGRyZW4pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9KSA/IHZub2RlcyA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICB3YXJuJDEoYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJldFtwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSAmJiAvW0EtWl0vLnRlc3Qoa2V5KSA/IGBvbjoke2tleX1gIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xuICBpZiAoIWkpIHJldHVybiBudWxsO1xuICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSkgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGkpO1xuICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSAoXG4gIC8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4gIC8vIGR1ZSB0byB0eXBlIGFubm90YXRpb25cbiAgLyogQF9fUFVSRV9fICovIGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICQ6IChpKSA9PiBpLFxuICAgICRlbDogKGkpID0+IGkudm5vZGUuZWwsXG4gICAgJGRhdGE6IChpKSA9PiBpLmRhdGEsXG4gICAgJHByb3BzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMsXG4gICAgJGF0dHJzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMsXG4gICAgJHNsb3RzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMsXG4gICAgJHJlZnM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMsXG4gICAgJHBhcmVudDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KSxcbiAgICAkcm9vdDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGhvc3Q6IChpKSA9PiBpLmNlLFxuICAgICRlbWl0OiAoaSkgPT4gaS5lbWl0LFxuICAgICRvcHRpb25zOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IHJlc29sdmVNZXJnZWRPcHRpb25zKGkpIDogaS50eXBlLFxuICAgICRmb3JjZVVwZGF0ZTogKGkpID0+IGkuZiB8fCAoaS5mID0gKCkgPT4ge1xuICAgICAgcXVldWVKb2IoaS51cGRhdGUpO1xuICAgIH0pLFxuICAgICRuZXh0VGljazogKGkpID0+IGkubiB8fCAoaS5uID0gbmV4dFRpY2suYmluZChpLnByb3h5KSksXG4gICAgJHdhdGNoOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IGluc3RhbmNlV2F0Y2guYmluZChpKSA6IE5PT1BcbiAgfSlcbik7XG5jb25zdCBpc1Jlc2VydmVkUHJlZml4ID0gKGtleSkgPT4ga2V5ID09PSBcIl9cIiB8fCBrZXkgPT09IFwiJFwiO1xuY29uc3QgaGFzU2V0dXBCaW5kaW5nID0gKHN0YXRlLCBrZXkpID0+IHN0YXRlICE9PSBFTVBUWV9PQkogJiYgIXN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc3RhdGUsIGtleSk7XG5jb25zdCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSB7XG4gIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCJfX2lzVnVlXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgIGlmIChrZXlbMF0gIT09IFwiJFwiKSB7XG4gICAgICBjb25zdCBuID0gYWNjZXNzQ2FjaGVba2V5XTtcbiAgICAgIGlmIChuICE9PSB2b2lkIDApIHtcbiAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgICAgY2FzZSAxIC8qIFNFVFVQICovOlxuICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgICAgICBjYXNlIDIgLyogREFUQSAqLzpcbiAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgICAgY2FzZSA0IC8qIENPTlRFWFQgKi86XG4gICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICAgICAgY2FzZSAzIC8qIFBST1BTICovOlxuICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogU0VUVVAgKi87XG4gICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICB9IGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBEQVRBICovO1xuICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgLy8gb25seSBjYWNoZSBvdGhlciBwcm9wZXJ0aWVzIHdoZW4gaW5zdGFuY2UgaGFzIGRlY2xhcmVkICh0aHVzIHN0YWJsZSlcbiAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgKG5vcm1hbGl6ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KVxuICAgICAgKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIFBST1BTICovO1xuICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICB9IGVsc2UgaWYgKCFfX1ZVRV9PUFRJT05TX0FQSV9fIHx8IHNob3VsZENhY2hlQWNjZXNzKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAwIC8qIE9USEVSICovO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwdWJsaWNHZXR0ZXIgPSBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV07XG4gICAgbGV0IGNzc01vZHVsZSwgZ2xvYmFsUHJvcGVydGllcztcbiAgICBpZiAocHVibGljR2V0dGVyKSB7XG4gICAgICBpZiAoa2V5ID09PSBcIiRhdHRyc1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLmF0dHJzLCBcImdldFwiLCBcIlwiKTtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCIkc2xvdHNcIikge1xuICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwga2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwdWJsaWNHZXR0ZXIoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBjc3MgbW9kdWxlIChpbmplY3RlZCBieSB2dWUtbG9hZGVyKVxuICAgICAgKGNzc01vZHVsZSA9IHR5cGUuX19jc3NNb2R1bGVzKSAmJiAoY3NzTW9kdWxlID0gY3NzTW9kdWxlW2tleV0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gY3NzTW9kdWxlO1xuICAgIH0gZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogQ09OVEVYVCAqLztcbiAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgLy8gZ2xvYmFsIHByb3BlcnRpZXNcbiAgICAgIGdsb2JhbFByb3BlcnRpZXMgPSBhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KVxuICAgICkge1xuICAgICAge1xuICAgICAgICByZXR1cm4gZ2xvYmFsUHJvcGVydGllc1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgJiYgKCFpc1N0cmluZyhrZXkpIHx8IC8vICMxMDkxIGF2b2lkIGludGVybmFsIGlzUmVmL2lzVk5vZGUgY2hlY2tzIG9uIGNvbXBvbmVudCBpbnN0YW5jZSBsZWFkaW5nXG4gICAgLy8gdG8gaW5maW5pdGUgd2FybmluZyBsb29wXG4gICAga2V5LmluZGV4T2YoXCJfX3ZcIikgIT09IDApKSB7XG4gICAgICBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBtdXN0IGJlIGFjY2Vzc2VkIHZpYSAkZGF0YSBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIGEgcmVzZXJ2ZWQgY2hhcmFjdGVyIChcIiRcIiBvciBcIl9cIikgYW5kIGlzIG5vdCBwcm94aWVkIG9uIHRoZSByZW5kZXIgY29udGV4dC5gXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGluc3RhbmNlID09PSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHdhcyBhY2Nlc3NlZCBkdXJpbmcgcmVuZGVyIGJ1dCBpcyBub3QgZGVmaW5lZCBvbiBpbnN0YW5jZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXksIHZhbHVlKSB7XG4gICAgY29uc3QgeyBkYXRhLCBzZXR1cFN0YXRlLCBjdHggfSA9IGluc3RhbmNlO1xuICAgIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgc2V0dXBTdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXAgJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgIHdhcm4kMShgQ2Fubm90IG11dGF0ZSA8c2NyaXB0IHNldHVwPiBiaW5kaW5nIFwiJHtrZXl9XCIgZnJvbSBPcHRpb25zIEFQSS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGhhc093bihpbnN0YW5jZS5wcm9wcywga2V5KSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHByb3AgXCIke2tleX1cIi4gUHJvcHMgYXJlIHJlYWRvbmx5LmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoa2V5WzBdID09PSBcIiRcIiAmJiBrZXkuc2xpY2UoMSkgaW4gaW5zdGFuY2UpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHVibGljIHByb3BlcnR5IFwiJHtrZXl9XCIuIFByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCAkIGFyZSByZXNlcnZlZCBhbmQgcmVhZG9ubHkuYFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHhba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgaGFzKHtcbiAgICBfOiB7IGRhdGEsIHNldHVwU3RhdGUsIGFjY2Vzc0NhY2hlLCBjdHgsIGFwcENvbnRleHQsIHByb3BzT3B0aW9ucywgdHlwZSB9XG4gIH0sIGtleSkge1xuICAgIGxldCBub3JtYWxpemVkUHJvcHMsIGNzc01vZHVsZXM7XG4gICAgcmV0dXJuICEhKGFjY2Vzc0NhY2hlW2tleV0gfHwgZGF0YSAhPT0gRU1QVFlfT0JKICYmIGtleVswXSAhPT0gXCIkXCIgJiYgaGFzT3duKGRhdGEsIGtleSkgfHwgaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkgfHwgKG5vcm1hbGl6ZWRQcm9wcyA9IHByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSB8fCBoYXNPd24oY3R4LCBrZXkpIHx8IGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8IGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpIHx8IChjc3NNb2R1bGVzID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmIGNzc01vZHVsZXNba2V5XSk7XG4gIH0sXG4gIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgaWYgKGRlc2NyaXB0b3IuZ2V0ICE9IG51bGwpIHtcbiAgICAgIHRhcmdldC5fLmFjY2Vzc0NhY2hlW2tleV0gPSAwO1xuICAgIH0gZWxzZSBpZiAoaGFzT3duKGRlc2NyaXB0b3IsIFwidmFsdWVcIikpIHtcbiAgICAgIHRoaXMuc2V0KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yLnZhbHVlLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpO1xuICB9XG59O1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMub3duS2V5cyA9ICh0YXJnZXQpID0+IHtcbiAgICB3YXJuJDEoXG4gICAgICBgQXZvaWQgYXBwIGxvZ2ljIHRoYXQgcmVsaWVzIG9uIGVudW1lcmF0aW5nIGtleXMgb24gYSBjb21wb25lbnQgaW5zdGFuY2UuIFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmBcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfTtcbn1cbmNvbnN0IFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoe30sIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycywge1xuICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBTeW1ib2wudW5zY29wYWJsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5nZXQodGFyZ2V0LCBrZXksIHRhcmdldCk7XG4gIH0sXG4gIGhhcyhfLCBrZXkpIHtcbiAgICBjb25zdCBoYXMgPSBrZXlbMF0gIT09IFwiX1wiICYmICFpc0dsb2JhbGx5QWxsb3dlZChrZXkpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFoYXMgJiYgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmhhcyhfLCBrZXkpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIGtleVxuICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gaGFzO1xuICB9XG59KTtcbmZ1bmN0aW9uIGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgdGFyZ2V0ID0ge307XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBfYCwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6ICgpID0+IGluc3RhbmNlXG4gIH0pO1xuICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpLFxuICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxuICAgICAgLy8gYnV0IG5lZWRlZCB0byBwcmV2ZW50IHNldCBlcnJvcnNcbiAgICAgIHNldDogTk9PUFxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBjdHgsXG4gICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXVxuICB9ID0gaW5zdGFuY2U7XG4gIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICBPYmplY3Qua2V5cyhwcm9wc09wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldLFxuICAgICAgICBzZXQ6IE5PT1BcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlIH0gPSBpbnN0YW5jZTtcbiAgT2JqZWN0LmtleXModG9SYXcoc2V0dXBTdGF0ZSkpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmICghc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXApIHtcbiAgICAgIGlmIChpc1Jlc2VydmVkUHJlZml4KGtleVswXSkpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIFwiJFwiIG9yIFwiX1wiIHdoaWNoIGFyZSByZXNlcnZlZCBwcmVmaXhlcyBmb3IgVnVlIGludGVybmFscy5gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gc2V0dXBTdGF0ZVtrZXldLFxuICAgICAgICBzZXQ6IE5PT1BcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IHdhcm5SdW50aW1lVXNhZ2UgPSAobWV0aG9kKSA9PiB3YXJuJDEoXG4gIGAke21ldGhvZH0oKSBpcyBhIGNvbXBpbGVyLWhpbnQgaGVscGVyIHRoYXQgaXMgb25seSB1c2FibGUgaW5zaWRlIDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gXG4pO1xuZnVuY3Rpb24gZGVmaW5lUHJvcHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lUHJvcHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUVtaXRzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUVtaXRzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVFeHBvc2UoZXhwb3NlZCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUV4cG9zZWApO1xuICB9XG59XG5mdW5jdGlvbiBkZWZpbmVPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVPcHRpb25zYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZVNsb3RzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZVNsb3RzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVNb2RlbCgpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKFwiZGVmaW5lTW9kZWxcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEZWZhdWx0cyhwcm9wcywgZGVmYXVsdHMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGB3aXRoRGVmYXVsdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZVNsb3RzKCkge1xuICByZXR1cm4gZ2V0Q29udGV4dChcInVzZVNsb3RzXCIpLnNsb3RzO1xufVxuZnVuY3Rpb24gdXNlQXR0cnMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KFwidXNlQXR0cnNcIikuYXR0cnM7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KGNhbGxlZEZ1bmN0aW9uTmFtZSkge1xuICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpKSB7XG4gICAgd2FybiQxKGAke2NhbGxlZEZ1bmN0aW9uTmFtZX0oKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gIH1cbiAgcmV0dXJuIGkuc2V0dXBDb250ZXh0IHx8IChpLnNldHVwQ29udGV4dCA9IGNyZWF0ZVNldHVwQ29udGV4dChpKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09yRW1pdHMocHJvcHMpIHtcbiAgcmV0dXJuIGlzQXJyYXkocHJvcHMpID8gcHJvcHMucmVkdWNlKFxuICAgIChub3JtYWxpemVkLCBwKSA9PiAobm9ybWFsaXplZFtwXSA9IG51bGwsIG5vcm1hbGl6ZWQpLFxuICAgIHt9XG4gICkgOiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlRGVmYXVsdHMocmF3LCBkZWZhdWx0cykge1xuICBjb25zdCBwcm9wcyA9IG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhyYXcpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIl9fc2tpcFwiKSkgY29udGludWU7XG4gICAgbGV0IG9wdCA9IHByb3BzW2tleV07XG4gICAgaWYgKG9wdCkge1xuICAgICAgaWYgKGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkpIHtcbiAgICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgdHlwZTogb3B0LCBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHQuZGVmYXVsdCA9IGRlZmF1bHRzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcHQgPT09IG51bGwpIHtcbiAgICAgIG9wdCA9IHByb3BzW2tleV0gPSB7IGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgcHJvcHMgZGVmYXVsdCBrZXkgXCIke2tleX1cIiBoYXMgbm8gY29ycmVzcG9uZGluZyBkZWNsYXJhdGlvbi5gKTtcbiAgICB9XG4gICAgaWYgKG9wdCAmJiBkZWZhdWx0c1tgX19za2lwXyR7a2V5fWBdKSB7XG4gICAgICBvcHQuc2tpcEZhY3RvcnkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBtZXJnZU1vZGVscyhhLCBiKSB7XG4gIGlmICghYSB8fCAhYikgcmV0dXJuIGEgfHwgYjtcbiAgaWYgKGlzQXJyYXkoYSkgJiYgaXNBcnJheShiKSkgcmV0dXJuIGEuY29uY2F0KGIpO1xuICByZXR1cm4gZXh0ZW5kKHt9LCBub3JtYWxpemVQcm9wc09yRW1pdHMoYSksIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhiKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wc1Jlc3RQcm94eShwcm9wcywgZXhjbHVkZWRLZXlzKSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgIGlmICghZXhjbHVkZWRLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXQsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHByb3BzW2tleV1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gd2l0aEFzeW5jQ29udGV4dChnZXRBd2FpdGFibGUpIHtcbiAgY29uc3QgY3R4ID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjdHgpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgd2l0aEFzeW5jQ29udGV4dCBjYWxsZWQgd2l0aG91dCBhY3RpdmUgY3VycmVudCBpbnN0YW5jZS4gVGhpcyBpcyBsaWtlbHkgYSBidWcuYFxuICAgICk7XG4gIH1cbiAgbGV0IGF3YWl0YWJsZSA9IGdldEF3YWl0YWJsZSgpO1xuICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaXNQcm9taXNlKGF3YWl0YWJsZSkpIHtcbiAgICBhd2FpdGFibGUgPSBhd2FpdGFibGUuY2F0Y2goKGUpID0+IHtcbiAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShjdHgpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gW2F3YWl0YWJsZSwgKCkgPT4gc2V0Q3VycmVudEluc3RhbmNlKGN0eCldO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xuICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICB3YXJuJDEoYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XG4gICAgfVxuICB9O1xufVxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbmZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSkge1xuICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpO1xuICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XG4gIGNvbnN0IGN0eCA9IGluc3RhbmNlLmN0eDtcbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMuYmVmb3JlQ3JlYXRlKSB7XG4gICAgY2FsbEhvb2sob3B0aW9ucy5iZWZvcmVDcmVhdGUsIGluc3RhbmNlLCBcImJjXCIpO1xuICB9XG4gIGNvbnN0IHtcbiAgICAvLyBzdGF0ZVxuICAgIGRhdGE6IGRhdGFPcHRpb25zLFxuICAgIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsXG4gICAgbWV0aG9kcyxcbiAgICB3YXRjaDogd2F0Y2hPcHRpb25zLFxuICAgIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLFxuICAgIGluamVjdDogaW5qZWN0T3B0aW9ucyxcbiAgICAvLyBsaWZlY3ljbGVcbiAgICBjcmVhdGVkLFxuICAgIGJlZm9yZU1vdW50LFxuICAgIG1vdW50ZWQsXG4gICAgYmVmb3JlVXBkYXRlLFxuICAgIHVwZGF0ZWQsXG4gICAgYWN0aXZhdGVkLFxuICAgIGRlYWN0aXZhdGVkLFxuICAgIGJlZm9yZURlc3Ryb3ksXG4gICAgYmVmb3JlVW5tb3VudCxcbiAgICBkZXN0cm95ZWQsXG4gICAgdW5tb3VudGVkLFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJUcmFja2VkLFxuICAgIHJlbmRlclRyaWdnZXJlZCxcbiAgICBlcnJvckNhcHR1cmVkLFxuICAgIHNlcnZlclByZWZldGNoLFxuICAgIC8vIHB1YmxpYyBBUElcbiAgICBleHBvc2UsXG4gICAgaW5oZXJpdEF0dHJzLFxuICAgIC8vIGFzc2V0c1xuICAgIGNvbXBvbmVudHMsXG4gICAgZGlyZWN0aXZlcyxcbiAgICBmaWx0ZXJzXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIDogbnVsbDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBbcHJvcHNPcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcbiAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiUHJvcHNcIiAvKiBQUk9QUyAqLywga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGluamVjdE9wdGlvbnMpIHtcbiAgICByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyk7XG4gIH1cbiAgaWYgKG1ldGhvZHMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xuICAgICAgaWYgKGlzRnVuY3Rpb24obWV0aG9kSGFuZGxlcikpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgIHZhbHVlOiBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyksXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHhba2V5XSA9IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIk1ldGhvZHNcIiAvKiBNRVRIT0RTICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRhdGFPcHRpb25zKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oZGF0YU9wdGlvbnMpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBQbGFpbiBvYmplY3QgdXNhZ2UgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gZGF0YU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYGRhdGEoKSByZXR1cm5lZCBhIFByb21pc2UgLSBub3RlIGRhdGEoKSBjYW5ub3QgYmUgYXN5bmM7IElmIHlvdSBpbnRlbmQgdG8gcGVyZm9ybSBkYXRhIGZldGNoaW5nIGJlZm9yZSBjb21wb25lbnQgcmVuZGVycywgdXNlIGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJEYXRhXCIgLyogREFUQSAqLywga2V5KTtcbiAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBkYXRhW2tleV0sXG4gICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbiAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xuICAgICAgY29uc3Qgb3B0ID0gY29tcHV0ZWRPcHRpb25zW2tleV07XG4gICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdCkgPyBvcHQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IGlzRnVuY3Rpb24ob3B0LmdldCkgPyBvcHQuZ2V0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcykgOiBOT09QO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZ2V0ID09PSBOT09QKSB7XG4gICAgICAgIHdhcm4kMShgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2V0ID0gIWlzRnVuY3Rpb24ob3B0KSAmJiBpc0Z1bmN0aW9uKG9wdC5zZXQpID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpIDogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/ICgpID0+IHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmBcbiAgICAgICAgKTtcbiAgICAgIH0gOiBOT09QO1xuICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0LFxuICAgICAgICBzZXRcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBjLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIENPTVBVVEVEICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAod2F0Y2hPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XG4gICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XG4gICAgfVxuICB9XG4gIGlmIChwcm92aWRlT3B0aW9ucykge1xuICAgIGNvbnN0IHByb3ZpZGVzID0gaXNGdW5jdGlvbihwcm92aWRlT3B0aW9ucykgPyBwcm92aWRlT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMpIDogcHJvdmlkZU9wdGlvbnM7XG4gICAgUmVmbGVjdC5vd25LZXlzKHByb3ZpZGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY3JlYXRlZCkge1xuICAgIGNhbGxIb29rKGNyZWF0ZWQsIGluc3RhbmNlLCBcImNcIik7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJMaWZlY3ljbGVIb29rKHJlZ2lzdGVyLCBob29rKSB7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGhvb2suZm9yRWFjaCgoX2hvb2spID0+IHJlZ2lzdGVyKF9ob29rLmJpbmQocHVibGljVGhpcykpKTtcbiAgICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICAgIHJlZ2lzdGVyKGhvb2suYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZU1vdW50LCBiZWZvcmVNb3VudCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbk1vdW50ZWQsIG1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVcGRhdGUsIGJlZm9yZVVwZGF0ZSk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVwZGF0ZWQsIHVwZGF0ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25BY3RpdmF0ZWQsIGFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkRlYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkVycm9yQ2FwdHVyZWQsIGVycm9yQ2FwdHVyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmFja2VkLCByZW5kZXJUcmFja2VkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJpZ2dlcmVkLCByZW5kZXJUcmlnZ2VyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVbm1vdW50LCBiZWZvcmVVbm1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCB1bm1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25TZXJ2ZXJQcmVmZXRjaCwgc2VydmVyUHJlZmV0Y2gpO1xuICBpZiAoaXNBcnJheShleHBvc2UpKSB7XG4gICAgaWYgKGV4cG9zZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0ge30pO1xuICAgICAgZXhwb3NlLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3NlZCwga2V5LCB7XG4gICAgICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNUaGlzW2tleV0sXG4gICAgICAgICAgc2V0OiAodmFsKSA9PiBwdWJsaWNUaGlzW2tleV0gPSB2YWwsXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSB7fTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcbiAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XG4gIH1cbiAgaWYgKGluaGVyaXRBdHRycyAhPSBudWxsKSB7XG4gICAgaW5zdGFuY2UuaW5oZXJpdEF0dHJzID0gaW5oZXJpdEF0dHJzO1xuICB9XG4gIGlmIChjb21wb25lbnRzKSBpbnN0YW5jZS5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgaWYgKGRpcmVjdGl2ZXMpIGluc3RhbmNlLmRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzO1xuICBpZiAoc2VydmVyUHJlZmV0Y2gpIHtcbiAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gTk9PUCkge1xuICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xuICAgIGluamVjdE9wdGlvbnMgPSBub3JtYWxpemVJbmplY3QoaW5qZWN0T3B0aW9ucyk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gaW5qZWN0T3B0aW9ucykge1xuICAgIGNvbnN0IG9wdCA9IGluamVjdE9wdGlvbnNba2V5XTtcbiAgICBsZXQgaW5qZWN0ZWQ7XG4gICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcbiAgICAgIGlmIChcImRlZmF1bHRcIiBpbiBvcHQpIHtcbiAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3QoXG4gICAgICAgICAgb3B0LmZyb20gfHwga2V5LFxuICAgICAgICAgIG9wdC5kZWZhdWx0LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZihpbmplY3RlZCkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaW5qZWN0ZWQudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGluamVjdGVkLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eFtrZXldID0gaW5qZWN0ZWQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJJbmplY3RcIiAvKiBJTkpFQ1QgKi8sIGtleSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjYWxsSG9vayhob29rLCBpbnN0YW5jZSwgdHlwZSkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICBpc0FycmF5KGhvb2spID8gaG9vay5tYXAoKGgpID0+IGguYmluZChpbnN0YW5jZS5wcm94eSkpIDogaG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSxcbiAgICBpbnN0YW5jZSxcbiAgICB0eXBlXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcbiAgbGV0IGdldHRlciA9IGtleS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSkgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XG4gIGlmIChpc1N0cmluZyhyYXcpKSB7XG4gICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXd9XCJgLCBoYW5kbGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XG4gICAge1xuICAgICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICByYXcuZm9yRWFjaCgocikgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcikgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpIDogY3R4W3Jhdy5oYW5kbGVyXTtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XG4gIGNvbnN0IHtcbiAgICBtaXhpbnM6IGdsb2JhbE1peGlucyxcbiAgICBvcHRpb25zQ2FjaGU6IGNhY2hlLFxuICAgIGNvbmZpZzogeyBvcHRpb25NZXJnZVN0cmF0ZWdpZXMgfVxuICB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xuICBsZXQgcmVzb2x2ZWQ7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXNvbHZlZCA9IGNhY2hlZDtcbiAgfSBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xuICAgIHtcbiAgICAgIHJlc29sdmVkID0gYmFzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzb2x2ZWQgPSB7fTtcbiAgICBpZiAoZ2xvYmFsTWl4aW5zLmxlbmd0aCkge1xuICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2goXG4gICAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSlcbiAgICAgICk7XG4gICAgfVxuICAgIG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgYmFzZSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzKTtcbiAgfVxuICBpZiAoaXNPYmplY3QoYmFzZSkpIHtcbiAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xuICB9XG4gIHJldHVybiByZXNvbHZlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBmcm9tO1xuICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcbiAgICBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBzdHJhdHMsIHRydWUpO1xuICB9XG4gIGlmIChtaXhpbnMpIHtcbiAgICBtaXhpbnMuZm9yRWFjaChcbiAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIHN0cmF0cywgdHJ1ZSlcbiAgICApO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBpZiAoYXNNaXhpbiAmJiBrZXkgPT09IFwiZXhwb3NlXCIpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgXCJleHBvc2VcIiBvcHRpb24gaXMgaWdub3JlZCB3aGVuIGRlY2xhcmVkIGluIG1peGlucyBvciBleHRlbmRzLiBJdCBzaG91bGQgb25seSBiZSBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjb21wb25lbnQgaXRzZWxmLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0cmF0ID0gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldIHx8IHN0cmF0cyAmJiBzdHJhdHNba2V5XTtcbiAgICAgIHRvW2tleV0gPSBzdHJhdCA/IHN0cmF0KHRvW2tleV0sIGZyb21ba2V5XSkgOiBmcm9tW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmNvbnN0IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgPSB7XG4gIGRhdGE6IG1lcmdlRGF0YUZuLFxuICBwcm9wczogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICBlbWl0czogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICAvLyBvYmplY3RzXG4gIG1ldGhvZHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgY29tcHV0ZWQ6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgLy8gbGlmZWN5Y2xlXG4gIGJlZm9yZUNyZWF0ZTogbWVyZ2VBc0FycmF5LFxuICBjcmVhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXG4gIG1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlVXBkYXRlOiBtZXJnZUFzQXJyYXksXG4gIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlRGVzdHJveTogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVbm1vdW50OiBtZXJnZUFzQXJyYXksXG4gIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxuICB1bm1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGRlYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGVycm9yQ2FwdHVyZWQ6IG1lcmdlQXNBcnJheSxcbiAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcbiAgLy8gYXNzZXRzXG4gIGNvbXBvbmVudHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyB3YXRjaFxuICB3YXRjaDogbWVyZ2VXYXRjaE9wdGlvbnMsXG4gIC8vIHByb3ZpZGUgLyBpbmplY3RcbiAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXG4gIGluamVjdDogbWVyZ2VJbmplY3Rcbn07XG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xuICBpZiAoIWZyb20pIHtcbiAgICByZXR1cm4gdG87XG4gIH1cbiAgaWYgKCF0bykge1xuICAgIHJldHVybiBmcm9tO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4oKSB7XG4gICAgcmV0dXJuIChleHRlbmQpKFxuICAgICAgaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sXG4gICAgICBpc0Z1bmN0aW9uKGZyb20pID8gZnJvbS5jYWxsKHRoaXMsIHRoaXMpIDogZnJvbVxuICAgICk7XG4gIH07XG59XG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xuICByZXR1cm4gbWVyZ2VPYmplY3RPcHRpb25zKG5vcm1hbGl6ZUluamVjdCh0byksIG5vcm1hbGl6ZUluamVjdChmcm9tKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgcmV0dXJuIHJhdztcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xuICByZXR1cm4gdG8gPyBbLi4ubmV3IFNldChbXS5jb25jYXQodG8sIGZyb20pKV0gOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VPYmplY3RPcHRpb25zKHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8sIGZyb20pIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyh0bywgZnJvbSkge1xuICBpZiAodG8pIHtcbiAgICBpZiAoaXNBcnJheSh0bykgJiYgaXNBcnJheShmcm9tKSkge1xuICAgICAgcmV0dXJuIFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4udG8sIC4uLmZyb21dKV07XG4gICAgfVxuICAgIHJldHVybiBleHRlbmQoXG4gICAgICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyh0byksXG4gICAgICBub3JtYWxpemVQcm9wc09yRW1pdHMoZnJvbSAhPSBudWxsID8gZnJvbSA6IHt9KVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlV2F0Y2hPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICghdG8pIHJldHVybiBmcm9tO1xuICBpZiAoIWZyb20pIHJldHVybiB0bztcbiAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0byk7XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xuICB9XG4gIHJldHVybiBtZXJnZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XG4gIHJldHVybiB7XG4gICAgYXBwOiBudWxsLFxuICAgIGNvbmZpZzoge1xuICAgICAgaXNOYXRpdmVUYWc6IE5PLFxuICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgZ2xvYmFsUHJvcGVydGllczoge30sXG4gICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxuICAgICAgZXJyb3JIYW5kbGVyOiB2b2lkIDAsXG4gICAgICB3YXJuSGFuZGxlcjogdm9pZCAwLFxuICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxuICAgIH0sXG4gICAgbWl4aW5zOiBbXSxcbiAgICBjb21wb25lbnRzOiB7fSxcbiAgICBkaXJlY3RpdmVzOiB7fSxcbiAgICBwcm92aWRlczogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgb3B0aW9uc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBwcm9wc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBlbWl0c0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKVxuICB9O1xufVxubGV0IHVpZCQxID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJvb3RDb21wb25lbnQpKSB7XG4gICAgICByb290Q29tcG9uZW50ID0gZXh0ZW5kKHt9LCByb290Q29tcG9uZW50KTtcbiAgICB9XG4gICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICByb290UHJvcHMgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xuICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICBjb25zdCBwbHVnaW5DbGVhbnVwRm5zID0gW107XG4gICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGFwcCA9IGNvbnRleHQuYXBwID0ge1xuICAgICAgX3VpZDogdWlkJDErKyxcbiAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXG4gICAgICBfcHJvcHM6IHJvb3RQcm9wcyxcbiAgICAgIF9jb250YWluZXI6IG51bGwsXG4gICAgICBfY29udGV4dDogY29udGV4dCxcbiAgICAgIF9pbnN0YW5jZTogbnVsbCxcbiAgICAgIHZlcnNpb24sXG4gICAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XG4gICAgICB9LFxuICAgICAgc2V0IGNvbmZpZyh2KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XG4gICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmhhcyhwbHVnaW4pKSB7XG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYFBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfSBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihwbHVnaW4pKSB7XG4gICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICBwbHVnaW4oYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEEgcGx1Z2luIG11c3QgZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IHdpdGggYW4gXCJpbnN0YWxsXCIgZnVuY3Rpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBtaXhpbihtaXhpbikge1xuICAgICAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xuICAgICAgICAgIGlmICghY29udGV4dC5taXhpbnMuaW5jbHVkZXMobWl4aW4pKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJNaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcFwiICsgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6IFwiXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpcmVjdGl2ZSkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICAgICAgd2FybiQxKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1vdW50KHJvb3RDb250YWluZXIsIGlzSHlkcmF0ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXykge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgVGhlcmUgaXMgYWxyZWFkeSBhbiBhcHAgaW5zdGFuY2UgbW91bnRlZCBvbiB0aGUgaG9zdCBjb250YWluZXIuXG4gSWYgeW91IHdhbnQgdG8gbW91bnQgYW5vdGhlciBhcHAgb24gdGhlIHNhbWUgaG9zdCBjb250YWluZXIsIHlvdSBuZWVkIHRvIHVubW91bnQgdGhlIHByZXZpb3VzIGFwcCBieSBjYWxsaW5nIFxcYGFwcC51bm1vdW50KClcXGAgZmlyc3QuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgdm5vZGUgPSBhcHAuX2NlVk5vZGUgfHwgY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcbiAgICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICBpZiAobmFtZXNwYWNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgY29udGV4dC5yZWxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICAgICAgICBjbG9uZWQuZWwgPSBudWxsO1xuICAgICAgICAgICAgICByZW5kZXIoY2xvbmVkLCByb290Q29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XG4gICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyKHZub2RlLCByb290Q29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcbiAgICAgICAgICByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fID0gYXBwO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2Uodm5vZGUuY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXG5JZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggbW91bnQgLSBlLmcuIFxcYGNvbnN0IGNyZWF0ZU15QXBwID0gKCkgPT4gY3JlYXRlQXBwKEFwcClcXGBgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uVW5tb3VudChjbGVhbnVwRm4pIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHlwZW9mIGNsZWFudXBGbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4cGVjdGVkIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50IHRvIGFwcC5vblVubW91bnQoKSwgYnV0IGdvdCAke3R5cGVvZiBjbGVhbnVwRm59YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luQ2xlYW51cEZucy5wdXNoKGNsZWFudXBGbik7XG4gICAgICB9LFxuICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgICAgICAgcGx1Z2luQ2xlYW51cEZucyxcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UsXG4gICAgICAgICAgICAxNlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBDYW5ub3QgdW5tb3VudCBhbiBhcHAgdGhhdCBpcyBub3QgbW91bnRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xuICAgICAgICAgIGlmIChoYXNPd24oY29udGV4dC5wcm92aWRlcywga2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgQXBwIGFscmVhZHkgcHJvdmlkZXMgcHJvcGVydHkgd2l0aCBrZXkgXCIke1N0cmluZyhrZXkpfVwiLiBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgaW5oZXJpdGVkIGZyb20gaXRzIHBhcmVudCBlbGVtZW50LiBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBydW5XaXRoQ29udGV4dChmbikge1xuICAgICAgICBjb25zdCBsYXN0QXBwID0gY3VycmVudEFwcDtcbiAgICAgICAgY3VycmVudEFwcCA9IGFwcDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjdXJyZW50QXBwID0gbGFzdEFwcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGFwcDtcbiAgfTtcbn1cbmxldCBjdXJyZW50QXBwID0gbnVsbDtcblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gIGlmICghY3VycmVudEluc3RhbmNlKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcztcbiAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcbiAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XG4gICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xuICAgIH1cbiAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGluc3RhbmNlIHx8IGN1cnJlbnRBcHApIHtcbiAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50QXBwID8gY3VycmVudEFwcC5fY29udGV4dC5wcm92aWRlcyA6IGluc3RhbmNlID8gaW5zdGFuY2UucGFyZW50ID09IG51bGwgfHwgaW5zdGFuY2UuY2UgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXMgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXMgOiB2b2lkIDA7XG4gICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xuICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBpbmplY3QoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cy5gKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzSW5qZWN0aW9uQ29udGV4dCgpIHtcbiAgcmV0dXJuICEhKGdldEN1cnJlbnRJbnN0YW5jZSgpIHx8IGN1cnJlbnRBcHApO1xufVxuXG5jb25zdCBpbnRlcm5hbE9iamVjdFByb3RvID0ge307XG5jb25zdCBjcmVhdGVJbnRlcm5hbE9iamVjdCA9ICgpID0+IE9iamVjdC5jcmVhdGUoaW50ZXJuYWxPYmplY3RQcm90byk7XG5jb25zdCBpc0ludGVybmFsT2JqZWN0ID0gKG9iaikgPT4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IGludGVybmFsT2JqZWN0UHJvdG87XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSID0gZmFsc2UpIHtcbiAgY29uc3QgcHJvcHMgPSB7fTtcbiAgY29uc3QgYXR0cnMgPSBjcmVhdGVJbnRlcm5hbE9iamVjdCgpO1xuICBpbnN0YW5jZS5wcm9wc0RlZmF1bHRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkge1xuICAgIGlmICghKGtleSBpbiBwcm9wcykpIHtcbiAgICAgIHByb3BzW2tleV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgfVxuICBpZiAoaXNTdGF0ZWZ1bCkge1xuICAgIGluc3RhbmNlLnByb3BzID0gaXNTU1IgPyBwcm9wcyA6IHNoYWxsb3dSZWFjdGl2ZShwcm9wcyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFpbnN0YW5jZS50eXBlLnByb3BzKSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IGF0dHJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xuICAgIH1cbiAgfVxuICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xufVxuZnVuY3Rpb24gaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgd2hpbGUgKGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19obXJJZCkgcmV0dXJuIHRydWU7XG4gICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcbiAgY29uc3Qge1xuICAgIHByb3BzLFxuICAgIGF0dHJzLFxuICAgIHZub2RlOiB7IHBhdGNoRmxhZyB9XG4gIH0gPSBpbnN0YW5jZTtcbiAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgaWYgKFxuICAgIC8vIGFsd2F5cyBmb3JjZSBmdWxsIGRpZmYgaW4gZGV2XG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcbiAgICAvLyAtIHZpdGUjODcyIG5vbi1zZmMgY29tcG9uZW50IHVzZWQgYnkgc2ZjIGNvbXBvbmVudFxuICAgICEoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkpICYmIChvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnID4gMCkgJiYgIShwYXRjaEZsYWcgJiAxNilcbiAgKSB7XG4gICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBpbnN0YW5jZS52bm9kZS5keW5hbWljUHJvcHM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgIGlmIChpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgICAgICAgIGNhbWVsaXplZEtleSxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSkge1xuICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGtlYmFiS2V5O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgaWYgKCFyYXdQcm9wcyB8fCAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmIC8vIGl0J3MgcG9zc2libGUgdGhlIG9yaWdpbmFsIHByb3BzIHdhcyBwYXNzZWQgaW4gYXMga2ViYWItY2FzZVxuICAgICAgLy8gYW5kIGNvbnZlcnRlZCB0byBjYW1lbENhc2UgKCM5NTUpXG4gICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIGlmIChyYXdQcmV2UHJvcHMgJiYgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdm9pZCAwIHx8IC8vIGZvciBrZWJhYi1jYXNlXG4gICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdm9pZCAwKSkge1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXR0cnMgIT09IHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgaWYgKCFyYXdQcm9wcyB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmIHRydWUpIHtcbiAgICAgICAgICBkZWxldGUgYXR0cnNba2V5XTtcbiAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcbiAgICB0cmlnZ2VyKGluc3RhbmNlLmF0dHJzLCBcInNldFwiLCBcIlwiKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xuICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICBsZXQgcmF3Q2FzdFZhbHVlcztcbiAgaWYgKHJhd1Byb3BzKSB7XG4gICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgIGxldCBjYW1lbEtleTtcbiAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCBjYW1lbEtleSA9IGNhbWVsaXplKGtleSkpKSB7XG4gICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XG4gICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHJhd0Nhc3RWYWx1ZXMgfHwgKHJhd0Nhc3RWYWx1ZXMgPSB7fSkpW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGF0dHJzKSB8fCB2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChuZWVkQ2FzdEtleXMpIHtcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgY29uc3QgY2FzdFZhbHVlcyA9IHJhd0Nhc3RWYWx1ZXMgfHwgRU1QVFlfT0JKO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENhc3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XG4gICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICBrZXksXG4gICAgICAgIGNhc3RWYWx1ZXNba2V5XSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICFoYXNPd24oY2FzdFZhbHVlcywga2V5KVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhhc0F0dHJzQ2hhbmdlZDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcHJvcHMsIGtleSwgdmFsdWUsIGluc3RhbmNlLCBpc0Fic2VudCkge1xuICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XG4gIGlmIChvcHQgIT0gbnVsbCkge1xuICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNPd24ob3B0LCBcImRlZmF1bHRcIik7XG4gICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XG4gICAgICBpZiAob3B0LnR5cGUgIT09IEZ1bmN0aW9uICYmICFvcHQuc2tpcEZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvcHNEZWZhdWx0cyB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmIChrZXkgaW4gcHJvcHNEZWZhdWx0cykge1xuICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XSA9IGRlZmF1bHRWYWx1ZS5jYWxsKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnN0YW5jZS5jZSkge1xuICAgICAgICBpbnN0YW5jZS5jZS5fc2V0UHJvcChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdFswIC8qIHNob3VsZENhc3QgKi9dKSB7XG4gICAgICBpZiAoaXNBYnNlbnQgJiYgIWhhc0RlZmF1bHQpIHtcbiAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAob3B0WzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dICYmICh2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpKSB7XG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgbWl4aW5Qcm9wc0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IGNhY2hlID0gX19WVUVfT1BUSU9OU19BUElfXyAmJiBhc01peGluID8gbWl4aW5Qcm9wc0NhY2hlIDogYXBwQ29udGV4dC5wcm9wc0NhY2hlO1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGNvbnN0IHJhdyA9IGNvbXAucHJvcHM7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgY29uc3QgbmVlZENhc3RLZXlzID0gW107XG4gIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgY29uc3QgZXh0ZW5kUHJvcHMgPSAocmF3MikgPT4ge1xuICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICBjb25zdCBbcHJvcHMsIGtleXNdID0gbm9ybWFsaXplUHJvcHNPcHRpb25zKHJhdzIsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHByb3BzKTtcbiAgICAgIGlmIChrZXlzKSBuZWVkQ2FzdEtleXMucHVzaCguLi5rZXlzKTtcbiAgICB9O1xuICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICBleHRlbmRQcm9wcyhjb21wLmV4dGVuZHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kUHJvcHMpO1xuICAgIH1cbiAgfVxuICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgY2FjaGUuc2V0KGNvbXAsIEVNUFRZX0FSUik7XG4gICAgfVxuICAgIHJldHVybiBFTVBUWV9BUlI7XG4gIH1cbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNTdHJpbmcocmF3W2ldKSkge1xuICAgICAgICB3YXJuJDEoYHByb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC5gLCByYXdbaV0pO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKHJhd1tpXSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gRU1QVFlfT0JKO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChyYXcpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNPYmplY3QocmF3KSkge1xuICAgICAgd2FybiQxKGBpbnZhbGlkIHByb3BzIG9wdGlvbnNgLCByYXcpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXcpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgY29uc3Qgb3B0ID0gcmF3W2tleV07XG4gICAgICAgIGNvbnN0IHByb3AgPSBub3JtYWxpemVkW25vcm1hbGl6ZWRLZXldID0gaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSA/IHsgdHlwZTogb3B0IH0gOiBleHRlbmQoe30sIG9wdCk7XG4gICAgICAgIGNvbnN0IHByb3BUeXBlID0gcHJvcC50eXBlO1xuICAgICAgICBsZXQgc2hvdWxkQ2FzdCA9IGZhbHNlO1xuICAgICAgICBsZXQgc2hvdWxkQ2FzdFRydWUgPSB0cnVlO1xuICAgICAgICBpZiAoaXNBcnJheShwcm9wVHlwZSkpIHtcbiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcHJvcFR5cGUubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcHJvcFR5cGVbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgdHlwZU5hbWUgPSBpc0Z1bmN0aW9uKHR5cGUpICYmIHR5cGUubmFtZTtcbiAgICAgICAgICAgIGlmICh0eXBlTmFtZSA9PT0gXCJCb29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgc2hvdWxkQ2FzdCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlTmFtZSA9PT0gXCJTdHJpbmdcIikge1xuICAgICAgICAgICAgICBzaG91bGRDYXN0VHJ1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaG91bGRDYXN0ID0gaXNGdW5jdGlvbihwcm9wVHlwZSkgJiYgcHJvcFR5cGUubmFtZSA9PT0gXCJCb29sZWFuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gc2hvdWxkQ2FzdDtcbiAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9IHNob3VsZENhc3RUcnVlO1xuICAgICAgICBpZiAoc2hvdWxkQ2FzdCB8fCBoYXNPd24ocHJvcCwgXCJkZWZhdWx0XCIpKSB7XG4gICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2gobm9ybWFsaXplZEtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzID0gW25vcm1hbGl6ZWQsIG5lZWRDYXN0S2V5c107XG4gIGlmIChpc09iamVjdChjb21wKSkge1xuICAgIGNhY2hlLnNldChjb21wLCByZXMpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xuICBpZiAoa2V5WzBdICE9PSBcIiRcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYEludmFsaWQgcHJvcCBuYW1lOiBcIiR7a2V5fVwiIGlzIGEgcmVzZXJ2ZWQgcHJvcGVydHkuYCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0VHlwZShjdG9yKSB7XG4gIGlmIChjdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIFwibnVsbFwiO1xuICB9XG4gIGlmICh0eXBlb2YgY3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGN0b3IubmFtZSB8fCBcIlwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjdG9yID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgbmFtZSA9IGN0b3IuY29uc3RydWN0b3IgJiYgY3Rvci5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIHJldHVybiBuYW1lIHx8IFwiXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcbiAgY29uc3QgcmVzb2x2ZWRWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XG4gIGNvbnN0IGNhbWVsaXplUHJvcHNLZXkgPSBPYmplY3Qua2V5cyhyYXdQcm9wcykubWFwKChrZXkpID0+IGNhbWVsaXplKGtleSkpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgbGV0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgICBpZiAob3B0ID09IG51bGwpIGNvbnRpbnVlO1xuICAgIHZhbGlkYXRlUHJvcChcbiAgICAgIGtleSxcbiAgICAgIHJlc29sdmVkVmFsdWVzW2tleV0sXG4gICAgICBvcHQsXG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHJlc29sdmVkVmFsdWVzKSA6IHJlc29sdmVkVmFsdWVzLFxuICAgICAgIWNhbWVsaXplUHJvcHNLZXkuaW5jbHVkZXMoa2V5KVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgcHJvcHMsIGlzQWJzZW50KSB7XG4gIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciwgc2tpcENoZWNrIH0gPSBwcm9wO1xuICBpZiAocmVxdWlyZWQgJiYgaXNBYnNlbnQpIHtcbiAgICB3YXJuJDEoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcmVxdWlyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlICYmICFza2lwQ2hlY2spIHtcbiAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xuICAgIGNvbnN0IHR5cGVzID0gaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgdmFsaWQsIGV4cGVjdGVkVHlwZSB9ID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZXNbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCBcIlwiKTtcbiAgICAgIGlzVmFsaWQgPSB2YWxpZDtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICB3YXJuJDEoZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICh2YWxpZGF0b3IgJiYgIXZhbGlkYXRvcih2YWx1ZSwgcHJvcHMpKSB7XG4gICAgd2FybiQxKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyk7XG4gIH1cbn1cbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBcIlN0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50XCJcbik7XG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XG4gIGxldCB2YWxpZDtcbiAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJudWxsXCIpIHtcbiAgICB2YWxpZCA9IHZhbHVlID09PSBudWxsO1xuICB9IGVsc2UgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghdmFsaWQgJiYgdCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJPYmplY3RcIikge1xuICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJBcnJheVwiKSB7XG4gICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHZhbGlkLFxuICAgIGV4cGVjdGVkVHlwZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBgUHJvcCB0eXBlIFtdIGZvciBwcm9wIFwiJHtuYW1lfVwiIHdvbid0IG1hdGNoIGFueXRoaW5nLiBEaWQgeW91IG1lYW4gdG8gdXNlIHR5cGUgQXJyYXkgaW5zdGVhZD9gO1xuICB9XG4gIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbihcIiB8IFwiKX1gO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xuICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xuICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcbiAgY29uc3QgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJiBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJiAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xuICB9XG4gIG1lc3NhZ2UgKz0gYCwgZ290ICR7cmVjZWl2ZWRUeXBlfSBgO1xuICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IGB3aXRoIHZhbHVlICR7cmVjZWl2ZWRWYWx1ZX0uYDtcbiAgfVxuICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IFwiU3RyaW5nXCIpIHtcbiAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJOdW1iZXJcIikge1xuICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XG4gIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIiwgXCJib29sZWFuXCJdO1xuICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKChlbGVtKSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xufVxuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3Muc29tZSgoZWxlbSkgPT4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSBcImJvb2xlYW5cIik7XG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXkgPT09IFwiX1wiIHx8IGtleSA9PT0gXCJfY3R4XCIgfHwga2V5ID09PSBcIiRzdGFibGVcIjtcbmNvbnN0IG5vcm1hbGl6ZVNsb3RWYWx1ZSA9ICh2YWx1ZSkgPT4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB7XG4gIGlmIChyYXdTbG90Ll9uKSB7XG4gICAgcmV0dXJuIHJhd1Nsb3Q7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IHdpdGhDdHgoKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjdXJyZW50SW5zdGFuY2UgJiYgIShjdHggPT09IG51bGwgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSAmJiAhKGN0eCAmJiBjdHgucm9vdCAhPT0gY3VycmVudEluc3RhbmNlLnJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBTbG90IFwiJHtrZXl9XCIgaW52b2tlZCBvdXRzaWRlIG9mIHRoZSByZW5kZXIgZnVuY3Rpb246IHRoaXMgd2lsbCBub3QgdHJhY2sgZGVwZW5kZW5jaWVzIHVzZWQgaW4gdGhlIHNsb3QuIEludm9rZSB0aGUgc2xvdCBmdW5jdGlvbiBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdCguLi5hcmdzKSk7XG4gIH0sIGN0eCk7XG4gIG5vcm1hbGl6ZWQuX2MgPSBmYWxzZTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuY29uc3Qgbm9ybWFsaXplT2JqZWN0U2xvdHMgPSAocmF3U2xvdHMsIHNsb3RzLCBpbnN0YW5jZSkgPT4ge1xuICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xuICBmb3IgKGNvbnN0IGtleSBpbiByYXdTbG90cykge1xuICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpIGNvbnRpbnVlO1xuICAgIGNvbnN0IHZhbHVlID0gcmF3U2xvdHNba2V5XTtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBzbG90IFwiJHtrZXl9XCIuIFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xuICAgICAgc2xvdHNba2V5XSA9ICgpID0+IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgbm9ybWFsaXplVk5vZGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJiB0cnVlKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gXG4gICAgKTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKGNoaWxkcmVuKTtcbiAgaW5zdGFuY2Uuc2xvdHMuZGVmYXVsdCA9ICgpID0+IG5vcm1hbGl6ZWQ7XG59O1xuY29uc3QgYXNzaWduU2xvdHMgPSAoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgZm9yIChjb25zdCBrZXkgaW4gY2hpbGRyZW4pIHtcbiAgICBpZiAob3B0aW1pemVkIHx8ICFpc0ludGVybmFsS2V5KGtleSkpIHtcbiAgICAgIHNsb3RzW2tleV0gPSBjaGlsZHJlbltrZXldO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IGluaXRTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICBjb25zdCBzbG90cyA9IGluc3RhbmNlLnNsb3RzID0gY3JlYXRlSW50ZXJuYWxPYmplY3QoKTtcbiAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyKSB7XG4gICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGFzc2lnblNsb3RzKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgIGlmIChvcHRpbWl6ZWQpIHtcbiAgICAgICAgZGVmKHNsb3RzLCBcIl9cIiwgdHlwZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICB9XG59O1xuY29uc3QgdXBkYXRlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xuICBsZXQgbmVlZERlbGV0aW9uQ2hlY2sgPSB0cnVlO1xuICBsZXQgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gRU1QVFlfT0JKO1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIpIHtcbiAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICBpZiAodHlwZSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICBhc3NpZ25TbG90cyhzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICAgIHRyaWdnZXIoaW5zdGFuY2UsIFwic2V0XCIsIFwiJHNsb3RzXCIpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSkge1xuICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduU2xvdHMoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZWVkRGVsZXRpb25DaGVjayA9ICFjaGlsZHJlbi4kc3RhYmxlO1xuICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcbiAgICB9XG4gICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XG4gIH1cbiAgaWYgKG5lZWREZWxldGlvbkNoZWNrKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldFtrZXldID09IG51bGwpIHtcbiAgICAgICAgZGVsZXRlIHNsb3RzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5sZXQgc3VwcG9ydGVkO1xubGV0IHBlcmY7XG5mdW5jdGlvbiBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzUGVyZlN0YXJ0KGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICB9XG59XG5mdW5jdGlvbiBlbmRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcbiAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcbiAgICBjb25zdCBtZWFzdXJlTmFtZSA9IGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gO1xuICAgIHBlcmYubWFyayhlbmRUYWcpO1xuICAgIHBlcmYubWVhc3VyZShtZWFzdXJlTmFtZSwgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgcGVyZi5jbGVhck1lYXN1cmVzKG1lYXN1cmVOYW1lKTtcbiAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xuICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gIGlmIChzdXBwb3J0ZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICB9IGVsc2Uge1xuICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XG4gIGNvbnN0IG5lZWRXYXJuID0gW107XG4gIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX09QVElPTlNfQVBJX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfT1BUSU9OU19BUElfXyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0RFVlRPT0xTX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fID0gZmFsc2U7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ubGVuZ3RoKSB7XG4gICAgY29uc3QgbXVsdGkgPSBuZWVkV2Fybi5sZW5ndGggPiAxO1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBGZWF0dXJlIGZsYWcke211bHRpID8gYHNgIDogYGB9ICR7bmVlZFdhcm4uam9pbihcIiwgXCIpfSAke211bHRpID8gYGFyZWAgOiBgaXNgfSBub3QgZXhwbGljaXRseSBkZWZpbmVkLiBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIFZ1ZSwgd2hpY2ggZXhwZWN0cyB0aGVzZSBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyB0byBiZSBnbG9iYWxseSBpbmplY3RlZCB2aWEgdGhlIGJ1bmRsZXIgY29uZmlnIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgdHJlZS1zaGFraW5nIGluIHRoZSBwcm9kdWN0aW9uIGJ1bmRsZS5cblxuRm9yIG1vcmUgZGV0YWlscywgc2VlIGh0dHBzOi8vbGluay52dWVqcy5vcmcvZmVhdHVyZS1mbGFncy5gXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QgPSBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSA7XG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihvcHRpb25zKSB7XG4gIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucyk7XG59XG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihvcHRpb25zKSB7XG4gIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKTtcbn1cbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAge1xuICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcbiAgfVxuICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XG4gIHRhcmdldC5fX1ZVRV9fID0gdHJ1ZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgc2V0RGV2dG9vbHNIb29rJDEodGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18sIHRhcmdldCk7XG4gIH1cbiAgY29uc3Qge1xuICAgIGluc2VydDogaG9zdEluc2VydCxcbiAgICByZW1vdmU6IGhvc3RSZW1vdmUsXG4gICAgcGF0Y2hQcm9wOiBob3N0UGF0Y2hQcm9wLFxuICAgIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LFxuICAgIGNyZWF0ZVRleHQ6IGhvc3RDcmVhdGVUZXh0LFxuICAgIGNyZWF0ZUNvbW1lbnQ6IGhvc3RDcmVhdGVDb21tZW50LFxuICAgIHNldFRleHQ6IGhvc3RTZXRUZXh0LFxuICAgIHNldEVsZW1lbnRUZXh0OiBob3N0U2V0RWxlbWVudFRleHQsXG4gICAgcGFyZW50Tm9kZTogaG9zdFBhcmVudE5vZGUsXG4gICAgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZyxcbiAgICBzZXRTY29wZUlkOiBob3N0U2V0U2NvcGVJZCA9IE5PT1AsXG4gICAgaW5zZXJ0U3RhdGljQ29udGVudDogaG9zdEluc2VydFN0YXRpY0NvbnRlbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHBhdGNoID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IgPSBudWxsLCBwYXJlbnRDb21wb25lbnQgPSBudWxsLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwsIG5hbWVzcGFjZSA9IHZvaWQgMCwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nID8gZmFsc2UgOiAhIW4yLmR5bmFtaWNDaGlsZHJlbikgPT4ge1xuICAgIGlmIChuMSA9PT0gbjIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG4xICYmICFpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgYW5jaG9yID0gZ2V0TmV4dEhvc3ROb2RlKG4xKTtcbiAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgbjEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobjIucGF0Y2hGbGFnID09PSAtMikge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBuMi5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgcHJvY2Vzc1RleHQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcHJvY2Vzc0ZyYWdtZW50KFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEpIHtcbiAgICAgICAgICBwcm9jZXNzRWxlbWVudChcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHByb2Nlc3NDb21wb25lbnQoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgdHlwZS5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICB0eXBlLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIFZOb2RlIHR5cGU6XCIsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xuICAgICAgc2V0UmVmKHJlZiwgbjEgJiYgbjEucmVmLCBwYXJlbnRTdXNwZW5zZSwgbjIgfHwgbjEsICFuMik7XG4gICAgfSBlbHNlIGlmIChyZWYgPT0gbnVsbCAmJiBuMSAmJiBuMS5yZWYgIT0gbnVsbCkge1xuICAgICAgc2V0UmVmKG4xLnJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIG4xLCB0cnVlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NUZXh0ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChcbiAgICAgICAgbjIuZWwgPSBob3N0Q3JlYXRlVGV4dChuMi5jaGlsZHJlbiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tbWVudE5vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8IFwiXCIpLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50U3RhdGljTm9kZSA9IChuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSkgPT4ge1xuICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgbjIuY2hpbGRyZW4sXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBuMi5lbCxcbiAgICAgIG4yLmFuY2hvclxuICAgICk7XG4gIH07XG4gIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcbiAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgICBuMi5jaGlsZHJlbixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgZWwgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0UmVtb3ZlKGFuY2hvcik7XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBpZiAobjIudHlwZSA9PT0gXCJzdmdcIikge1xuICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICB9IGVsc2UgaWYgKG4yLnR5cGUgPT09IFwibWF0aFwiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRFbGVtZW50KFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoRWxlbWVudChcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRFbGVtZW50ID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBlbDtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGNvbnN0IHsgcHJvcHMsIHNoYXBlRmxhZywgdHJhbnNpdGlvbiwgZGlycyB9ID0gdm5vZGU7XG4gICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KFxuICAgICAgdm5vZGUudHlwZSxcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHByb3BzICYmIHByb3BzLmlzLFxuICAgICAgcHJvcHNcbiAgICApO1xuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcbiAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgZWwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSh2bm9kZSwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiY3JlYXRlZFwiKTtcbiAgICB9XG4gICAgc2V0U2NvcGVJZChlbCwgdm5vZGUsIHZub2RlLnNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KTtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChrZXkgIT09IFwidmFsdWVcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSwgbmFtZXNwYWNlLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIHByb3BzKSB7XG4gICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwidmFsdWVcIiwgbnVsbCwgcHJvcHMudmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGVIb29rID0gcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRlZihlbCwgXCJfX3Zub2RlXCIsIHZub2RlLCB0cnVlKTtcbiAgICAgIGRlZihlbCwgXCJfX3Z1ZVBhcmVudENvbXBvbmVudFwiLCBwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZU1vdW50XCIpO1xuICAgIH1cbiAgICBjb25zdCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9IG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKTtcbiAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcbiAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgIH1cbiAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHwgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgfHwgZGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwibW91bnRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICAgIGlmIChzY29wZUlkKSB7XG4gICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2NvcGVJZCk7XG4gICAgfVxuICAgIGlmIChzbG90U2NvcGVJZHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdFNjb3BlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzbG90U2NvcGVJZHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc3ViVHJlZS5wYXRjaEZsYWcgPiAwICYmIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgICAgICBzdWJUcmVlID0gZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xuICAgICAgfVxuICAgICAgaWYgKHZub2RlID09PSBzdWJUcmVlIHx8IGlzU3VzcGVuc2Uoc3ViVHJlZS50eXBlKSAmJiAoc3ViVHJlZS5zc0NvbnRlbnQgPT09IHZub2RlIHx8IHN1YlRyZWUuc3NGYWxsYmFjayA9PT0gdm5vZGUpKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFZOb2RlID0gcGFyZW50Q29tcG9uZW50LnZub2RlO1xuICAgICAgICBzZXRTY29wZUlkKFxuICAgICAgICAgIGVsLFxuICAgICAgICAgIHBhcmVudFZOb2RlLFxuICAgICAgICAgIHBhcmVudFZOb2RlLnNjb3BlSWQsXG4gICAgICAgICAgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudC5wYXJlbnRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBzdGFydCA9IDApID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGNoaWxkcmVuW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBjaGlsZCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZWwgPSBuMi5lbCA9IG4xLmVsO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZWwuX192bm9kZSA9IG4yO1xuICAgIH1cbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XG4gICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2O1xuICAgIGNvbnN0IG9sZFByb3BzID0gbjEucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGNvbnN0IG5ld1Byb3BzID0gbjIucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCBmYWxzZSk7XG4gICAgaWYgKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVXBkYXRlXCIpO1xuICAgIH1cbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChvbGRQcm9wcy5pbm5lckhUTUwgJiYgbmV3UHJvcHMuaW5uZXJIVE1MID09IG51bGwgfHwgb2xkUHJvcHMudGV4dENvbnRlbnQgJiYgbmV3UHJvcHMudGV4dENvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCBcIlwiKTtcbiAgICB9XG4gICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKFxuICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgZWwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZShuMiwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICApO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBlbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKG4yLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2KSB7XG4gICAgICAgIHBhdGNoUHJvcHMoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIpIHtcbiAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XG4gICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcImNsYXNzXCIsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBuYW1lc3BhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgNCkge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwic3R5bGVcIiwgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IG4yLmR5bmFtaWNQcm9wcztcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHwga2V5ID09PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMSkge1xuICAgICAgICBpZiAobjEuY2hpbGRyZW4gIT09IG4yLmNoaWxkcmVuKSB7XG4gICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHBhdGNoUHJvcHMoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVVcGRhdGVkKSB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwidXBkYXRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoQmxvY2tDaGlsZHJlbiA9IChvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4sIGZhbGxiYWNrQ29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG4gICAgICBjb25zdCBuZXdWTm9kZSA9IG5ld0NoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgY29udGFpbmVyID0gKFxuICAgICAgICAvLyBvbGRWTm9kZSBtYXkgYmUgYW4gZXJyb3JlZCBhc3luYyBzZXR1cCgpIGNvbXBvbmVudCBpbnNpZGUgU3VzcGVuc2VcbiAgICAgICAgLy8gd2hpY2ggd2lsbCBub3QgaGF2ZSBhIG1vdW50ZWQgZWxlbWVudFxuICAgICAgICBvbGRWTm9kZS5lbCAmJiAvLyAtIEluIHRoZSBjYXNlIG9mIGEgRnJhZ21lbnQsIHdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgYWN0dWFsIHBhcmVudFxuICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cbiAgICAgICAgKG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8IC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIHdoaWNoIGFsc28gcmVxdWlyZXMgdGhlIGNvcnJlY3QgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cbiAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgKDYgfCA2NCB8IDEyOCkpID8gaG9zdFBhcmVudE5vZGUob2xkVk5vZGUuZWwpIDogKFxuICAgICAgICAgIC8vIEluIG90aGVyIGNhc2VzLCB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBub3QgYWN0dWFsbHkgdXNlZCBzbyB3ZVxuICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cbiAgICAgICAgICBmYWxsYmFja0NvbnRhaW5lclxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG9sZFZOb2RlLFxuICAgICAgICBuZXdWTm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICBpZiAob2xkUHJvcHMgIT09IEVNUFRZX09CSikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIG9sZFByb3BzW2tleV0sXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgIGlmIChuZXh0ICE9PSBwcmV2ICYmIGtleSAhPT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBvbGRQcm9wcy52YWx1ZSwgbmV3UHJvcHMudmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzRnJhZ21lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGZyYWdtZW50U3RhcnRBbmNob3IgPSBuMi5lbCA9IG4xID8gbjEuZWwgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBjb25zdCBmcmFnbWVudEVuZEFuY2hvciA9IG4yLmFuY2hvciA9IG4xID8gbjEuYW5jaG9yIDogaG9zdENyZWF0ZVRleHQoXCJcIik7XG4gICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4sIHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IG4yO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIC8vICM1NTIzIGRldiByb290IGZyYWdtZW50IG1heSBpbmhlcml0IGRpcmVjdGl2ZXNcbiAgICAoaXNIbXJVcGRhdGluZyB8fCBwYXRjaEZsYWcgJiAyMDQ4KSkge1xuICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHMgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKSA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChmcmFnbWVudFN0YXJ0QW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAvLyAjMTAwMDdcbiAgICAgICAgLy8gc3VjaCBmcmFnbWVudCBsaWtlIGA8PjwvPmAgd2lsbCBiZSBjb21waWxlZCBpbnRvXG4gICAgICAgIC8vIGEgZnJhZ21lbnQgd2hpY2ggZG9lc24ndCBoYXZlIGEgY2hpbGRyZW4uXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSBmYWxsYmFjayB0byBhbiBlbXB0eSBhcnJheVxuICAgICAgICBuMi5jaGlsZHJlbiB8fCBbXSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhdGNoRmxhZyA+IDAgJiYgcGF0Y2hGbGFnICYgNjQgJiYgZHluYW1pY0NoaWxkcmVuICYmIC8vICMyNzE1IHRoZSBwcmV2aW91cyBmcmFnbWVudCBjb3VsZCd2ZSBiZWVuIGEgQkFJTGVkIG9uZSBhcyBhIHJlc3VsdFxuICAgICAgLy8gb2YgcmVuZGVyU2xvdCgpIHdpdGggbm8gdmFsaWQgY2hpbGRyZW5cbiAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgLy8gIzIwODAgaWYgdGhlIHN0YWJsZSBmcmFnbWVudCBoYXMgYSBrZXksIGl0J3MgYSA8dGVtcGxhdGUgdi1mb3I+IHRoYXQgbWF5XG4gICAgICAgICAgLy8gIGdldCBtb3ZlZCBhcm91bmQuIE1ha2Ugc3VyZSBhbGwgcm9vdCBsZXZlbCB2bm9kZXMgaW5oZXJpdCBlbC5cbiAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcbiAgICAgICAgICAvLyBhcyB0aGUgY29tcG9uZW50IGlzIGJlaW5nIG1vdmVkLlxuICAgICAgICAgIG4yLmtleSAhPSBudWxsIHx8IHBhcmVudENvbXBvbmVudCAmJiBuMiA9PT0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAvKiBzaGFsbG93ICovXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgZnJhZ21lbnRFbmRBbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tcG9uZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBuMi5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGlmIChuMi5zaGFwZUZsYWcgJiA1MTIpIHtcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5hY3RpdmF0ZShcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vdW50Q29tcG9uZW50KFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50Q29tcG9uZW50ID0gKGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSAoaW5pdGlhbFZOb2RlLmNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKFxuICAgICAgaW5pdGlhbFZOb2RlLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICApKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgIHJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChpbml0aWFsVk5vZGUpO1xuICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcbiAgICB9XG4gICAgaWYgKGlzS2VlcEFsaXZlKGluaXRpYWxWTm9kZSkpIHtcbiAgICAgIGluc3RhbmNlLmN0eC5yZW5kZXJlciA9IGludGVybmFscztcbiAgICB9XG4gICAge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UsIGZhbHNlLCBvcHRpbWl6ZWQpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykgaW5pdGlhbFZOb2RlLmVsID0gbnVsbDtcbiAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXApIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCwgb3B0aW1pemVkKTtcbiAgICAgIGlmICghaW5pdGlhbFZOb2RlLmVsKSB7XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gaW5zdGFuY2Uuc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobnVsbCwgcGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgaW5pdGlhbFZOb2RlLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXIuZWw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHVwUmVuZGVyRWZmZWN0KFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgaW5pdGlhbFZOb2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gKG4xLCBuMiwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBuMi5jb21wb25lbnQgPSBuMS5jb21wb25lbnQ7XG4gICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCAmJiAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuMiwgb3B0aW1pemVkKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLm5leHQgPSBuMjtcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICBpbnN0YW5jZS52bm9kZSA9IG4yO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGNvbXBvbmVudFVwZGF0ZUZuID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgY29uc3QgeyBlbCwgcHJvcHMgfSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50LCByb290LCB0eXBlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3QgaXNBc3luY1dyYXBwZXJWTm9kZSA9IGlzQXN5bmNXcmFwcGVyKGluaXRpYWxWTm9kZSk7XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgaWYgKGJtKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoYm0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBc3luY1dyYXBwZXJWTm9kZSAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XG4gICAgICAgICAgY29uc3QgaHlkcmF0ZVN1YlRyZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh5ZHJhdGVOb2RlKFxuICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlclZOb2RlICYmIHR5cGUuX19hc3luY0h5ZHJhdGUpIHtcbiAgICAgICAgICAgIHR5cGUuX19hc3luY0h5ZHJhdGUoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChyb290LmNlICYmIC8vIEB0cy1leHBlY3QtZXJyb3IgX2RlZiBpcyBwcml2YXRlXG4gICAgICAgICAgcm9vdC5jZS5fZGVmLnNoYWRvd1Jvb3QgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICByb290LmNlLl9pbmplY3RDaGlsZFN0eWxlKHR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHN1YlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHN1YlRyZWUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluaXRpYWxWTm9kZS5lbCA9IHN1YlRyZWUuZWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QobSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBc3luY1dyYXBwZXJWTm9kZSAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpKSB7XG4gICAgICAgICAgY29uc3Qgc2NvcGVkSW5pdGlhbFZOb2RlID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgICAgICAgICgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgc2NvcGVkSW5pdGlhbFZOb2RlKSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdGlhbFZOb2RlLnNoYXBlRmxhZyAmIDI1NiB8fCBwYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIocGFyZW50LnZub2RlKSAmJiBwYXJlbnQudm5vZGUuc2hhcGVGbGFnICYgMjU2KSB7XG4gICAgICAgICAgaW5zdGFuY2UuYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoaW5zdGFuY2UuYSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGluaXRpYWxWTm9kZSA9IGNvbnRhaW5lciA9IGFuY2hvciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgeyBuZXh0LCBidSwgdSwgcGFyZW50LCB2bm9kZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBub25IeWRyYXRlZEFzeW5jUm9vdCA9IGxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290KGluc3RhbmNlKTtcbiAgICAgICAgICBpZiAobm9uSHlkcmF0ZWRBc3luY1Jvb3QpIHtcbiAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9uSHlkcmF0ZWRBc3luY1Jvb3QuYXN5bmNEZXAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRVcGRhdGVGbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9yaWdpbk5leHQgPSBuZXh0O1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xuICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0ID0gdm5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1KSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IG5leHRUcmVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgcHJldlRyZWUsXG4gICAgICAgICAgbmV4dFRyZWUsXG4gICAgICAgICAgLy8gcGFyZW50IG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIHRlbGVwb3J0XG4gICAgICAgICAgaG9zdFBhcmVudE5vZGUocHJldlRyZWUuZWwpLFxuICAgICAgICAgIC8vIGFuY2hvciBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSBmcmFnbWVudFxuICAgICAgICAgIGdldE5leHRIb3N0Tm9kZShwcmV2VHJlZSksXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlXG4gICAgICAgICk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dC5lbCA9IG5leHRUcmVlLmVsO1xuICAgICAgICBpZiAob3JpZ2luTmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgbmV4dFRyZWUuZWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHUsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVVcGRhdGVkKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KFxuICAgICAgICAgICAgKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSksXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGluc3RhbmNlLnNjb3BlLm9uKCk7XG4gICAgY29uc3QgZWZmZWN0ID0gaW5zdGFuY2UuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGNvbXBvbmVudFVwZGF0ZUZuKTtcbiAgICBpbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBjb25zdCB1cGRhdGUgPSBpbnN0YW5jZS51cGRhdGUgPSBlZmZlY3QucnVuLmJpbmQoZWZmZWN0KTtcbiAgICBjb25zdCBqb2IgPSBpbnN0YW5jZS5qb2IgPSBlZmZlY3QucnVuSWZEaXJ0eS5iaW5kKGVmZmVjdCk7XG4gICAgam9iLmkgPSBpbnN0YW5jZTtcbiAgICBqb2IuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgZWZmZWN0LnNjaGVkdWxlciA9ICgpID0+IHF1ZXVlSm9iKGpvYik7XG4gICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGVmZmVjdC5vblRyYWNrID0gaW5zdGFuY2UucnRjID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSkgOiB2b2lkIDA7XG4gICAgICBlZmZlY3Qub25UcmlnZ2VyID0gaW5zdGFuY2UucnRnID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIHVwZGF0ZSgpO1xuICB9O1xuICBjb25zdCB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIgPSAoaW5zdGFuY2UsIG5leHRWTm9kZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgbmV4dFZOb2RlLmNvbXBvbmVudCA9IGluc3RhbmNlO1xuICAgIGNvbnN0IHByZXZQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgIGluc3RhbmNlLnZub2RlID0gbmV4dFZOb2RlO1xuICAgIGluc3RhbmNlLm5leHQgPSBudWxsO1xuICAgIHVwZGF0ZVByb3BzKGluc3RhbmNlLCBuZXh0Vk5vZGUucHJvcHMsIHByZXZQcm9wcywgb3B0aW1pemVkKTtcbiAgICB1cGRhdGVTbG90cyhpbnN0YW5jZSwgbmV4dFZOb2RlLmNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICBmbHVzaFByZUZsdXNoQ2JzKGluc3RhbmNlKTtcbiAgICByZXNldFRyYWNraW5nKCk7XG4gIH07XG4gIGNvbnN0IHBhdGNoQ2hpbGRyZW4gPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgYzEgPSBuMSAmJiBuMS5jaGlsZHJlbjtcbiAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xuICAgIGNvbnN0IGMyID0gbjIuY2hpbGRyZW47XG4gICAgY29uc3QgeyBwYXRjaEZsYWcsIHNoYXBlRmxhZyB9ID0gbjI7XG4gICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxMjgpIHtcbiAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKFxuICAgICAgICAgIGMxLFxuICAgICAgICAgIGMyLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgMjU2KSB7XG4gICAgICAgIHBhdGNoVW5rZXllZENoaWxkcmVuKFxuICAgICAgICAgIGMxLFxuICAgICAgICAgIGMyLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjMiAhPT0gYzEpIHtcbiAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICAgIGMxLFxuICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4KSB7XG4gICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgICAgIGMyLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaFVua2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgYzEgPSBjMSB8fCBFTVBUWV9BUlI7XG4gICAgYzIgPSBjMiB8fCBFTVBUWV9BUlI7XG4gICAgY29uc3Qgb2xkTGVuZ3RoID0gYzEubGVuZ3RoO1xuICAgIGNvbnN0IG5ld0xlbmd0aCA9IGMyLmxlbmd0aDtcbiAgICBjb25zdCBjb21tb25MZW5ndGggPSBNYXRoLm1pbihvbGRMZW5ndGgsIG5ld0xlbmd0aCk7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGNvbW1vbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBjMVtpXSxcbiAgICAgICAgbmV4dENoaWxkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgIHVubW91bnRDaGlsZHJlbihcbiAgICAgICAgYzEsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHRydWUsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBjb21tb25MZW5ndGhcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIGMyLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgY29tbW9uTGVuZ3RoXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgbDIgPSBjMi5sZW5ndGg7XG4gICAgbGV0IGUxID0gYzEubGVuZ3RoIC0gMTtcbiAgICBsZXQgZTIgPSBsMiAtIDE7XG4gICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgY29uc3QgbjEgPSBjMVtpXTtcbiAgICAgIGNvbnN0IG4yID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgY29uc3QgbjEgPSBjMVtlMV07XG4gICAgICBjb25zdCBuMiA9IGMyW2UyXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2UyXSkgOiBub3JtYWxpemVWTm9kZShjMltlMl0pO1xuICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlMS0tO1xuICAgICAgZTItLTtcbiAgICB9XG4gICAgaWYgKGkgPiBlMSkge1xuICAgICAgaWYgKGkgPD0gZTIpIHtcbiAgICAgICAgY29uc3QgbmV4dFBvcyA9IGUyICsgMTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dFBvcyA8IGwyID8gYzJbbmV4dFBvc10uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSksXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpID4gZTIpIHtcbiAgICAgIHdoaWxlIChpIDw9IGUxKSB7XG4gICAgICAgIHVubW91bnQoYzFbaV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHMxID0gaTtcbiAgICAgIGNvbnN0IHMyID0gaTtcbiAgICAgIGNvbnN0IGtleVRvTmV3SW5kZXhNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgZm9yIChpID0gczI7IGkgPD0gZTI7IGkrKykge1xuICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgICAgaWYgKG5leHRDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleVRvTmV3SW5kZXhNYXAuaGFzKG5leHRDaGlsZC5rZXkpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBEdXBsaWNhdGUga2V5cyBmb3VuZCBkdXJpbmcgdXBkYXRlOmAsXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG5leHRDaGlsZC5rZXkpLFxuICAgICAgICAgICAgICBgTWFrZSBzdXJlIGtleXMgYXJlIHVuaXF1ZS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGo7XG4gICAgICBsZXQgcGF0Y2hlZCA9IDA7XG4gICAgICBjb25zdCB0b0JlUGF0Y2hlZCA9IGUyIC0gczIgKyAxO1xuICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XG4gICAgICBsZXQgbWF4TmV3SW5kZXhTb0ZhciA9IDA7XG4gICAgICBjb25zdCBuZXdJbmRleFRvT2xkSW5kZXhNYXAgPSBuZXcgQXJyYXkodG9CZVBhdGNoZWQpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRvQmVQYXRjaGVkOyBpKyspIG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9IDA7XG4gICAgICBmb3IgKGkgPSBzMTsgaSA8PSBlMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IGMxW2ldO1xuICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xuICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV3SW5kZXg7XG4gICAgICAgIGlmIChwcmV2Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBuZXdJbmRleCA9IGtleVRvTmV3SW5kZXhNYXAuZ2V0KHByZXZDaGlsZC5rZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAoaiA9IHMyOyBqIDw9IGUyOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJiBpc1NhbWVWTm9kZVR5cGUocHJldkNoaWxkLCBjMltqXSkpIHtcbiAgICAgICAgICAgICAgbmV3SW5kZXggPSBqO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0luZGV4ID09PSB2b2lkIDApIHtcbiAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW25ld0luZGV4IC0gczJdID0gaSArIDE7XG4gICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcbiAgICAgICAgICAgIG1heE5ld0luZGV4U29GYXIgPSBuZXdJbmRleDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIHByZXZDaGlsZCxcbiAgICAgICAgICAgIGMyW25ld0luZGV4XSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGF0Y2hlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSA9IG1vdmVkID8gZ2V0U2VxdWVuY2UobmV3SW5kZXhUb09sZEluZGV4TWFwKSA6IEVNUFRZX0FSUjtcbiAgICAgIGogPSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZS5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzMiArIGk7XG4gICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW25leHRJbmRleF07XG4gICAgICAgIGNvbnN0IGFuY2hvclZOb2RlID0gYzJbbmV4dEluZGV4ICsgMV07XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IChcbiAgICAgICAgICAvLyAjMTM1NTksIGZhbGxiYWNrIHRvIGVsIHBsYWNlaG9sZGVyIGZvciB1bnJlc29sdmVkIGFzeW5jIGNvbXBvbmVudFxuICAgICAgICAgIGFuY2hvclZOb2RlLmVsIHx8IGFuY2hvclZOb2RlLnBsYWNlaG9sZGVyXG4gICAgICAgICkgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPT09IDApIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBuZXh0Q2hpbGQsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAobW92ZWQpIHtcbiAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2Vbal0pIHtcbiAgICAgICAgICAgIG1vdmUobmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgMik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSwgcGFyZW50U3VzcGVuc2UgPSBudWxsKSA9PiB7XG4gICAgY29uc3QgeyBlbCwgdHlwZSwgdHJhbnNpdGlvbiwgY2hpbGRyZW4sIHNoYXBlRmxhZyB9ID0gdm5vZGU7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIG1vdmUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgIHZub2RlLnN1c3BlbnNlLm1vdmUoY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIH1cbiAgICAgIGhvc3RJbnNlcnQodm5vZGUuYW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcbiAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5lZWRUcmFuc2l0aW9uMiA9IG1vdmVUeXBlICE9PSAyICYmIHNoYXBlRmxhZyAmIDEgJiYgdHJhbnNpdGlvbjtcbiAgICBpZiAobmVlZFRyYW5zaXRpb24yKSB7XG4gICAgICBpZiAobW92ZVR5cGUgPT09IDApIHtcbiAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCByZW1vdmUyID0gKCkgPT4ge1xuICAgICAgICAgIGlmICh2bm9kZS5jdHguaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLl9pc0xlYXZpbmcpIHtcbiAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldKFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgIC8qIGNhbmNlbGxlZCAqL1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZTIoKTtcbiAgICAgICAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xuICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZTIsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVyZm9ybUxlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdW5tb3VudCA9ICh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGRpcnMsXG4gICAgICBjYWNoZUluZGV4XG4gICAgfSA9IHZub2RlO1xuICAgIGlmIChwYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIHRydWUpO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH1cbiAgICBpZiAoY2FjaGVJbmRleCAhPSBudWxsKSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQucmVuZGVyQ2FjaGVbY2FjaGVJbmRleF0gPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAyNTYpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZEludm9rZURpcnMgPSBzaGFwZUZsYWcgJiAxICYmIGRpcnM7XG4gICAgY29uc3Qgc2hvdWxkSW52b2tlVm5vZGVIb29rID0gIWlzQXN5bmNXcmFwcGVyKHZub2RlKTtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGlmIChzaG91bGRJbnZva2VWbm9kZUhvb2sgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVVbm1vdW50KSkge1xuICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICB2bm9kZS5zdXNwZW5zZS51bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVVbm1vdW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgIHZub2RlLnR5cGUucmVtb3ZlKFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoZHluYW1pY0NoaWxkcmVuICYmIC8vICM1MTU0XG4gICAgICAvLyB3aGVuIHYtb25jZSBpcyB1c2VkIGluc2lkZSBhIGJsb2NrLCBzZXRCbG9ja1RyYWNraW5nKC0xKSBtYXJrcyB0aGVcbiAgICAgIC8vIHBhcmVudCBibG9jayB3aXRoIGhhc09uY2U6IHRydWVcbiAgICAgIC8vIHNvIHRoYXQgaXQgZG9lc24ndCB0YWtlIHRoZSBmYXN0IHBhdGggZHVyaW5nIHVubW91bnQgLSBvdGhlcndpc2VcbiAgICAgIC8vIGNvbXBvbmVudHMgbmVzdGVkIGluIHYtb25jZSBhcmUgbmV2ZXIgdW5tb3VudGVkLlxuICAgICAgIWR5bmFtaWNDaGlsZHJlbi5oYXNPbmNlICYmIC8vICMxMTUzOiBmYXN0IHBhdGggc2hvdWxkIG5vdCBiZSB0YWtlbiBmb3Igbm9uLXN0YWJsZSAodi1mb3IpIGZyYWdtZW50c1xuICAgICAgKHR5cGUgIT09IEZyYWdtZW50IHx8IHBhdGNoRmxhZyA+IDAgJiYgcGF0Y2hGbGFnICYgNjQpKSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihcbiAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gRnJhZ21lbnQgJiYgcGF0Y2hGbGFnICYgKDEyOCB8IDI1NikgfHwgIW9wdGltaXplZCAmJiBzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGRvUmVtb3ZlKSB7XG4gICAgICAgIHJlbW92ZSh2bm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzaG91bGRJbnZva2VWbm9kZUhvb2sgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVVbm1vdW50ZWQpIHx8IHNob3VsZEludm9rZURpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgc2hvdWxkSW52b2tlRGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwidW5tb3VudGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlID0gKHZub2RlKSA9PiB7XG4gICAgY29uc3QgeyB0eXBlLCBlbCwgYW5jaG9yLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHZub2RlLnBhdGNoRmxhZyA+IDAgJiYgdm5vZGUucGF0Y2hGbGFnICYgMjA0OCAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KSB7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKGNoaWxkLmVsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRnJhZ21lbnQoZWwsIGFuY2hvcik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcbiAgICAgIHJlbW92ZVN0YXRpY05vZGUodm5vZGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwZXJmb3JtUmVtb3ZlID0gKCkgPT4ge1xuICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICBpZiAodHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQgJiYgdHJhbnNpdGlvbi5hZnRlckxlYXZlKSB7XG4gICAgICAgIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiBsZWF2ZShlbCwgcGVyZm9ybVJlbW92ZSk7XG4gICAgICBpZiAoZGVsYXlMZWF2ZSkge1xuICAgICAgICBkZWxheUxlYXZlKHZub2RlLmVsLCBwZXJmb3JtUmVtb3ZlLCBwZXJmb3JtTGVhdmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVyZm9ybUxlYXZlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcmZvcm1SZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZUZyYWdtZW50ID0gKGN1ciwgZW5kKSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGN1ciAhPT0gZW5kKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGN1cik7XG4gICAgICBob3N0UmVtb3ZlKGN1cik7XG4gICAgICBjdXIgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0UmVtb3ZlKGVuZCk7XG4gIH07XG4gIGNvbnN0IHVubW91bnRDb21wb25lbnQgPSAoaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgdW5yZWdpc3RlckhNUihpbnN0YW5jZSk7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVtLCBzY29wZSwgam9iLCBzdWJUcmVlLCB1bSwgbSwgYSB9ID0gaW5zdGFuY2U7XG4gICAgaW52YWxpZGF0ZU1vdW50KG0pO1xuICAgIGludmFsaWRhdGVNb3VudChhKTtcbiAgICBpZiAoYnVtKSB7XG4gICAgICBpbnZva2VBcnJheUZucyhidW0pO1xuICAgIH1cbiAgICBzY29wZS5zdG9wKCk7XG4gICAgaWYgKGpvYikge1xuICAgICAgam9iLmZsYWdzIHw9IDg7XG4gICAgICB1bm1vdW50KHN1YlRyZWUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgIH1cbiAgICBpZiAodW0pIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1bSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgaW5zdGFuY2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xuICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChpbnN0YW5jZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdW5tb3VudChjaGlsZHJlbltpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUsIG9wdGltaXplZCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXROZXh0SG9zdE5vZGUgPSAodm5vZGUpID0+IHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNikge1xuICAgICAgcmV0dXJuIGdldE5leHRIb3N0Tm9kZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgIHJldHVybiB2bm9kZS5zdXNwZW5zZS5uZXh0KCk7XG4gICAgfVxuICAgIGNvbnN0IGVsID0gaG9zdE5leHRTaWJsaW5nKHZub2RlLmFuY2hvciB8fCB2bm9kZS5lbCk7XG4gICAgY29uc3QgdGVsZXBvcnRFbmQgPSBlbCAmJiBlbFtUZWxlcG9ydEVuZEtleV07XG4gICAgcmV0dXJuIHRlbGVwb3J0RW5kID8gaG9zdE5leHRTaWJsaW5nKHRlbGVwb3J0RW5kKSA6IGVsO1xuICB9O1xuICBsZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xuICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKHZub2RlID09IG51bGwpIHtcbiAgICAgIGlmIChjb250YWluZXIuX3Zub2RlKSB7XG4gICAgICAgIHVubW91bnQoY29udGFpbmVyLl92bm9kZSwgbnVsbCwgbnVsbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBjb250YWluZXIuX3Zub2RlIHx8IG51bGwsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9XG4gICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgIGlmICghaXNGbHVzaGluZykge1xuICAgICAgaXNGbHVzaGluZyA9IHRydWU7XG4gICAgICBmbHVzaFByZUZsdXNoQ2JzKCk7XG4gICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaW50ZXJuYWxzID0ge1xuICAgIHA6IHBhdGNoLFxuICAgIHVtOiB1bm1vdW50LFxuICAgIG06IG1vdmUsXG4gICAgcjogcmVtb3ZlLFxuICAgIG10OiBtb3VudENvbXBvbmVudCxcbiAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICBwYzogcGF0Y2hDaGlsZHJlbixcbiAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICBuOiBnZXROZXh0SG9zdE5vZGUsXG4gICAgbzogb3B0aW9uc1xuICB9O1xuICBsZXQgaHlkcmF0ZTtcbiAgbGV0IGh5ZHJhdGVOb2RlO1xuICBpZiAoY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gICAgW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXSA9IGNyZWF0ZUh5ZHJhdGlvbkZucyhcbiAgICAgIGludGVybmFsc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZW5kZXIsXG4gICAgaHlkcmF0ZSxcbiAgICBjcmVhdGVBcHA6IGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpXG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UoeyB0eXBlLCBwcm9wcyB9LCBjdXJyZW50TmFtZXNwYWNlKSB7XG4gIHJldHVybiBjdXJyZW50TmFtZXNwYWNlID09PSBcInN2Z1wiICYmIHR5cGUgPT09IFwiZm9yZWlnbk9iamVjdFwiIHx8IGN1cnJlbnROYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgJiYgdHlwZSA9PT0gXCJhbm5vdGF0aW9uLXhtbFwiICYmIHByb3BzICYmIHByb3BzLmVuY29kaW5nICYmIHByb3BzLmVuY29kaW5nLmluY2x1ZGVzKFwiaHRtbFwiKSA/IHZvaWQgMCA6IGN1cnJlbnROYW1lc3BhY2U7XG59XG5mdW5jdGlvbiB0b2dnbGVSZWN1cnNlKHsgZWZmZWN0LCBqb2IgfSwgYWxsb3dlZCkge1xuICBpZiAoYWxsb3dlZCkge1xuICAgIGVmZmVjdC5mbGFncyB8PSAzMjtcbiAgICBqb2IuZmxhZ3MgfD0gNDtcbiAgfSBlbHNlIHtcbiAgICBlZmZlY3QuZmxhZ3MgJj0gLTMzO1xuICAgIGpvYi5mbGFncyAmPSAtNTtcbiAgfVxufVxuZnVuY3Rpb24gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pIHtcbiAgcmV0dXJuICghcGFyZW50U3VzcGVuc2UgfHwgcGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkO1xufVxuZnVuY3Rpb24gdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHNoYWxsb3cgPSBmYWxzZSkge1xuICBjb25zdCBjaDEgPSBuMS5jaGlsZHJlbjtcbiAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XG4gIGlmIChpc0FycmF5KGNoMSkgJiYgaXNBcnJheShjaDIpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaDEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGMxID0gY2gxW2ldO1xuICAgICAgbGV0IGMyID0gY2gyW2ldO1xuICAgICAgaWYgKGMyLnNoYXBlRmxhZyAmIDEgJiYgIWMyLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBpZiAoYzIucGF0Y2hGbGFnIDw9IDAgfHwgYzIucGF0Y2hGbGFnID09PSAzMikge1xuICAgICAgICAgIGMyID0gY2gyW2ldID0gY2xvbmVJZk1vdW50ZWQoY2gyW2ldKTtcbiAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2hhbGxvdyAmJiBjMi5wYXRjaEZsYWcgIT09IC0yKVxuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4oYzEsIGMyKTtcbiAgICAgIH1cbiAgICAgIGlmIChjMi50eXBlID09PSBUZXh0ICYmIC8vIGF2b2lkIGNhY2hlZCB0ZXh0IG5vZGVzIHJldGFpbmluZyBkZXRhY2hlZCBkb20gbm9kZXNcbiAgICAgIGMyLnBhdGNoRmxhZyAhPT0gLTEpIHtcbiAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgIH1cbiAgICAgIGlmIChjMi50eXBlID09PSBDb21tZW50ICYmICFjMi5lbCkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgYzIuZWwgJiYgKGMyLmVsLl9fdm5vZGUgPSBjMik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBnZXRTZXF1ZW5jZShhcnIpIHtcbiAgY29uc3QgcCA9IGFyci5zbGljZSgpO1xuICBjb25zdCByZXN1bHQgPSBbMF07XG4gIGxldCBpLCBqLCB1LCB2LCBjO1xuICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBhcnJJID0gYXJyW2ldO1xuICAgIGlmIChhcnJJICE9PSAwKSB7XG4gICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChhcnJbal0gPCBhcnJJKSB7XG4gICAgICAgIHBbaV0gPSBqO1xuICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB1ID0gMDtcbiAgICAgIHYgPSByZXN1bHQubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlICh1IDwgdikge1xuICAgICAgICBjID0gdSArIHYgPj4gMTtcbiAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xuICAgICAgICAgIHUgPSBjICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2ID0gYztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFyckkgPCBhcnJbcmVzdWx0W3VdXSkge1xuICAgICAgICBpZiAodSA+IDApIHtcbiAgICAgICAgICBwW2ldID0gcmVzdWx0W3UgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbdV0gPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB1ID0gcmVzdWx0Lmxlbmd0aDtcbiAgdiA9IHJlc3VsdFt1IC0gMV07XG4gIHdoaWxlICh1LS0gPiAwKSB7XG4gICAgcmVzdWx0W3VdID0gdjtcbiAgICB2ID0gcFt2XTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3QoaW5zdGFuY2UpIHtcbiAgY29uc3Qgc3ViQ29tcG9uZW50ID0gaW5zdGFuY2Uuc3ViVHJlZS5jb21wb25lbnQ7XG4gIGlmIChzdWJDb21wb25lbnQpIHtcbiAgICBpZiAoc3ViQ29tcG9uZW50LmFzeW5jRGVwICYmICFzdWJDb21wb25lbnQuYXN5bmNSZXNvbHZlZCkge1xuICAgICAgcmV0dXJuIHN1YkNvbXBvbmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290KHN1YkNvbXBvbmVudCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBpbnZhbGlkYXRlTW91bnQoaG9va3MpIHtcbiAgaWYgKGhvb2tzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKylcbiAgICAgIGhvb2tzW2ldLmZsYWdzIHw9IDg7XG4gIH1cbn1cblxuY29uc3Qgc3NyQ29udGV4dEtleSA9IFN5bWJvbC5mb3IoXCJ2LXNjeFwiKTtcbmNvbnN0IHVzZVNTUkNvbnRleHQgPSAoKSA9PiB7XG4gIHtcbiAgICBjb25zdCBjdHggPSBpbmplY3Qoc3NyQ29udGV4dEtleSk7XG4gICAgaWYgKCFjdHgpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgU2VydmVyIHJlbmRlcmluZyBjb250ZXh0IG5vdCBwcm92aWRlZC4gTWFrZSBzdXJlIHRvIG9ubHkgY2FsbCB1c2VTU1JDb250ZXh0KCkgY29uZGl0aW9uYWxseSBpbiB0aGUgc2VydmVyIGJ1aWxkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBjdHg7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHdhdGNoRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gd2F0Y2hQb3N0RWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChcbiAgICBlZmZlY3QsXG4gICAgbnVsbCxcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGZsdXNoOiBcInBvc3RcIiB9KSA6IHsgZmx1c2g6IFwicG9zdFwiIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHdhdGNoU3luY0VmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goXG4gICAgZWZmZWN0LFxuICAgIG51bGwsXG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGV4dGVuZCh7fSwgb3B0aW9ucywgeyBmbHVzaDogXCJzeW5jXCIgfSkgOiB7IGZsdXNoOiBcInN5bmNcIiB9XG4gICk7XG59XG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0Z1bmN0aW9uKGNiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBcXGB3YXRjaChmbiwgb3B0aW9ucz8pXFxgIHNpZ25hdHVyZSBoYXMgYmVlbiBtb3ZlZCB0byBhIHNlcGFyYXRlIEFQSS4gVXNlIFxcYHdhdGNoRWZmZWN0KGZuLCBvcHRpb25zPylcXGAgaW5zdGVhZC4gXFxgd2F0Y2hcXGAgbm93IG9ubHkgc3VwcG9ydHMgXFxgd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyA9IEVNUFRZX09CSikge1xuICBjb25zdCB7IGltbWVkaWF0ZSwgZGVlcCwgZmx1c2gsIG9uY2UgfSA9IG9wdGlvbnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjYikge1xuICAgIGlmIChpbW1lZGlhdGUgIT09IHZvaWQgMCkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgd2F0Y2goKSBcImltbWVkaWF0ZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChkZWVwICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJkZWVwXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9uY2UgIT09IHZvaWQgMCkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgd2F0Y2goKSBcIm9uY2VcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBjb25zdCBiYXNlV2F0Y2hPcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIGJhc2VXYXRjaE9wdGlvbnMub25XYXJuID0gd2FybiQxO1xuICBjb25zdCBydW5zSW1tZWRpYXRlbHkgPSBjYiAmJiBpbW1lZGlhdGUgfHwgIWNiICYmIGZsdXNoICE9PSBcInBvc3RcIjtcbiAgbGV0IHNzckNsZWFudXA7XG4gIGlmIChpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICBpZiAoZmx1c2ggPT09IFwic3luY1wiKSB7XG4gICAgICBjb25zdCBjdHggPSB1c2VTU1JDb250ZXh0KCk7XG4gICAgICBzc3JDbGVhbnVwID0gY3R4Ll9fd2F0Y2hlckhhbmRsZXMgfHwgKGN0eC5fX3dhdGNoZXJIYW5kbGVzID0gW10pO1xuICAgIH0gZWxzZSBpZiAoIXJ1bnNJbW1lZGlhdGVseSkge1xuICAgICAgY29uc3Qgd2F0Y2hTdG9wSGFuZGxlID0gKCkgPT4ge1xuICAgICAgfTtcbiAgICAgIHdhdGNoU3RvcEhhbmRsZS5zdG9wID0gTk9PUDtcbiAgICAgIHdhdGNoU3RvcEhhbmRsZS5yZXN1bWUgPSBOT09QO1xuICAgICAgd2F0Y2hTdG9wSGFuZGxlLnBhdXNlID0gTk9PUDtcbiAgICAgIHJldHVybiB3YXRjaFN0b3BIYW5kbGU7XG4gICAgfVxuICB9XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICBiYXNlV2F0Y2hPcHRpb25zLmNhbGwgPSAoZm4sIHR5cGUsIGFyZ3MpID0+IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncyk7XG4gIGxldCBpc1ByZSA9IGZhbHNlO1xuICBpZiAoZmx1c2ggPT09IFwicG9zdFwiKSB7XG4gICAgYmFzZVdhdGNoT3B0aW9ucy5zY2hlZHVsZXIgPSAoam9iKSA9PiB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XG4gICAgfTtcbiAgfSBlbHNlIGlmIChmbHVzaCAhPT0gXCJzeW5jXCIpIHtcbiAgICBpc1ByZSA9IHRydWU7XG4gICAgYmFzZVdhdGNoT3B0aW9ucy5zY2hlZHVsZXIgPSAoam9iLCBpc0ZpcnN0UnVuKSA9PiB7XG4gICAgICBpZiAoaXNGaXJzdFJ1bikge1xuICAgICAgICBqb2IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSm9iKGpvYik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBiYXNlV2F0Y2hPcHRpb25zLmF1Z21lbnRKb2IgPSAoam9iKSA9PiB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBqb2IuZmxhZ3MgfD0gNDtcbiAgICB9XG4gICAgaWYgKGlzUHJlKSB7XG4gICAgICBqb2IuZmxhZ3MgfD0gMjtcbiAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICBqb2IuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgICAgIGpvYi5pID0gaW5zdGFuY2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCB3YXRjaEhhbmRsZSA9IHdhdGNoJDEoc291cmNlLCBjYiwgYmFzZVdhdGNoT3B0aW9ucyk7XG4gIGlmIChpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICBpZiAoc3NyQ2xlYW51cCkge1xuICAgICAgc3NyQ2xlYW51cC5wdXNoKHdhdGNoSGFuZGxlKTtcbiAgICB9IGVsc2UgaWYgKHJ1bnNJbW1lZGlhdGVseSkge1xuICAgICAgd2F0Y2hIYW5kbGUoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHdhdGNoSGFuZGxlO1xufVxuZnVuY3Rpb24gaW5zdGFuY2VXYXRjaChzb3VyY2UsIHZhbHVlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHB1YmxpY1RoaXMgPSB0aGlzLnByb3h5O1xuICBjb25zdCBnZXR0ZXIgPSBpc1N0cmluZyhzb3VyY2UpID8gc291cmNlLmluY2x1ZGVzKFwiLlwiKSA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywgc291cmNlKSA6ICgpID0+IHB1YmxpY1RoaXNbc291cmNlXSA6IHNvdXJjZS5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICBsZXQgY2I7XG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIGNiID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY2IgPSB2YWx1ZS5oYW5kbGVyO1xuICAgIG9wdGlvbnMgPSB2YWx1ZTtcbiAgfVxuICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZSh0aGlzKTtcbiAgY29uc3QgcmVzID0gZG9XYXRjaChnZXR0ZXIsIGNiLmJpbmQocHVibGljVGhpcyksIG9wdGlvbnMpO1xuICByZXNldCgpO1xuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY3JlYXRlUGF0aEdldHRlcihjdHgsIHBhdGgpIHtcbiAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiLlwiKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgY3VyID0gY3R4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoICYmIGN1cjsgaSsrKSB7XG4gICAgICBjdXIgPSBjdXJbc2VnbWVudHNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gY3VyO1xuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VNb2RlbChwcm9wcywgbmFtZSwgb3B0aW9ucyA9IEVNUFRZX09CSikge1xuICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpKSB7XG4gICAgd2FybiQxKGB1c2VNb2RlbCgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcbiAgICByZXR1cm4gcmVmKCk7XG4gIH1cbiAgY29uc3QgY2FtZWxpemVkTmFtZSA9IGNhbWVsaXplKG5hbWUpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaS5wcm9wc09wdGlvbnNbMF1bY2FtZWxpemVkTmFtZV0pIHtcbiAgICB3YXJuJDEoYHVzZU1vZGVsKCkgY2FsbGVkIHdpdGggcHJvcCBcIiR7bmFtZX1cIiB3aGljaCBpcyBub3QgZGVjbGFyZWQuYCk7XG4gICAgcmV0dXJuIHJlZigpO1xuICB9XG4gIGNvbnN0IGh5cGhlbmF0ZWROYW1lID0gaHlwaGVuYXRlKG5hbWUpO1xuICBjb25zdCBtb2RpZmllcnMgPSBnZXRNb2RlbE1vZGlmaWVycyhwcm9wcywgY2FtZWxpemVkTmFtZSk7XG4gIGNvbnN0IHJlcyA9IGN1c3RvbVJlZigodHJhY2ssIHRyaWdnZXIpID0+IHtcbiAgICBsZXQgbG9jYWxWYWx1ZTtcbiAgICBsZXQgcHJldlNldFZhbHVlID0gRU1QVFlfT0JKO1xuICAgIGxldCBwcmV2RW1pdHRlZFZhbHVlO1xuICAgIHdhdGNoU3luY0VmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBwcm9wVmFsdWUgPSBwcm9wc1tjYW1lbGl6ZWROYW1lXTtcbiAgICAgIGlmIChoYXNDaGFuZ2VkKGxvY2FsVmFsdWUsIHByb3BWYWx1ZSkpIHtcbiAgICAgICAgbG9jYWxWYWx1ZSA9IHByb3BWYWx1ZTtcbiAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHRyYWNrKCk7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmdldCA/IG9wdGlvbnMuZ2V0KGxvY2FsVmFsdWUpIDogbG9jYWxWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgZW1pdHRlZFZhbHVlID0gb3B0aW9ucy5zZXQgPyBvcHRpb25zLnNldCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgaWYgKCFoYXNDaGFuZ2VkKGVtaXR0ZWRWYWx1ZSwgbG9jYWxWYWx1ZSkgJiYgIShwcmV2U2V0VmFsdWUgIT09IEVNUFRZX09CSiAmJiBoYXNDaGFuZ2VkKHZhbHVlLCBwcmV2U2V0VmFsdWUpKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXdQcm9wcyA9IGkudm5vZGUucHJvcHM7XG4gICAgICAgIGlmICghKHJhd1Byb3BzICYmIC8vIGNoZWNrIGlmIHBhcmVudCBoYXMgcGFzc2VkIHYtbW9kZWxcbiAgICAgICAgKG5hbWUgaW4gcmF3UHJvcHMgfHwgY2FtZWxpemVkTmFtZSBpbiByYXdQcm9wcyB8fCBoeXBoZW5hdGVkTmFtZSBpbiByYXdQcm9wcykgJiYgKGBvblVwZGF0ZToke25hbWV9YCBpbiByYXdQcm9wcyB8fCBgb25VcGRhdGU6JHtjYW1lbGl6ZWROYW1lfWAgaW4gcmF3UHJvcHMgfHwgYG9uVXBkYXRlOiR7aHlwaGVuYXRlZE5hbWV9YCBpbiByYXdQcm9wcykpKSB7XG4gICAgICAgICAgbG9jYWxWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIHRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpLmVtaXQoYHVwZGF0ZToke25hbWV9YCwgZW1pdHRlZFZhbHVlKTtcbiAgICAgICAgaWYgKGhhc0NoYW5nZWQodmFsdWUsIGVtaXR0ZWRWYWx1ZSkgJiYgaGFzQ2hhbmdlZCh2YWx1ZSwgcHJldlNldFZhbHVlKSAmJiAhaGFzQ2hhbmdlZChlbWl0dGVkVmFsdWUsIHByZXZFbWl0dGVkVmFsdWUpKSB7XG4gICAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgICAgIHByZXZTZXRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBwcmV2RW1pdHRlZFZhbHVlID0gZW1pdHRlZFZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICByZXNbU3ltYm9sLml0ZXJhdG9yXSA9ICgpID0+IHtcbiAgICBsZXQgaTIgPSAwO1xuICAgIHJldHVybiB7XG4gICAgICBuZXh0KCkge1xuICAgICAgICBpZiAoaTIgPCAyKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGkyKysgPyBtb2RpZmllcnMgfHwgRU1QVFlfT0JKIDogcmVzLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG4gIHJldHVybiByZXM7XG59XG5jb25zdCBnZXRNb2RlbE1vZGlmaWVycyA9IChwcm9wcywgbW9kZWxOYW1lKSA9PiB7XG4gIHJldHVybiBtb2RlbE5hbWUgPT09IFwibW9kZWxWYWx1ZVwiIHx8IG1vZGVsTmFtZSA9PT0gXCJtb2RlbC12YWx1ZVwiID8gcHJvcHMubW9kZWxNb2RpZmllcnMgOiBwcm9wc1tgJHttb2RlbE5hbWV9TW9kaWZpZXJzYF0gfHwgcHJvcHNbYCR7Y2FtZWxpemUobW9kZWxOYW1lKX1Nb2RpZmllcnNgXSB8fCBwcm9wc1tgJHtoeXBoZW5hdGUobW9kZWxOYW1lKX1Nb2RpZmllcnNgXTtcbn07XG5cbmZ1bmN0aW9uIGVtaXQoaW5zdGFuY2UsIGV2ZW50LCAuLi5yYXdBcmdzKSB7XG4gIGlmIChpbnN0YW5jZS5pc1VubW91bnRlZCkgcmV0dXJuO1xuICBjb25zdCBwcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCB7XG4gICAgICBlbWl0c09wdGlvbnMsXG4gICAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdXG4gICAgfSA9IGluc3RhbmNlO1xuICAgIGlmIChlbWl0c09wdGlvbnMpIHtcbiAgICAgIGlmICghKGV2ZW50IGluIGVtaXRzT3B0aW9ucykgJiYgdHJ1ZSkge1xuICAgICAgICBpZiAoIXByb3BzT3B0aW9ucyB8fCAhKHRvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpIGluIHByb3BzT3B0aW9ucykpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQ29tcG9uZW50IGVtaXR0ZWQgZXZlbnQgXCIke2V2ZW50fVwiIGJ1dCBpdCBpcyBuZWl0aGVyIGRlY2xhcmVkIGluIHRoZSBlbWl0cyBvcHRpb24gbm9yIGFzIGFuIFwiJHt0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKX1cIiBwcm9wLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBlbWl0c09wdGlvbnNbZXZlbnRdO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0b3IpKSB7XG4gICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRvciguLi5yYXdBcmdzKTtcbiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEludmFsaWQgZXZlbnQgYXJndW1lbnRzOiBldmVudCB2YWxpZGF0aW9uIGZhaWxlZCBmb3IgZXZlbnQgXCIke2V2ZW50fVwiLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCBhcmdzID0gcmF3QXJncztcbiAgY29uc3QgaXNNb2RlbExpc3RlbmVyID0gZXZlbnQuc3RhcnRzV2l0aChcInVwZGF0ZTpcIik7XG4gIGNvbnN0IG1vZGlmaWVycyA9IGlzTW9kZWxMaXN0ZW5lciAmJiBnZXRNb2RlbE1vZGlmaWVycyhwcm9wcywgZXZlbnQuc2xpY2UoNykpO1xuICBpZiAobW9kaWZpZXJzKSB7XG4gICAgaWYgKG1vZGlmaWVycy50cmltKSB7XG4gICAgICBhcmdzID0gcmF3QXJncy5tYXAoKGEpID0+IGlzU3RyaW5nKGEpID8gYS50cmltKCkgOiBhKTtcbiAgICB9XG4gICAgaWYgKG1vZGlmaWVycy5udW1iZXIpIHtcbiAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcChsb29zZVRvTnVtYmVyKTtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNDb21wb25lbnRFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiBwcm9wc1t0b0hhbmRsZXJLZXkobG93ZXJDYXNlRXZlbnQpXSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgRXZlbnQgXCIke2xvd2VyQ2FzZUV2ZW50fVwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50ICR7Zm9ybWF0Q29tcG9uZW50TmFtZShcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBpbnN0YW5jZS50eXBlXG4gICAgICAgICl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIE5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIHYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKFxuICAgICAgICAgIGV2ZW50XG4gICAgICAgICl9XCIgaW5zdGVhZCBvZiBcIiR7ZXZlbnR9XCIuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbGV0IGhhbmRsZXJOYW1lO1xuICBsZXQgaGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGV2ZW50KV0gfHwgLy8gYWxzbyB0cnkgY2FtZWxDYXNlIGV2ZW50IGhhbmRsZXIgKCMyMjQ5KVxuICBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpXTtcbiAgaWYgKCFoYW5kbGVyICYmIGlzTW9kZWxMaXN0ZW5lcikge1xuICAgIGhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShoeXBoZW5hdGUoZXZlbnQpKV07XG4gIH1cbiAgaWYgKGhhbmRsZXIpIHtcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIGhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDYsXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfVxuICBjb25zdCBvbmNlSGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lICsgYE9uY2VgXTtcbiAgaWYgKG9uY2VIYW5kbGVyKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5lbWl0dGVkKSB7XG4gICAgICBpbnN0YW5jZS5lbWl0dGVkID0ge307XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSA9IHRydWU7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBvbmNlSGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNixcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9XG59XG5jb25zdCBtaXhpbkVtaXRzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBfX1ZVRV9PUFRJT05TX0FQSV9fICYmIGFzTWl4aW4gPyBtaXhpbkVtaXRzQ2FjaGUgOiBhcHBDb250ZXh0LmVtaXRzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xuICBsZXQgbm9ybWFsaXplZCA9IHt9O1xuICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xuICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdzIpID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGcm9tRXh0ZW5kID0gbm9ybWFsaXplRW1pdHNPcHRpb25zKHJhdzIsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgaWYgKG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKSB7XG4gICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xuICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgbm9ybWFsaXplZEZyb21FeHRlbmQpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZEVtaXRzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICByYXcuZm9yRWFjaCgoa2V5KSA9PiBub3JtYWxpemVkW2tleV0gPSBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICBleHRlbmQobm9ybWFsaXplZCwgcmF3KTtcbiAgfVxuICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICBjYWNoZS5zZXQoY29tcCwgbm9ybWFsaXplZCk7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59XG5mdW5jdGlvbiBpc0VtaXRMaXN0ZW5lcihvcHRpb25zLCBrZXkpIHtcbiAgaWYgKCFvcHRpb25zIHx8ICFpc09uKGtleSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAga2V5ID0ga2V5LnNsaWNlKDIpLnJlcGxhY2UoL09uY2UkLywgXCJcIik7XG4gIHJldHVybiBoYXNPd24ob3B0aW9ucywga2V5WzBdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSkpIHx8IGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHwgaGFzT3duKG9wdGlvbnMsIGtleSk7XG59XG5cbmxldCBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcbiAgYWNjZXNzZWRBdHRycyA9IHRydWU7XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgdm5vZGUsXG4gICAgcHJveHksXG4gICAgd2l0aFByb3h5LFxuICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sXG4gICAgc2xvdHMsXG4gICAgYXR0cnMsXG4gICAgZW1pdCxcbiAgICByZW5kZXIsXG4gICAgcmVuZGVyQ2FjaGUsXG4gICAgcHJvcHMsXG4gICAgZGF0YSxcbiAgICBzZXR1cFN0YXRlLFxuICAgIGN0eCxcbiAgICBpbmhlcml0QXR0cnNcbiAgfSA9IGluc3RhbmNlO1xuICBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKTtcbiAgbGV0IHJlc3VsdDtcbiAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQpIHtcbiAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XG4gICAgICBjb25zdCB0aGlzUHJveHkgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwID8gbmV3IFByb3h5KHByb3h5VG9Vc2UsIHtcbiAgICAgICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBQcm9wZXJ0eSAnJHtTdHJpbmcoXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKX0nIHdhcyBhY2Nlc3NlZCB2aWEgJ3RoaXMnLiBBdm9pZCB1c2luZyAndGhpcycgaW4gdGVtcGxhdGVzLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICB9KSA6IHByb3h5VG9Vc2U7XG4gICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShcbiAgICAgICAgcmVuZGVyLmNhbGwoXG4gICAgICAgICAgdGhpc1Byb3h5LFxuICAgICAgICAgIHByb3h5VG9Vc2UsXG4gICAgICAgICAgcmVuZGVyQ2FjaGUsXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICBzZXR1cFN0YXRlLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgY3R4XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlbmRlcjIgPSBDb21wb25lbnQ7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcbiAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIyLmxlbmd0aCA+IDEgPyByZW5kZXIyKFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocHJvcHMpIDogcHJvcHMsXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShhdHRycyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvdHMsXG4gICAgICAgICAgICBlbWl0XG4gICAgICAgICAgfSA6IHsgYXR0cnMsIHNsb3RzLCBlbWl0IH1cbiAgICAgICAgKSA6IHJlbmRlcjIoXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICBudWxsXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gQ29tcG9uZW50LnByb3BzID8gYXR0cnMgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYmxvY2tTdGFjay5sZW5ndGggPSAwO1xuICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEpO1xuICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICB9XG4gIGxldCByb290ID0gcmVzdWx0O1xuICBsZXQgc2V0Um9vdCA9IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiYgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcbiAgfVxuICBpZiAoZmFsbHRocm91Z2hBdHRycyAmJiBpbmhlcml0QXR0cnMgIT09IGZhbHNlKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xuICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmICgxIHwgNikpIHtcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucyAmJiBrZXlzLnNvbWUoaXNNb2RlbExpc3RlbmVyKSkge1xuICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBmaWx0ZXJNb2RlbExpc3RlbmVycyhcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMsXG4gICAgICAgICAgICBwcm9wc09wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhYWNjZXNzZWRBdHRycyAmJiByb290LnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XG4gICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcbiAgICAgICAgY29uc3QgZXh0cmFBdHRycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGFsbEF0dHJzW2ldO1xuICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHRyYW5lb3VzIG5vbi1wcm9wcyBhdHRyaWJ1dGVzICgke2V4dHJhQXR0cnMuam9pbihcIiwgXCIpfSkgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IG9yIHRlbGVwb3J0IHJvb3Qgbm9kZXMuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50QXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4dHJhbmVvdXMgbm9uLWVtaXRzIGV2ZW50IGxpc3RlbmVycyAoJHtldmVudEF0dHJzLmpvaW4oXCIsIFwiKX0pIHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLiBJZiB0aGUgbGlzdGVuZXIgaXMgaW50ZW5kZWQgdG8gYmUgYSBjb21wb25lbnQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyIG9ubHksIGRlY2xhcmUgaXQgdXNpbmcgdGhlIFwiZW1pdHNcIiBvcHRpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIFRoZSBkaXJlY3RpdmVzIHdpbGwgbm90IGZ1bmN0aW9uIGFzIGludGVuZGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIG51bGwsIGZhbHNlLCB0cnVlKTtcbiAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcbiAgfVxuICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSB0aGF0IGNhbm5vdCBiZSBhbmltYXRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBzZXRUcmFuc2l0aW9uSG9va3Mocm9vdCwgdm5vZGUudHJhbnNpdGlvbik7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0Um9vdCkge1xuICAgIHNldFJvb3Qocm9vdCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gcm9vdDtcbiAgfVxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBnZXRDaGlsZFJvb3QgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgY29uc3QgZHluYW1pY0NoaWxkcmVuID0gdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICBjb25zdCBjaGlsZFJvb3QgPSBmaWx0ZXJTaW5nbGVSb290KHJhd0NoaWxkcmVuLCBmYWxzZSk7XG4gIGlmICghY2hpbGRSb290KSB7XG4gICAgcmV0dXJuIFt2bm9kZSwgdm9pZCAwXTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoaWxkUm9vdC5wYXRjaEZsYWcgPiAwICYmIGNoaWxkUm9vdC5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgcmV0dXJuIGdldENoaWxkUm9vdChjaGlsZFJvb3QpO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gcmF3Q2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpO1xuICBjb25zdCBkeW5hbWljSW5kZXggPSBkeW5hbWljQ2hpbGRyZW4gPyBkeW5hbWljQ2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpIDogLTE7XG4gIGNvbnN0IHNldFJvb3QgPSAodXBkYXRlZFJvb3QpID0+IHtcbiAgICByYXdDaGlsZHJlbltpbmRleF0gPSB1cGRhdGVkUm9vdDtcbiAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICBpZiAoZHluYW1pY0luZGV4ID4gLTEpIHtcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuW2R5bmFtaWNJbmRleF0gPSB1cGRhdGVkUm9vdDtcbiAgICAgIH0gZWxzZSBpZiAodXBkYXRlZFJvb3QucGF0Y2hGbGFnID4gMCkge1xuICAgICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBbLi4uZHluYW1pY0NoaWxkcmVuLCB1cGRhdGVkUm9vdF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gW25vcm1hbGl6ZVZOb2RlKGNoaWxkUm9vdCksIHNldFJvb3RdO1xufTtcbmZ1bmN0aW9uIGZpbHRlclNpbmdsZVJvb3QoY2hpbGRyZW4sIHJlY3Vyc2UgPSB0cnVlKSB7XG4gIGxldCBzaW5nbGVSb290O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoaXNWTm9kZShjaGlsZCkpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlICE9PSBDb21tZW50IHx8IGNoaWxkLmNoaWxkcmVuID09PSBcInYtaWZcIikge1xuICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaW5nbGVSb290ID0gY2hpbGQ7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcmVjdXJzZSAmJiBzaW5nbGVSb290LnBhdGNoRmxhZyA+IDAgJiYgc2luZ2xlUm9vdC5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyU2luZ2xlUm9vdChzaW5nbGVSb290LmNoaWxkcmVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2luZ2xlUm9vdDtcbn1cbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xuICBsZXQgcmVzO1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgIGlmIChrZXkgPT09IFwiY2xhc3NcIiB8fCBrZXkgPT09IFwic3R5bGVcIiB8fCBpc09uKGtleSkpIHtcbiAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XG4gIGNvbnN0IHJlcyA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkgfHwgIShrZXkuc2xpY2UoOSkgaW4gcHJvcHMpKSB7XG4gICAgICByZXNba2V5XSA9IGF0dHJzW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuY29uc3QgaXNFbGVtZW50Um9vdCA9ICh2bm9kZSkgPT4ge1xuICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgKDYgfCAxKSB8fCB2bm9kZS50eXBlID09PSBDb21tZW50O1xufTtcbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZUNvbXBvbmVudChwcmV2Vk5vZGUsIG5leHRWTm9kZSwgb3B0aW1pemVkKSB7XG4gIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XG4gIGNvbnN0IHsgcHJvcHM6IG5leHRQcm9wcywgY2hpbGRyZW46IG5leHRDaGlsZHJlbiwgcGF0Y2hGbGFnIH0gPSBuZXh0Vk5vZGU7XG4gIGNvbnN0IGVtaXRzID0gY29tcG9uZW50LmVtaXRzT3B0aW9ucztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAob3B0aW1pemVkICYmIHBhdGNoRmxhZyA+PSAwKSB7XG4gICAgaWYgKHBhdGNoRmxhZyAmIDEwMjQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocGF0Y2hGbGFnICYgMTYpIHtcbiAgICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgIGNvbnN0IGR5bmFtaWNQcm9wcyA9IG5leHRWTm9kZS5keW5hbWljUHJvcHM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBkeW5hbWljUHJvcHNbaV07XG4gICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiYgIWlzRW1pdExpc3RlbmVyKGVtaXRzLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgIGlmICghbmV4dENoaWxkcmVuIHx8ICFuZXh0Q2hpbGRyZW4uJHN0YWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgfVxuICAgIGlmICghbmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHNPcHRpb25zKSB7XG4gIGNvbnN0IG5leHRLZXlzID0gT2JqZWN0LmtleXMobmV4dFByb3BzKTtcbiAgaWYgKG5leHRLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMocHJldlByb3BzKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0gbmV4dEtleXNbaV07XG4gICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJiAhaXNFbWl0TGlzdGVuZXIoZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCkge1xuICB3aGlsZSAocGFyZW50KSB7XG4gICAgY29uc3Qgcm9vdCA9IHBhcmVudC5zdWJUcmVlO1xuICAgIGlmIChyb290LnN1c3BlbnNlICYmIHJvb3Quc3VzcGVuc2UuYWN0aXZlQnJhbmNoID09PSB2bm9kZSkge1xuICAgICAgcm9vdC5lbCA9IHZub2RlLmVsO1xuICAgIH1cbiAgICBpZiAocm9vdCA9PT0gdm5vZGUpIHtcbiAgICAgICh2bm9kZSA9IHBhcmVudC52bm9kZSkuZWwgPSBlbDtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBpc1N1c3BlbnNlID0gKHR5cGUpID0+IHR5cGUuX19pc1N1c3BlbnNlO1xubGV0IHN1c3BlbnNlSWQgPSAwO1xuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xuICBuYW1lOiBcIlN1c3BlbnNlXCIsXG4gIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcbiAgLy8gZGlyZWN0bHkgaW4gdGhlIHJlbmRlcmVyLiBUaGUgcmVuZGVyZXIgY2hlY2tzIGZvciB0aGUgX19pc1N1c3BlbnNlIGZsYWdcbiAgLy8gb24gYSB2bm9kZSdzIHR5cGUgYW5kIGNhbGxzIHRoZSBgcHJvY2Vzc2AgbWV0aG9kLCBwYXNzaW5nIGluIHJlbmRlcmVyXG4gIC8vIGludGVybmFscy5cbiAgX19pc1N1c3BlbnNlOiB0cnVlLFxuICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIG1vdW50U3VzcGVuc2UoXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5kZXBzID4gMCAmJiAhbjEuc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIG4yLnN1c3BlbnNlID0gbjEuc3VzcGVuc2U7XG4gICAgICAgIG4yLnN1c3BlbnNlLnZub2RlID0gbjI7XG4gICAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhdGNoU3VzcGVuc2UoXG4gICAgICAgIG4xLFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgICAgICk7XG4gICAgfVxuICB9LFxuICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlblxufTtcbmNvbnN0IFN1c3BlbnNlID0gU3VzcGVuc2VJbXBsIDtcbmZ1bmN0aW9uIHRyaWdnZXJFdmVudCh2bm9kZSwgbmFtZSkge1xuICBjb25zdCBldmVudExpc3RlbmVyID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHNbbmFtZV07XG4gIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgZXZlbnRMaXN0ZW5lcigpO1xuICB9XG59XG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkoXG4gICAgdm5vZGUsXG4gICAgcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIGNvbnRhaW5lcixcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgYW5jaG9yLFxuICAgIG5hbWVzcGFjZSxcbiAgICBzbG90U2NvcGVJZHMsXG4gICAgb3B0aW1pemVkLFxuICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICk7XG4gIHBhdGNoKFxuICAgIG51bGwsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgbnVsbCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkc1xuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcbiAgICB0cmlnZ2VyRXZlbnQodm5vZGUsIFwib25QZW5kaW5nXCIpO1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvbkZhbGxiYWNrXCIpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLnNzRmFsbGJhY2ssXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuZnVuY3Rpb24gcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgbjIuZWwgPSBuMS5lbDtcbiAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xuICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XG4gIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcbiAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgIGlmIChpc1NhbWVWTm9kZVR5cGUocGVuZGluZ0JyYW5jaCwgbmV3QnJhbmNoKSkge1xuICAgICAgcGF0Y2goXG4gICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBzdXNwZW5zZUlkKys7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5kZXBzID0gMDtcbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcbiAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgICAgbmV3RmFsbGJhY2ssXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShhY3RpdmVCcmFuY2gsIG5ld0JyYW5jaCkpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUoYWN0aXZlQnJhbmNoLCBuZXdCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmlnZ2VyRXZlbnQobjIsIFwib25QZW5kaW5nXCIpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgIGlmIChuZXdCcmFuY2guc2hhcGVGbGFnICYgNTEyKSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IG5ld0JyYW5jaC5jb21wb25lbnQuc3VzcGVuc2VJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIH1cbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xuICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxubGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSAmJiAhaGFzV2FybmVkKSB7XG4gICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/IFwiaW5mb1wiIDogXCJsb2dcIl0oXG4gICAgICBgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG06IG1vdmUsXG4gICAgdW06IHVubW91bnQsXG4gICAgbjogbmV4dCxcbiAgICBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgbGV0IHBhcmVudFN1c3BlbnNlSWQ7XG4gIGNvbnN0IGlzU3VzcGVuc2libGUgPSBpc1ZOb2RlU3VzcGVuc2libGUodm5vZGUpO1xuICBpZiAoaXNTdXNwZW5zaWJsZSkge1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICBwYXJlbnRTdXNwZW5zZUlkID0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkO1xuICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcysrO1xuICAgIH1cbiAgfVxuICBjb25zdCB0aW1lb3V0ID0gdm5vZGUucHJvcHMgPyB0b051bWJlcih2bm9kZS5wcm9wcy50aW1lb3V0KSA6IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIodGltZW91dCwgYFN1c3BlbnNlIHRpbWVvdXRgKTtcbiAgfVxuICBjb25zdCBpbml0aWFsQW5jaG9yID0gYW5jaG9yO1xuICBjb25zdCBzdXNwZW5zZSA9IHtcbiAgICB2bm9kZSxcbiAgICBwYXJlbnQ6IHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBuYW1lc3BhY2UsXG4gICAgY29udGFpbmVyLFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBkZXBzOiAwLFxuICAgIHBlbmRpbmdJZDogc3VzcGVuc2VJZCsrLFxuICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSBcIm51bWJlclwiID8gdGltZW91dCA6IC0xLFxuICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcbiAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxuICAgIGlzSW5GYWxsYmFjazogIWlzSHlkcmF0aW5nLFxuICAgIGlzSHlkcmF0aW5nLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBlZmZlY3RzOiBbXSxcbiAgICByZXNvbHZlKHJlc3VtZSA9IGZhbHNlLCBzeW5jID0gZmFsc2UpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGlmICghcmVzdW1lICYmICFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXNwZW5zZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZub2RlOiB2bm9kZTIsXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgcGVuZGluZ0lkLFxuICAgICAgICBlZmZlY3RzLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQ6IHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyMlxuICAgICAgfSA9IHN1c3BlbnNlO1xuICAgICAgbGV0IGRlbGF5RW50ZXIgPSBmYWxzZTtcbiAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghcmVzdW1lKSB7XG4gICAgICAgIGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgbW92ZShcbiAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICAgICAgYW5jaG9yID09PSBpbml0aWFsQW5jaG9yID8gbmV4dChhY3RpdmVCcmFuY2gpIDogYW5jaG9yLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgICBpZiAocGFyZW50Tm9kZShhY3RpdmVCcmFuY2guZWwpID09PSBjb250YWluZXIyKSB7XG4gICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQyLCBzdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG51bGw7XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XG4gICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XG4gICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XG4gICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNVbnJlc29sdmVkQW5jZXN0b3IgJiYgIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcbiAgICAgIGlmIChpc1N1c3BlbnNpYmxlKSB7XG4gICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmIHBhcmVudFN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCAmJiAhc3luYykge1xuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvblJlc29sdmVcIik7XG4gICAgfSxcbiAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XG4gICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MiwgY29udGFpbmVyOiBjb250YWluZXIyLCBuYW1lc3BhY2U6IG5hbWVzcGFjZTIgfSA9IHN1c3BlbnNlO1xuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvbkZhbGxiYWNrXCIpO1xuICAgICAgY29uc3QgYW5jaG9yMiA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmFsbGJhY2tWTm9kZSxcbiAgICAgICAgICBjb250YWluZXIyLFxuICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgbmFtZXNwYWNlMixcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XG4gICAgICB9O1xuICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gXCJvdXQtaW5cIjtcbiAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSBtb3VudEZhbGxiYWNrO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIHVubW91bnQoXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xuICAgICAgICB0cnVlXG4gICAgICAgIC8vIHNob3VsZFJlbW92ZVxuICAgICAgKTtcbiAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICBtb3VudEZhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtb3ZlKGNvbnRhaW5lcjIsIGFuY2hvcjIsIHR5cGUpIHtcbiAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBtb3ZlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSk7XG4gICAgICBzdXNwZW5zZS5jb250YWluZXIgPSBjb250YWluZXIyO1xuICAgIH0sXG4gICAgbmV4dCgpIHtcbiAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xuICAgIH0sXG4gICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0LCBvcHRpbWl6ZWQyKSB7XG4gICAgICBjb25zdCBpc0luUGVuZGluZ1N1c3BlbnNlID0gISFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoO1xuICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UpIHtcbiAgICAgICAgc3VzcGVuc2UuZGVwcysrO1xuICAgICAgfVxuICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xuICAgICAgaW5zdGFuY2UuYXN5bmNEZXAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwKTtcbiAgICAgIH0pLnRoZW4oKGFzeW5jU2V0dXBSZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUyKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xuICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xuICAgICAgICAgIHZub2RlMi5lbCA9IGh5ZHJhdGVkRWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICB2bm9kZTIsXG4gICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gbW92ZWQgYmVmb3JlIHJlc29sdmUuXG4gICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxuICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxuICAgICAgICAgIHBhcmVudE5vZGUoaHlkcmF0ZWRFbCB8fCBpbnN0YW5jZS5zdWJUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3Igd2lsbCBub3QgYmUgdXNlZCBpZiB0aGlzIGlzIGh5ZHJhdGlvbiwgc28gb25seSBuZWVkIHRvXG4gICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cbiAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZDJcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlMi5lbCk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZTIsIGRvUmVtb3ZlKSB7XG4gICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UyLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gc3VzcGVuc2U7XG59XG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xuICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeShcbiAgICB2bm9kZSxcbiAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgbm9kZS5wYXJlbnROb2RlLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgIG51bGwsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWQsXG4gICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCByZXN1bHQgPSBoeWRyYXRlTm9kZShcbiAgICBub2RlLFxuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIHN1c3BlbnNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWRcbiAgKTtcbiAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSkge1xuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBjb25zdCBpc1Nsb3RDaGlsZHJlbiA9IHNoYXBlRmxhZyAmIDMyO1xuICB2bm9kZS5zc0NvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoXG4gICAgaXNTbG90Q2hpbGRyZW4gPyBjaGlsZHJlbi5kZWZhdWx0IDogY2hpbGRyZW5cbiAgKTtcbiAgdm5vZGUuc3NGYWxsYmFjayA9IGlzU2xvdENoaWxkcmVuID8gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKSA6IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcbiAgbGV0IGJsb2NrO1xuICBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgIGNvbnN0IHRyYWNrQmxvY2sgPSBpc0Jsb2NrVHJlZUVuYWJsZWQgJiYgcy5fYztcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IGZhbHNlO1xuICAgICAgb3BlbkJsb2NrKCk7XG4gICAgfVxuICAgIHMgPSBzKCk7XG4gICAgaWYgKHRyYWNrQmxvY2spIHtcbiAgICAgIHMuX2QgPSB0cnVlO1xuICAgICAgYmxvY2sgPSBjdXJyZW50QmxvY2s7XG4gICAgICBjbG9zZUJsb2NrKCk7XG4gICAgfVxuICB9XG4gIGlmIChpc0FycmF5KHMpKSB7XG4gICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFzaW5nbGVDaGlsZCAmJiBzLmZpbHRlcigoY2hpbGQpID0+IGNoaWxkICE9PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKS5sZW5ndGggPiAwKSB7XG4gICAgICB3YXJuJDEoYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcbiAgICB9XG4gICAgcyA9IHNpbmdsZUNoaWxkO1xuICB9XG4gIHMgPSBub3JtYWxpemVWTm9kZShzKTtcbiAgaWYgKGJsb2NrICYmICFzLmR5bmFtaWNDaGlsZHJlbikge1xuICAgIHMuZHluYW1pY0NoaWxkcmVuID0gYmxvY2suZmlsdGVyKChjKSA9PiBjICE9PSBzKTtcbiAgfVxuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xuICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgYnJhbmNoKSB7XG4gIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcbiAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcbiAgbGV0IGVsID0gYnJhbmNoLmVsO1xuICB3aGlsZSAoIWVsICYmIGJyYW5jaC5jb21wb25lbnQpIHtcbiAgICBicmFuY2ggPSBicmFuY2guY29tcG9uZW50LnN1YlRyZWU7XG4gICAgZWwgPSBicmFuY2guZWw7XG4gIH1cbiAgdm5vZGUuZWwgPSBlbDtcbiAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcbiAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzVk5vZGVTdXNwZW5zaWJsZSh2bm9kZSkge1xuICBjb25zdCBzdXNwZW5zaWJsZSA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnN1c3BlbnNpYmxlO1xuICByZXR1cm4gc3VzcGVuc2libGUgIT0gbnVsbCAmJiBzdXNwZW5zaWJsZSAhPT0gZmFsc2U7XG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sLmZvcihcInYtZmd0XCIpO1xuY29uc3QgVGV4dCA9IFN5bWJvbC5mb3IoXCJ2LXR4dFwiKTtcbmNvbnN0IENvbW1lbnQgPSBTeW1ib2wuZm9yKFwidi1jbXRcIik7XG5jb25zdCBTdGF0aWMgPSBTeW1ib2wuZm9yKFwidi1zdGNcIik7XG5jb25zdCBibG9ja1N0YWNrID0gW107XG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xuICBibG9ja1N0YWNrLnB1c2goY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKTtcbn1cbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XG4gIGJsb2NrU3RhY2sucG9wKCk7XG4gIGN1cnJlbnRCbG9jayA9IGJsb2NrU3RhY2tbYmxvY2tTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xufVxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XG5mdW5jdGlvbiBzZXRCbG9ja1RyYWNraW5nKHZhbHVlLCBpblZPbmNlID0gZmFsc2UpIHtcbiAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xuICBpZiAodmFsdWUgPCAwICYmIGN1cnJlbnRCbG9jayAmJiBpblZPbmNlKSB7XG4gICAgY3VycmVudEJsb2NrLmhhc09uY2UgPSB0cnVlO1xuICB9XG59XG5mdW5jdGlvbiBzZXR1cEJsb2NrKHZub2RlKSB7XG4gIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgPyBjdXJyZW50QmxvY2sgfHwgRU1QVFlfQVJSIDogbnVsbDtcbiAgY2xvc2VCbG9jaygpO1xuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHNoYXBlRmxhZykge1xuICByZXR1cm4gc2V0dXBCbG9jayhcbiAgICBjcmVhdGVCYXNlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkeW5hbWljUHJvcHMsXG4gICAgICB0cnVlXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gaXNWTm9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuMi5zaGFwZUZsYWcgJiA2ICYmIG4xLmNvbXBvbmVudCkge1xuICAgIGNvbnN0IGRpcnR5SW5zdGFuY2VzID0gaG1yRGlydHlDb21wb25lbnRzLmdldChuMi50eXBlKTtcbiAgICBpZiAoZGlydHlJbnN0YW5jZXMgJiYgZGlydHlJbnN0YW5jZXMuaGFzKG4xLmNvbXBvbmVudCkpIHtcbiAgICAgIG4xLnNoYXBlRmxhZyAmPSAtMjU3O1xuICAgICAgbjIuc2hhcGVGbGFnICY9IC01MTM7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBuMS50eXBlID09PSBuMi50eXBlICYmIG4xLmtleSA9PT0gbjIua2V5O1xufVxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xuZnVuY3Rpb24gdHJhbnNmb3JtVk5vZGVBcmdzKHRyYW5zZm9ybWVyKSB7XG4gIHZub2RlQXJnc1RyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXI7XG59XG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcbiAgcmV0dXJuIF9jcmVhdGVWTm9kZShcbiAgICAuLi52bm9kZUFyZ3NUcmFuc2Zvcm1lciA/IHZub2RlQXJnc1RyYW5zZm9ybWVyKGFyZ3MsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkgOiBhcmdzXG4gICk7XG59O1xuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcbmNvbnN0IG5vcm1hbGl6ZVJlZiA9ICh7XG4gIHJlZixcbiAgcmVmX2tleSxcbiAgcmVmX2ZvclxufSkgPT4ge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gXCJudW1iZXJcIikge1xuICAgIHJlZiA9IFwiXCIgKyByZWY7XG4gIH1cbiAgcmV0dXJuIHJlZiAhPSBudWxsID8gaXNTdHJpbmcocmVmKSB8fCBpc1JlZihyZWYpIHx8IGlzRnVuY3Rpb24ocmVmKSA/IHsgaTogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCByOiByZWYsIGs6IHJlZl9rZXksIGY6ICEhcmVmX2ZvciB9IDogcmVmIDogbnVsbDtcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIHNoYXBlRmxhZyA9IHR5cGUgPT09IEZyYWdtZW50ID8gMCA6IDEsIGlzQmxvY2tOb2RlID0gZmFsc2UsIG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uID0gZmFsc2UpIHtcbiAgY29uc3Qgdm5vZGUgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBrZXk6IHByb3BzICYmIG5vcm1hbGl6ZUtleShwcm9wcyksXG4gICAgcmVmOiBwcm9wcyAmJiBub3JtYWxpemVSZWYocHJvcHMpLFxuICAgIHNjb3BlSWQ6IGN1cnJlbnRTY29wZUlkLFxuICAgIHNsb3RTY29wZUlkczogbnVsbCxcbiAgICBjaGlsZHJlbixcbiAgICBjb21wb25lbnQ6IG51bGwsXG4gICAgc3VzcGVuc2U6IG51bGwsXG4gICAgc3NDb250ZW50OiBudWxsLFxuICAgIHNzRmFsbGJhY2s6IG51bGwsXG4gICAgZGlyczogbnVsbCxcbiAgICB0cmFuc2l0aW9uOiBudWxsLFxuICAgIGVsOiBudWxsLFxuICAgIGFuY2hvcjogbnVsbCxcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgdGFyZ2V0U3RhcnQ6IG51bGwsXG4gICAgdGFyZ2V0QW5jaG9yOiBudWxsLFxuICAgIHN0YXRpY0NvdW50OiAwLFxuICAgIHNoYXBlRmxhZyxcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogbnVsbCxcbiAgICBhcHBDb250ZXh0OiBudWxsLFxuICAgIGN0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlXG4gIH07XG4gIGlmIChuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbikge1xuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdHlwZS5ub3JtYWxpemUodm5vZGUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIHZub2RlLnNoYXBlRmxhZyB8PSBpc1N0cmluZyhjaGlsZHJlbikgPyA4IDogMTY7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcbiAgICB3YXJuJDEoYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcbiAgfVxuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiAvLyBhdm9pZCBhIGJsb2NrIG5vZGUgZnJvbSB0cmFja2luZyBpdHNlbGZcbiAgIWlzQmxvY2tOb2RlICYmIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xuICBjdXJyZW50QmxvY2sgJiYgLy8gcHJlc2VuY2Ugb2YgYSBwYXRjaCBmbGFnIGluZGljYXRlcyB0aGlzIG5vZGUgbmVlZHMgcGF0Y2hpbmcgb24gdXBkYXRlcy5cbiAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXG4gIC8vIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gdXBkYXRlLCBpdCBuZWVkcyB0byBwZXJzaXN0IHRoZSBpbnN0YW5jZSBvbiB0b1xuICAvLyB0aGUgbmV4dCB2bm9kZSBzbyB0aGF0IGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWQgbGF0ZXIuXG4gICh2bm9kZS5wYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYpICYmIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxuICAvLyB2bm9kZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZHluYW1pYyBkdWUgdG8gaGFuZGxlciBjYWNoaW5nLlxuICB2bm9kZS5wYXRjaEZsYWcgIT09IDMyKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gOiBfY3JlYXRlVk5vZGU7XG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdHlwZSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcbiAgICB9XG4gICAgdHlwZSA9IENvbW1lbnQ7XG4gIH1cbiAgaWYgKGlzVk5vZGUodHlwZSkpIHtcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgdHJ1ZVxuICAgICAgLyogbWVyZ2VSZWY6IHRydWUgKi9cbiAgICApO1xuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XG4gICAgfVxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmICFpc0Jsb2NrTm9kZSAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgIGlmIChjbG9uZWQuc2hhcGVGbGFnICYgNikge1xuICAgICAgICBjdXJyZW50QmxvY2tbY3VycmVudEJsb2NrLmluZGV4T2YodHlwZSldID0gY2xvbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2goY2xvbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2xvbmVkLnBhdGNoRmxhZyA9IC0yO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbiAgaWYgKGlzQ2xhc3NDb21wb25lbnQodHlwZSkpIHtcbiAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XG4gIH1cbiAgaWYgKHByb3BzKSB7XG4gICAgcHJvcHMgPSBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xuICAgICAgaWYgKGlzUHJveHkoc3R5bGUpICYmICFpc0FycmF5KHN0eWxlKSkge1xuICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xuICAgICAgfVxuICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpID8gMSA6IGlzU3VzcGVuc2UodHlwZSkgPyAxMjggOiBpc1RlbGVwb3J0KHR5cGUpID8gNjQgOiBpc09iamVjdCh0eXBlKSA/IDQgOiBpc0Z1bmN0aW9uKHR5cGUpID8gMiA6IDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNoYXBlRmxhZyAmIDQgJiYgaXNQcm94eSh0eXBlKSkge1xuICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcbiAgICB3YXJuJDEoXG4gICAgICBgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLFxuICAgICAgYFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsXG4gICAgICB0eXBlXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQmFzZVZOb2RlKFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wcyxcbiAgICBzaGFwZUZsYWcsXG4gICAgaXNCbG9ja05vZGUsXG4gICAgdHJ1ZVxuICApO1xufVxuZnVuY3Rpb24gZ3VhcmRSZWFjdGl2ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHJldHVybiBudWxsO1xuICByZXR1cm4gaXNQcm94eShwcm9wcykgfHwgaXNJbnRlcm5hbE9iamVjdChwcm9wcykgPyBleHRlbmQoe30sIHByb3BzKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2bm9kZSwgZXh0cmFQcm9wcywgbWVyZ2VSZWYgPSBmYWxzZSwgY2xvbmVUcmFuc2l0aW9uID0gZmFsc2UpIHtcbiAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcbiAgY29uc3QgY2xvbmVkID0ge1xuICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgIF9fdl9za2lwOiB0cnVlLFxuICAgIHR5cGU6IHZub2RlLnR5cGUsXG4gICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcbiAgICByZWY6IGV4dHJhUHJvcHMgJiYgZXh0cmFQcm9wcy5yZWYgPyAoXG4gICAgICAvLyAjMjA3OCBpbiB0aGUgY2FzZSBvZiA8Y29tcG9uZW50IDppcz1cInZub2RlXCIgcmVmPVwiZXh0cmFcIi8+XG4gICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxuICAgICAgLy8gdGhlIHJlZnMgc28gdGhlIHNpbmdsZSB2bm9kZSBjYW4gYmUgc2V0IG9uIG11bHRpcGxlIHJlZnNcbiAgICAgIG1lcmdlUmVmICYmIHJlZiA/IGlzQXJyYXkocmVmKSA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKSA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV0gOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcbiAgICApIDogcmVmLFxuICAgIHNjb3BlSWQ6IHZub2RlLnNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgY2hpbGRyZW46ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcGF0Y2hGbGFnID09PSAtMSAmJiBpc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSkgOiBjaGlsZHJlbixcbiAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcbiAgICB0YXJnZXRTdGFydDogdm5vZGUudGFyZ2V0U3RhcnQsXG4gICAgdGFyZ2V0QW5jaG9yOiB2bm9kZS50YXJnZXRBbmNob3IsXG4gICAgc3RhdGljQ291bnQ6IHZub2RlLnN0YXRpY0NvdW50LFxuICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxuICAgIC8vIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgd2l0aCBleHRyYSBwcm9wcywgd2UgY2FuIG5vIGxvbmdlciBhc3N1bWUgaXRzXG4gICAgLy8gZXhpc3RpbmcgcGF0Y2ggZmxhZyB0byBiZSByZWxpYWJsZSBhbmQgbmVlZCB0byBhZGQgdGhlIEZVTExfUFJPUFMgZmxhZy5cbiAgICAvLyBub3RlOiBwcmVzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXG4gICAgLy8gZmFzdCBwYXRocyBvbmx5LlxuICAgIHBhdGNoRmxhZzogZXh0cmFQcm9wcyAmJiB2bm9kZS50eXBlICE9PSBGcmFnbWVudCA/IHBhdGNoRmxhZyA9PT0gLTEgPyAxNiA6IHBhdGNoRmxhZyB8IDE2IDogcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxuICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXG4gICAgZGlyczogdm5vZGUuZGlycyxcbiAgICB0cmFuc2l0aW9uLFxuICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxuICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxuICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcbiAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxuICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxuICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcbiAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXG4gICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxuICAgIHBsYWNlaG9sZGVyOiB2bm9kZS5wbGFjZWhvbGRlcixcbiAgICBlbDogdm5vZGUuZWwsXG4gICAgYW5jaG9yOiB2bm9kZS5hbmNob3IsXG4gICAgY3R4OiB2bm9kZS5jdHgsXG4gICAgY2U6IHZub2RlLmNlXG4gIH07XG4gIGlmICh0cmFuc2l0aW9uICYmIGNsb25lVHJhbnNpdGlvbikge1xuICAgIHNldFRyYW5zaXRpb25Ib29rcyhcbiAgICAgIGNsb25lZCxcbiAgICAgIHRyYW5zaXRpb24uY2xvbmUoY2xvbmVkKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNsb25lZDtcbn1cbmZ1bmN0aW9uIGRlZXBDbG9uZVZOb2RlKHZub2RlKSB7XG4gIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodm5vZGUpO1xuICBpZiAoaXNBcnJheSh2bm9kZS5jaGlsZHJlbikpIHtcbiAgICBjbG9uZWQuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpO1xuICB9XG4gIHJldHVybiBjbG9uZWQ7XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUodGV4dCA9IFwiIFwiLCBmbGFnID0gMCkge1xuICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdGV4dCwgZmxhZyk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XG4gIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoU3RhdGljLCBudWxsLCBjb250ZW50KTtcbiAgdm5vZGUuc3RhdGljQ291bnQgPSBudW1iZXJPZk5vZGVzO1xuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21tZW50Vk5vZGUodGV4dCA9IFwiXCIsIGFzQmxvY2sgPSBmYWxzZSkge1xuICByZXR1cm4gYXNCbG9jayA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2soQ29tbWVudCwgbnVsbCwgdGV4dCkpIDogY3JlYXRlVk5vZGUoQ29tbWVudCwgbnVsbCwgdGV4dCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZShjaGlsZCkge1xuICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoY2hpbGQpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFxuICAgICAgRnJhZ21lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gIzM2NjYsIGF2b2lkIHJlZmVyZW5jZSBwb2xsdXRpb24gd2hlbiByZXVzaW5nIHZub2RlXG4gICAgICBjaGlsZC5zbGljZSgpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xuICAgIHJldHVybiBjbG9uZUlmTW91bnRlZChjaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xuICB9XG59XG5mdW5jdGlvbiBjbG9uZUlmTW91bnRlZChjaGlsZCkge1xuICByZXR1cm4gY2hpbGQuZWwgPT09IG51bGwgJiYgY2hpbGQucGF0Y2hGbGFnICE9PSAtMSB8fCBjaGlsZC5tZW1vID8gY2hpbGQgOiBjbG9uZVZOb2RlKGNoaWxkKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbikge1xuICBsZXQgdHlwZSA9IDA7XG4gIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICBjaGlsZHJlbiA9IG51bGw7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICB0eXBlID0gMTY7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSBcIm9iamVjdFwiKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmICgxIHwgNjQpKSB7XG4gICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcbiAgICAgIGlmIChzbG90KSB7XG4gICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSBmYWxzZSk7XG4gICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xuICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSAzMjtcbiAgICAgIGNvbnN0IHNsb3RGbGFnID0gY2hpbGRyZW4uXztcbiAgICAgIGlmICghc2xvdEZsYWcgJiYgIWlzSW50ZXJuYWxPYmplY3QoY2hpbGRyZW4pKSB7XG4gICAgICAgIGNoaWxkcmVuLl9jdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgICB9IGVsc2UgaWYgKHNsb3RGbGFnID09PSAzICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnNsb3RzLl8gPT09IDEpIHtcbiAgICAgICAgICBjaGlsZHJlbi5fID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZHJlbi5fID0gMjtcbiAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgfD0gMTAyNDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xuICAgIGNoaWxkcmVuID0geyBkZWZhdWx0OiBjaGlsZHJlbiwgX2N0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIH07XG4gICAgdHlwZSA9IDMyO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgIHR5cGUgPSAxNjtcbiAgICAgIGNoaWxkcmVuID0gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gODtcbiAgICB9XG4gIH1cbiAgdm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdm5vZGUuc2hhcGVGbGFnIHw9IHR5cGU7XG59XG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLmFyZ3MpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRvTWVyZ2UpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgICAgICBpZiAocmV0LmNsYXNzICE9PSB0b01lcmdlLmNsYXNzKSB7XG4gICAgICAgICAgcmV0LmNsYXNzID0gbm9ybWFsaXplQ2xhc3MoW3JldC5jbGFzcywgdG9NZXJnZS5jbGFzc10pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICAgIHJldC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtyZXQuc3R5bGUsIHRvTWVyZ2Uuc3R5bGVdKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmV0W2tleV07XG4gICAgICAgIGNvbnN0IGluY29taW5nID0gdG9NZXJnZVtrZXldO1xuICAgICAgICBpZiAoaW5jb21pbmcgJiYgZXhpc3RpbmcgIT09IGluY29taW5nICYmICEoaXNBcnJheShleGlzdGluZykgJiYgZXhpc3RpbmcuaW5jbHVkZXMoaW5jb21pbmcpKSkge1xuICAgICAgICAgIHJldFtrZXldID0gZXhpc3RpbmcgPyBbXS5jb25jYXQoZXhpc3RpbmcsIGluY29taW5nKSA6IGluY29taW5nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSAhPT0gXCJcIikge1xuICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIGludm9rZVZOb2RlSG9vayhob29rLCBpbnN0YW5jZSwgdm5vZGUsIHByZXZWTm9kZSA9IG51bGwpIHtcbiAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcsIFtcbiAgICB2bm9kZSxcbiAgICBwcmV2Vk5vZGVcbiAgXSk7XG59XG5cbmNvbnN0IGVtcHR5QXBwQ29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbmxldCB1aWQgPSAwO1xuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2Uodm5vZGUsIHBhcmVudCwgc3VzcGVuc2UpIHtcbiAgY29uc3QgdHlwZSA9IHZub2RlLnR5cGU7XG4gIGNvbnN0IGFwcENvbnRleHQgPSAocGFyZW50ID8gcGFyZW50LmFwcENvbnRleHQgOiB2bm9kZS5hcHBDb250ZXh0KSB8fCBlbXB0eUFwcENvbnRleHQ7XG4gIGNvbnN0IGluc3RhbmNlID0ge1xuICAgIHVpZDogdWlkKyssXG4gICAgdm5vZGUsXG4gICAgdHlwZSxcbiAgICBwYXJlbnQsXG4gICAgYXBwQ29udGV4dCxcbiAgICByb290OiBudWxsLFxuICAgIC8vIHRvIGJlIGltbWVkaWF0ZWx5IHNldFxuICAgIG5leHQ6IG51bGwsXG4gICAgc3ViVHJlZTogbnVsbCxcbiAgICAvLyB3aWxsIGJlIHNldCBzeW5jaHJvbm91c2x5IHJpZ2h0IGFmdGVyIGNyZWF0aW9uXG4gICAgZWZmZWN0OiBudWxsLFxuICAgIHVwZGF0ZTogbnVsbCxcbiAgICAvLyB3aWxsIGJlIHNldCBzeW5jaHJvbm91c2x5IHJpZ2h0IGFmdGVyIGNyZWF0aW9uXG4gICAgam9iOiBudWxsLFxuICAgIHNjb3BlOiBuZXcgRWZmZWN0U2NvcGUoXG4gICAgICB0cnVlXG4gICAgICAvKiBkZXRhY2hlZCAqL1xuICAgICksXG4gICAgcmVuZGVyOiBudWxsLFxuICAgIHByb3h5OiBudWxsLFxuICAgIGV4cG9zZWQ6IG51bGwsXG4gICAgZXhwb3NlUHJveHk6IG51bGwsXG4gICAgd2l0aFByb3h5OiBudWxsLFxuICAgIHByb3ZpZGVzOiBwYXJlbnQgPyBwYXJlbnQucHJvdmlkZXMgOiBPYmplY3QuY3JlYXRlKGFwcENvbnRleHQucHJvdmlkZXMpLFxuICAgIGlkczogcGFyZW50ID8gcGFyZW50LmlkcyA6IFtcIlwiLCAwLCAwXSxcbiAgICBhY2Nlc3NDYWNoZTogbnVsbCxcbiAgICByZW5kZXJDYWNoZTogW10sXG4gICAgLy8gbG9jYWwgcmVzb2x2ZWQgYXNzZXRzXG4gICAgY29tcG9uZW50czogbnVsbCxcbiAgICBkaXJlY3RpdmVzOiBudWxsLFxuICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXG4gICAgcHJvcHNPcHRpb25zOiBub3JtYWxpemVQcm9wc09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgZW1pdHNPcHRpb25zOiBub3JtYWxpemVFbWl0c09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgLy8gZW1pdFxuICAgIGVtaXQ6IG51bGwsXG4gICAgLy8gdG8gYmUgc2V0IGltbWVkaWF0ZWx5XG4gICAgZW1pdHRlZDogbnVsbCxcbiAgICAvLyBwcm9wcyBkZWZhdWx0IHZhbHVlXG4gICAgcHJvcHNEZWZhdWx0czogRU1QVFlfT0JKLFxuICAgIC8vIGluaGVyaXRBdHRyc1xuICAgIGluaGVyaXRBdHRyczogdHlwZS5pbmhlcml0QXR0cnMsXG4gICAgLy8gc3RhdGVcbiAgICBjdHg6IEVNUFRZX09CSixcbiAgICBkYXRhOiBFTVBUWV9PQkosXG4gICAgcHJvcHM6IEVNUFRZX09CSixcbiAgICBhdHRyczogRU1QVFlfT0JKLFxuICAgIHNsb3RzOiBFTVBUWV9PQkosXG4gICAgcmVmczogRU1QVFlfT0JKLFxuICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcbiAgICBzZXR1cENvbnRleHQ6IG51bGwsXG4gICAgLy8gc3VzcGVuc2UgcmVsYXRlZFxuICAgIHN1c3BlbnNlLFxuICAgIHN1c3BlbnNlSWQ6IHN1c3BlbnNlID8gc3VzcGVuc2UucGVuZGluZ0lkIDogMCxcbiAgICBhc3luY0RlcDogbnVsbCxcbiAgICBhc3luY1Jlc29sdmVkOiBmYWxzZSxcbiAgICAvLyBsaWZlY3ljbGUgaG9va3NcbiAgICAvLyBub3QgdXNpbmcgZW51bXMgaGVyZSBiZWNhdXNlIGl0IHJlc3VsdHMgaW4gY29tcHV0ZWQgcHJvcGVydGllc1xuICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgIGlzRGVhY3RpdmF0ZWQ6IGZhbHNlLFxuICAgIGJjOiBudWxsLFxuICAgIGM6IG51bGwsXG4gICAgYm06IG51bGwsXG4gICAgbTogbnVsbCxcbiAgICBidTogbnVsbCxcbiAgICB1OiBudWxsLFxuICAgIHVtOiBudWxsLFxuICAgIGJ1bTogbnVsbCxcbiAgICBkYTogbnVsbCxcbiAgICBhOiBudWxsLFxuICAgIHJ0ZzogbnVsbCxcbiAgICBydGM6IG51bGwsXG4gICAgZWM6IG51bGwsXG4gICAgc3A6IG51bGxcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbnN0YW5jZS5jdHggPSBjcmVhdGVEZXZSZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICBpbnN0YW5jZS5jdHggPSB7IF86IGluc3RhbmNlIH07XG4gIH1cbiAgaW5zdGFuY2Uucm9vdCA9IHBhcmVudCA/IHBhcmVudC5yb290IDogaW5zdGFuY2U7XG4gIGluc3RhbmNlLmVtaXQgPSBlbWl0LmJpbmQobnVsbCwgaW5zdGFuY2UpO1xuICBpZiAodm5vZGUuY2UpIHtcbiAgICB2bm9kZS5jZShpbnN0YW5jZSk7XG4gIH1cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxubGV0IGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XG5jb25zdCBnZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xubGV0IGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlO1xubGV0IHNldEluU1NSU2V0dXBTdGF0ZTtcbntcbiAgY29uc3QgZyA9IGdldEdsb2JhbFRoaXMoKTtcbiAgY29uc3QgcmVnaXN0ZXJHbG9iYWxTZXR0ZXIgPSAoa2V5LCBzZXR0ZXIpID0+IHtcbiAgICBsZXQgc2V0dGVycztcbiAgICBpZiAoIShzZXR0ZXJzID0gZ1trZXldKSkgc2V0dGVycyA9IGdba2V5XSA9IFtdO1xuICAgIHNldHRlcnMucHVzaChzZXR0ZXIpO1xuICAgIHJldHVybiAodikgPT4ge1xuICAgICAgaWYgKHNldHRlcnMubGVuZ3RoID4gMSkgc2V0dGVycy5mb3JFYWNoKChzZXQpID0+IHNldCh2KSk7XG4gICAgICBlbHNlIHNldHRlcnNbMF0odik7XG4gICAgfTtcbiAgfTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UgPSByZWdpc3Rlckdsb2JhbFNldHRlcihcbiAgICBgX19WVUVfSU5TVEFOQ0VfU0VUVEVSU19fYCxcbiAgICAodikgPT4gY3VycmVudEluc3RhbmNlID0gdlxuICApO1xuICBzZXRJblNTUlNldHVwU3RhdGUgPSByZWdpc3Rlckdsb2JhbFNldHRlcihcbiAgICBgX19WVUVfU1NSX1NFVFRFUlNfX2AsXG4gICAgKHYpID0+IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IHZcbiAgKTtcbn1cbmNvbnN0IHNldEN1cnJlbnRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xuICBjb25zdCBwcmV2ID0gY3VycmVudEluc3RhbmNlO1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gIGluc3RhbmNlLnNjb3BlLm9uKCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gICAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UocHJldik7XG4gIH07XG59O1xuY29uc3QgdW5zZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiB7XG4gIGN1cnJlbnRJbnN0YW5jZSAmJiBjdXJyZW50SW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKG51bGwpO1xufTtcbmNvbnN0IGlzQnVpbHRJblRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFwic2xvdCxjb21wb25lbnRcIik7XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgeyBpc05hdGl2ZVRhZyB9KSB7XG4gIGlmIChpc0J1aWx0SW5UYWcobmFtZSkgfHwgaXNOYXRpdmVUYWcobmFtZSkpIHtcbiAgICB3YXJuJDEoXG4gICAgICBcIkRvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6IFwiICsgbmFtZVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDQ7XG59XG5sZXQgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XG5mdW5jdGlvbiBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpIHtcbiAgaXNTU1IgJiYgc2V0SW5TU1JTZXR1cFN0YXRlKGlzU1NSKTtcbiAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4gfSA9IGluc3RhbmNlLnZub2RlO1xuICBjb25zdCBpc1N0YXRlZnVsID0gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSk7XG4gIGluaXRQcm9wcyhpbnN0YW5jZSwgcHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSKTtcbiAgaW5pdFNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkIHx8IGlzU1NSKTtcbiAgY29uc3Qgc2V0dXBSZXN1bHQgPSBpc1N0YXRlZnVsID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpIDogdm9pZCAwO1xuICBpc1NTUiAmJiBzZXRJblNTUlNldHVwU3RhdGUoZmFsc2UpO1xuICByZXR1cm4gc2V0dXBSZXN1bHQ7XG59XG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xuICB2YXIgX2E7XG4gIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaWYgKENvbXBvbmVudC5uYW1lKSB7XG4gICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoQ29tcG9uZW50Lm5hbWUsIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5jb21wb25lbnRzKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuZGlyZWN0aXZlcykge1xuICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuZGlyZWN0aXZlcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuY29tcGlsZXJPcHRpb25zICYmIGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgXCJjb21waWxlck9wdGlvbnNcIiBpcyBvbmx5IHN1cHBvcnRlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIuIFNpbmNlIHlvdSBhcmUgdXNpbmcgYSBydW50aW1lLW9ubHkgYnVpbGQsIHRoZSBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHlvdXIgYnVpbGQgdG9vbCBjb25maWcgaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpbnN0YW5jZS5wcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5jdHgsIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9XG4gIGNvbnN0IHsgc2V0dXAgfSA9IENvbXBvbmVudDtcbiAgaWYgKHNldHVwKSB7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGNvbnN0IHNldHVwQ29udGV4dCA9IGluc3RhbmNlLnNldHVwQ29udGV4dCA9IHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbDtcbiAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBzZXR1cCxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMCxcbiAgICAgIFtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcyxcbiAgICAgICAgc2V0dXBDb250ZXh0XG4gICAgICBdXG4gICAgKTtcbiAgICBjb25zdCBpc0FzeW5jU2V0dXAgPSBpc1Byb21pc2Uoc2V0dXBSZXN1bHQpO1xuICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICByZXNldCgpO1xuICAgIGlmICgoaXNBc3luY1NldHVwIHx8IGluc3RhbmNlLnNwKSAmJiAhaXNBc3luY1dyYXBwZXIoaW5zdGFuY2UpKSB7XG4gICAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChpc0FzeW5jU2V0dXApIHtcbiAgICAgIHNldHVwUmVzdWx0LnRoZW4odW5zZXRDdXJyZW50SW5zdGFuY2UsIHVuc2V0Q3VycmVudEluc3RhbmNlKTtcbiAgICAgIGlmIChpc1NTUikge1xuICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHQudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcbiAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlLCBpbnN0YW5jZSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWluc3RhbmNlLnN1c3BlbnNlKSB7XG4gICAgICAgICAgY29uc3QgbmFtZSA9IChfYSA9IENvbXBvbmVudC5uYW1lKSAhPSBudWxsID8gX2EgOiBcIkFub255bW91c1wiO1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBDb21wb25lbnQgPCR7bmFtZX0+OiBzZXR1cCBmdW5jdGlvbiByZXR1cm5lZCBhIHByb21pc2UsIGJ1dCBubyA8U3VzcGVuc2U+IGJvdW5kYXJ5IHdhcyBmb3VuZCBpbiB0aGUgcGFyZW50IGNvbXBvbmVudCB0cmVlLiBBIGNvbXBvbmVudCB3aXRoIGFzeW5jIHNldHVwKCkgbXVzdCBiZSBuZXN0ZWQgaW4gYSA8U3VzcGVuc2U+IGluIG9yZGVyIHRvIGJlIHJlbmRlcmVkLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHNldHVwUmVzdWx0KSkge1xuICAgIGlmIChpbnN0YW5jZS50eXBlLl9fc3NySW5saW5lUmVuZGVyKSB7XG4gICAgICBpbnN0YW5jZS5zc3JSZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UucmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzVk5vZGUoc2V0dXBSZXN1bHQpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBzZXR1cCgpIHNob3VsZCBub3QgcmV0dXJuIFZOb2RlcyBkaXJlY3RseSAtIHJldHVybiBhIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgaW5zdGFuY2UuZGV2dG9vbHNSYXdTZXR1cFN0YXRlID0gc2V0dXBSZXN1bHQ7XG4gICAgfVxuICAgIGluc3RhbmNlLnNldHVwU3RhdGUgPSBwcm94eVJlZnMoc2V0dXBSZXN1bHQpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFJlc3VsdCAhPT0gdm9pZCAwKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHNldHVwKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuIFJlY2VpdmVkOiAke3NldHVwUmVzdWx0ID09PSBudWxsID8gXCJudWxsXCIgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YFxuICAgICk7XG4gIH1cbiAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcbn1cbmxldCBjb21waWxlO1xubGV0IGluc3RhbGxXaXRoUHJveHk7XG5mdW5jdGlvbiByZWdpc3RlclJ1bnRpbWVDb21waWxlcihfY29tcGlsZSkge1xuICBjb21waWxlID0gX2NvbXBpbGU7XG4gIGluc3RhbGxXaXRoUHJveHkgPSAoaSkgPT4ge1xuICAgIGlmIChpLnJlbmRlci5fcmMpIHtcbiAgICAgIGkud2l0aFByb3h5ID0gbmV3IFByb3h5KGkuY3R4LCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xuICAgIH1cbiAgfTtcbn1cbmNvbnN0IGlzUnVudGltZU9ubHkgPSAoKSA9PiAhY29tcGlsZTtcbmZ1bmN0aW9uIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUiwgc2tpcE9wdGlvbnMpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgaWYgKCFpbnN0YW5jZS5yZW5kZXIpIHtcbiAgICBpZiAoIWlzU1NSICYmIGNvbXBpbGUgJiYgIUNvbXBvbmVudC5yZW5kZXIpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gQ29tcG9uZW50LnRlbXBsYXRlIHx8IF9fVlVFX09QVElPTlNfQVBJX18gJiYgcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpLnRlbXBsYXRlO1xuICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaXNDdXN0b21FbGVtZW50LCBjb21waWxlck9wdGlvbnMgfSA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnO1xuICAgICAgICBjb25zdCB7IGRlbGltaXRlcnMsIGNvbXBpbGVyT3B0aW9uczogY29tcG9uZW50Q29tcGlsZXJPcHRpb25zIH0gPSBDb21wb25lbnQ7XG4gICAgICAgIGNvbnN0IGZpbmFsQ29tcGlsZXJPcHRpb25zID0gZXh0ZW5kKFxuICAgICAgICAgIGV4dGVuZChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50LFxuICAgICAgICAgICAgICBkZWxpbWl0ZXJzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjb21wb25lbnRDb21waWxlck9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgQ29tcG9uZW50LnJlbmRlciA9IGNvbXBpbGUodGVtcGxhdGUsIGZpbmFsQ29tcGlsZXJPcHRpb25zKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLnJlbmRlciA9IENvbXBvbmVudC5yZW5kZXIgfHwgTk9PUDtcbiAgICBpZiAoaW5zdGFsbFdpdGhQcm94eSkge1xuICAgICAgaW5zdGFsbFdpdGhQcm94eShpbnN0YW5jZSk7XG4gICAgfVxuICB9XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmIHRydWUpIHtcbiAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIHRyeSB7XG4gICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhQ29tcG9uZW50LnJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1AgJiYgIWlzU1NSKSB7XG4gICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgQ29tcG9uZW50IHByb3ZpZGVkIHRlbXBsYXRlIG9wdGlvbiBidXQgcnVudGltZSBjb21waWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnVpbGQgb2YgVnVlLmAgKyAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gIClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4kMShgQ29tcG9uZW50IGlzIG1pc3NpbmcgdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uOiBgLCBDb21wb25lbnQpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgYXR0cnNQcm94eUhhbmRsZXJzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIFwiXCIpO1xuICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgfSxcbiAgc2V0KCkge1xuICAgIHdhcm4kMShgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZGVsZXRlUHJvcGVydHkoKSB7XG4gICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59IDoge1xuICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIFwiXCIpO1xuICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgfVxufTtcbmZ1bmN0aW9uIGdldFNsb3RzUHJveHkoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIG5ldyBQcm94eShpbnN0YW5jZS5zbG90cywge1xuICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIsIFwiJHNsb3RzXCIpO1xuICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgZXhwb3NlID0gKGV4cG9zZWQpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgICAgd2FybiQxKGBleHBvc2UoKSBzaG91bGQgYmUgY2FsbGVkIG9ubHkgb25jZSBwZXIgc2V0dXAoKS5gKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBvc2VkICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGV4cG9zZWRUeXBlID0gdHlwZW9mIGV4cG9zZWQ7XG4gICAgICAgIGlmIChleHBvc2VkVHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmIChpc0FycmF5KGV4cG9zZWQpKSB7XG4gICAgICAgICAgICBleHBvc2VkVHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUmVmKGV4cG9zZWQpKSB7XG4gICAgICAgICAgICBleHBvc2VkVHlwZSA9IFwicmVmXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHBvc2VkVHlwZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBleHBvc2UoKSBzaG91bGQgYmUgcGFzc2VkIGEgcGxhaW4gb2JqZWN0LCByZWNlaXZlZCAke2V4cG9zZWRUeXBlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5leHBvc2VkID0gZXhwb3NlZCB8fCB7fTtcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBsZXQgYXR0cnNQcm94eTtcbiAgICBsZXQgc2xvdHNQcm94eTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgIHJldHVybiBhdHRyc1Byb3h5IHx8IChhdHRyc1Byb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRyc1Byb3h5SGFuZGxlcnMpKTtcbiAgICAgIH0sXG4gICAgICBnZXQgc2xvdHMoKSB7XG4gICAgICAgIHJldHVybiBzbG90c1Byb3h5IHx8IChzbG90c1Byb3h5ID0gZ2V0U2xvdHNQcm94eShpbnN0YW5jZSkpO1xuICAgICAgfSxcbiAgICAgIGdldCBlbWl0KCkge1xuICAgICAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiBpbnN0YW5jZS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICBleHBvc2VcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXR0cnM6IG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0cnNQcm94eUhhbmRsZXJzKSxcbiAgICAgIHNsb3RzOiBpbnN0YW5jZS5zbG90cyxcbiAgICAgIGVtaXQ6IGluc3RhbmNlLmVtaXQsXG4gICAgICBleHBvc2VcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZShpbnN0YW5jZSkge1xuICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgIHJldHVybiBpbnN0YW5jZS5leHBvc2VQcm94eSB8fCAoaW5zdGFuY2UuZXhwb3NlUHJveHkgPSBuZXcgUHJveHkocHJveHlSZWZzKG1hcmtSYXcoaW5zdGFuY2UuZXhwb3NlZCkpLCB7XG4gICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5IGluIHB1YmxpY1Byb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICByZXR1cm4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhcyh0YXJnZXQsIGtleSkge1xuICAgICAgICByZXR1cm4ga2V5IGluIHRhcmdldCB8fCBrZXkgaW4gcHVibGljUHJvcGVydGllc01hcDtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnByb3h5O1xuICB9XG59XG5jb25zdCBjbGFzc2lmeVJFID0gLyg/Ol58Wy1fXSlcXHcvZztcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgKGMpID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCBcIlwiKTtcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBpbmNsdWRlSW5mZXJyZWQgPSB0cnVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKENvbXBvbmVudCkgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgOiBDb21wb25lbnQubmFtZSB8fCBpbmNsdWRlSW5mZXJyZWQgJiYgQ29tcG9uZW50Ll9fbmFtZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcbiAgbGV0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCk7XG4gIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBuYW1lID0gbWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcbiAgICAgICAgaWYgKHJlZ2lzdHJ5W2tleV0gPT09IENvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG5hbWUgPSBpbmZlckZyb21SZWdpc3RyeShcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudHMgfHwgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50c1xuICAgICkgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcbiAgfVxuICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmIFwiX192Y2NPcHRzXCIgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkID0gKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc0luU1NSQ29tcG9uZW50U2V0dXApO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaSAmJiBpLmFwcENvbnRleHQuY29uZmlnLndhcm5SZWN1cnNpdmVDb21wdXRlZCkge1xuICAgICAgYy5fd2FyblJlY3Vyc2l2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjO1xufTtcblxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gIGNvbnN0IGRvQ3JlYXRlVk5vZGUgPSAodHlwZTIsIHByb3BzLCBjaGlsZHJlbjIpID0+IHtcbiAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUyLCBwcm9wcywgY2hpbGRyZW4yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAobCA9PT0gMikge1xuICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgcmV0dXJuIGRvQ3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgW3Byb3BzT3JDaGlsZHJlbl0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvQ3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRvQ3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGwgPiAzKSB7XG4gICAgICBjaGlsZHJlbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgfSBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgfVxuICAgIHJldHVybiBkb0NyZWF0ZVZOb2RlKHR5cGUsIHByb3BzT3JDaGlsZHJlbiwgY2hpbGRyZW4pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRDdXN0b21Gb3JtYXR0ZXIoKSB7XG4gIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHZ1ZVN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojM2JhNzc2XCIgfTtcbiAgY29uc3QgbnVtYmVyU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiMxNjc3ZmZcIiB9O1xuICBjb25zdCBzdHJpbmdTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6I2Y1MjIyZFwiIH07XG4gIGNvbnN0IGtleXdvcmRTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6I2ViMmY5NlwiIH07XG4gIGNvbnN0IGZvcm1hdHRlciA9IHtcbiAgICBfX3Z1ZV9jdXN0b21fZm9ybWF0dGVyOiB0cnVlLFxuICAgIGhlYWRlcihvYmopIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChvYmouX19pc1Z1ZSkge1xuICAgICAgICByZXR1cm4gW1wiZGl2XCIsIHZ1ZVN0eWxlLCBgVnVlSW5zdGFuY2VgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWYob2JqKSkge1xuICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb2JqLnZhbHVlO1xuICAgICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKHZhbHVlKSxcbiAgICAgICAgICBgPmBcbiAgICAgICAgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFjdGl2ZShvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/IFwiU2hhbGxvd1JlYWN0aXZlXCIgOiBcIlJlYWN0aXZlXCJdLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgYD4ke2lzUmVhZG9ubHkob2JqKSA/IGAgKHJlYWRvbmx5KWAgOiBgYH1gXG4gICAgICAgIF07XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhZG9ubHkob2JqKSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgW1wic3BhblwiLCB2dWVTdHlsZSwgaXNTaGFsbG93KG9iaikgPyBcIlNoYWxsb3dSZWFkb25seVwiIDogXCJSZWFkb25seVwiXSxcbiAgICAgICAgICBcIjxcIixcbiAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxuICAgICAgICAgIFwiPlwiXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGhhc0JvZHkob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2lzVnVlO1xuICAgIH0sXG4gICAgYm9keShvYmopIHtcbiAgICAgIGlmIChvYmogJiYgb2JqLl9faXNWdWUpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIC4uLmZvcm1hdEluc3RhbmNlKG9iai4kKVxuICAgICAgICBdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gZm9ybWF0SW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBibG9ja3MgPSBbXTtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5wcm9wcyAmJiBpbnN0YW5jZS5wcm9wcykge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcInByb3BzXCIsIHRvUmF3KGluc3RhbmNlLnByb3BzKSkpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2Uuc2V0dXBTdGF0ZSAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwic2V0dXBcIiwgaW5zdGFuY2Uuc2V0dXBTdGF0ZSkpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuZGF0YSAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiZGF0YVwiLCB0b1JhdyhpbnN0YW5jZS5kYXRhKSkpO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCBcImNvbXB1dGVkXCIpO1xuICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcImNvbXB1dGVkXCIsIGNvbXB1dGVkKSk7XG4gICAgfVxuICAgIGNvbnN0IGluamVjdGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsIFwiaW5qZWN0XCIpO1xuICAgIGlmIChpbmplY3RlZCkge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcImluamVjdGVkXCIsIGluamVjdGVkKSk7XG4gICAgfVxuICAgIGJsb2Nrcy5wdXNoKFtcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7fSxcbiAgICAgIFtcbiAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZToga2V5d29yZFN0eWxlLnN0eWxlICsgXCI7b3BhY2l0eTowLjY2XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCIkIChpbnRlcm5hbCk6IFwiXG4gICAgICBdLFxuICAgICAgW1wib2JqZWN0XCIsIHsgb2JqZWN0OiBpbnN0YW5jZSB9XVxuICAgIF0pO1xuICAgIHJldHVybiBibG9ja3M7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VCbG9jayh0eXBlLCB0YXJnZXQpIHtcbiAgICB0YXJnZXQgPSBleHRlbmQoe30sIHRhcmdldCk7XG4gICAgaWYgKCFPYmplY3Qua2V5cyh0YXJnZXQpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtcInNwYW5cIiwge31dO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgXCJkaXZcIixcbiAgICAgIHsgc3R5bGU6IFwibGluZS1oZWlnaHQ6MS4yNWVtO21hcmdpbi1ib3R0b206MC42ZW1cIiB9LFxuICAgICAgW1xuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IFwiY29sb3I6IzQ3NjU4MlwiXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGVcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogXCJwYWRkaW5nLWxlZnQ6MS4yNWVtXCJcbiAgICAgICAgfSxcbiAgICAgICAgLi4uT2JqZWN0LmtleXModGFyZ2V0KS5tYXAoKGtleSkgPT4ge1xuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICBbXCJzcGFuXCIsIGtleXdvcmRTdHlsZSwga2V5ICsgXCI6IFwiXSxcbiAgICAgICAgICAgIGZvcm1hdFZhbHVlKHRhcmdldFtrZXldLCBmYWxzZSlcbiAgICAgICAgICBdO1xuICAgICAgICB9KVxuICAgICAgXVxuICAgIF07XG4gIH1cbiAgZnVuY3Rpb24gZm9ybWF0VmFsdWUodiwgYXNSYXcgPSB0cnVlKSB7XG4gICAgaWYgKHR5cGVvZiB2ID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBudW1iZXJTdHlsZSwgdl07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIFtcInNwYW5cIiwgc3RyaW5nU3R5bGUsIEpTT04uc3RyaW5naWZ5KHYpXTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcImJvb2xlYW5cIikge1xuICAgICAgcmV0dXJuIFtcInNwYW5cIiwga2V5d29yZFN0eWxlLCB2XTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHYpKSB7XG4gICAgICByZXR1cm4gW1wib2JqZWN0XCIsIHsgb2JqZWN0OiBhc1JhdyA/IHRvUmF3KHYpIDogdiB9XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtcInNwYW5cIiwgc3RyaW5nU3R5bGUsIFN0cmluZyh2KV07XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGV4dHJhY3RLZXlzKGluc3RhbmNlLCB0eXBlKSB7XG4gICAgY29uc3QgQ29tcCA9IGluc3RhbmNlLnR5cGU7XG4gICAgaWYgKGlzRnVuY3Rpb24oQ29tcCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXh0cmFjdGVkID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UuY3R4KSB7XG4gICAgICBpZiAoaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSkge1xuICAgICAgICBleHRyYWN0ZWRba2V5XSA9IGluc3RhbmNlLmN0eFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXh0cmFjdGVkO1xuICB9XG4gIGZ1bmN0aW9uIGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkge1xuICAgIGNvbnN0IG9wdHMgPSBDb21wW3R5cGVdO1xuICAgIGlmIChpc0FycmF5KG9wdHMpICYmIG9wdHMuaW5jbHVkZXMoa2V5KSB8fCBpc09iamVjdChvcHRzKSAmJiBrZXkgaW4gb3B0cykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChDb21wLmV4dGVuZHMgJiYgaXNLZXlPZlR5cGUoQ29tcC5leHRlbmRzLCBrZXksIHR5cGUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKENvbXAubWl4aW5zICYmIENvbXAubWl4aW5zLnNvbWUoKG0pID0+IGlzS2V5T2ZUeXBlKG0sIGtleSwgdHlwZSkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2VuUmVmRmxhZyh2KSB7XG4gICAgaWYgKGlzU2hhbGxvdyh2KSkge1xuICAgICAgcmV0dXJuIGBTaGFsbG93UmVmYDtcbiAgICB9XG4gICAgaWYgKHYuZWZmZWN0KSB7XG4gICAgICByZXR1cm4gYENvbXB1dGVkUmVmYDtcbiAgICB9XG4gICAgcmV0dXJuIGBSZWZgO1xuICB9XG4gIGlmICh3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzKSB7XG4gICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XG4gIH0gZWxzZSB7XG4gICAgd2luZG93LmRldnRvb2xzRm9ybWF0dGVycyA9IFtmb3JtYXR0ZXJdO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdpdGhNZW1vKG1lbW8sIHJlbmRlciwgY2FjaGUsIGluZGV4KSB7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlW2luZGV4XTtcbiAgaWYgKGNhY2hlZCAmJiBpc01lbW9TYW1lKGNhY2hlZCwgbWVtbykpIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGNvbnN0IHJldCA9IHJlbmRlcigpO1xuICByZXQubWVtbyA9IG1lbW8uc2xpY2UoKTtcbiAgcmV0LmNhY2hlSW5kZXggPSBpbmRleDtcbiAgcmV0dXJuIGNhY2hlW2luZGV4XSA9IHJldDtcbn1cbmZ1bmN0aW9uIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSB7XG4gIGNvbnN0IHByZXYgPSBjYWNoZWQubWVtbztcbiAgaWYgKHByZXYubGVuZ3RoICE9IG1lbW8ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldi5sZW5ndGg7IGkrKykge1xuICAgIGlmIChoYXNDaGFuZ2VkKHByZXZbaV0sIG1lbW9baV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgIGN1cnJlbnRCbG9jay5wdXNoKGNhY2hlZCk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IHZlcnNpb24gPSBcIjMuNS4yMVwiO1xuY29uc3Qgd2FybiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB3YXJuJDEgOiBOT09QO1xuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyA9IEVycm9yVHlwZVN0cmluZ3MkMSA7XG5jb25zdCBkZXZ0b29scyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHJ1ZSA/IGRldnRvb2xzJDEgOiB2b2lkIDA7XG5jb25zdCBzZXREZXZ0b29sc0hvb2sgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHRydWUgPyBzZXREZXZ0b29sc0hvb2skMSA6IE5PT1A7XG5jb25zdCBfc3NyVXRpbHMgPSB7XG4gIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlLFxuICBzZXR1cENvbXBvbmVudCxcbiAgcmVuZGVyQ29tcG9uZW50Um9vdCxcbiAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlLFxuICBpc1ZOb2RlOiBpc1ZOb2RlLFxuICBub3JtYWxpemVWTm9kZSxcbiAgZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UsXG4gIGVuc3VyZVZhbGlkVk5vZGUsXG4gIHB1c2hXYXJuaW5nQ29udGV4dCxcbiAgcG9wV2FybmluZ0NvbnRleHRcbn07XG5jb25zdCBzc3JVdGlscyA9IF9zc3JVdGlscyA7XG5jb25zdCByZXNvbHZlRmlsdGVyID0gbnVsbDtcbmNvbnN0IGNvbXBhdFV0aWxzID0gbnVsbDtcbmNvbnN0IERlcHJlY2F0aW9uVHlwZXMgPSBudWxsO1xuXG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIENvbW1lbnQsIERlcHJlY2F0aW9uVHlwZXMsIEVycm9yQ29kZXMsIEVycm9yVHlwZVN0cmluZ3MsIEZyYWdtZW50LCBLZWVwQWxpdmUsIFN0YXRpYywgU3VzcGVuc2UsIFRlbGVwb3J0LCBUZXh0LCBhc3NlcnROdW1iZXIsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNsb25lVk5vZGUsIGNvbXBhdFV0aWxzLCBjb21wdXRlZCwgY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVCYXNlVk5vZGUgYXMgY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciwgY3JlYXRlUHJvcHNSZXN0UHJveHksIGNyZWF0ZVJlbmRlcmVyLCBjcmVhdGVTbG90cywgY3JlYXRlU3RhdGljVk5vZGUsIGNyZWF0ZVRleHRWTm9kZSwgY3JlYXRlVk5vZGUsIGRlZmluZUFzeW5jQ29tcG9uZW50LCBkZWZpbmVDb21wb25lbnQsIGRlZmluZUVtaXRzLCBkZWZpbmVFeHBvc2UsIGRlZmluZU1vZGVsLCBkZWZpbmVPcHRpb25zLCBkZWZpbmVQcm9wcywgZGVmaW5lU2xvdHMsIGRldnRvb2xzLCBnZXRDdXJyZW50SW5zdGFuY2UsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgZ3VhcmRSZWFjdGl2ZVByb3BzLCBoLCBoYW5kbGVFcnJvciwgaGFzSW5qZWN0aW9uQ29udGV4dCwgaHlkcmF0ZU9uSWRsZSwgaHlkcmF0ZU9uSW50ZXJhY3Rpb24sIGh5ZHJhdGVPbk1lZGlhUXVlcnksIGh5ZHJhdGVPblZpc2libGUsIGluaXRDdXN0b21Gb3JtYXR0ZXIsIGluamVjdCwgaXNNZW1vU2FtZSwgaXNSdW50aW1lT25seSwgaXNWTm9kZSwgbWVyZ2VEZWZhdWx0cywgbWVyZ2VNb2RlbHMsIG1lcmdlUHJvcHMsIG5leHRUaWNrLCBvbkFjdGl2YXRlZCwgb25CZWZvcmVNb3VudCwgb25CZWZvcmVVbm1vdW50LCBvbkJlZm9yZVVwZGF0ZSwgb25EZWFjdGl2YXRlZCwgb25FcnJvckNhcHR1cmVkLCBvbk1vdW50ZWQsIG9uUmVuZGVyVHJhY2tlZCwgb25SZW5kZXJUcmlnZ2VyZWQsIG9uU2VydmVyUHJlZmV0Y2gsIG9uVW5tb3VudGVkLCBvblVwZGF0ZWQsIG9wZW5CbG9jaywgcG9wU2NvcGVJZCwgcHJvdmlkZSwgcHVzaFNjb3BlSWQsIHF1ZXVlUG9zdEZsdXNoQ2IsIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyLCByZW5kZXJMaXN0LCByZW5kZXJTbG90LCByZXNvbHZlQ29tcG9uZW50LCByZXNvbHZlRGlyZWN0aXZlLCByZXNvbHZlRHluYW1pY0NvbXBvbmVudCwgcmVzb2x2ZUZpbHRlciwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgc2V0QmxvY2tUcmFja2luZywgc2V0RGV2dG9vbHNIb29rLCBzZXRUcmFuc2l0aW9uSG9va3MsIHNzckNvbnRleHRLZXksIHNzclV0aWxzLCB0b0hhbmRsZXJzLCB0cmFuc2Zvcm1WTm9kZUFyZ3MsIHVzZUF0dHJzLCB1c2VJZCwgdXNlTW9kZWwsIHVzZVNTUkNvbnRleHQsIHVzZVNsb3RzLCB1c2VUZW1wbGF0ZVJlZiwgdXNlVHJhbnNpdGlvblN0YXRlLCB2ZXJzaW9uLCB3YXJuLCB3YXRjaCwgd2F0Y2hFZmZlY3QsIHdhdGNoUG9zdEVmZmVjdCwgd2F0Y2hTeW5jRWZmZWN0LCB3aXRoQXN5bmNDb250ZXh0LCB3aXRoQ3R4LCB3aXRoRGVmYXVsdHMsIHdpdGhEaXJlY3RpdmVzLCB3aXRoTWVtbywgd2l0aFNjb3BlSWQgfTtcbiIsIi8qKlxuKiBAdnVlL3J1bnRpbWUtZG9tIHYzLjUuMjFcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IHdhcm4sIEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCBoLCBCYXNlVHJhbnNpdGlvbiwgYXNzZXJ0TnVtYmVyLCBnZXRDdXJyZW50SW5zdGFuY2UsIG9uQmVmb3JlVXBkYXRlLCBxdWV1ZVBvc3RGbHVzaENiLCBvbk1vdW50ZWQsIHdhdGNoLCBvblVubW91bnRlZCwgRnJhZ21lbnQsIFN0YXRpYywgY2FtZWxpemUsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBkZWZpbmVDb21wb25lbnQsIG5leHRUaWNrLCB1bnJlZiwgY3JlYXRlVk5vZGUsIHVzZVRyYW5zaXRpb25TdGF0ZSwgb25VcGRhdGVkLCB0b1JhdywgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBzZXRUcmFuc2l0aW9uSG9va3MsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIFRleHQsIGNyZWF0ZVJlbmRlcmVyLCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciwgaXNSdW50aW1lT25seSB9IGZyb20gJ0B2dWUvcnVudGltZS1jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0B2dWUvcnVudGltZS1jb3JlJztcbmltcG9ydCB7IGV4dGVuZCwgaXNPYmplY3QsIHRvTnVtYmVyLCBpc0FycmF5LCBOT09QLCBub3JtYWxpemVDc3NWYXJWYWx1ZSwgaXNTdHJpbmcsIGh5cGhlbmF0ZSwgY2FwaXRhbGl6ZSwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGluY2x1ZGVCb29sZWFuQXR0ciwgaXNTeW1ib2wsIGlzRnVuY3Rpb24sIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgY2FtZWxpemUgYXMgY2FtZWxpemUkMSwgaXNQbGFpbk9iamVjdCwgaGFzT3duLCBFTVBUWV9PQkosIGxvb3NlVG9OdW1iZXIsIGxvb3NlSW5kZXhPZiwgaXNTZXQsIGxvb3NlRXF1YWwsIGludm9rZUFycmF5Rm5zLCBpc0hUTUxUYWcsIGlzU1ZHVGFnLCBpc01hdGhNTFRhZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxubGV0IHBvbGljeSA9IHZvaWQgMDtcbmNvbnN0IHR0ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cudHJ1c3RlZFR5cGVzO1xuaWYgKHR0KSB7XG4gIHRyeSB7XG4gICAgcG9saWN5ID0gLyogQF9fUFVSRV9fICovIHR0LmNyZWF0ZVBvbGljeShcInZ1ZVwiLCB7XG4gICAgICBjcmVhdGVIVE1MOiAodmFsKSA9PiB2YWxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgRXJyb3IgY3JlYXRpbmcgdHJ1c3RlZCB0eXBlcyBwb2xpY3k6ICR7ZX1gKTtcbiAgfVxufVxuY29uc3QgdW5zYWZlVG9UcnVzdGVkSFRNTCA9IHBvbGljeSA/ICh2YWwpID0+IHBvbGljeS5jcmVhdGVIVE1MKHZhbCkgOiAodmFsKSA9PiB2YWw7XG5jb25zdCBzdmdOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbmNvbnN0IG1hdGhtbE5TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7XG5jb25zdCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBkb2N1bWVudCA6IG51bGw7XG5jb25zdCB0ZW1wbGF0ZUNvbnRhaW5lciA9IGRvYyAmJiAvKiBAX19QVVJFX18gKi8gZG9jLmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbmNvbnN0IG5vZGVPcHMgPSB7XG4gIGluc2VydDogKGNoaWxkLCBwYXJlbnQsIGFuY2hvcikgPT4ge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGFuY2hvciB8fCBudWxsKTtcbiAgfSxcbiAgcmVtb3ZlOiAoY2hpbGQpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVFbGVtZW50OiAodGFnLCBuYW1lc3BhY2UsIGlzLCBwcm9wcykgPT4ge1xuICAgIGNvbnN0IGVsID0gbmFtZXNwYWNlID09PSBcInN2Z1wiID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnKSA6IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiA/IGRvYy5jcmVhdGVFbGVtZW50TlMobWF0aG1sTlMsIHRhZykgOiBpcyA/IGRvYy5jcmVhdGVFbGVtZW50KHRhZywgeyBpcyB9KSA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKHRhZyA9PT0gXCJzZWxlY3RcIiAmJiBwcm9wcyAmJiBwcm9wcy5tdWx0aXBsZSAhPSBudWxsKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiLCBwcm9wcy5tdWx0aXBsZSk7XG4gICAgfVxuICAgIHJldHVybiBlbDtcbiAgfSxcbiAgY3JlYXRlVGV4dDogKHRleHQpID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcbiAgY3JlYXRlQ29tbWVudDogKHRleHQpID0+IGRvYy5jcmVhdGVDb21tZW50KHRleHQpLFxuICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xuICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcbiAgfSxcbiAgc2V0RWxlbWVudFRleHQ6IChlbCwgdGV4dCkgPT4ge1xuICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfSxcbiAgcGFyZW50Tm9kZTogKG5vZGUpID0+IG5vZGUucGFyZW50Tm9kZSxcbiAgbmV4dFNpYmxpbmc6IChub2RlKSA9PiBub2RlLm5leHRTaWJsaW5nLFxuICBxdWVyeVNlbGVjdG9yOiAoc2VsZWN0b3IpID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcbiAgc2V0U2NvcGVJZChlbCwgaWQpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoaWQsIFwiXCIpO1xuICB9LFxuICAvLyBfX1VOU0FGRV9fXG4gIC8vIFJlYXNvbjogaW5uZXJIVE1MLlxuICAvLyBTdGF0aWMgY29udGVudCBoZXJlIGNhbiBvbmx5IGNvbWUgZnJvbSBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXG4gIGluc2VydFN0YXRpY0NvbnRlbnQoY29udGVudCwgcGFyZW50LCBhbmNob3IsIG5hbWVzcGFjZSwgc3RhcnQsIGVuZCkge1xuICAgIGNvbnN0IGJlZm9yZSA9IGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkO1xuICAgIGlmIChzdGFydCAmJiAoc3RhcnQgPT09IGVuZCB8fCBzdGFydC5uZXh0U2libGluZykpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoc3RhcnQuY2xvbmVOb2RlKHRydWUpLCBhbmNob3IpO1xuICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCB8fCAhKHN0YXJ0ID0gc3RhcnQubmV4dFNpYmxpbmcpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcGxhdGVDb250YWluZXIuaW5uZXJIVE1MID0gdW5zYWZlVG9UcnVzdGVkSFRNTChcbiAgICAgICAgbmFtZXNwYWNlID09PSBcInN2Z1wiID8gYDxzdmc+JHtjb250ZW50fTwvc3ZnPmAgOiBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgPyBgPG1hdGg+JHtjb250ZW50fTwvbWF0aD5gIDogY29udGVudFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVDb250YWluZXIuY29udGVudDtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0ZW1wbGF0ZS5maXJzdENoaWxkO1xuICAgICAgICB3aGlsZSAod3JhcHBlci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgdGVtcGxhdGUuYXBwZW5kQ2hpbGQod3JhcHBlci5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGVtcGxhdGUsIGFuY2hvcik7XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAvLyBmaXJzdFxuICAgICAgYmVmb3JlID8gYmVmb3JlLm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQsXG4gICAgICAvLyBsYXN0XG4gICAgICBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZFxuICAgIF07XG4gIH1cbn07XG5cbmNvbnN0IFRSQU5TSVRJT04gPSBcInRyYW5zaXRpb25cIjtcbmNvbnN0IEFOSU1BVElPTiA9IFwiYW5pbWF0aW9uXCI7XG5jb25zdCB2dGNLZXkgPSBTeW1ib2woXCJfdnRjXCIpO1xuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcbiAgbmFtZTogU3RyaW5nLFxuICB0eXBlOiBTdHJpbmcsXG4gIGNzczoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxuICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyVG9DbGFzczogU3RyaW5nLFxuICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxuICBsZWF2ZUFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlVG9DbGFzczogU3RyaW5nXG59O1xuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoXG4gIHt9LFxuICBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9yc1xuKTtcbmNvbnN0IGRlY29yYXRlJDEgPSAodCkgPT4ge1xuICB0LmRpc3BsYXlOYW1lID0gXCJUcmFuc2l0aW9uXCI7XG4gIHQucHJvcHMgPSBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzO1xuICByZXR1cm4gdDtcbn07XG5jb25zdCBUcmFuc2l0aW9uID0gLyogQF9fUFVSRV9fICovIGRlY29yYXRlJDEoXG4gIChwcm9wcywgeyBzbG90cyB9KSA9PiBoKEJhc2VUcmFuc2l0aW9uLCByZXNvbHZlVHJhbnNpdGlvblByb3BzKHByb3BzKSwgc2xvdHMpXG4pO1xuY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncyA9IFtdKSA9PiB7XG4gIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgaG9vay5mb3JFYWNoKChoMikgPT4gaDIoLi4uYXJncykpO1xuICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICBob29rKC4uLmFyZ3MpO1xuICB9XG59O1xuY29uc3QgaGFzRXhwbGljaXRDYWxsYmFjayA9IChob29rKSA9PiB7XG4gIHJldHVybiBob29rID8gaXNBcnJheShob29rKSA/IGhvb2suc29tZSgoaDIpID0+IGgyLmxlbmd0aCA+IDEpIDogaG9vay5sZW5ndGggPiAxIDogZmFsc2U7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcykge1xuICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcbiAgICAgIGJhc2VQcm9wc1trZXldID0gcmF3UHJvcHNba2V5XTtcbiAgICB9XG4gIH1cbiAgaWYgKHJhd1Byb3BzLmNzcyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gYmFzZVByb3BzO1xuICB9XG4gIGNvbnN0IHtcbiAgICBuYW1lID0gXCJ2XCIsXG4gICAgdHlwZSxcbiAgICBkdXJhdGlvbixcbiAgICBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLFxuICAgIGVudGVyQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1hY3RpdmVgLFxuICAgIGVudGVyVG9DbGFzcyA9IGAke25hbWV9LWVudGVyLXRvYCxcbiAgICBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcyxcbiAgICBhcHBlYXJBY3RpdmVDbGFzcyA9IGVudGVyQWN0aXZlQ2xhc3MsXG4gICAgYXBwZWFyVG9DbGFzcyA9IGVudGVyVG9DbGFzcyxcbiAgICBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1hY3RpdmVgLFxuICAgIGxlYXZlVG9DbGFzcyA9IGAke25hbWV9LWxlYXZlLXRvYFxuICB9ID0gcmF3UHJvcHM7XG4gIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcbiAgY29uc3QgZW50ZXJEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMF07XG4gIGNvbnN0IGxlYXZlRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzFdO1xuICBjb25zdCB7XG4gICAgb25CZWZvcmVFbnRlcixcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJDYW5jZWxsZWQsXG4gICAgb25MZWF2ZSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlcixcbiAgICBvbkFwcGVhciA9IG9uRW50ZXIsXG4gICAgb25BcHBlYXJDYW5jZWxsZWQgPSBvbkVudGVyQ2FuY2VsbGVkXG4gIH0gPSBiYXNlUHJvcHM7XG4gIGNvbnN0IGZpbmlzaEVudGVyID0gKGVsLCBpc0FwcGVhciwgZG9uZSwgaXNDYW5jZWxsZWQpID0+IHtcbiAgICBlbC5fZW50ZXJDYW5jZWxsZWQgPSBpc0NhbmNlbGxlZDtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgZG9uZSAmJiBkb25lKCk7XG4gIH07XG4gIGNvbnN0IGZpbmlzaExlYXZlID0gKGVsLCBkb25lKSA9PiB7XG4gICAgZWwuX2lzTGVhdmluZyA9IGZhbHNlO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgIGRvbmUgJiYgZG9uZSgpO1xuICB9O1xuICBjb25zdCBtYWtlRW50ZXJIb29rID0gKGlzQXBwZWFyKSA9PiB7XG4gICAgcmV0dXJuIChlbCwgZG9uZSkgPT4ge1xuICAgICAgY29uc3QgaG9vayA9IGlzQXBwZWFyID8gb25BcHBlYXIgOiBvbkVudGVyO1xuICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaEVudGVyKGVsLCBpc0FwcGVhciwgZG9uZSk7XG4gICAgICBjYWxsSG9vayhob29rLCBbZWwsIHJlc29sdmVdKTtcbiAgICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJGcm9tQ2xhc3MgOiBlbnRlckZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKGhvb2spKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGV4dGVuZChiYXNlUHJvcHMsIHtcbiAgICBvbkJlZm9yZUVudGVyKGVsKSB7XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUVudGVyLCBbZWxdKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICB9LFxuICAgIG9uQmVmb3JlQXBwZWFyKGVsKSB7XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUFwcGVhciwgW2VsXSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckFjdGl2ZUNsYXNzKTtcbiAgICB9LFxuICAgIG9uRW50ZXI6IG1ha2VFbnRlckhvb2soZmFsc2UpLFxuICAgIG9uQXBwZWFyOiBtYWtlRW50ZXJIb29rKHRydWUpLFxuICAgIG9uTGVhdmUoZWwsIGRvbmUpIHtcbiAgICAgIGVsLl9pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaExlYXZlKGVsLCBkb25lKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgaWYgKCFlbC5fZW50ZXJDYW5jZWxsZWQpIHtcbiAgICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICB9XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAoIWVsLl9pc0xlYXZpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxsSG9vayhvbkxlYXZlLCBbZWwsIHJlc29sdmVdKTtcbiAgICB9LFxuICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSwgdm9pZCAwLCB0cnVlKTtcbiAgICAgIGNhbGxIb29rKG9uRW50ZXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlLCB2b2lkIDAsIHRydWUpO1xuICAgICAgY2FsbEhvb2sob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xuICAgICAgZmluaXNoTGVhdmUoZWwpO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XG4gICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcbiAgICByZXR1cm4gW24sIG5dO1xuICB9XG59XG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcbiAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIocmVzLCBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvblwiKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgKGVsW3Z0Y0tleV0gfHwgKGVsW3Z0Y0tleV0gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKSkuYWRkKGNscyk7XG59XG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmRlbGV0ZShjbHMpO1xuICAgIGlmICghX3Z0Yy5zaXplKSB7XG4gICAgICBlbFt2dGNLZXldID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgfSk7XG59XG5sZXQgZW5kSWQgPSAwO1xuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGV4cGxpY2l0VGltZW91dCwgcmVzb2x2ZSkge1xuICBjb25zdCBpZCA9IGVsLl9lbmRJZCA9ICsrZW5kSWQ7XG4gIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xuICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9O1xuICBpZiAoZXhwbGljaXRUaW1lb3V0ICE9IG51bGwpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlSWZOb3RTdGFsZSwgZXhwbGljaXRUaW1lb3V0KTtcbiAgfVxuICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIGlmICghdHlwZSkge1xuICAgIHJldHVybiByZXNvbHZlKCk7XG4gIH1cbiAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgXCJlbmRcIjtcbiAgbGV0IGVuZGVkID0gMDtcbiAgY29uc3QgZW5kID0gKCkgPT4ge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbiAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xuICB9O1xuICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9O1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfSwgdGltZW91dCArIDEpO1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8IFwiXCIpLnNwbGl0KFwiLCBcIik7XG4gIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EZWxheWApO1xuICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfURlbGF5YCk7XG4gIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuICBsZXQgdHlwZSA9IG51bGw7XG4gIGxldCB0aW1lb3V0ID0gMDtcbiAgbGV0IHByb3BDb3VudCA9IDA7XG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICB0eXBlID0gdGltZW91dCA+IDAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXQgPyBUUkFOU0lUSU9OIDogQU5JTUFUSU9OIDogbnVsbDtcbiAgICBwcm9wQ291bnQgPSB0eXBlID8gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aCA6IDA7XG4gIH1cbiAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJiAvXFxiKD86dHJhbnNmb3JtfGFsbCkoPzosfCQpLy50ZXN0KFxuICAgIGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfVByb3BlcnR5YCkudG9TdHJpbmcoKVxuICApO1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgdGltZW91dCxcbiAgICBwcm9wQ291bnQsXG4gICAgaGFzVHJhbnNmb3JtXG4gIH07XG59XG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xufVxuZnVuY3Rpb24gdG9NcyhzKSB7XG4gIGlmIChzID09PSBcImF1dG9cIikgcmV0dXJuIDA7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZShcIixcIiwgXCIuXCIpKSAqIDFlMztcbn1cbmZ1bmN0aW9uIGZvcmNlUmVmbG93KCkge1xuICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIHBhdGNoQ2xhc3MoZWwsIHZhbHVlLCBpc1NWRykge1xuICBjb25zdCB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsW3Z0Y0tleV07XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcykge1xuICAgIHZhbHVlID0gKHZhbHVlID8gW3ZhbHVlLCAuLi50cmFuc2l0aW9uQ2xhc3Nlc10gOiBbLi4udHJhbnNpdGlvbkNsYXNzZXNdKS5qb2luKFwiIFwiKTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICB9IGVsc2UgaWYgKGlzU1ZHKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IHZTaG93T3JpZ2luYWxEaXNwbGF5ID0gU3ltYm9sKFwiX3ZvZFwiKTtcbmNvbnN0IHZTaG93SGlkZGVuID0gU3ltYm9sKFwiX3ZzaFwiKTtcbmNvbnN0IHZTaG93ID0ge1xuICAvLyB1c2VkIGZvciBwcm9wIG1pc21hdGNoIGNoZWNrIGR1cmluZyBoeWRyYXRpb25cbiAgbmFtZTogXCJzaG93XCIsXG4gIGJlZm9yZU1vdW50KGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgZWxbdlNob3dPcmlnaW5hbERpc3BsYXldID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZWwuc3R5bGUuZGlzcGxheTtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgfVxuICB9LFxuICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSkgcmV0dXJuO1xuICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIHNldERpc3BsYXkoZWwsIHRydWUpO1xuICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICBzZXREaXNwbGF5KGVsLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcbiAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gIH1cbn07XG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gOiBcIm5vbmVcIjtcbiAgZWxbdlNob3dIaWRkZW5dID0gIXZhbHVlO1xufVxuZnVuY3Rpb24gaW5pdFZTaG93Rm9yU1NSKCkge1xuICB2U2hvdy5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4geyBzdHlsZTogeyBkaXNwbGF5OiBcIm5vbmVcIiB9IH07XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBDU1NfVkFSX1RFWFQgPSBTeW1ib2woISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiQ1NTX1ZBUl9URVhUXCIgOiBcIlwiKTtcbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYHVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB1cGRhdGVUZWxlcG9ydHMgPSBpbnN0YW5jZS51dCA9ICh2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KSkgPT4ge1xuICAgIEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS12LW93bmVyPVwiJHtpbnN0YW5jZS51aWR9XCJdYClcbiAgICApLmZvckVhY2goKG5vZGUpID0+IHNldFZhcnNPbk5vZGUobm9kZSwgdmFycykpO1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmdldENzc1ZhcnMgPSAoKSA9PiBnZXR0ZXIoaW5zdGFuY2UucHJveHkpO1xuICB9XG4gIGNvbnN0IHNldFZhcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgdmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gICAgaWYgKGluc3RhbmNlLmNlKSB7XG4gICAgICBzZXRWYXJzT25Ob2RlKGluc3RhbmNlLmNlLCB2YXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VmFyc09uVk5vZGUoaW5zdGFuY2Uuc3ViVHJlZSwgdmFycyk7XG4gICAgfVxuICAgIHVwZGF0ZVRlbGVwb3J0cyh2YXJzKTtcbiAgfTtcbiAgb25CZWZvcmVVcGRhdGUoKCkgPT4ge1xuICAgIHF1ZXVlUG9zdEZsdXNoQ2Ioc2V0VmFycyk7XG4gIH0pO1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHdhdGNoKHNldFZhcnMsIE5PT1AsIHsgZmx1c2g6IFwicG9zdFwiIH0pO1xuICAgIGNvbnN0IG9iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoc2V0VmFycyk7XG4gICAgb2Iub2JzZXJ2ZShpbnN0YW5jZS5zdWJUcmVlLmVsLnBhcmVudE5vZGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgIG9uVW5tb3VudGVkKCgpID0+IG9iLmRpc2Nvbm5lY3QoKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2U7XG4gICAgdm5vZGUgPSBzdXNwZW5zZS5hY3RpdmVCcmFuY2g7XG4gICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goKCkgPT4ge1xuICAgICAgICBzZXRWYXJzT25WTm9kZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHZhcnMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHdoaWxlICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudC5zdWJUcmVlO1xuICB9XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHZub2RlLmVsKSB7XG4gICAgc2V0VmFyc09uTm9kZSh2bm9kZS5lbCwgdmFycyk7XG4gIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjKSA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XG4gIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gU3RhdGljKSB7XG4gICAgbGV0IHsgZWwsIGFuY2hvciB9ID0gdm5vZGU7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKTtcbiAgICAgIGlmIChlbCA9PT0gYW5jaG9yKSBicmVhaztcbiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKSB7XG4gIGlmIChlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgbGV0IGNzc1RleHQgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbm9ybWFsaXplQ3NzVmFyVmFsdWUodmFyc1trZXldKTtcbiAgICAgIHN0eWxlLnNldFByb3BlcnR5KGAtLSR7a2V5fWAsIHZhbHVlKTtcbiAgICAgIGNzc1RleHQgKz0gYC0tJHtrZXl9OiAke3ZhbHVlfTtgO1xuICAgIH1cbiAgICBzdHlsZVtDU1NfVkFSX1RFWFRdID0gY3NzVGV4dDtcbiAgfVxufVxuXG5jb25zdCBkaXNwbGF5UkUgPSAvKD86Xnw7KVxccypkaXNwbGF5XFxzKjovO1xuZnVuY3Rpb24gcGF0Y2hTdHlsZShlbCwgcHJldiwgbmV4dCkge1xuICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICBjb25zdCBpc0Nzc1N0cmluZyA9IGlzU3RyaW5nKG5leHQpO1xuICBsZXQgaGFzQ29udHJvbGxlZERpc3BsYXkgPSBmYWxzZTtcbiAgaWYgKG5leHQgJiYgIWlzQ3NzU3RyaW5nKSB7XG4gICAgaWYgKHByZXYpIHtcbiAgICAgIGlmICghaXNTdHJpbmcocHJldikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xuICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHByZXZTdHlsZSBvZiBwcmV2LnNwbGl0KFwiO1wiKSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IHByZXZTdHlsZS5zbGljZSgwLCBwcmV2U3R5bGUuaW5kZXhPZihcIjpcIikpLnRyaW0oKTtcbiAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG4gICAgICBpZiAoa2V5ID09PSBcImRpc3BsYXlcIikge1xuICAgICAgICBoYXNDb250cm9sbGVkRGlzcGxheSA9IHRydWU7XG4gICAgICB9XG4gICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNDc3NTdHJpbmcpIHtcbiAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XG4gICAgICAgIGNvbnN0IGNzc1ZhclRleHQgPSBzdHlsZVtDU1NfVkFSX1RFWFRdO1xuICAgICAgICBpZiAoY3NzVmFyVGV4dCkge1xuICAgICAgICAgIG5leHQgKz0gXCI7XCIgKyBjc3NWYXJUZXh0O1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlLmNzc1RleHQgPSBuZXh0O1xuICAgICAgICBoYXNDb250cm9sbGVkRGlzcGxheSA9IGRpc3BsYXlSRS50ZXN0KG5leHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJldikge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgfVxuICB9XG4gIGlmICh2U2hvd09yaWdpbmFsRGlzcGxheSBpbiBlbCkge1xuICAgIGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA9IGhhc0NvbnRyb2xsZWREaXNwbGF5ID8gc3R5bGUuZGlzcGxheSA6IFwiXCI7XG4gICAgaWYgKGVsW3ZTaG93SGlkZGVuXSkge1xuICAgICAgc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxufVxuY29uc3Qgc2VtaWNvbG9uUkUgPSAvW15cXFxcXTtcXHMqJC87XG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHZhbCkge1xuICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgdmFsLmZvckVhY2goKHYpID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSB2YWwgPSBcIlwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoc2VtaWNvbG9uUkUudGVzdCh2YWwpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYFVuZXhwZWN0ZWQgc2VtaWNvbG9uIGF0IHRoZSBlbmQgb2YgJyR7bmFtZX0nIHN0eWxlIHZhbHVlOiAnJHt2YWx9J2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hbWUuc3RhcnRzV2l0aChcIi0tXCIpKSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcmVmaXhlZCA9IGF1dG9QcmVmaXgoc3R5bGUsIG5hbWUpO1xuICAgICAgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICBoeXBoZW5hdGUocHJlZml4ZWQpLFxuICAgICAgICAgIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCBcIlwiKSxcbiAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZVtwcmVmaXhlZF0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5jb25zdCBwcmVmaXhlcyA9IFtcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCJdO1xuY29uc3QgcHJlZml4Q2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGF1dG9QcmVmaXgoc3R5bGUsIHJhd05hbWUpIHtcbiAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGxldCBuYW1lID0gY2FtZWxpemUocmF3TmFtZSk7XG4gIGlmIChuYW1lICE9PSBcImZpbHRlclwiICYmIG5hbWUgaW4gc3R5bGUpIHtcbiAgICByZXR1cm4gcHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lO1xuICB9XG4gIG5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIG5hbWU7XG4gICAgaWYgKHByZWZpeGVkIGluIHN0eWxlKSB7XG4gICAgICByZXR1cm4gcHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBwcmVmaXhlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJhd05hbWU7XG59XG5cbmNvbnN0IHhsaW5rTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIjtcbmZ1bmN0aW9uIHBhdGNoQXR0cihlbCwga2V5LCB2YWx1ZSwgaXNTVkcsIGluc3RhbmNlLCBpc0Jvb2xlYW4gPSBpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpKSB7XG4gIGlmIChpc1NWRyAmJiBrZXkuc3RhcnRzV2l0aChcInhsaW5rOlwiKSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXkuc2xpY2UoNiwga2V5Lmxlbmd0aCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNCb29sZWFuICYmICFpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFxuICAgICAgICBrZXksXG4gICAgICAgIGlzQm9vbGVhbiA/IFwiXCIgOiBpc1N5bWJvbCh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgcGFyZW50Q29tcG9uZW50LCBhdHRyTmFtZSkge1xuICBpZiAoa2V5ID09PSBcImlubmVySFRNTFwiIHx8IGtleSA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGVsW2tleV0gPSBrZXkgPT09IFwiaW5uZXJIVE1MXCIgPyB1bnNhZmVUb1RydXN0ZWRIVE1MKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdGFnID0gZWwudGFnTmFtZTtcbiAgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiICYmIHRhZyAhPT0gXCJQUk9HUkVTU1wiICYmIC8vIGN1c3RvbSBlbGVtZW50cyBtYXkgdXNlIF92YWx1ZSBpbnRlcm5hbGx5XG4gICF0YWcuaW5jbHVkZXMoXCItXCIpKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YWcgPT09IFwiT1BUSU9OXCIgPyBlbC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSB8fCBcIlwiIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gKFxuICAgICAgLy8gIzExNjQ3OiB2YWx1ZSBzaG91bGQgYmUgc2V0IGFzIGVtcHR5IHN0cmluZyBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkLFxuICAgICAgLy8gYnV0IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj4gc2hvdWxkIGJlIHNldCBhcyAnb24nLlxuICAgICAgZWwudHlwZSA9PT0gXCJjaGVja2JveFwiID8gXCJvblwiIDogXCJcIlxuICAgICkgOiBTdHJpbmcodmFsdWUpO1xuICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUgfHwgIShcIl92YWx1ZVwiIGluIGVsKSkge1xuICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH1cbiAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG5lZWRSZW1vdmUgPSBmYWxzZTtcbiAgaWYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGVsW2tleV07XG4gICAgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB2YWx1ZSA9IGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdmFsdWUgPSAwO1xuICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgZWxba2V5XSA9IHZhbHVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW5lZWRSZW1vdmUpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgc2V0dGluZyBwcm9wIFwiJHtrZXl9XCIgb24gPCR7dGFnLnRvTG93ZXJDYXNlKCl9PjogdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLFxuICAgICAgICBlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBuZWVkUmVtb3ZlICYmIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSB8fCBrZXkpO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuY29uc3QgdmVpS2V5ID0gU3ltYm9sKFwiX3ZlaVwiKTtcbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZWwsIHJhd05hbWUsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcbiAgY29uc3QgaW52b2tlcnMgPSBlbFt2ZWlLZXldIHx8IChlbFt2ZWlLZXldID0ge30pO1xuICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcbiAgaWYgKG5leHRWYWx1ZSAmJiBleGlzdGluZ0ludm9rZXIpIHtcbiAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2FuaXRpemVFdmVudFZhbHVlKG5leHRWYWx1ZSwgcmF3TmFtZSkgOiBuZXh0VmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gcGFyc2VOYW1lKHJhd05hbWUpO1xuICAgIGlmIChuZXh0VmFsdWUpIHtcbiAgICAgIGNvbnN0IGludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIoXG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzYW5pdGl6ZUV2ZW50VmFsdWUobmV4dFZhbHVlLCByYXdOYW1lKSA6IG5leHRWYWx1ZSxcbiAgICAgICAgaW5zdGFuY2VcbiAgICAgICk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKGV4aXN0aW5nSW52b2tlcikge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgZXhpc3RpbmdJbnZva2VyLCBvcHRpb25zKTtcbiAgICAgIGludm9rZXJzW3Jhd05hbWVdID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XG5mdW5jdGlvbiBwYXJzZU5hbWUobmFtZSkge1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKG9wdGlvbnNNb2RpZmllclJFLnRlc3QobmFtZSkpIHtcbiAgICBvcHRpb25zID0ge307XG4gICAgbGV0IG07XG4gICAgd2hpbGUgKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XG4gICAgICBvcHRpb25zW21bMF0udG9Mb3dlckNhc2UoKV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuICBjb25zdCBldmVudCA9IG5hbWVbMl0gPT09IFwiOlwiID8gbmFtZS5zbGljZSgzKSA6IGh5cGhlbmF0ZShuYW1lLnNsaWNlKDIpKTtcbiAgcmV0dXJuIFtldmVudCwgb3B0aW9uc107XG59XG5sZXQgY2FjaGVkTm93ID0gMDtcbmNvbnN0IHAgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5jb25zdCBnZXROb3cgPSAoKSA9PiBjYWNoZWROb3cgfHwgKHAudGhlbigoKSA9PiBjYWNoZWROb3cgPSAwKSwgY2FjaGVkTm93ID0gRGF0ZS5ub3coKSk7XG5mdW5jdGlvbiBjcmVhdGVJbnZva2VyKGluaXRpYWxWYWx1ZSwgaW5zdGFuY2UpIHtcbiAgY29uc3QgaW52b2tlciA9IChlKSA9PiB7XG4gICAgaWYgKCFlLl92dHMpIHtcbiAgICAgIGUuX3Z0cyA9IERhdGUubm93KCk7XG4gICAgfSBlbHNlIGlmIChlLl92dHMgPD0gaW52b2tlci5hdHRhY2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIGludm9rZXIudmFsdWUpLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA1LFxuICAgICAgW2VdXG4gICAgKTtcbiAgfTtcbiAgaW52b2tlci52YWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xuICByZXR1cm4gaW52b2tlcjtcbn1cbmZ1bmN0aW9uIHNhbml0aXplRXZlbnRWYWx1ZSh2YWx1ZSwgcHJvcE5hbWUpIHtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHdhcm4oXG4gICAgYFdyb25nIHR5cGUgcGFzc2VkIGFzIGV2ZW50IGhhbmRsZXIgdG8gJHtwcm9wTmFtZX0gLSBkaWQgeW91IGZvcmdldCBAIG9yIDogaW4gZnJvbnQgb2YgeW91ciBwcm9wP1xuRXhwZWN0ZWQgZnVuY3Rpb24gb3IgYXJyYXkgb2YgZnVuY3Rpb25zLCByZWNlaXZlZCB0eXBlICR7dHlwZW9mIHZhbHVlfS5gXG4gICk7XG4gIHJldHVybiBOT09QO1xufVxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSAoKSA9PiB7XG4gICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcbiAgICAgIGUuX3N0b3BwZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIHZhbHVlLm1hcChcbiAgICAgIChmbikgPT4gKGUyKSA9PiAhZTIuX3N0b3BwZWQgJiYgZm4gJiYgZm4oZTIpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgaXNOYXRpdmVPbiA9IChrZXkpID0+IGtleS5jaGFyQ29kZUF0KDApID09PSAxMTEgJiYga2V5LmNoYXJDb2RlQXQoMSkgPT09IDExMCAmJiAvLyBsb3dlcmNhc2UgbGV0dGVyXG5rZXkuY2hhckNvZGVBdCgyKSA+IDk2ICYmIGtleS5jaGFyQ29kZUF0KDIpIDwgMTIzO1xuY29uc3QgcGF0Y2hQcm9wID0gKGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICBjb25zdCBpc1NWRyA9IG5hbWVzcGFjZSA9PT0gXCJzdmdcIjtcbiAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoa2V5WzBdID09PSBcIi5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIHRydWUpIDoga2V5WzBdID09PSBcIl5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIGZhbHNlKSA6IHNob3VsZFNldEFzUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKSkge1xuICAgIHBhdGNoRE9NUHJvcChlbCwga2V5LCBuZXh0VmFsdWUpO1xuICAgIGlmICghZWwudGFnTmFtZS5pbmNsdWRlcyhcIi1cIikgJiYgKGtleSA9PT0gXCJ2YWx1ZVwiIHx8IGtleSA9PT0gXCJjaGVja2VkXCIgfHwga2V5ID09PSBcInNlbGVjdGVkXCIpKSB7XG4gICAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRywgcGFyZW50Q29tcG9uZW50LCBrZXkgIT09IFwidmFsdWVcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgIC8vICMxMTA4MSBmb3JjZSBzZXQgcHJvcHMgZm9yIHBvc3NpYmxlIGFzeW5jIGN1c3RvbSBlbGVtZW50XG4gICAgZWwuX2lzVnVlQ0UgJiYgKC9bQS1aXS8udGVzdChrZXkpIHx8ICFpc1N0cmluZyhuZXh0VmFsdWUpKVxuICApIHtcbiAgICBwYXRjaERPTVByb3AoZWwsIGNhbWVsaXplJDEoa2V5KSwgbmV4dFZhbHVlLCBwYXJlbnRDb21wb25lbnQsIGtleSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGtleSA9PT0gXCJ0cnVlLXZhbHVlXCIpIHtcbiAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiZmFsc2UtdmFsdWVcIikge1xuICAgICAgZWwuX2ZhbHNlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfVxuICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNob3VsZFNldEFzUHJvcChlbCwga2V5LCB2YWx1ZSwgaXNTVkcpIHtcbiAgaWYgKGlzU1ZHKSB7XG4gICAgaWYgKGtleSA9PT0gXCJpbm5lckhUTUxcIiB8fCBrZXkgPT09IFwidGV4dENvbnRlbnRcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChrZXkgaW4gZWwgJiYgaXNOYXRpdmVPbihrZXkpICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwic3BlbGxjaGVja1wiIHx8IGtleSA9PT0gXCJkcmFnZ2FibGVcIiB8fCBrZXkgPT09IFwidHJhbnNsYXRlXCIgfHwga2V5ID09PSBcImF1dG9jb3JyZWN0XCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJmb3JtXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJsaXN0XCIgJiYgZWwudGFnTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwidHlwZVwiICYmIGVsLnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcIndpZHRoXCIgfHwga2V5ID09PSBcImhlaWdodFwiKSB7XG4gICAgY29uc3QgdGFnID0gZWwudGFnTmFtZTtcbiAgICBpZiAodGFnID09PSBcIklNR1wiIHx8IHRhZyA9PT0gXCJWSURFT1wiIHx8IHRhZyA9PT0gXCJDQU5WQVNcIiB8fCB0YWcgPT09IFwiU09VUkNFXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzTmF0aXZlT24oa2V5KSAmJiBpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGtleSBpbiBlbDtcbn1cblxuY29uc3QgUkVNT1ZBTCA9IHt9O1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBfY3JlYXRlQXBwKSB7XG4gIGxldCBDb21wID0gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucyk7XG4gIGlmIChpc1BsYWluT2JqZWN0KENvbXApKSBDb21wID0gZXh0ZW5kKHt9LCBDb21wLCBleHRyYU9wdGlvbnMpO1xuICBjbGFzcyBWdWVDdXN0b21FbGVtZW50IGV4dGVuZHMgVnVlRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoaW5pdGlhbFByb3BzKSB7XG4gICAgICBzdXBlcihDb21wLCBpbml0aWFsUHJvcHMsIF9jcmVhdGVBcHApO1xuICAgIH1cbiAgfVxuICBWdWVDdXN0b21FbGVtZW50LmRlZiA9IENvbXA7XG4gIHJldHVybiBWdWVDdXN0b21FbGVtZW50O1xufVxuY29uc3QgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCA9ICgvKiBAX19OT19TSURFX0VGRkVDVFNfXyAqLyAob3B0aW9ucywgZXh0cmFPcHRpb25zKSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZGVmaW5lQ3VzdG9tRWxlbWVudChvcHRpb25zLCBleHRyYU9wdGlvbnMsIGNyZWF0ZVNTUkFwcCk7XG59KTtcbmNvbnN0IEJhc2VDbGFzcyA9IHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IEhUTUxFbGVtZW50IDogY2xhc3Mge1xufTtcbmNsYXNzIFZ1ZUVsZW1lbnQgZXh0ZW5kcyBCYXNlQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcihfZGVmLCBfcHJvcHMgPSB7fSwgX2NyZWF0ZUFwcCA9IGNyZWF0ZUFwcCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZGVmID0gX2RlZjtcbiAgICB0aGlzLl9wcm9wcyA9IF9wcm9wcztcbiAgICB0aGlzLl9jcmVhdGVBcHAgPSBfY3JlYXRlQXBwO1xuICAgIHRoaXMuX2lzVnVlQ0UgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hcHAgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX25vbmNlID0gdGhpcy5fZGVmLm5vbmNlO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3Jlc29sdmVkID0gZmFsc2U7XG4gICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudWxsO1xuICAgIHRoaXMuX3N0eWxlQ2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICB0aGlzLl9vYiA9IG51bGw7XG4gICAgaWYgKHRoaXMuc2hhZG93Um9vdCAmJiBfY3JlYXRlQXBwICE9PSBjcmVhdGVBcHApIHtcbiAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLnNoYWRvd1Jvb3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBDdXN0b20gZWxlbWVudCBoYXMgcHJlLXJlbmRlcmVkIGRlY2xhcmF0aXZlIHNoYWRvdyByb290IGJ1dCBpcyBub3QgZGVmaW5lZCBhcyBoeWRyYXRhYmxlLiBVc2UgXFxgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudFxcYC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoX2RlZi5zaGFkb3dSb290ICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5zaGFkb3dSb290O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcm9vdCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290ICYmICF0aGlzLl9yZXNvbHZlZCkge1xuICAgICAgdGhpcy5fcGFyc2VTbG90cygpO1xuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQgJiYgKHBhcmVudC5wYXJlbnROb2RlIHx8IHBhcmVudC5ob3N0KSkge1xuICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFZ1ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgaWYgKHRoaXMuX3Jlc29sdmVkKSB7XG4gICAgICAgIHRoaXMuX21vdW50KHRoaXMuX2RlZik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5fcGVuZGluZ1Jlc29sdmUpIHtcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHBhcmVudC5fcGVuZGluZ1Jlc29sdmUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVEZWYoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3NldFBhcmVudChwYXJlbnQgPSB0aGlzLl9wYXJlbnQpIHtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZS5wYXJlbnQgPSBwYXJlbnQuX2luc3RhbmNlO1xuICAgICAgdGhpcy5faW5oZXJpdFBhcmVudENvbnRleHQocGFyZW50KTtcbiAgICB9XG4gIH1cbiAgX2luaGVyaXRQYXJlbnRDb250ZXh0KHBhcmVudCA9IHRoaXMuX3BhcmVudCkge1xuICAgIGlmIChwYXJlbnQgJiYgdGhpcy5fYXBwKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoXG4gICAgICAgIHRoaXMuX2FwcC5fY29udGV4dC5wcm92aWRlcyxcbiAgICAgICAgcGFyZW50Ll9pbnN0YW5jZS5wcm92aWRlc1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29iKSB7XG4gICAgICAgICAgdGhpcy5fb2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHAgJiYgdGhpcy5fYXBwLnVubW91bnQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlKSB0aGlzLl9pbnN0YW5jZS5jZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fYXBwID0gdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiByZXNvbHZlIGlubmVyIGNvbXBvbmVudCBkZWZpbml0aW9uIChoYW5kbGUgcG9zc2libGUgYXN5bmMgY29tcG9uZW50KVxuICAgKi9cbiAgX3Jlc29sdmVEZWYoKSB7XG4gICAgaWYgKHRoaXMuX3BlbmRpbmdSZXNvbHZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9zZXRBdHRyKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICB9XG4gICAgdGhpcy5fb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgIHRoaXMuX3NldEF0dHIobS5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9vYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICB0aGlzLl9yZXNvbHZlZCA9IHRydWU7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgIGNvbnN0IHsgcHJvcHMsIHN0eWxlcyB9ID0gZGVmO1xuICAgICAgbGV0IG51bWJlclByb3BzO1xuICAgICAgaWYgKHByb3BzICYmICFpc0FycmF5KHByb3BzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGNvbnN0IG9wdCA9IHByb3BzW2tleV07XG4gICAgICAgICAgaWYgKG9wdCA9PT0gTnVtYmVyIHx8IG9wdCAmJiBvcHQudHlwZSA9PT0gTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3Byb3BzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB0b051bWJlcih0aGlzLl9wcm9wc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChudW1iZXJQcm9wcyB8fCAobnVtYmVyUHJvcHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NhbWVsaXplJDEoa2V5KV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudW1iZXJQcm9wcztcbiAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyhkZWYpO1xuICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhzdHlsZXMpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN0eWxlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQ3VzdG9tIGVsZW1lbnQgc3R5bGUgaW5qZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiB1c2luZyBzaGFkb3dSb290OiBmYWxzZVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLl9tb3VudChkZWYpO1xuICAgIH07XG4gICAgY29uc3QgYXN5bmNEZWYgPSB0aGlzLl9kZWYuX19hc3luY0xvYWRlcjtcbiAgICBpZiAoYXN5bmNEZWYpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlID0gYXN5bmNEZWYoKS50aGVuKChkZWYpID0+IHtcbiAgICAgICAgZGVmLmNvbmZpZ3VyZUFwcCA9IHRoaXMuX2RlZi5jb25maWd1cmVBcHA7XG4gICAgICAgIHJlc29sdmUodGhpcy5fZGVmID0gZGVmLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHRoaXMuX2RlZik7XG4gICAgfVxuICB9XG4gIF9tb3VudChkZWYpIHtcbiAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiAhZGVmLm5hbWUpIHtcbiAgICAgIGRlZi5uYW1lID0gXCJWdWVFbGVtZW50XCI7XG4gICAgfVxuICAgIHRoaXMuX2FwcCA9IHRoaXMuX2NyZWF0ZUFwcChkZWYpO1xuICAgIHRoaXMuX2luaGVyaXRQYXJlbnRDb250ZXh0KCk7XG4gICAgaWYgKGRlZi5jb25maWd1cmVBcHApIHtcbiAgICAgIGRlZi5jb25maWd1cmVBcHAodGhpcy5fYXBwKTtcbiAgICB9XG4gICAgdGhpcy5fYXBwLl9jZVZOb2RlID0gdGhpcy5fY3JlYXRlVk5vZGUoKTtcbiAgICB0aGlzLl9hcHAubW91bnQodGhpcy5fcm9vdCk7XG4gICAgY29uc3QgZXhwb3NlZCA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmV4cG9zZWQ7XG4gICAgaWYgKCFleHBvc2VkKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZXhwb3NlZCkge1xuICAgICAgaWYgKCFoYXNPd24odGhpcywga2V5KSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgLy8gdW53cmFwIHJlZiB0byBiZSBjb25zaXN0ZW50IHdpdGggcHVibGljIGluc3RhbmNlIGJlaGF2aW9yXG4gICAgICAgICAgZ2V0OiAoKSA9PiB1bnJlZihleHBvc2VkW2tleV0pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4oYEV4cG9zZWQgcHJvcGVydHkgXCIke2tleX1cIiBhbHJlYWR5IGV4aXN0cyBvbiBjdXN0b20gZWxlbWVudC5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBkZWY7XG4gICAgY29uc3QgZGVjbGFyZWRQcm9wS2V5cyA9IGlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBPYmplY3Qua2V5cyhwcm9wcyB8fCB7fSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiICYmIGRlY2xhcmVkUHJvcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdGhpc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUkMSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIF9zZXRBdHRyKGtleSkge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcImRhdGEtdi1cIikpIHJldHVybjtcbiAgICBjb25zdCBoYXMgPSB0aGlzLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgIGxldCB2YWx1ZSA9IGhhcyA/IHRoaXMuZ2V0QXR0cmlidXRlKGtleSkgOiBSRU1PVkFMO1xuICAgIGNvbnN0IGNhbWVsS2V5ID0gY2FtZWxpemUkMShrZXkpO1xuICAgIGlmIChoYXMgJiYgdGhpcy5fbnVtYmVyUHJvcHMgJiYgdGhpcy5fbnVtYmVyUHJvcHNbY2FtZWxLZXldKSB7XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy5fc2V0UHJvcChjYW1lbEtleSwgdmFsdWUsIGZhbHNlLCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZ2V0UHJvcChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcHNba2V5XTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfc2V0UHJvcChrZXksIHZhbCwgc2hvdWxkUmVmbGVjdCA9IHRydWUsIHNob3VsZFVwZGF0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHZhbCAhPT0gdGhpcy5fcHJvcHNba2V5XSkge1xuICAgICAgaWYgKHZhbCA9PT0gUkVNT1ZBTCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB2YWw7XG4gICAgICAgIGlmIChrZXkgPT09IFwia2V5XCIgJiYgdGhpcy5fYXBwKSB7XG4gICAgICAgICAgdGhpcy5fYXBwLl9jZVZOb2RlLmtleSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFVwZGF0ZSAmJiB0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRSZWZsZWN0KSB7XG4gICAgICAgIGNvbnN0IG9iID0gdGhpcy5fb2I7XG4gICAgICAgIG9iICYmIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBvYiAmJiBvYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCB2bm9kZSA9IHRoaXMuX2NyZWF0ZVZOb2RlKCk7XG4gICAgaWYgKHRoaXMuX2FwcCkgdm5vZGUuYXBwQ29udGV4dCA9IHRoaXMuX2FwcC5fY29udGV4dDtcbiAgICByZW5kZXIodm5vZGUsIHRoaXMuX3Jvb3QpO1xuICB9XG4gIF9jcmVhdGVWTm9kZSgpIHtcbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgYmFzZVByb3BzLm9uVm5vZGVNb3VudGVkID0gYmFzZVByb3BzLm9uVm5vZGVVcGRhdGVkID0gdGhpcy5fcmVuZGVyU2xvdHMuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZSh0aGlzLl9kZWYsIGV4dGVuZChiYXNlUHJvcHMsIHRoaXMuX3Byb3BzKSk7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdm5vZGUuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2UuY2UgPSB0aGlzO1xuICAgICAgICBpbnN0YW5jZS5pc0NFID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jZVJlbG9hZCA9IChuZXdTdHlsZXMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmZvckVhY2goKHMpID0+IHRoaXMuX3Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKG5ld1N0eWxlcyk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoID0gKGV2ZW50LCBhcmdzKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChhcmdzWzBdKSA/IGV4dGVuZCh7IGRldGFpbDogYXJncyB9LCBhcmdzWzBdKSA6IHsgZGV0YWlsOiBhcmdzIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBpbnN0YW5jZS5lbWl0ID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgIGlmIChoeXBoZW5hdGUoZXZlbnQpICE9PSBldmVudCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goaHlwaGVuYXRlKGV2ZW50KSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zZXRQYXJlbnQoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBfYXBwbHlTdHlsZXMoc3R5bGVzLCBvd25lcikge1xuICAgIGlmICghc3R5bGVzKSByZXR1cm47XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIgPT09IHRoaXMuX2RlZiB8fCB0aGlzLl9zdHlsZUNoaWxkcmVuLmhhcyhvd25lcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3R5bGVDaGlsZHJlbi5hZGQob3duZXIpO1xuICAgIH1cbiAgICBjb25zdCBub25jZSA9IHRoaXMuX25vbmNlO1xuICAgIGZvciAobGV0IGkgPSBzdHlsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICBpZiAobm9uY2UpIHMuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICAgICAgcy50ZXh0Q29udGVudCA9IHN0eWxlc1tpXTtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5wcmVwZW5kKHMpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgaWYgKG93bmVyLl9faG1ySWQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hpbGRTdHlsZXMpIHRoaXMuX2NoaWxkU3R5bGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IHRoaXMuX2NoaWxkU3R5bGVzLmdldChvd25lci5fX2htcklkKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgdGhpcy5fY2hpbGRTdHlsZXMuc2V0KG93bmVyLl9faG1ySWQsIGVudHJ5ID0gW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cnkucHVzaChzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHRoaXMuX3N0eWxlcyB8fCAodGhpcy5fc3R5bGVzID0gW10pKS5wdXNoKHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9wYXJzZVNsb3RzKCkge1xuICAgIGNvbnN0IHNsb3RzID0gdGhpcy5fc2xvdHMgPSB7fTtcbiAgICBsZXQgbjtcbiAgICB3aGlsZSAobiA9IHRoaXMuZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBuLm5vZGVUeXBlID09PSAxICYmIG4uZ2V0QXR0cmlidXRlKFwic2xvdFwiKSB8fCBcImRlZmF1bHRcIjtcbiAgICAgIChzbG90c1tzbG90TmFtZV0gfHwgKHNsb3RzW3Nsb3ROYW1lXSA9IFtdKSkucHVzaChuKTtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9yZW5kZXJTbG90cygpIHtcbiAgICBjb25zdCBvdXRsZXRzID0gKHRoaXMuX3RlbGVwb3J0VGFyZ2V0IHx8IHRoaXMpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzbG90XCIpO1xuICAgIGNvbnN0IHNjb3BlSWQgPSB0aGlzLl9pbnN0YW5jZS50eXBlLl9fc2NvcGVJZDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dGxldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG8gPSBvdXRsZXRzW2ldO1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBvLmdldEF0dHJpYnV0ZShcIm5hbWVcIikgfHwgXCJkZWZhdWx0XCI7XG4gICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5fc2xvdHNbc2xvdE5hbWVdO1xuICAgICAgY29uc3QgcGFyZW50ID0gby5wYXJlbnROb2RlO1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICBpZiAoc2NvcGVJZCAmJiBuLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHNjb3BlSWQgKyBcIi1zXCI7XG4gICAgICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKG4sIDEpO1xuICAgICAgICAgICAgbi5zZXRBdHRyaWJ1dGUoaWQsIFwiXCIpO1xuICAgICAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGNoaWxkID0gd2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKGlkLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuLCBvKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKG8uZmlyc3RDaGlsZCkgcGFyZW50Lmluc2VydEJlZm9yZShvLmZpcnN0Q2hpbGQsIG8pO1xuICAgICAgfVxuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG8pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfaW5qZWN0Q2hpbGRTdHlsZShjb21wKSB7XG4gICAgdGhpcy5fYXBwbHlTdHlsZXMoY29tcC5zdHlsZXMsIGNvbXApO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9yZW1vdmVDaGlsZFN0eWxlKGNvbXApIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgdGhpcy5fc3R5bGVDaGlsZHJlbi5kZWxldGUoY29tcCk7XG4gICAgICBpZiAodGhpcy5fY2hpbGRTdHlsZXMgJiYgY29tcC5fX2htcklkKSB7XG4gICAgICAgIGNvbnN0IG9sZFN0eWxlcyA9IHRoaXMuX2NoaWxkU3R5bGVzLmdldChjb21wLl9faG1ySWQpO1xuICAgICAgICBpZiAob2xkU3R5bGVzKSB7XG4gICAgICAgICAgb2xkU3R5bGVzLmZvckVhY2goKHMpID0+IHRoaXMuX3Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgIG9sZFN0eWxlcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1c2VIb3N0KGNhbGxlcikge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCBlbCA9IGluc3RhbmNlICYmIGluc3RhbmNlLmNlO1xuICBpZiAoZWwpIHtcbiAgICByZXR1cm4gZWw7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhbGxlciB8fCBcInVzZUhvc3RcIn0gY2FsbGVkIHdpdGhvdXQgYW4gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgJHtjYWxsZXIgfHwgXCJ1c2VIb3N0XCJ9IGNhbiBvbmx5IGJlIHVzZWQgaW4gY29tcG9uZW50cyBkZWZpbmVkIHZpYSBkZWZpbmVDdXN0b21FbGVtZW50LmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2hhZG93Um9vdCgpIHtcbiAgY29uc3QgZWwgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gdXNlSG9zdChcInVzZVNoYWRvd1Jvb3RcIikgOiB1c2VIb3N0KCk7XG4gIHJldHVybiBlbCAmJiBlbC5zaGFkb3dSb290O1xufVxuXG5mdW5jdGlvbiB1c2VDc3NNb2R1bGUobmFtZSA9IFwiJHN0eWxlXCIpIHtcbiAge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGB1c2VDc3NNb2R1bGUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIHNldHVwKClgKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsZXMgPSBpbnN0YW5jZS50eXBlLl9fY3NzTW9kdWxlcztcbiAgICBpZiAoIW1vZHVsZXMpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGVzIGluamVjdGVkLmApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgY29uc3QgbW9kID0gbW9kdWxlc1tuYW1lXTtcbiAgICBpZiAoIW1vZCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcIiR7bmFtZX1cIi5gKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIHJldHVybiBtb2Q7XG4gIH1cbn1cblxuY29uc3QgcG9zaXRpb25NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG5ld1Bvc2l0aW9uTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBtb3ZlQ2JLZXkgPSBTeW1ib2woXCJfbW92ZUNiXCIpO1xuY29uc3QgZW50ZXJDYktleSA9IFN5bWJvbChcIl9lbnRlckNiXCIpO1xuY29uc3QgZGVjb3JhdGUgPSAodCkgPT4ge1xuICBkZWxldGUgdC5wcm9wcy5tb2RlO1xuICByZXR1cm4gdDtcbn07XG5jb25zdCBUcmFuc2l0aW9uR3JvdXBJbXBsID0gLyogQF9fUFVSRV9fICovIGRlY29yYXRlKHtcbiAgbmFtZTogXCJUcmFuc2l0aW9uR3JvdXBcIixcbiAgcHJvcHM6IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoe30sIFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIHtcbiAgICB0YWc6IFN0cmluZyxcbiAgICBtb3ZlQ2xhc3M6IFN0cmluZ1xuICB9KSxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICBsZXQgcHJldkNoaWxkcmVuO1xuICAgIGxldCBjaGlsZHJlbjtcbiAgICBvblVwZGF0ZWQoKCkgPT4ge1xuICAgICAgaWYgKCFwcmV2Q2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8IFwidlwifS1tb3ZlYDtcbiAgICAgIGlmICghaGFzQ1NTVHJhbnNmb3JtKFxuICAgICAgICBwcmV2Q2hpbGRyZW5bMF0uZWwsXG4gICAgICAgIGluc3RhbmNlLnZub2RlLmVsLFxuICAgICAgICBtb3ZlQ2xhc3NcbiAgICAgICkpIHtcbiAgICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcbiAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcbiAgICAgIGNvbnN0IG1vdmVkQ2hpbGRyZW4gPSBwcmV2Q2hpbGRyZW4uZmlsdGVyKGFwcGx5VHJhbnNsYXRpb24pO1xuICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGMuZWw7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gXCJcIjtcbiAgICAgICAgY29uc3QgY2IgPSBlbFttb3ZlQ2JLZXldID0gKGUpID0+IHtcbiAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFlIHx8IGUucHJvcGVydHlOYW1lLmVuZHNXaXRoKFwidHJhbnNmb3JtXCIpKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBjYik7XG4gICAgICAgICAgICBlbFttb3ZlQ2JLZXldID0gbnVsbDtcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGNiKTtcbiAgICAgIH0pO1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgaWYgKGNoaWxkLmVsICYmIGNoaWxkLmVsIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgcHJldkNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgICBjc3NUcmFuc2l0aW9uUHJvcHMsXG4gICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hpbGQudHlwZSAhPT0gVGV4dCkge1xuICAgICAgICAgIHdhcm4oYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0YWcsIG51bGwsIGNoaWxkcmVuKTtcbiAgICB9O1xuICB9XG59KTtcbmNvbnN0IFRyYW5zaXRpb25Hcm91cCA9IFRyYW5zaXRpb25Hcm91cEltcGw7XG5mdW5jdGlvbiBjYWxsUGVuZGluZ0NicyhjKSB7XG4gIGNvbnN0IGVsID0gYy5lbDtcbiAgaWYgKGVsW21vdmVDYktleV0pIHtcbiAgICBlbFttb3ZlQ2JLZXldKCk7XG4gIH1cbiAgaWYgKGVsW2VudGVyQ2JLZXldKSB7XG4gICAgZWxbZW50ZXJDYktleV0oKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24oYykge1xuICBuZXdQb3NpdGlvbk1hcC5zZXQoYywgYy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG59XG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcbiAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XG4gIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcbiAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgaWYgKGR4IHx8IGR5KSB7XG4gICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XG4gICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSBcIjBzXCI7XG4gICAgcmV0dXJuIGM7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XG4gIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XG4gIGNvbnN0IF92dGMgPSBlbFt2dGNLZXldO1xuICBpZiAoX3Z0Yykge1xuICAgIF92dGMuZm9yRWFjaCgoY2xzKSA9PiB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgIH0pO1xuICB9XG4gIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XG4gIGNsb25lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgY29uc3QgY29udGFpbmVyID0gcm9vdC5ub2RlVHlwZSA9PT0gMSA/IHJvb3QgOiByb290LnBhcmVudE5vZGU7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XG4gIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XG4gIHJldHVybiBoYXNUcmFuc2Zvcm07XG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1tcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIl0gfHwgZmFsc2U7XG4gIHJldHVybiBpc0FycmF5KGZuKSA/ICh2YWx1ZSkgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xufTtcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcbiAgfVxufVxuY29uc3QgYXNzaWduS2V5ID0gU3ltYm9sKFwiX2Fzc2lnblwiKTtcbmNvbnN0IHZNb2RlbFRleHQgPSB7XG4gIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlID09PSBcIm51bWJlclwiO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGxhenkgPyBcImNoYW5nZVwiIDogXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZykgcmV0dXJuO1xuICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XG4gICAgICBpZiAodHJpbSkge1xuICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYXN0VG9OdW1iZXIpIHtcbiAgICAgICAgZG9tVmFsdWUgPSBsb29zZVRvTnVtYmVyKGRvbVZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsW2Fzc2lnbktleV0oZG9tVmFsdWUpO1xuICAgIH0pO1xuICAgIGlmICh0cmltKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGVsLnZhbHVlID0gZWwudmFsdWUudHJpbSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbGF6eSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNvbXBvc2l0aW9uZW5kXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgfVxuICB9LFxuICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSwgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmIChlbC5jb21wb3NpbmcpIHJldHVybjtcbiAgICBjb25zdCBlbFZhbHVlID0gKG51bWJlciB8fCBlbC50eXBlID09PSBcIm51bWJlclwiKSAmJiAhL14wXFxkLy50ZXN0KGVsLnZhbHVlKSA/IGxvb3NlVG9OdW1iZXIoZWwudmFsdWUpIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIGlmIChlbFZhbHVlID09PSBuZXdWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgZWwudHlwZSAhPT0gXCJyYW5nZVwiKSB7XG4gICAgICBpZiAobGF6eSAmJiB2YWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSBuZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gIH1cbn07XG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcbiAgLy8gIzQwOTYgYXJyYXkgY2hlY2tib3hlcyBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcbiAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgY29uc3QgYXNzaWduID0gZWxbYXNzaWduS2V5XTtcbiAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbG9vc2VJbmRleE9mKG1vZGVsVmFsdWUsIGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xuICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcbiAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcbiAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICBjbG9uZWQuYWRkKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihjbG9uZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXG4gIG1vdW50ZWQ6IHNldENoZWNrZWQsXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xuICB9XG59O1xuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgbGV0IGNoZWNrZWQ7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHJldHVybjtcbiAgICBjaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xuICB9XG4gIGlmIChlbC5jaGVja2VkICE9PSBjaGVja2VkKSB7XG4gICAgZWwuY2hlY2tlZCA9IGNoZWNrZWQ7XG4gIH1cbn1cbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xuICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgZWxbYXNzaWduS2V5XShnZXRWYWx1ZShlbCkpO1xuICAgIH0pO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xuICAvLyA8c2VsZWN0IG11bHRpcGxlPiB2YWx1ZSBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpLm1hcChcbiAgICAgICAgKG8pID0+IG51bWJlciA/IGxvb3NlVG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobylcbiAgICAgICk7XG4gICAgICBlbFthc3NpZ25LZXldKFxuICAgICAgICBlbC5tdWx0aXBsZSA/IGlzU2V0TW9kZWwgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKSA6IHNlbGVjdGVkVmFsIDogc2VsZWN0ZWRWYWxbMF1cbiAgICAgICk7XG4gICAgICBlbC5fYXNzaWduaW5nID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgZWwuX2Fzc2lnbmluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICB9LFxuICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXG4gIC8vIDxvcHRpb24+cy5cbiAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGlmICghZWwuX2Fzc2lnbmluZykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUpIHtcbiAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBjb25zdCBpc0FycmF5VmFsdWUgPSBpc0FycmF5KHZhbHVlKTtcbiAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXlWYWx1ZSAmJiAhaXNTZXQodmFsdWUpKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKFxuICAgICAgYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XG4gICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgIGlmIChpc0FycmF5VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVHlwZSA9IHR5cGVvZiBvcHRpb25WYWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvblR5cGUgPT09IFwic3RyaW5nXCIgfHwgb3B0aW9uVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLnNvbWUoKHYpID0+IFN0cmluZyh2KSA9PT0gU3RyaW5nKG9wdGlvblZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSkgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgcmV0dXJuIFwiX3ZhbHVlXCIgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcbiAgY29uc3Qga2V5ID0gY2hlY2tlZCA/IFwiX3RydWVWYWx1ZVwiIDogXCJfZmFsc2VWYWx1ZVwiO1xuICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XG59XG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xuICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcImNyZWF0ZWRcIik7XG4gIH0sXG4gIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsIFwibW91bnRlZFwiKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJiZWZvcmVVcGRhdGVcIik7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBcInVwZGF0ZWRcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY01vZGVsKHRhZ05hbWUsIHR5cGUpIHtcbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcIlNFTEVDVFwiOlxuICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbENoZWNrYm94O1xuICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsUmFkaW87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcbiAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgZWwudGFnTmFtZSxcbiAgICB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlXG4gICk7XG4gIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcbiAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xufVxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgdk1vZGVsVGV4dC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+ICh7IHZhbHVlIH0pO1xuICB2TW9kZWxSYWRpby5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlRXF1YWwodm5vZGUucHJvcHMudmFsdWUsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsQ2hlY2tib3guZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICBpZiAodm5vZGUucHJvcHMgJiYgdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsRHluYW1pYy5nZXRTU1JQcm9wcyA9IChiaW5kaW5nLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygdm5vZGUudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICAgIC8vIHJlc29sdmVEeW5hbWljTW9kZWwgZXhwZWN0cyBhbiB1cHBlcmNhc2UgdGFnIG5hbWUsIGJ1dCB2bm9kZS50eXBlIGlzIGxvd2VyY2FzZVxuICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICAgICk7XG4gICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFtcImN0cmxcIiwgXCJzaGlmdFwiLCBcImFsdFwiLCBcIm1ldGFcIl07XG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcbiAgc3RvcDogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gIHByZXZlbnQ6IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gIHNlbGY6IChlKSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxuICBjdHJsOiAoZSkgPT4gIWUuY3RybEtleSxcbiAgc2hpZnQ6IChlKSA9PiAhZS5zaGlmdEtleSxcbiAgYWx0OiAoZSkgPT4gIWUuYWx0S2V5LFxuICBtZXRhOiAoZSkgPT4gIWUubWV0YUtleSxcbiAgbGVmdDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcbiAgbWlkZGxlOiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICByaWdodDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcbiAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKChtKSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcbn07XG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aE1vZHMgfHwgKGZuLl93aXRoTW9kcyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9ICgoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZ3VhcmQgPSBtb2RpZmllckd1YXJkc1ttb2RpZmllcnNbaV1dO1xuICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKSByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XG4gIH0pKTtcbn07XG5jb25zdCBrZXlOYW1lcyA9IHtcbiAgZXNjOiBcImVzY2FwZVwiLFxuICBzcGFjZTogXCIgXCIsXG4gIHVwOiBcImFycm93LXVwXCIsXG4gIGxlZnQ6IFwiYXJyb3ctbGVmdFwiLFxuICByaWdodDogXCJhcnJvdy1yaWdodFwiLFxuICBkb3duOiBcImFycm93LWRvd25cIixcbiAgZGVsZXRlOiBcImJhY2tzcGFjZVwiXG59O1xuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xuICBjb25zdCBjYWNoZSA9IGZuLl93aXRoS2V5cyB8fCAoZm4uX3dpdGhLZXlzID0ge30pO1xuICBjb25zdCBjYWNoZUtleSA9IG1vZGlmaWVycy5qb2luKFwiLlwiKTtcbiAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XSB8fCAoY2FjaGVbY2FjaGVLZXldID0gKChldmVudCkgPT4ge1xuICAgIGlmICghKFwia2V5XCIgaW4gZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XG4gICAgaWYgKG1vZGlmaWVycy5zb21lKFxuICAgICAgKGspID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleVxuICAgICkpIHtcbiAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgfVxuICB9KSk7XG59O1xuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XG59XG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcbiAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uID8gcmVuZGVyZXIgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuY29uc3QgcmVuZGVyID0gKCguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZVJlbmRlcmVyKCkucmVuZGVyKC4uLmFyZ3MpO1xufSk7XG5jb25zdCBoeWRyYXRlID0gKCguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcbn0pO1xuY29uc3QgY3JlYXRlQXBwID0gKCguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgfVxuICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9XG4gICAgY29uc3QgcHJveHkgPSBtb3VudChjb250YWluZXIsIGZhbHNlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcInYtY2xvYWtcIik7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS12LWFwcFwiLCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3h5O1xuICB9O1xuICByZXR1cm4gYXBwO1xufSk7XG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcbiAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xuICB9XG4gIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcbiAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIG1vdW50KGNvbnRhaW5lciwgdHJ1ZSwgcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gYXBwO1xufSk7XG5mdW5jdGlvbiByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpIHtcbiAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJzdmdcIjtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiBjb250YWluZXIgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwibWF0aG1sXCI7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc05hdGl2ZVRhZ1wiLCB7XG4gICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZykgfHwgaXNNYXRoTUxUYWcodGFnKSxcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG59XG5mdW5jdGlvbiBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApIHtcbiAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGFwcC5jb25maWcuaXNDdXN0b21FbGVtZW50O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImlzQ3VzdG9tRWxlbWVudFwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBpc0N1c3RvbUVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgc2V0KCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgZGVwcmVjYXRlZC4gVXNlIFxcYGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnRcXGAgaW5zdGVhZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnM7XG4gICAgY29uc3QgbXNnID0gYFRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgY29uZmlnIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlLmpzIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIgKGFrYSBcImZ1bGwgYnVpbGRcIikuIFNpbmNlIHlvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCwgXFxgY29tcGlsZXJPcHRpb25zXFxgIG11c3QgYmUgcGFzc2VkIHRvIFxcYEB2dWUvY29tcGlsZXItZG9tXFxgIGluIHRoZSBidWlsZCBzZXR1cCBpbnN0ZWFkLlxuLSBGb3IgdnVlLWxvYWRlcjogcGFzcyBpdCB2aWEgdnVlLWxvYWRlcidzIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBsb2FkZXIgb3B0aW9uLlxuLSBGb3IgdnVlLWNsaTogc2VlIGh0dHBzOi8vY2xpLnZ1ZWpzLm9yZy9ndWlkZS93ZWJwYWNrLmh0bWwjbW9kaWZ5aW5nLW9wdGlvbnMtb2YtYS1sb2FkZXJcbi0gRm9yIHZpdGU6IHBhc3MgaXQgdmlhIEB2aXRlanMvcGx1Z2luLXZ1ZSBvcHRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlLXBsdWdpbi12dWUvdHJlZS9tYWluL3BhY2thZ2VzL3BsdWdpbi12dWUjZXhhbXBsZS1mb3ItcGFzc2luZy1vcHRpb25zLXRvLXZ1ZWNvbXBpbGVyLXNmY2A7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiY29tcGlsZXJPcHRpb25zXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICByZXR1cm4gY29tcGlsZXJPcHRpb25zO1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyKSB7XG4gIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFyZXMpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyLm1vZGUgPT09IFwiY2xvc2VkXCIpIHtcbiAgICB3YXJuKFxuICAgICAgYG1vdW50aW5nIG9uIGEgU2hhZG93Um9vdCB3aXRoIFxcYHttb2RlOiBcImNsb3NlZFwifVxcYCBtYXkgbGVhZCB0byB1bnByZWRpY3RhYmxlIGJ1Z3NgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyO1xufVxubGV0IHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gZmFsc2U7XG5jb25zdCBpbml0RGlyZWN0aXZlc0ZvclNTUiA9ICgpID0+IHtcbiAgaWYgKCFzc3JEaXJlY3RpdmVJbml0aWFsaXplZCkge1xuICAgIHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBpbml0Vk1vZGVsRm9yU1NSKCk7XG4gICAgaW5pdFZTaG93Rm9yU1NSKCk7XG4gIH1cbn0gO1xuXG5leHBvcnQgeyBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIFZ1ZUVsZW1lbnQsIGNyZWF0ZUFwcCwgY3JlYXRlU1NSQXBwLCBkZWZpbmVDdXN0b21FbGVtZW50LCBkZWZpbmVTU1JDdXN0b21FbGVtZW50LCBoeWRyYXRlLCBpbml0RGlyZWN0aXZlc0ZvclNTUiwgcmVuZGVyLCB1c2VDc3NNb2R1bGUsIHVzZUNzc1ZhcnMsIHVzZUhvc3QsIHVzZVNoYWRvd1Jvb3QsIHZNb2RlbENoZWNrYm94LCB2TW9kZWxEeW5hbWljLCB2TW9kZWxSYWRpbywgdk1vZGVsU2VsZWN0LCB2TW9kZWxUZXh0LCB2U2hvdywgd2l0aEtleXMsIHdpdGhNb2RpZmllcnMgfTtcbiIsIi8qISBDYXBhY2l0b3I6IGh0dHBzOi8vY2FwYWNpdG9yanMuY29tLyAtIE1JVCBMaWNlbnNlICovXG52YXIgRXhjZXB0aW9uQ29kZTtcbihmdW5jdGlvbiAoRXhjZXB0aW9uQ29kZSkge1xuICAgIC8qKlxuICAgICAqIEFQSSBpcyBub3QgaW1wbGVtZW50ZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIHVzdWFsbHkgbWVhbnMgdGhlIEFQSSBjYW4ndCBiZSB1c2VkIGJlY2F1c2UgaXQgaXMgbm90IGltcGxlbWVudGVkIGZvclxuICAgICAqIHRoZSBjdXJyZW50IHBsYXRmb3JtLlxuICAgICAqL1xuICAgIEV4Y2VwdGlvbkNvZGVbXCJVbmltcGxlbWVudGVkXCJdID0gXCJVTklNUExFTUVOVEVEXCI7XG4gICAgLyoqXG4gICAgICogQVBJIGlzIG5vdCBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1lYW5zIHRoZSBBUEkgY2FuJ3QgYmUgdXNlZCByaWdodCBub3cgYmVjYXVzZTpcbiAgICAgKiAgIC0gaXQgaXMgY3VycmVudGx5IG1pc3NpbmcgYSBwcmVyZXF1aXNpdGUsIHN1Y2ggYXMgbmV0d29yayBjb25uZWN0aXZpdHlcbiAgICAgKiAgIC0gaXQgcmVxdWlyZXMgYSBwYXJ0aWN1bGFyIHBsYXRmb3JtIG9yIGJyb3dzZXIgdmVyc2lvblxuICAgICAqL1xuICAgIEV4Y2VwdGlvbkNvZGVbXCJVbmF2YWlsYWJsZVwiXSA9IFwiVU5BVkFJTEFCTEVcIjtcbn0pKEV4Y2VwdGlvbkNvZGUgfHwgKEV4Y2VwdGlvbkNvZGUgPSB7fSkpO1xuY2xhc3MgQ2FwYWNpdG9yRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNvZGUsIGRhdGEpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxufVxuY29uc3QgZ2V0UGxhdGZvcm1JZCA9ICh3aW4pID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICh3aW4gPT09IG51bGwgfHwgd2luID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW4uYW5kcm9pZEJyaWRnZSkge1xuICAgICAgICByZXR1cm4gJ2FuZHJvaWQnO1xuICAgIH1cbiAgICBlbHNlIGlmICgoX2IgPSAoX2EgPSB3aW4gPT09IG51bGwgfHwgd2luID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW4ud2Via2l0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWVzc2FnZUhhbmRsZXJzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYnJpZGdlKSB7XG4gICAgICAgIHJldHVybiAnaW9zJztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAnd2ViJztcbiAgICB9XG59O1xuXG5jb25zdCBjcmVhdGVDYXBhY2l0b3IgPSAod2luKSA9PiB7XG4gICAgY29uc3QgY2FwQ3VzdG9tUGxhdGZvcm0gPSB3aW4uQ2FwYWNpdG9yQ3VzdG9tUGxhdGZvcm0gfHwgbnVsbDtcbiAgICBjb25zdCBjYXAgPSB3aW4uQ2FwYWNpdG9yIHx8IHt9O1xuICAgIGNvbnN0IFBsdWdpbnMgPSAoY2FwLlBsdWdpbnMgPSBjYXAuUGx1Z2lucyB8fCB7fSk7XG4gICAgY29uc3QgZ2V0UGxhdGZvcm0gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjYXBDdXN0b21QbGF0Zm9ybSAhPT0gbnVsbCA/IGNhcEN1c3RvbVBsYXRmb3JtLm5hbWUgOiBnZXRQbGF0Zm9ybUlkKHdpbik7XG4gICAgfTtcbiAgICBjb25zdCBpc05hdGl2ZVBsYXRmb3JtID0gKCkgPT4gZ2V0UGxhdGZvcm0oKSAhPT0gJ3dlYic7XG4gICAgY29uc3QgaXNQbHVnaW5BdmFpbGFibGUgPSAocGx1Z2luTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBwbHVnaW4gPSByZWdpc3RlcmVkUGx1Z2lucy5nZXQocGx1Z2luTmFtZSk7XG4gICAgICAgIGlmIChwbHVnaW4gPT09IG51bGwgfHwgcGx1Z2luID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW4ucGxhdGZvcm1zLmhhcyhnZXRQbGF0Zm9ybSgpKSkge1xuICAgICAgICAgICAgLy8gSlMgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlIGZvciB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQbHVnaW5IZWFkZXIocGx1Z2luTmFtZSkpIHtcbiAgICAgICAgICAgIC8vIE5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCBnZXRQbHVnaW5IZWFkZXIgPSAocGx1Z2luTmFtZSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBjYXAuUGx1Z2luSGVhZGVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmQoKGgpID0+IGgubmFtZSA9PT0gcGx1Z2luTmFtZSk7IH07XG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyKSA9PiB3aW4uY29uc29sZS5lcnJvcihlcnIpO1xuICAgIGNvbnN0IHJlZ2lzdGVyZWRQbHVnaW5zID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHJlZ2lzdGVyUGx1Z2luID0gKHBsdWdpbk5hbWUsIGpzSW1wbGVtZW50YXRpb25zID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJlZFBsdWdpbiA9IHJlZ2lzdGVyZWRQbHVnaW5zLmdldChwbHVnaW5OYW1lKTtcbiAgICAgICAgaWYgKHJlZ2lzdGVyZWRQbHVnaW4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2FwYWNpdG9yIHBsdWdpbiBcIiR7cGx1Z2luTmFtZX1cIiBhbHJlYWR5IHJlZ2lzdGVyZWQuIENhbm5vdCByZWdpc3RlciBwbHVnaW5zIHR3aWNlLmApO1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdGVyZWRQbHVnaW4ucHJveHk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgICAgICBjb25zdCBwbHVnaW5IZWFkZXIgPSBnZXRQbHVnaW5IZWFkZXIocGx1Z2luTmFtZSk7XG4gICAgICAgIGxldCBqc0ltcGxlbWVudGF0aW9uO1xuICAgICAgICBjb25zdCBsb2FkUGx1Z2luSW1wbGVtZW50YXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWpzSW1wbGVtZW50YXRpb24gJiYgcGxhdGZvcm0gaW4ganNJbXBsZW1lbnRhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBqc0ltcGxlbWVudGF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGpzSW1wbGVtZW50YXRpb25zW3BsYXRmb3JtXSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAoanNJbXBsZW1lbnRhdGlvbiA9IGF3YWl0IGpzSW1wbGVtZW50YXRpb25zW3BsYXRmb3JtXSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAoanNJbXBsZW1lbnRhdGlvbiA9IGpzSW1wbGVtZW50YXRpb25zW3BsYXRmb3JtXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjYXBDdXN0b21QbGF0Zm9ybSAhPT0gbnVsbCAmJiAhanNJbXBsZW1lbnRhdGlvbiAmJiAnd2ViJyBpbiBqc0ltcGxlbWVudGF0aW9ucykge1xuICAgICAgICAgICAgICAgIGpzSW1wbGVtZW50YXRpb24gPVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YganNJbXBsZW1lbnRhdGlvbnNbJ3dlYiddID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChqc0ltcGxlbWVudGF0aW9uID0gYXdhaXQganNJbXBsZW1lbnRhdGlvbnNbJ3dlYiddKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChqc0ltcGxlbWVudGF0aW9uID0ganNJbXBsZW1lbnRhdGlvbnNbJ3dlYiddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBqc0ltcGxlbWVudGF0aW9uO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjcmVhdGVQbHVnaW5NZXRob2QgPSAoaW1wbCwgcHJvcCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmIChwbHVnaW5IZWFkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRob2RIZWFkZXIgPSBwbHVnaW5IZWFkZXIgPT09IG51bGwgfHwgcGx1Z2luSGVhZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbHVnaW5IZWFkZXIubWV0aG9kcy5maW5kKChtKSA9PiBwcm9wID09PSBtLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChtZXRob2RIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZEhlYWRlci5ydHlwZSA9PT0gJ3Byb21pc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMpID0+IGNhcC5uYXRpdmVQcm9taXNlKHBsdWdpbk5hbWUsIHByb3AudG9TdHJpbmcoKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMsIGNhbGxiYWNrKSA9PiBjYXAubmF0aXZlQ2FsbGJhY2socGx1Z2luTmFtZSwgcHJvcC50b1N0cmluZygpLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW1wbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9hID0gaW1wbFtwcm9wXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJpbmQoaW1wbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW1wbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2IgPSBpbXBsW3Byb3BdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmluZChpbXBsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDYXBhY2l0b3JFeGNlcHRpb24oYFwiJHtwbHVnaW5OYW1lfVwiIHBsdWdpbiBpcyBub3QgaW1wbGVtZW50ZWQgb24gJHtwbGF0Zm9ybX1gLCBFeGNlcHRpb25Db2RlLlVuaW1wbGVtZW50ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjcmVhdGVQbHVnaW5NZXRob2RXcmFwcGVyID0gKHByb3ApID0+IHtcbiAgICAgICAgICAgIGxldCByZW1vdmU7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gbG9hZFBsdWdpbkltcGxlbWVudGF0aW9uKCkudGhlbigoaW1wbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbiA9IGNyZWF0ZVBsdWdpbk1ldGhvZChpbXBsLCBwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gZm4oLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUgPSBwID09PSBudWxsIHx8IHAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHAucmVtb3ZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2FwYWNpdG9yRXhjZXB0aW9uKGBcIiR7cGx1Z2luTmFtZX0uJHtwcm9wfSgpXCIgaXMgbm90IGltcGxlbWVudGVkIG9uICR7cGxhdGZvcm19YCwgRXhjZXB0aW9uQ29kZS5VbmltcGxlbWVudGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnYWRkTGlzdGVuZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHAucmVtb3ZlID0gYXN5bmMgKCkgPT4gcmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFNvbWUgZmxhaXIg4pyoXG4gICAgICAgICAgICB3cmFwcGVyLnRvU3RyaW5nID0gKCkgPT4gYCR7cHJvcC50b1N0cmluZygpfSgpIHsgW2NhcGFjaXRvciBjb2RlXSB9YDtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3cmFwcGVyLCAnbmFtZScsIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcHJvcCxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFkZExpc3RlbmVyID0gY3JlYXRlUGx1Z2luTWV0aG9kV3JhcHBlcignYWRkTGlzdGVuZXInKTtcbiAgICAgICAgY29uc3QgcmVtb3ZlTGlzdGVuZXIgPSBjcmVhdGVQbHVnaW5NZXRob2RXcmFwcGVyKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICBjb25zdCBhZGRMaXN0ZW5lck5hdGl2ZSA9IChldmVudE5hbWUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYWxsID0gYWRkTGlzdGVuZXIoeyBldmVudE5hbWUgfSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrSWQgPSBhd2FpdCBjYWxsO1xuICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVyKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0lkLFxuICAgICAgICAgICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IGNhbGwudGhlbigoKSA9PiByZXNvbHZlKHsgcmVtb3ZlIH0pKSk7XG4gICAgICAgICAgICBwLnJlbW92ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVzaW5nIGFkZExpc3RlbmVyKCkgd2l0aG91dCAnYXdhaXQnIGlzIGRlcHJlY2F0ZWQuYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVtb3ZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgICAgICBnZXQoXywgcHJvcCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzIwMDMwXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJyQkdHlwZW9mJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RvSlNPTic6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWRkTGlzdGVuZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsdWdpbkhlYWRlciA/IGFkZExpc3RlbmVyTmF0aXZlIDogYWRkTGlzdGVuZXI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlbW92ZUxpc3RlbmVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVMaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVQbHVnaW5NZXRob2RXcmFwcGVyKHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBQbHVnaW5zW3BsdWdpbk5hbWVdID0gcHJveHk7XG4gICAgICAgIHJlZ2lzdGVyZWRQbHVnaW5zLnNldChwbHVnaW5OYW1lLCB7XG4gICAgICAgICAgICBuYW1lOiBwbHVnaW5OYW1lLFxuICAgICAgICAgICAgcHJveHksXG4gICAgICAgICAgICBwbGF0Zm9ybXM6IG5ldyBTZXQoWy4uLk9iamVjdC5rZXlzKGpzSW1wbGVtZW50YXRpb25zKSwgLi4uKHBsdWdpbkhlYWRlciA/IFtwbGF0Zm9ybV0gOiBbXSldKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm94eTtcbiAgICB9O1xuICAgIC8vIEFkZCBpbiBjb252ZXJ0RmlsZVNyYyBmb3Igd2ViLCBpdCB3aWxsIGFscmVhZHkgYmUgYXZhaWxhYmxlIGluIG5hdGl2ZSBjb250ZXh0XG4gICAgaWYgKCFjYXAuY29udmVydEZpbGVTcmMpIHtcbiAgICAgICAgY2FwLmNvbnZlcnRGaWxlU3JjID0gKGZpbGVQYXRoKSA9PiBmaWxlUGF0aDtcbiAgICB9XG4gICAgY2FwLmdldFBsYXRmb3JtID0gZ2V0UGxhdGZvcm07XG4gICAgY2FwLmhhbmRsZUVycm9yID0gaGFuZGxlRXJyb3I7XG4gICAgY2FwLmlzTmF0aXZlUGxhdGZvcm0gPSBpc05hdGl2ZVBsYXRmb3JtO1xuICAgIGNhcC5pc1BsdWdpbkF2YWlsYWJsZSA9IGlzUGx1Z2luQXZhaWxhYmxlO1xuICAgIGNhcC5yZWdpc3RlclBsdWdpbiA9IHJlZ2lzdGVyUGx1Z2luO1xuICAgIGNhcC5FeGNlcHRpb24gPSBDYXBhY2l0b3JFeGNlcHRpb247XG4gICAgY2FwLkRFQlVHID0gISFjYXAuREVCVUc7XG4gICAgY2FwLmlzTG9nZ2luZ0VuYWJsZWQgPSAhIWNhcC5pc0xvZ2dpbmdFbmFibGVkO1xuICAgIHJldHVybiBjYXA7XG59O1xuY29uc3QgaW5pdENhcGFjaXRvckdsb2JhbCA9ICh3aW4pID0+ICh3aW4uQ2FwYWNpdG9yID0gY3JlYXRlQ2FwYWNpdG9yKHdpbikpO1xuXG5jb25zdCBDYXBhY2l0b3IgPSAvKiNfX1BVUkVfXyovIGluaXRDYXBhY2l0b3JHbG9iYWwodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxUaGlzXG4gICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBzZWxmXG4gICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgICAgICAgICA6IHt9KTtcbmNvbnN0IHJlZ2lzdGVyUGx1Z2luID0gQ2FwYWNpdG9yLnJlZ2lzdGVyUGx1Z2luO1xuXG4vKipcbiAqIEJhc2UgY2xhc3Mgd2ViIHBsdWdpbnMgc2hvdWxkIGV4dGVuZC5cbiAqL1xuY2xhc3MgV2ViUGx1Z2luIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgdGhpcy5yZXRhaW5lZEV2ZW50QXJndW1lbnRzID0ge307XG4gICAgICAgIHRoaXMud2luZG93TGlzdGVuZXJzID0ge307XG4gICAgfVxuICAgIGFkZExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGdW5jKSB7XG4gICAgICAgIGxldCBmaXJzdExpc3RlbmVyID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgICAgICAgICBmaXJzdExpc3RlbmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdLnB1c2gobGlzdGVuZXJGdW5jKTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCBhZGRlZCBhIHdpbmRvdyBsaXN0ZW5lciBmb3IgdGhpcyBldmVudCBhbmQgaXQgcmVxdWlyZXMgb25lLFxuICAgICAgICAvLyBnbyBhaGVhZCBhbmQgYWRkIGl0XG4gICAgICAgIGNvbnN0IHdpbmRvd0xpc3RlbmVyID0gdGhpcy53aW5kb3dMaXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKHdpbmRvd0xpc3RlbmVyICYmICF3aW5kb3dMaXN0ZW5lci5yZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFdpbmRvd0xpc3RlbmVyKHdpbmRvd0xpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5zZW5kUmV0YWluZWRBcmd1bWVudHNGb3JFdmVudChldmVudE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IGFzeW5jICgpID0+IHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lckZ1bmMpO1xuICAgICAgICBjb25zdCBwID0gUHJvbWlzZS5yZXNvbHZlKHsgcmVtb3ZlIH0pO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgYXN5bmMgcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIGluIHRoaXMud2luZG93TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVdpbmRvd0xpc3RlbmVyKHRoaXMud2luZG93TGlzdGVuZXJzW2xpc3RlbmVyXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53aW5kb3dMaXN0ZW5lcnMgPSB7fTtcbiAgICB9XG4gICAgbm90aWZ5TGlzdGVuZXJzKGV2ZW50TmFtZSwgZGF0YSwgcmV0YWluVW50aWxDb25zdW1lZCkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgICAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKHJldGFpblVudGlsQ29uc3VtZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgYXJncyA9IHRoaXMucmV0YWluZWRFdmVudEFyZ3VtZW50c1tldmVudE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghYXJncykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJldGFpbmVkRXZlbnRBcmd1bWVudHNbZXZlbnROYW1lXSA9IGFyZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihkYXRhKSk7XG4gICAgfVxuICAgIGhhc0xpc3RlbmVycyhldmVudE5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gISEoKF9hID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCk7XG4gICAgfVxuICAgIHJlZ2lzdGVyV2luZG93TGlzdGVuZXIod2luZG93RXZlbnROYW1lLCBwbHVnaW5FdmVudE5hbWUpIHtcbiAgICAgICAgdGhpcy53aW5kb3dMaXN0ZW5lcnNbcGx1Z2luRXZlbnROYW1lXSA9IHtcbiAgICAgICAgICAgIHJlZ2lzdGVyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgd2luZG93RXZlbnROYW1lLFxuICAgICAgICAgICAgcGx1Z2luRXZlbnROYW1lLFxuICAgICAgICAgICAgaGFuZGxlcjogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMocGx1Z2luRXZlbnROYW1lLCBldmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICB1bmltcGxlbWVudGVkKG1zZyA9ICdub3QgaW1wbGVtZW50ZWQnKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FwYWNpdG9yLkV4Y2VwdGlvbihtc2csIEV4Y2VwdGlvbkNvZGUuVW5pbXBsZW1lbnRlZCk7XG4gICAgfVxuICAgIHVuYXZhaWxhYmxlKG1zZyA9ICdub3QgYXZhaWxhYmxlJykge1xuICAgICAgICByZXR1cm4gbmV3IENhcGFjaXRvci5FeGNlcHRpb24obXNnLCBFeGNlcHRpb25Db2RlLlVuYXZhaWxhYmxlKTtcbiAgICB9XG4gICAgYXN5bmMgcmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lckZ1bmMpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyRnVuYyk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIG1vcmUgbGlzdGVuZXJzIGZvciB0aGlzIHR5cGUgb2YgZXZlbnQsXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgd2luZG93IGxpc3RlbmVyXG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlV2luZG93TGlzdGVuZXIodGhpcy53aW5kb3dMaXN0ZW5lcnNbZXZlbnROYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkV2luZG93TGlzdGVuZXIoaGFuZGxlKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGhhbmRsZS53aW5kb3dFdmVudE5hbWUsIGhhbmRsZS5oYW5kbGVyKTtcbiAgICAgICAgaGFuZGxlLnJlZ2lzdGVyZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZW1vdmVXaW5kb3dMaXN0ZW5lcihoYW5kbGUpIHtcbiAgICAgICAgaWYgKCFoYW5kbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihoYW5kbGUud2luZG93RXZlbnROYW1lLCBoYW5kbGUuaGFuZGxlcik7XG4gICAgICAgIGhhbmRsZS5yZWdpc3RlcmVkID0gZmFsc2U7XG4gICAgfVxuICAgIHNlbmRSZXRhaW5lZEFyZ3VtZW50c0ZvckV2ZW50KGV2ZW50TmFtZSkge1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcy5yZXRhaW5lZEV2ZW50QXJndW1lbnRzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmICghYXJncykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLnJldGFpbmVkRXZlbnRBcmd1bWVudHNbZXZlbnROYW1lXTtcbiAgICAgICAgYXJncy5mb3JFYWNoKChhcmcpID0+IHtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKGV2ZW50TmFtZSwgYXJnKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jb25zdCBXZWJWaWV3ID0gLyojX19QVVJFX18qLyByZWdpc3RlclBsdWdpbignV2ViVmlldycpO1xuLyoqKioqKioqIEVORCBXRUIgVklFVyBQTFVHSU4gKioqKioqKiovXG4vKioqKioqKiogQ09PS0lFUyBQTFVHSU4gKioqKioqKiovXG4vKipcbiAqIFNhZmVseSB3ZWIgZW5jb2RlIGEgc3RyaW5nIHZhbHVlIChpbnNwaXJlZCBieSBqcy1jb29raWUpXG4gKiBAcGFyYW0gc3RyIFRoZSBzdHJpbmcgdmFsdWUgdG8gZW5jb2RlXG4gKi9cbmNvbnN0IGVuY29kZSA9IChzdHIpID0+IGVuY29kZVVSSUNvbXBvbmVudChzdHIpXG4gICAgLnJlcGxhY2UoLyUoMlszNDZCXXw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KVxuICAgIC5yZXBsYWNlKC9bKCldL2csIGVzY2FwZSk7XG4vKipcbiAqIFNhZmVseSB3ZWIgZGVjb2RlIGEgc3RyaW5nIHZhbHVlIChpbnNwaXJlZCBieSBqcy1jb29raWUpXG4gKiBAcGFyYW0gc3RyIFRoZSBzdHJpbmcgdmFsdWUgdG8gZGVjb2RlXG4gKi9cbmNvbnN0IGRlY29kZSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKC8oJVtcXGRBLUZdezJ9KSsvZ2ksIGRlY29kZVVSSUNvbXBvbmVudCk7XG5jbGFzcyBDYXBhY2l0b3JDb29raWVzUGx1Z2luV2ViIGV4dGVuZHMgV2ViUGx1Z2luIHtcbiAgICBhc3luYyBnZXRDb29raWVzKCkge1xuICAgICAgICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llO1xuICAgICAgICBjb25zdCBjb29raWVNYXAgPSB7fTtcbiAgICAgICAgY29va2llcy5zcGxpdCgnOycpLmZvckVhY2goKGNvb2tpZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvb2tpZS5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBSZXBsYWNlIGZpcnN0IFwiPVwiIHdpdGggQ0FQX0NPT0tJRSB0byBwcmV2ZW50IHNwbGl0dGluZyBvbiBhZGRpdGlvbmFsIFwiPVwiXG4gICAgICAgICAgICBsZXQgW2tleSwgdmFsdWVdID0gY29va2llLnJlcGxhY2UoLz0vLCAnQ0FQX0NPT0tJRScpLnNwbGl0KCdDQVBfQ09PS0lFJyk7XG4gICAgICAgICAgICBrZXkgPSBkZWNvZGUoa2V5KS50cmltKCk7XG4gICAgICAgICAgICB2YWx1ZSA9IGRlY29kZSh2YWx1ZSkudHJpbSgpO1xuICAgICAgICAgICAgY29va2llTWFwW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb29raWVNYXA7XG4gICAgfVxuICAgIGFzeW5jIHNldENvb2tpZShvcHRpb25zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBTYWZlbHkgRW5jb2RlZCBLZXkvVmFsdWVcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZWRLZXkgPSBlbmNvZGUob3B0aW9ucy5rZXkpO1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZFZhbHVlID0gZW5jb2RlKG9wdGlvbnMudmFsdWUpO1xuICAgICAgICAgICAgLy8gQ2xlYW4gJiBzYW5pdGl6ZSBvcHRpb25zXG4gICAgICAgICAgICBjb25zdCBleHBpcmVzID0gYDsgZXhwaXJlcz0keyhvcHRpb25zLmV4cGlyZXMgfHwgJycpLnJlcGxhY2UoJ2V4cGlyZXM9JywgJycpfWA7IC8vIERlZmF1bHQgaXMgXCI7IGV4cGlyZXM9XCJcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSAob3B0aW9ucy5wYXRoIHx8ICcvJykucmVwbGFjZSgncGF0aD0nLCAnJyk7IC8vIERlZmF1bHQgaXMgXCJwYXRoPS9cIlxuICAgICAgICAgICAgY29uc3QgZG9tYWluID0gb3B0aW9ucy51cmwgIT0gbnVsbCAmJiBvcHRpb25zLnVybC5sZW5ndGggPiAwID8gYGRvbWFpbj0ke29wdGlvbnMudXJsfWAgOiAnJztcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke2VuY29kZWRLZXl9PSR7ZW5jb2RlZFZhbHVlIHx8ICcnfSR7ZXhwaXJlc307IHBhdGg9JHtwYXRofTsgJHtkb21haW59O2A7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRlbGV0ZUNvb2tpZShvcHRpb25zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBgJHtvcHRpb25zLmtleX09OyBNYXgtQWdlPTBgO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjbGVhckNvb2tpZXMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7JykgfHwgW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBjb29raWVzKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLnJlcGxhY2UoL14gKy8sICcnKS5yZXBsYWNlKC89LiovLCBgPTtleHBpcmVzPSR7bmV3IERhdGUoKS50b1VUQ1N0cmluZygpfTtwYXRoPS9gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgY2xlYXJBbGxDb29raWVzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGVhckNvb2tpZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBDYXBhY2l0b3JDb29raWVzID0gcmVnaXN0ZXJQbHVnaW4oJ0NhcGFjaXRvckNvb2tpZXMnLCB7XG4gICAgd2ViOiAoKSA9PiBuZXcgQ2FwYWNpdG9yQ29va2llc1BsdWdpbldlYigpLFxufSk7XG4vLyBVVElMSVRZIEZVTkNUSU9OU1xuLyoqXG4gKiBSZWFkIGluIGEgQmxvYiB2YWx1ZSBhbmQgcmV0dXJuIGl0IGFzIGEgYmFzZTY0IHN0cmluZ1xuICogQHBhcmFtIGJsb2IgVGhlIGJsb2IgdmFsdWUgdG8gY29udmVydCB0byBhIGJhc2U2NCBzdHJpbmdcbiAqL1xuY29uc3QgcmVhZEJsb2JBc0Jhc2U2NCA9IGFzeW5jIChibG9iKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBiYXNlNjRTdHJpbmcgPSByZWFkZXIucmVzdWx0O1xuICAgICAgICAvLyByZW1vdmUgcHJlZml4IFwiZGF0YTphcHBsaWNhdGlvbi9wZGY7YmFzZTY0LFwiXG4gICAgICAgIHJlc29sdmUoYmFzZTY0U3RyaW5nLmluZGV4T2YoJywnKSA+PSAwID8gYmFzZTY0U3RyaW5nLnNwbGl0KCcsJylbMV0gOiBiYXNlNjRTdHJpbmcpO1xuICAgIH07XG4gICAgcmVhZGVyLm9uZXJyb3IgPSAoZXJyb3IpID0+IHJlamVjdChlcnJvcik7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG59KTtcbi8qKlxuICogTm9ybWFsaXplIGFuIEh0dHBIZWFkZXJzIG1hcCBieSBsb3dlcmNhc2luZyBhbGwgb2YgdGhlIHZhbHVlc1xuICogQHBhcmFtIGhlYWRlcnMgVGhlIEh0dHBIZWFkZXJzIG9iamVjdCB0byBub3JtYWxpemVcbiAqL1xuY29uc3Qgbm9ybWFsaXplSHR0cEhlYWRlcnMgPSAoaGVhZGVycyA9IHt9KSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxLZXlzID0gT2JqZWN0LmtleXMoaGVhZGVycyk7XG4gICAgY29uc3QgbG93ZXJlZEtleXMgPSBPYmplY3Qua2V5cyhoZWFkZXJzKS5tYXAoKGspID0+IGsudG9Mb2NhbGVMb3dlckNhc2UoKSk7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IGxvd2VyZWRLZXlzLnJlZHVjZSgoYWNjLCBrZXksIGluZGV4KSA9PiB7XG4gICAgICAgIGFjY1trZXldID0gaGVhZGVyc1tvcmlnaW5hbEtleXNbaW5kZXhdXTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuLyoqXG4gKiBCdWlsZHMgYSBzdHJpbmcgb2YgdXJsIHBhcmFtZXRlcnMgdGhhdFxuICogQHBhcmFtIHBhcmFtcyBBIG1hcCBvZiB1cmwgcGFyYW1ldGVyc1xuICogQHBhcmFtIHNob3VsZEVuY29kZSB0cnVlIGlmIHlvdSBzaG91bGQgZW5jb2RlVVJJQ29tcG9uZW50KCkgdGhlIHZhbHVlcyAodHJ1ZSBieSBkZWZhdWx0KVxuICovXG5jb25zdCBidWlsZFVybFBhcmFtcyA9IChwYXJhbXMsIHNob3VsZEVuY29kZSA9IHRydWUpID0+IHtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3Qgb3V0cHV0ID0gT2JqZWN0LmVudHJpZXMocGFyYW1zKS5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBlbnRyeTtcbiAgICAgICAgbGV0IGVuY29kZWRWYWx1ZTtcbiAgICAgICAgbGV0IGl0ZW07XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgaXRlbSA9ICcnO1xuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCgoc3RyKSA9PiB7XG4gICAgICAgICAgICAgICAgZW5jb2RlZFZhbHVlID0gc2hvdWxkRW5jb2RlID8gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikgOiBzdHI7XG4gICAgICAgICAgICAgICAgaXRlbSArPSBgJHtrZXl9PSR7ZW5jb2RlZFZhbHVlfSZgO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBsYXN0IGNoYXJhY3RlciB3aWxsIGFsd2F5cyBiZSBcIiZcIiBzbyBzbGljZSBpdCBvZmZcbiAgICAgICAgICAgIGl0ZW0uc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW5jb2RlZFZhbHVlID0gc2hvdWxkRW5jb2RlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICAgICAgaXRlbSA9IGAke2tleX09JHtlbmNvZGVkVmFsdWV9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7YWNjdW11bGF0b3J9JiR7aXRlbX1gO1xuICAgIH0sICcnKTtcbiAgICAvLyBSZW1vdmUgaW5pdGlhbCBcIiZcIiBmcm9tIHRoZSByZWR1Y2VcbiAgICByZXR1cm4gb3V0cHV0LnN1YnN0cigxKTtcbn07XG4vKipcbiAqIEJ1aWxkIHRoZSBSZXF1ZXN0SW5pdCBvYmplY3QgYmFzZWQgb24gdGhlIG9wdGlvbnMgcGFzc2VkIGludG8gdGhlIGluaXRpYWwgcmVxdWVzdFxuICogQHBhcmFtIG9wdGlvbnMgVGhlIEh0dHAgcGx1Z2luIG9wdGlvbnNcbiAqIEBwYXJhbSBleHRyYSBBbnkgZXh0cmEgUmVxdWVzdEluaXQgdmFsdWVzXG4gKi9cbmNvbnN0IGJ1aWxkUmVxdWVzdEluaXQgPSAob3B0aW9ucywgZXh0cmEgPSB7fSkgPT4ge1xuICAgIGNvbnN0IG91dHB1dCA9IE9iamVjdC5hc3NpZ24oeyBtZXRob2Q6IG9wdGlvbnMubWV0aG9kIHx8ICdHRVQnLCBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMgfSwgZXh0cmEpO1xuICAgIC8vIEdldCB0aGUgY29udGVudC10eXBlXG4gICAgY29uc3QgaGVhZGVycyA9IG5vcm1hbGl6ZUh0dHBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycyk7XG4gICAgY29uc3QgdHlwZSA9IGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddIHx8ICcnO1xuICAgIC8vIElmIGJvZHkgaXMgYWxyZWFkeSBhIHN0cmluZywgdGhlbiBwYXNzIGl0IHRocm91Z2ggYXMtaXMuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG91dHB1dC5ib2R5ID0gb3B0aW9ucy5kYXRhO1xuICAgIH1cbiAgICAvLyBCdWlsZCByZXF1ZXN0IGluaXRpYWxpemVycyBiYXNlZCBvZmYgb2YgY29udGVudC10eXBlXG4gICAgZWxzZSBpZiAodHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zLmRhdGEgfHwge30pKSB7XG4gICAgICAgICAgICBwYXJhbXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIG91dHB1dC5ib2R5ID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUuaW5jbHVkZXMoJ211bHRpcGFydC9mb3JtLWRhdGEnKSB8fCBvcHRpb25zLmRhdGEgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgICAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGlmIChvcHRpb25zLmRhdGEgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3B0aW9ucy5kYXRhKSkge1xuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKGtleSwgb3B0aW9ucy5kYXRhW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG91dHB1dC5ib2R5ID0gZm9ybTtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKG91dHB1dC5oZWFkZXJzKTtcbiAgICAgICAgaGVhZGVycy5kZWxldGUoJ2NvbnRlbnQtdHlwZScpOyAvLyBjb250ZW50LXR5cGUgd2lsbCBiZSBzZXQgYnkgYHdpbmRvdy5mZXRjaGAgdG8gaW5jbHVkeSBib3VuZGFyeVxuICAgICAgICBvdXRwdXQuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSB8fCB0eXBlb2Ygb3B0aW9ucy5kYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvdXRwdXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuLy8gV0VCIElNUExFTUVOVEFUSU9OXG5jbGFzcyBDYXBhY2l0b3JIdHRwUGx1Z2luV2ViIGV4dGVuZHMgV2ViUGx1Z2luIHtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGFuIEh0dHAgcmVxdWVzdCBnaXZlbiBhIHNldCBvZiBvcHRpb25zXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyB0byBidWlsZCB0aGUgSFRUUCByZXF1ZXN0XG4gICAgICovXG4gICAgYXN5bmMgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RJbml0ID0gYnVpbGRSZXF1ZXN0SW5pdChvcHRpb25zLCBvcHRpb25zLndlYkZldGNoRXh0cmEpO1xuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBidWlsZFVybFBhcmFtcyhvcHRpb25zLnBhcmFtcywgb3B0aW9ucy5zaG91bGRFbmNvZGVVcmxQYXJhbXMpO1xuICAgICAgICBjb25zdCB1cmwgPSB1cmxQYXJhbXMgPyBgJHtvcHRpb25zLnVybH0/JHt1cmxQYXJhbXN9YCA6IG9wdGlvbnMudXJsO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgcmVxdWVzdEluaXQpO1xuICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSB8fCAnJztcbiAgICAgICAgLy8gRGVmYXVsdCB0byAndGV4dCcgcmVzcG9uc2VUeXBlIHNvIG5vIHBhcnNpbmcgaGFwcGVuc1xuICAgICAgICBsZXQgeyByZXNwb25zZVR5cGUgPSAndGV4dCcgfSA9IHJlc3BvbnNlLm9rID8gb3B0aW9ucyA6IHt9O1xuICAgICAgICAvLyBJZiB0aGUgcmVzcG9uc2UgY29udGVudC10eXBlIGlzIGpzb24sIGZvcmNlIHRoZSByZXNwb25zZSB0byBiZSBqc29uXG4gICAgICAgIGlmIChjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgICAgICByZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgIGxldCBibG9iO1xuICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYXJyYXlidWZmZXInOlxuICAgICAgICAgICAgY2FzZSAnYmxvYic6XG4gICAgICAgICAgICAgICAgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgcmVhZEJsb2JBc0Jhc2U2NChibG9iKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkb2N1bWVudCc6XG4gICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb252ZXJ0IGZldGNoIGhlYWRlcnMgdG8gQ2FwYWNpdG9yIEh0dHBIZWFkZXJzXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgdXJsOiByZXNwb25zZS51cmwsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYW4gSHR0cCBHRVQgcmVxdWVzdCBnaXZlbiBhIHNldCBvZiBvcHRpb25zXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyB0byBidWlsZCB0aGUgSFRUUCByZXF1ZXN0XG4gICAgICovXG4gICAgYXN5bmMgZ2V0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IG1ldGhvZDogJ0dFVCcgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGFuIEh0dHAgUE9TVCByZXF1ZXN0IGdpdmVuIGEgc2V0IG9mIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIHRvIGJ1aWxkIHRoZSBIVFRQIHJlcXVlc3RcbiAgICAgKi9cbiAgICBhc3luYyBwb3N0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IG1ldGhvZDogJ1BPU1QnIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhbiBIdHRwIFBVVCByZXF1ZXN0IGdpdmVuIGEgc2V0IG9mIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIHRvIGJ1aWxkIHRoZSBIVFRQIHJlcXVlc3RcbiAgICAgKi9cbiAgICBhc3luYyBwdXQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgbWV0aG9kOiAnUFVUJyB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYW4gSHR0cCBQQVRDSCByZXF1ZXN0IGdpdmVuIGEgc2V0IG9mIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIHRvIGJ1aWxkIHRoZSBIVFRQIHJlcXVlc3RcbiAgICAgKi9cbiAgICBhc3luYyBwYXRjaChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBtZXRob2Q6ICdQQVRDSCcgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGFuIEh0dHAgREVMRVRFIHJlcXVlc3QgZ2l2ZW4gYSBzZXQgb2Ygb3B0aW9uc1xuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgdG8gYnVpbGQgdGhlIEhUVFAgcmVxdWVzdFxuICAgICAqL1xuICAgIGFzeW5jIGRlbGV0ZShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBtZXRob2Q6ICdERUxFVEUnIH0pKTtcbiAgICB9XG59XG5jb25zdCBDYXBhY2l0b3JIdHRwID0gcmVnaXN0ZXJQbHVnaW4oJ0NhcGFjaXRvckh0dHAnLCB7XG4gICAgd2ViOiAoKSA9PiBuZXcgQ2FwYWNpdG9ySHR0cFBsdWdpbldlYigpLFxufSk7XG4vKioqKioqKiogRU5EIEhUVFAgUExVR0lOICoqKioqKioqL1xuXG5leHBvcnQgeyBDYXBhY2l0b3IsIENhcGFjaXRvckNvb2tpZXMsIENhcGFjaXRvckV4Y2VwdGlvbiwgQ2FwYWNpdG9ySHR0cCwgRXhjZXB0aW9uQ29kZSwgV2ViUGx1Z2luLCBXZWJWaWV3LCBidWlsZFJlcXVlc3RJbml0LCByZWdpc3RlclBsdWdpbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCJpbXBvcnQgeyByZWdpc3RlclBsdWdpbiB9IGZyb20gJ0BjYXBhY2l0b3IvY29yZSc7XG5jb25zdCBBcHAgPSByZWdpc3RlclBsdWdpbignQXBwJywge1xuICAgIHdlYjogKCkgPT4gaW1wb3J0KCcuL3dlYicpLnRoZW4obSA9PiBuZXcgbS5BcHBXZWIoKSksXG59KTtcbmV4cG9ydCAqIGZyb20gJy4vZGVmaW5pdGlvbnMnO1xuZXhwb3J0IHsgQXBwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gaW5qZWN0UHJvcCAodGFyZ2V0LCBwcm9wTmFtZSwgZ2V0LCBzZXQpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIHtcbiAgICBnZXQsXG4gICAgc2V0LFxuICAgIGVudW1lcmFibGU6IHRydWVcbiAgfSlcbiAgcmV0dXJuIHRhcmdldFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0TXVsdGlwbGVQcm9wcyAodGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgIGluamVjdFByb3AodGFyZ2V0LCBrZXksIHByb3BzWyBrZXkgXSlcbiAgfVxuICByZXR1cm4gdGFyZ2V0XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11c2VsZXNzLWVzY2FwZSAqL1xuXG5pbXBvcnQgeyByZWYsIHJlYWN0aXZlIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgaW5qZWN0UHJvcCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuaW5qZWN0LW9iai1wcm9wL2luamVjdC1vYmotcHJvcC5qcydcblxuLyoqXG4gKiBfXyBRVUFTQVJfU1NSIF9fICAgICAgICAgICAgLT4gcnVucyBvbiBTU1Igb24gY2xpZW50IG9yIHNlcnZlclxuICogX18gUVVBU0FSX1NTUl9TRVJWRVIgX18gICAgIC0+IHJ1bnMgb24gU1NSIG9uIHNlcnZlclxuICogX18gUVVBU0FSX1NTUl9DTElFTlQgX18gICAgIC0+IHJ1bnMgb24gU1NSIG9uIGNsaWVudFxuICogX18gUVVBU0FSX1NTUl9QV0EgX18gICAgICAgIC0+IGJ1aWx0IHdpdGggU1NSK1BXQTsgbWF5IHJ1biBvbiBTU1Igb24gY2xpZW50IG9yIG9uIFBXQSBjbGllbnRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5lZWRzIHJ1bnRpbWUgZGV0ZWN0aW9uKVxuICovXG5cbmV4cG9ydCBjb25zdCBpc1J1bnRpbWVTc3JQcmVIeWRyYXRpb24gPSBfX1FVQVNBUl9TU1JfU0VSVkVSX19cbiAgPyB7IHZhbHVlOiB0cnVlIH1cbiAgOiByZWYoXG4gICAgX19RVUFTQVJfU1NSX0NMSUVOVF9fICYmIChcbiAgICAgIF9fUVVBU0FSX1NTUl9QV0FfXyA/IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCdkYXRhLXNlcnZlci1yZW5kZXJlZCcpICE9PSBudWxsIDogdHJ1ZVxuICAgIClcbiAgKVxuXG5sZXQgcHJlSHlkcmF0aW9uQnJvd3NlclxuXG5mdW5jdGlvbiBnZXRNYXRjaCAodXNlckFnZW50LCBwbGF0Zm9ybU1hdGNoKSB7XG4gIGNvbnN0IG1hdGNoID0gLyhlZGd8ZWRnZXxlZGdhfGVkZ2lvcylcXC8oW1xcdy5dKykvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IC8ob3ByKVtcXC9dKFtcXHcuXSspLy5leGVjKHVzZXJBZ2VudClcbiAgICB8fCAvKHZpdmFsZGkpW1xcL10oW1xcdy5dKykvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IC8oY2hyb21lfGNyaW9zKVtcXC9dKFtcXHcuXSspLy5leGVjKHVzZXJBZ2VudClcbiAgICB8fCAvKHZlcnNpb24pKGFwcGxld2Via2l0KVtcXC9dKFtcXHcuXSspLiooc2FmYXJpKVtcXC9dKFtcXHcuXSspLy5leGVjKHVzZXJBZ2VudClcbiAgICB8fCAvKHdlYmtpdClbXFwvXShbXFx3Ll0rKS4qKHZlcnNpb24pW1xcL10oW1xcdy5dKykuKihzYWZhcmkpW1xcL10oW1xcdy5dKykvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IC8oZmlyZWZveHxmeGlvcylbXFwvXShbXFx3Ll0rKS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgfHwgLyh3ZWJraXQpW1xcL10oW1xcdy5dKykvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IC8ob3BlcmEpKD86Lip2ZXJzaW9ufClbXFwvXShbXFx3Ll0rKS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgfHwgW11cblxuICByZXR1cm4ge1xuICAgIGJyb3dzZXI6IG1hdGNoWyA1IF0gfHwgbWF0Y2hbIDMgXSB8fCBtYXRjaFsgMSBdIHx8ICcnLFxuICAgIHZlcnNpb246IG1hdGNoWyA0IF0gfHwgbWF0Y2hbIDIgXSB8fCAnMCcsXG4gICAgcGxhdGZvcm06IHBsYXRmb3JtTWF0Y2hbIDAgXSB8fCAnJ1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBsYXRmb3JtTWF0Y2ggKHVzZXJBZ2VudCkge1xuICByZXR1cm4gLyhpcGFkKS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgfHwgLyhpcG9kKS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgfHwgLyh3aW5kb3dzIHBob25lKS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgfHwgLyhpcGhvbmUpLy5leGVjKHVzZXJBZ2VudClcbiAgICB8fCAvKGtpbmRsZSkvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IC8oc2lsaykvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IC8oYW5kcm9pZCkvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IC8od2luKS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgfHwgLyhtYWMpLy5leGVjKHVzZXJBZ2VudClcbiAgICB8fCAvKGxpbnV4KS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgfHwgLyhjcm9zKS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgLy8gVE9ETzogUmVtb3ZlIEJsYWNrQmVycnkgZGV0ZWN0aW9uLiBCbGFja0JlcnJ5IE9TLCBCbGFja0JlcnJ5IDEwLCBhbmQgQmxhY2tCZXJyeSBQbGF5Qm9vayBPU1xuICAgIC8vIGlzIG9mZmljaWFsbHkgZGVhZCBhcyBvZiBKYW51YXJ5IDQsIDIwMjIgKGh0dHBzOi8vd3d3LmJsYWNrYmVycnkuY29tL3VzL2VuL3N1cHBvcnQvZGV2aWNlcy9lbmQtb2YtbGlmZSlcbiAgICB8fCAvKHBsYXlib29rKS8uZXhlYyh1c2VyQWdlbnQpXG4gICAgfHwgLyhiYikvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IC8oYmxhY2tiZXJyeSkvLmV4ZWModXNlckFnZW50KVxuICAgIHx8IFtdXG59XG5cbmNvbnN0IGhhc1RvdWNoID0gX19RVUFTQVJfU1NSX1NFUlZFUl9fXG4gID8gZmFsc2VcbiAgOiAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgd2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDBcblxuZnVuY3Rpb24gZ2V0UGxhdGZvcm0gKFVBKSB7XG4gIGNvbnN0IHVzZXJBZ2VudCA9IFVBLnRvTG93ZXJDYXNlKClcbiAgY29uc3QgcGxhdGZvcm1NYXRjaCA9IGdldFBsYXRmb3JtTWF0Y2godXNlckFnZW50KVxuICBjb25zdCBtYXRjaGVkID0gZ2V0TWF0Y2godXNlckFnZW50LCBwbGF0Zm9ybU1hdGNoKVxuICBjb25zdCBicm93c2VyID0ge1xuICAgIG1vYmlsZTogZmFsc2UsXG4gICAgZGVza3RvcDogZmFsc2UsXG5cbiAgICBjb3Jkb3ZhOiBmYWxzZSxcbiAgICBjYXBhY2l0b3I6IGZhbHNlLFxuICAgIG5hdGl2ZU1vYmlsZTogZmFsc2UsXG4gICAgLy8gbmF0aXZlTW9iaWxlV3JhcHBlcjogdm9pZCAwLFxuICAgIGVsZWN0cm9uOiBmYWxzZSxcbiAgICBiZXg6IGZhbHNlLFxuXG4gICAgbGludXg6IGZhbHNlLFxuICAgIG1hYzogZmFsc2UsXG4gICAgd2luOiBmYWxzZSxcbiAgICBjcm9zOiBmYWxzZSxcblxuICAgIGNocm9tZTogZmFsc2UsXG4gICAgZmlyZWZveDogZmFsc2UsXG4gICAgb3BlcmE6IGZhbHNlLFxuICAgIHNhZmFyaTogZmFsc2UsXG4gICAgdml2YWxkaTogZmFsc2UsXG4gICAgZWRnZTogZmFsc2UsXG4gICAgZWRnZUNocm9taXVtOiBmYWxzZSxcbiAgICBpZTogZmFsc2UsXG4gICAgd2Via2l0OiBmYWxzZSxcblxuICAgIGFuZHJvaWQ6IGZhbHNlLFxuICAgIGlvczogZmFsc2UsXG4gICAgaXBhZDogZmFsc2UsXG4gICAgaXBob25lOiBmYWxzZSxcbiAgICBpcG9kOiBmYWxzZSxcbiAgICBraW5kbGU6IGZhbHNlLFxuICAgIHdpbnBob25lOiBmYWxzZSxcbiAgICBibGFja2JlcnJ5OiBmYWxzZSxcbiAgICBwbGF5Ym9vazogZmFsc2UsXG4gICAgc2lsazogZmFsc2VcbiAgfVxuXG4gIGlmIChtYXRjaGVkLmJyb3dzZXIpIHtcbiAgICBicm93c2VyWyBtYXRjaGVkLmJyb3dzZXIgXSA9IHRydWVcbiAgICBicm93c2VyLnZlcnNpb24gPSBtYXRjaGVkLnZlcnNpb25cbiAgICBicm93c2VyLnZlcnNpb25OdW1iZXIgPSBwYXJzZUludChtYXRjaGVkLnZlcnNpb24sIDEwKVxuICB9XG5cbiAgaWYgKG1hdGNoZWQucGxhdGZvcm0pIHtcbiAgICBicm93c2VyWyBtYXRjaGVkLnBsYXRmb3JtIF0gPSB0cnVlXG4gIH1cblxuICBjb25zdCBrbm93bk1vYmlsZXMgPSBicm93c2VyLmFuZHJvaWRcbiAgICB8fCBicm93c2VyLmlvc1xuICAgIHx8IGJyb3dzZXIuYmJcbiAgICB8fCBicm93c2VyLmJsYWNrYmVycnlcbiAgICB8fCBicm93c2VyLmlwYWRcbiAgICB8fCBicm93c2VyLmlwaG9uZVxuICAgIHx8IGJyb3dzZXIuaXBvZFxuICAgIHx8IGJyb3dzZXIua2luZGxlXG4gICAgfHwgYnJvd3Nlci5wbGF5Ym9va1xuICAgIHx8IGJyb3dzZXIuc2lsa1xuICAgIHx8IGJyb3dzZXJbICd3aW5kb3dzIHBob25lJyBdXG5cbiAgLy8gVGhlc2UgYXJlIGFsbCBjb25zaWRlcmVkIG1vYmlsZSBwbGF0Zm9ybXMsIG1lYW5pbmcgdGhleSBydW4gYSBtb2JpbGUgYnJvd3NlclxuICBpZiAoXG4gICAga25vd25Nb2JpbGVzID09PSB0cnVlXG4gICAgfHwgdXNlckFnZW50LmluZGV4T2YoJ21vYmlsZScpICE9PSAtMVxuICApIHtcbiAgICBicm93c2VyLm1vYmlsZSA9IHRydWVcbiAgfVxuICAvLyBJZiBpdCdzIG5vdCBtb2JpbGUgd2Ugc2hvdWxkIGNvbnNpZGVyIGl0J3MgZGVza3RvcCBwbGF0Zm9ybSwgbWVhbmluZyBpdCBydW5zIGEgZGVza3RvcCBicm93c2VyXG4gIC8vIEl0J3MgYSB3b3JrYXJvdW5kIGZvciBhbm9ueW1pemVkIHVzZXIgYWdlbnRzXG4gIC8vIChicm93c2VyLmNyb3MgfHwgYnJvd3Nlci5tYWMgfHwgYnJvd3Nlci5saW51eCB8fCBicm93c2VyLndpbilcbiAgZWxzZSB7XG4gICAgYnJvd3Nlci5kZXNrdG9wID0gdHJ1ZVxuICB9XG5cbiAgaWYgKGJyb3dzZXJbICd3aW5kb3dzIHBob25lJyBdKSB7XG4gICAgYnJvd3Nlci53aW5waG9uZSA9IHRydWVcbiAgICBkZWxldGUgYnJvd3NlclsgJ3dpbmRvd3MgcGhvbmUnIF1cbiAgfVxuXG4gIGlmIChicm93c2VyLmVkZ2EgfHwgYnJvd3Nlci5lZGdpb3MgfHwgYnJvd3Nlci5lZGcpIHtcbiAgICBicm93c2VyLmVkZ2UgPSB0cnVlXG4gICAgbWF0Y2hlZC5icm93c2VyID0gJ2VkZ2UnXG4gIH1cbiAgZWxzZSBpZiAoYnJvd3Nlci5jcmlvcykge1xuICAgIGJyb3dzZXIuY2hyb21lID0gdHJ1ZVxuICAgIG1hdGNoZWQuYnJvd3NlciA9ICdjaHJvbWUnXG4gIH1cbiAgZWxzZSBpZiAoYnJvd3Nlci5meGlvcykge1xuICAgIGJyb3dzZXIuZmlyZWZveCA9IHRydWVcbiAgICBtYXRjaGVkLmJyb3dzZXIgPSAnZmlyZWZveCdcbiAgfVxuXG4gIC8vIFNldCBpT1MgaWYgb24gaVBvZCwgaVBhZCBvciBpUGhvbmVcbiAgaWYgKGJyb3dzZXIuaXBvZCB8fCBicm93c2VyLmlwYWQgfHwgYnJvd3Nlci5pcGhvbmUpIHtcbiAgICBicm93c2VyLmlvcyA9IHRydWVcbiAgfVxuXG4gIGlmIChicm93c2VyLnZpdmFsZGkpIHtcbiAgICBtYXRjaGVkLmJyb3dzZXIgPSAndml2YWxkaSdcbiAgICBicm93c2VyLnZpdmFsZGkgPSB0cnVlXG4gIH1cblxuICAvLyBUT0RPOiBUaGUgYXNzdW1wdGlvbiBhYm91dCBXZWJLaXQgYmFzZWQgYnJvd3NlcnMgYmVsb3cgaXMgbm90IGNvbXBsZXRlbHkgYWNjdXJhdGUuXG4gIC8vIEdvb2dsZSByZWxlYXNlZCBCbGluayhhIGZvcmsgb2YgV2ViS2l0KSBlbmdpbmUgb24gQXByaWwgMywgMjAxMywgd2hpY2ggaXMgcmVhbGx5IGRpZmZlcmVudCB0aGFuIFdlYktpdCB0b2RheS5cbiAgLy8gVG9kYXksIG9uZSBtaWdodCB3YW50IHRvIGNoZWNrIGZvciBXZWJLaXQgdG8gZGVhbCB3aXRoIGl0cyBidWdzLCB3aGljaCBpcyB1c2VkIG9uIGFsbCBicm93c2VycyBvbiBpT1MsIGFuZCBTYWZhcmkgYnJvd3NlciBvbiBhbGwgcGxhdGZvcm1zLlxuICBpZiAoXG4gICAgLy8gQ2hyb21lLCBPcGVyYSAxNSssIFZpdmFsZGkgYW5kIFNhZmFyaSBhcmUgd2Via2l0IGJhc2VkIGJyb3dzZXJzXG4gICAgYnJvd3Nlci5jaHJvbWVcbiAgICB8fCBicm93c2VyLm9wclxuICAgIHx8IGJyb3dzZXIuc2FmYXJpXG4gICAgfHwgYnJvd3Nlci52aXZhbGRpXG4gICAgLy8gd2UgZXhwZWN0IHVua25vd24sIG5vbiBpT1MgbW9iaWxlIGJyb3dzZXJzIHRvIGJlIHdlYmtpdCBiYXNlZFxuICAgIHx8IChcbiAgICAgIGJyb3dzZXIubW9iaWxlID09PSB0cnVlXG4gICAgICAmJiBicm93c2VyLmlvcyAhPT0gdHJ1ZVxuICAgICAgJiYga25vd25Nb2JpbGVzICE9PSB0cnVlXG4gICAgKVxuICApIHtcbiAgICBicm93c2VyLndlYmtpdCA9IHRydWVcbiAgfVxuXG4gIC8vIE9wZXJhIDE1KyBhcmUgaWRlbnRpZmllZCBhcyBvcHJcbiAgaWYgKGJyb3dzZXIub3ByKSB7XG4gICAgbWF0Y2hlZC5icm93c2VyID0gJ29wZXJhJ1xuICAgIGJyb3dzZXIub3BlcmEgPSB0cnVlXG4gIH1cblxuICAvLyBTb21lIGJyb3dzZXJzIGFyZSBtYXJrZWQgYXMgU2FmYXJpIGJ1dCBhcmUgbm90XG4gIGlmIChicm93c2VyLnNhZmFyaSkge1xuICAgIGlmIChicm93c2VyLmJsYWNrYmVycnkgfHwgYnJvd3Nlci5iYikge1xuICAgICAgbWF0Y2hlZC5icm93c2VyID0gJ2JsYWNrYmVycnknXG4gICAgICBicm93c2VyLmJsYWNrYmVycnkgPSB0cnVlXG4gICAgfVxuICAgIGVsc2UgaWYgKGJyb3dzZXIucGxheWJvb2spIHtcbiAgICAgIG1hdGNoZWQuYnJvd3NlciA9ICdwbGF5Ym9vaydcbiAgICAgIGJyb3dzZXIucGxheWJvb2sgPSB0cnVlXG4gICAgfVxuICAgIGVsc2UgaWYgKGJyb3dzZXIuYW5kcm9pZCkge1xuICAgICAgbWF0Y2hlZC5icm93c2VyID0gJ2FuZHJvaWQnXG4gICAgICBicm93c2VyLmFuZHJvaWQgPSB0cnVlXG4gICAgfVxuICAgIGVsc2UgaWYgKGJyb3dzZXIua2luZGxlKSB7XG4gICAgICBtYXRjaGVkLmJyb3dzZXIgPSAna2luZGxlJ1xuICAgICAgYnJvd3Nlci5raW5kbGUgPSB0cnVlXG4gICAgfVxuICAgIGVsc2UgaWYgKGJyb3dzZXIuc2lsaykge1xuICAgICAgbWF0Y2hlZC5icm93c2VyID0gJ3NpbGsnXG4gICAgICBicm93c2VyLnNpbGsgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgLy8gQXNzaWduIHRoZSBuYW1lIGFuZCBwbGF0Zm9ybSB2YXJpYWJsZVxuICBicm93c2VyLm5hbWUgPSBtYXRjaGVkLmJyb3dzZXJcbiAgYnJvd3Nlci5wbGF0Zm9ybSA9IG1hdGNoZWQucGxhdGZvcm1cblxuICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fICE9PSB0cnVlKSB7XG4gICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdlbGVjdHJvbicpICE9PSAtMSkge1xuICAgICAgYnJvd3Nlci5lbGVjdHJvbiA9IHRydWVcbiAgICB9XG4gICAgZWxzZSBpZiAoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKCctZXh0ZW5zaW9uOi8vJykgIT09IC0xKSB7XG4gICAgICBicm93c2VyLmJleCA9IHRydWVcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAod2luZG93LkNhcGFjaXRvciAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGJyb3dzZXIuY2FwYWNpdG9yID0gdHJ1ZVxuICAgICAgICBicm93c2VyLm5hdGl2ZU1vYmlsZSA9IHRydWVcbiAgICAgICAgYnJvd3Nlci5uYXRpdmVNb2JpbGVXcmFwcGVyID0gJ2NhcGFjaXRvcidcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHdpbmRvdy5fY29yZG92YU5hdGl2ZSAhPT0gdm9pZCAwIHx8IHdpbmRvdy5jb3Jkb3ZhICE9PSB2b2lkIDApIHtcbiAgICAgICAgYnJvd3Nlci5jb3Jkb3ZhID0gdHJ1ZVxuICAgICAgICBicm93c2VyLm5hdGl2ZU1vYmlsZSA9IHRydWVcbiAgICAgICAgYnJvd3Nlci5uYXRpdmVNb2JpbGVXcmFwcGVyID0gJ2NvcmRvdmEnXG4gICAgICB9XG5cbiAgICAgIGlmIChpc1J1bnRpbWVTc3JQcmVIeWRyYXRpb24udmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgLypcbiAgICAgICAgICogV2UgbmVlZCB0byByZW1lbWJlciB0aGUgY3VycmVudCBzdGF0ZSBhc1xuICAgICAgICAgKiBldmVyeXRoaW5nIHRoYXQgZm9sbG93cyBjYW4gb25seSBiZSBjb3JyZWN0ZWQgY2xpZW50LXNpZGUsXG4gICAgICAgICAqIGJ1dCB3ZSBkb24ndCB3YW50IHRvIGJyYWtlIHRoZSBoeWRyYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBcImNsaWVudFwiIG9iamVjdCBpcyBpbXBvcnRlZCB0aHJvdWdob3V0IHRoZSBVSSBhbmQgc2hvdWxkXG4gICAgICAgICAqIGJlIGFzIGFjY3VyYXRlIGFzIHBvc3NpYmxlIGdpdmVuIGFsbCB0aGUga25vd2xlZGdlIHRoYXQgd2UgcG9zc2VzXG4gICAgICAgICAqIGJlY2F1c2UgZGVjaXNpb25zIGFyZSByZXF1aXJlZCB0byBiZSBtYWRlIGltbWVkaWF0ZWx5LCBldmVuXG4gICAgICAgICAqIGJlZm9yZSB0aGUgaHlkcmF0aW9uIG9jY3Vycy5cbiAgICAgICAgICovXG4gICAgICAgIHByZUh5ZHJhdGlvbkJyb3dzZXIgPSB7IGlzOiB7IC4uLmJyb3dzZXIgfSB9XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgKiBBbGwgdGhlIGZvbGxvd2luZyBzaG91bGQgYmUgY2xpZW50LXNpZGUgY29ycmVjdGlvbnMgb25seVxuICAgICAgICovXG5cbiAgICAgIGlmIChcbiAgICAgICAgaGFzVG91Y2ggPT09IHRydWVcbiAgICAgICAgJiYgYnJvd3Nlci5tYWMgPT09IHRydWVcbiAgICAgICAgJiYgKFxuICAgICAgICAgIChicm93c2VyLmRlc2t0b3AgPT09IHRydWUgJiYgYnJvd3Nlci5zYWZhcmkgPT09IHRydWUpXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgYnJvd3Nlci5uYXRpdmVNb2JpbGUgPT09IHRydWVcbiAgICAgICAgICAgICYmIGJyb3dzZXIuYW5kcm9pZCAhPT0gdHJ1ZVxuICAgICAgICAgICAgJiYgYnJvd3Nlci5pb3MgIT09IHRydWVcbiAgICAgICAgICAgICYmIGJyb3dzZXIuaXBhZCAhPT0gdHJ1ZVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIENvcnJlY3Rpb24gbmVlZGVkIGZvciBpT1Mgc2luY2UgdGhlIGRlZmF1bHRcbiAgICAgICAgICogc2V0dGluZyBvbiBpUGFkIGlzIHRvIHJlcXVlc3QgZGVza3RvcCB2aWV3OyBpZiB3ZSBoYXZlXG4gICAgICAgICAqIHRvdWNoIHN1cHBvcnQgYW5kIHRoZSB1c2VyIGFnZW50IHNheXMgaXQncyBhXG4gICAgICAgICAqIGRlc2t0b3AsIHdlIGluZmVyIHRoYXQgaXQncyBhbiBpUGhvbmUvaVBhZCB3aXRoIGRlc2t0b3Agdmlld1xuICAgICAgICAgKiBzbyB3ZSBtdXN0IGZpeCB0aGUgZmFsc2UgcG9zaXRpdmVzXG4gICAgICAgICAqL1xuXG4gICAgICAgIGRlbGV0ZSBicm93c2VyLm1hY1xuICAgICAgICBkZWxldGUgYnJvd3Nlci5kZXNrdG9wXG5cbiAgICAgICAgY29uc3QgcGxhdGZvcm0gPSBNYXRoLm1pbih3aW5kb3cuaW5uZXJIZWlnaHQsIHdpbmRvdy5pbm5lcldpZHRoKSA+IDQxNFxuICAgICAgICAgID8gJ2lwYWQnXG4gICAgICAgICAgOiAnaXBob25lJ1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oYnJvd3Nlciwge1xuICAgICAgICAgIG1vYmlsZTogdHJ1ZSxcbiAgICAgICAgICBpb3M6IHRydWUsXG4gICAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgICAgWyBwbGF0Zm9ybSBdOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgYnJvd3Nlci5tb2JpbGUgIT09IHRydWVcbiAgICAgICAgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnREYXRhXG4gICAgICAgICYmIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50RGF0YS5tb2JpbGVcbiAgICAgICkge1xuICAgICAgICAvKlxuICAgICAgICAgKiBDb3JyZWN0aW9uIG5lZWRlZCBvbiBjbGllbnQtc2lkZSB3aGVuXG4gICAgICAgICAqIHdlIGFsc28gaGF2ZSB0aGUgbmF2aWdhdG9yIHVzZXJBZ2VudERhdGFcbiAgICAgICAgICovXG5cbiAgICAgICAgZGVsZXRlIGJyb3dzZXIuZGVza3RvcFxuICAgICAgICBicm93c2VyLm1vYmlsZSA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnJvd3NlclxufVxuXG5jb25zdCB1c2VyQWdlbnQgPSBfX1FVQVNBUl9TU1JfU0VSVkVSX19cbiAgPyAnJ1xuICA6IG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmFcblxuY29uc3Qgc3NyQ2xpZW50ID0ge1xuICBoYXM6IHtcbiAgICB0b3VjaDogZmFsc2UsXG4gICAgd2ViU3RvcmFnZTogZmFsc2VcbiAgfSxcbiAgd2l0aGluOiB7IGlmcmFtZTogZmFsc2UgfVxufVxuXG4vLyBXZSBleHBvcnQgXCJjbGllbnRcIiBmb3IgaHlkcmF0aW9uIGVycm9yLWZyZWUgcGFydHMsXG4vLyBsaWtlIHRvdWNoIGRpcmVjdGl2ZXMgd2hvIGRvIG5vdCAoYW5kIG11c3QgTk9UKSB3YWl0XG4vLyBmb3IgdGhlIGNsaWVudCB0YWtlb3Zlcjtcbi8vIERvIE5PVCBpbXBvcnQgdGhpcyBkaXJlY3RseSBpbiB5b3VyIGFwcCwgdW5sZXNzIHlvdSByZWFsbHkga25vd1xuLy8gd2hhdCB5b3UgYXJlIGRvaW5nLlxuZXhwb3J0IGNvbnN0IGNsaWVudCA9IF9fUVVBU0FSX1NTUl9TRVJWRVJfX1xuICA/IHNzckNsaWVudFxuICA6IHtcbiAgICAgIHVzZXJBZ2VudCxcbiAgICAgIGlzOiBnZXRQbGF0Zm9ybSh1c2VyQWdlbnQpLFxuICAgICAgaGFzOiB7XG4gICAgICAgIHRvdWNoOiBoYXNUb3VjaFxuICAgICAgfSxcbiAgICAgIHdpdGhpbjoge1xuICAgICAgICBpZnJhbWU6IHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wXG4gICAgICB9XG4gICAgfVxuXG5jb25zdCBQbGF0Zm9ybSA9IHtcbiAgaW5zdGFsbCAob3B0cykge1xuICAgIGNvbnN0IHsgJHEgfSA9IG9wdHNcblxuICAgIGlmIChfX1FVQVNBUl9TU1JfU0VSVkVSX18pIHtcbiAgICAgICRxLnBsYXRmb3JtID0gdGhpcy5wYXJzZVNTUihvcHRzLnNzckNvbnRleHQpXG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUnVudGltZVNzclByZUh5ZHJhdGlvbi52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gdGFrZW92ZXIgc2hvdWxkIGluY3JlYXNlIGFjY3VyYWN5IGZvclxuICAgICAgLy8gdGhlIHJlc3Qgb2YgdGhlIHByb3BzOyB3ZSBhbHNvIGF2b2lkXG4gICAgICAvLyBoeWRyYXRpb24gZXJyb3JzXG4gICAgICBvcHRzLm9uU1NSSHlkcmF0ZWQucHVzaCgoKSA9PiB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oJHEucGxhdGZvcm0sIGNsaWVudClcbiAgICAgICAgaXNSdW50aW1lU3NyUHJlSHlkcmF0aW9uLnZhbHVlID0gZmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIC8vIHdlIG5lZWQgdG8gbWFrZSBwbGF0Zm9ybSByZWFjdGl2ZVxuICAgICAgLy8gZm9yIHRoZSB0YWtlb3ZlciBwaGFzZVxuICAgICAgJHEucGxhdGZvcm0gPSByZWFjdGl2ZSh0aGlzKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRxLnBsYXRmb3JtID0gdGhpc1xuICAgIH1cbiAgfVxufVxuXG5pZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fKSB7XG4gIFBsYXRmb3JtLnBhcnNlU1NSID0gKHNzckNvbnRleHQpID0+IHtcbiAgICBjb25zdCB1c2VyQWdlbnQgPSBzc3JDb250ZXh0LnJlcS5oZWFkZXJzWyAndXNlci1hZ2VudCcgXSB8fCBzc3JDb250ZXh0LnJlcS5oZWFkZXJzWyAnVXNlci1BZ2VudCcgXSB8fCAnJ1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jbGllbnQsXG4gICAgICB1c2VyQWdlbnQsXG4gICAgICBpczogZ2V0UGxhdGZvcm0odXNlckFnZW50KVxuICAgIH1cbiAgfVxufVxuZWxzZSB7XG4gIC8vIGRvIG5vdCBhY2Nlc3Mgd2luZG93LmxvY2FsU3RvcmFnZSB3aXRob3V0XG4gIC8vIGRldmxhbmQgYWN0dWFsbHkgdXNpbmcgaXQgYXMgdGhpcyB3aWxsIGdldFxuICAvLyByZXBvcnRlZCB1bmRlciBcIkNvb2tpZXNcIiBpbiBHb29nbGUgQ2hyb21lXG4gIGxldCBoYXNXZWJTdG9yYWdlXG5cbiAgaW5qZWN0UHJvcChjbGllbnQuaGFzLCAnd2ViU3RvcmFnZScsICgpID0+IHtcbiAgICBpZiAoaGFzV2ViU3RvcmFnZSAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gaGFzV2ViU3RvcmFnZVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgICAgICBoYXNXZWJTdG9yYWdlID0gdHJ1ZVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoXykge31cblxuICAgIGhhc1dlYlN0b3JhZ2UgPSBmYWxzZVxuICAgIHJldHVybiBmYWxzZVxuICB9KVxuXG4gIE9iamVjdC5hc3NpZ24oUGxhdGZvcm0sIGNsaWVudClcblxuICBpZiAoaXNSdW50aW1lU3NyUHJlSHlkcmF0aW9uLnZhbHVlID09PSB0cnVlKSB7XG4gICAgLy8gbXVzdCBtYXRjaCB3aXRoIHNlcnZlci1zaWRlIGJlZm9yZVxuICAgIC8vIGNsaWVudCB0YWtpbmcgb3ZlciBpbiBvcmRlciB0byBwcmV2ZW50XG4gICAgLy8gaHlkcmF0aW9uIGVycm9yc1xuICAgIE9iamVjdC5hc3NpZ24oUGxhdGZvcm0sIHByZUh5ZHJhdGlvbkJyb3dzZXIsIHNzckNsaWVudClcblxuICAgIC8vIGZyZWUgdXAgbWVtb3J5XG4gICAgcHJlSHlkcmF0aW9uQnJvd3NlciA9IG51bGxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGF0Zm9ybVxuIiwiaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBtYXJrUmF3LCByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IGluamVjdFByb3AgfSBmcm9tICcuLi9wcml2YXRlLmluamVjdC1vYmotcHJvcC9pbmplY3Qtb2JqLXByb3AuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQgKHJhdykgeyByZXR1cm4gbWFya1JhdyhkZWZpbmVDb21wb25lbnQocmF3KSkgfVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURpcmVjdGl2ZSAocmF3KSB7IHJldHVybiBtYXJrUmF3KHJhdykgfVxuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVhY3RpdmVQbHVnaW4gPSBfX1FVQVNBUl9TU1JfU0VSVkVSX19cbiAgPyAoc3RhdGUsIHBsdWdpbikgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihwbHVnaW4sIHN0YXRlKVxuICAgICAgcmV0dXJuIHBsdWdpblxuICAgIH1cbiAgOiAoc3RhdGUsIHBsdWdpbikgPT4ge1xuICAgICAgY29uc3QgcmVhY3RpdmVTdGF0ZSA9IHJlYWN0aXZlKHN0YXRlKVxuXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gc3RhdGUpIHtcbiAgICAgICAgaW5qZWN0UHJvcChcbiAgICAgICAgICBwbHVnaW4sXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICAoKSA9PiByZWFjdGl2ZVN0YXRlWyBuYW1lIF0sXG4gICAgICAgICAgdmFsID0+IHsgcmVhY3RpdmVTdGF0ZVsgbmFtZSBdID0gdmFsIH1cbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGx1Z2luXG4gICAgfVxuIiwiZXhwb3J0IGNvbnN0IGxpc3Rlbk9wdHMgPSB7XG4gIGhhc1Bhc3NpdmU6IGZhbHNlLFxuICBwYXNzaXZlQ2FwdHVyZTogdHJ1ZSxcbiAgbm90UGFzc2l2ZUNhcHR1cmU6IHRydWVcbn1cblxudHJ5IHtcbiAgY29uc3Qgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgZ2V0ICgpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24obGlzdGVuT3B0cywge1xuICAgICAgICBoYXNQYXNzaXZlOiB0cnVlLFxuICAgICAgICBwYXNzaXZlOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgbm90UGFzc2l2ZTogeyBwYXNzaXZlOiBmYWxzZSB9LFxuICAgICAgICBwYXNzaXZlQ2FwdHVyZTogeyBwYXNzaXZlOiB0cnVlLCBjYXB0dXJlOiB0cnVlIH0sXG4gICAgICAgIG5vdFBhc3NpdmVDYXB0dXJlOiB7IHBhc3NpdmU6IGZhbHNlLCBjYXB0dXJlOiB0cnVlIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncXRlc3QnLCBudWxsLCBvcHRzKVxuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncXRlc3QnLCBudWxsLCBvcHRzKVxufVxuY2F0Y2ggKF8pIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wICgpIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBsZWZ0Q2xpY2sgKGUpIHtcbiAgcmV0dXJuIGUuYnV0dG9uID09PSAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaWRkbGVDbGljayAoZSkge1xuICByZXR1cm4gZS5idXR0b24gPT09IDFcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJpZ2h0Q2xpY2sgKGUpIHtcbiAgcmV0dXJuIGUuYnV0dG9uID09PSAyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3NpdGlvbiAoZSkge1xuICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlc1sgMCBdKSB7XG4gICAgZSA9IGUudG91Y2hlc1sgMCBdXG4gIH1cbiAgZWxzZSBpZiAoZS5jaGFuZ2VkVG91Y2hlcyAmJiBlLmNoYW5nZWRUb3VjaGVzWyAwIF0pIHtcbiAgICBlID0gZS5jaGFuZ2VkVG91Y2hlc1sgMCBdXG4gIH1cbiAgZWxzZSBpZiAoZS50YXJnZXRUb3VjaGVzICYmIGUudGFyZ2V0VG91Y2hlc1sgMCBdKSB7XG4gICAgZSA9IGUudGFyZ2V0VG91Y2hlc1sgMCBdXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcDogZS5jbGllbnRZLFxuICAgIGxlZnQ6IGUuY2xpZW50WFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudFBhdGggKGUpIHtcbiAgaWYgKGUucGF0aCkge1xuICAgIHJldHVybiBlLnBhdGhcbiAgfVxuICBpZiAoZS5jb21wb3NlZFBhdGgpIHtcbiAgICByZXR1cm4gZS5jb21wb3NlZFBhdGgoKVxuICB9XG5cbiAgY29uc3QgcGF0aCA9IFtdXG4gIGxldCBlbCA9IGUudGFyZ2V0XG5cbiAgd2hpbGUgKGVsKSB7XG4gICAgcGF0aC5wdXNoKGVsKVxuXG4gICAgaWYgKGVsLnRhZ05hbWUgPT09ICdIVE1MJykge1xuICAgICAgcGF0aC5wdXNoKGRvY3VtZW50KVxuICAgICAgcGF0aC5wdXNoKHdpbmRvdylcbiAgICAgIHJldHVybiBwYXRoXG4gICAgfVxuXG4gICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50XG4gIH1cbn1cblxuLy8gUmVhc29uYWJsZSBkZWZhdWx0c1xuY29uc3RcbiAgTElORV9IRUlHSFQgPSA0MCxcbiAgUEFHRV9IRUlHSFQgPSA4MDBcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vdXNlV2hlZWxEaXN0YW5jZSAoZSkge1xuICBsZXQgeCA9IGUuZGVsdGFYLCB5ID0gZS5kZWx0YVlcblxuICBpZiAoKHggfHwgeSkgJiYgZS5kZWx0YU1vZGUpIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gZS5kZWx0YU1vZGUgPT09IDEgPyBMSU5FX0hFSUdIVCA6IFBBR0VfSEVJR0hUXG4gICAgeCAqPSBtdWx0aXBsaWVyXG4gICAgeSAqPSBtdWx0aXBsaWVyXG4gIH1cblxuICBpZiAoZS5zaGlmdEtleSAmJiAheCkge1xuICAgIFsgeSwgeCBdID0gWyB4LCB5IF1cbiAgfVxuXG4gIHJldHVybiB7IHgsIHkgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcCAoZSkge1xuICBlLnN0b3BQcm9wYWdhdGlvbigpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50IChlKSB7XG4gIGUuY2FuY2VsYWJsZSAhPT0gZmFsc2UgJiYgZS5wcmV2ZW50RGVmYXVsdCgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wQW5kUHJldmVudCAoZSkge1xuICBlLmNhbmNlbGFibGUgIT09IGZhbHNlICYmIGUucHJldmVudERlZmF1bHQoKVxuICBlLnN0b3BQcm9wYWdhdGlvbigpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmV2ZW50RHJhZ2dhYmxlIChlbCwgc3RhdHVzKSB7XG4gIGlmIChlbCA9PT0gdm9pZCAwIHx8IChzdGF0dXMgPT09IHRydWUgJiYgZWwuX19kcmFnUHJldmVudGVkID09PSB0cnVlKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgZm4gPSBzdGF0dXMgPT09IHRydWVcbiAgICA/IGVsID0+IHtcbiAgICAgIGVsLl9fZHJhZ1ByZXZlbnRlZCA9IHRydWVcbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHByZXZlbnQsIGxpc3Rlbk9wdHMubm90UGFzc2l2ZUNhcHR1cmUpXG4gICAgfVxuICAgIDogZWwgPT4ge1xuICAgICAgZGVsZXRlIGVsLl9fZHJhZ1ByZXZlbnRlZFxuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgcHJldmVudCwgbGlzdGVuT3B0cy5ub3RQYXNzaXZlQ2FwdHVyZSlcbiAgICB9XG5cbiAgZWwucXVlcnlTZWxlY3RvckFsbCgnYSwgaW1nJykuZm9yRWFjaChmbilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2dCAoY3R4LCB0YXJnZXROYW1lLCBldmVudHMpIHtcbiAgY29uc3QgbmFtZSA9IGBfX3FfJHsgdGFyZ2V0TmFtZSB9X2V2dGBcblxuICBjdHhbIG5hbWUgXSA9IGN0eFsgbmFtZSBdICE9PSB2b2lkIDBcbiAgICA/IGN0eFsgbmFtZSBdLmNvbmNhdChldmVudHMpXG4gICAgOiBldmVudHNcblxuICBldmVudHMuZm9yRWFjaChldnQgPT4ge1xuICAgIGV2dFsgMCBdLmFkZEV2ZW50TGlzdGVuZXIoZXZ0WyAxIF0sIGN0eFsgZXZ0WyAyIF0gXSwgbGlzdGVuT3B0c1sgZXZ0WyAzIF0gXSlcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuRXZ0IChjdHgsIHRhcmdldE5hbWUpIHtcbiAgY29uc3QgbmFtZSA9IGBfX3FfJHsgdGFyZ2V0TmFtZSB9X2V2dGBcblxuICBpZiAoY3R4WyBuYW1lIF0gIT09IHZvaWQgMCkge1xuICAgIGN0eFsgbmFtZSBdLmZvckVhY2goZXZ0ID0+IHtcbiAgICAgIGV2dFsgMCBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0WyAxIF0sIGN0eFsgZXZ0WyAyIF0gXSwgbGlzdGVuT3B0c1sgZXZ0WyAzIF0gXSlcbiAgICB9KVxuICAgIGN0eFsgbmFtZSBdID0gdm9pZCAwXG4gIH1cbn1cblxuLypcbiAqIGFsc28gdXBkYXRlIC90eXBlcy91dGlscy9ldmVudC5kLnRzXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuICBsaXN0ZW5PcHRzLFxuICBsZWZ0Q2xpY2ssXG4gIG1pZGRsZUNsaWNrLFxuICByaWdodENsaWNrLFxuICBwb3NpdGlvbixcbiAgZ2V0RXZlbnRQYXRoLFxuICBnZXRNb3VzZVdoZWVsRGlzdGFuY2UsXG4gIHN0b3AsXG4gIHByZXZlbnQsXG4gIHN0b3BBbmRQcmV2ZW50LFxuICBwcmV2ZW50RHJhZ2dhYmxlXG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZm4sIHdhaXQgPSAyNTAsIGltbWVkaWF0ZSkge1xuICBsZXQgdGltZXIgPSBudWxsXG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkICgvKiAuLi5hcmdzICovKSB7XG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50c1xuXG4gICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgICB0aW1lciA9IG51bGxcbiAgICAgIGlmIChpbW1lZGlhdGUgIT09IHRydWUpIHtcbiAgICAgICAgZm4uYXBwbHkodGhpcywgYXJncylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGltZXIgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcilcbiAgICB9XG4gICAgZWxzZSBpZiAoaW1tZWRpYXRlID09PSB0cnVlKSB7XG4gICAgICBmbi5hcHBseSh0aGlzLCBhcmdzKVxuICAgIH1cblxuICAgIHRpbWVyID0gc2V0VGltZW91dChsYXRlciwgd2FpdClcbiAgfVxuXG4gIGRlYm91bmNlZC5jYW5jZWwgPSAoKSA9PiB7XG4gICAgdGltZXIgIT09IG51bGwgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICB9XG5cbiAgcmV0dXJuIGRlYm91bmNlZFxufVxuIiwiaW1wb3J0IHsgaXNSdW50aW1lU3NyUHJlSHlkcmF0aW9uLCBjbGllbnQgfSBmcm9tICcuLi9wbGF0Zm9ybS9QbGF0Zm9ybS5qcydcblxuaW1wb3J0IHsgY3JlYXRlUmVhY3RpdmVQbHVnaW4gfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmNyZWF0ZS9jcmVhdGUuanMnXG5pbXBvcnQgeyBsaXN0ZW5PcHRzLCBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQvZXZlbnQuanMnXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnLi4vLi4vdXRpbHMvZGVib3VuY2UvZGVib3VuY2UuanMnXG5cbmNvbnN0IFNJWkVfTElTVCA9IFsgJ3NtJywgJ21kJywgJ2xnJywgJ3hsJyBdXG5jb25zdCB7IHBhc3NpdmUgfSA9IGxpc3Rlbk9wdHNcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlUmVhY3RpdmVQbHVnaW4oe1xuICB3aWR0aDogMCxcbiAgaGVpZ2h0OiAwLFxuICBuYW1lOiAneHMnLFxuXG4gIHNpemVzOiB7XG4gICAgc206IDYwMCxcbiAgICBtZDogMTAyNCxcbiAgICBsZzogMTQ0MCxcbiAgICB4bDogMTkyMFxuICB9LFxuXG4gIGx0OiB7XG4gICAgc206IHRydWUsXG4gICAgbWQ6IHRydWUsXG4gICAgbGc6IHRydWUsXG4gICAgeGw6IHRydWVcbiAgfSxcbiAgZ3Q6IHtcbiAgICB4czogZmFsc2UsXG4gICAgc206IGZhbHNlLFxuICAgIG1kOiBmYWxzZSxcbiAgICBsZzogZmFsc2VcbiAgfSxcblxuICB4czogdHJ1ZSxcbiAgc206IGZhbHNlLFxuICBtZDogZmFsc2UsXG4gIGxnOiBmYWxzZSxcbiAgeGw6IGZhbHNlXG59LCB7XG4gIHNldFNpemVzOiBub29wLFxuICBzZXREZWJvdW5jZTogbm9vcCxcblxuICBpbnN0YWxsICh7ICRxLCBvblNTUkh5ZHJhdGVkIH0pIHtcbiAgICAkcS5zY3JlZW4gPSB0aGlzXG5cbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fKSByZXR1cm5cblxuICAgIGlmICh0aGlzLl9faW5zdGFsbGVkID09PSB0cnVlKSB7XG4gICAgICBpZiAoJHEuY29uZmlnLnNjcmVlbiAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGlmICgkcS5jb25maWcuc2NyZWVuLmJvZHlDbGFzc2VzID09PSBmYWxzZSkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShgc2NyZWVuLS0keyB0aGlzLm5hbWUgfWApXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5fX3VwZGF0ZSh0cnVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB7IHZpc3VhbFZpZXdwb3J0IH0gPSB3aW5kb3dcbiAgICBjb25zdCB0YXJnZXQgPSB2aXN1YWxWaWV3cG9ydCB8fCB3aW5kb3dcbiAgICBjb25zdCBzY3JvbGxpbmdFbGVtZW50ID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICBjb25zdCBnZXRTaXplID0gdmlzdWFsVmlld3BvcnQgPT09IHZvaWQgMCB8fCBjbGllbnQuaXMubW9iaWxlID09PSB0cnVlXG4gICAgICA/ICgpID0+IFtcbiAgICAgICAgICBNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCwgc2Nyb2xsaW5nRWxlbWVudC5jbGllbnRXaWR0aCksXG4gICAgICAgICAgTWF0aC5tYXgod2luZG93LmlubmVySGVpZ2h0LCBzY3JvbGxpbmdFbGVtZW50LmNsaWVudEhlaWdodClcbiAgICAgICAgXVxuICAgICAgOiAoKSA9PiBbXG4gICAgICAgICAgdmlzdWFsVmlld3BvcnQud2lkdGggKiB2aXN1YWxWaWV3cG9ydC5zY2FsZSArIHdpbmRvdy5pbm5lcldpZHRoIC0gc2Nyb2xsaW5nRWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICB2aXN1YWxWaWV3cG9ydC5oZWlnaHQgKiB2aXN1YWxWaWV3cG9ydC5zY2FsZSArIHdpbmRvdy5pbm5lckhlaWdodCAtIHNjcm9sbGluZ0VsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgIF1cblxuICAgIGNvbnN0IGNsYXNzZXMgPSAkcS5jb25maWcuc2NyZWVuPy5ib2R5Q2xhc3NlcyA9PT0gdHJ1ZVxuXG4gICAgdGhpcy5fX3VwZGF0ZSA9IGZvcmNlID0+IHtcbiAgICAgIGNvbnN0IFsgdywgaCBdID0gZ2V0U2l6ZSgpXG5cbiAgICAgIGlmIChoICE9PSB0aGlzLmhlaWdodCkge1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhcbiAgICAgIH1cblxuICAgICAgaWYgKHcgIT09IHRoaXMud2lkdGgpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGZvcmNlICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBsZXQgcyA9IHRoaXMuc2l6ZXNcblxuICAgICAgdGhpcy5ndC54cyA9IHcgPj0gcy5zbVxuICAgICAgdGhpcy5ndC5zbSA9IHcgPj0gcy5tZFxuICAgICAgdGhpcy5ndC5tZCA9IHcgPj0gcy5sZ1xuICAgICAgdGhpcy5ndC5sZyA9IHcgPj0gcy54bFxuICAgICAgdGhpcy5sdC5zbSA9IHcgPCBzLnNtXG4gICAgICB0aGlzLmx0Lm1kID0gdyA8IHMubWRcbiAgICAgIHRoaXMubHQubGcgPSB3IDwgcy5sZ1xuICAgICAgdGhpcy5sdC54bCA9IHcgPCBzLnhsXG4gICAgICB0aGlzLnhzID0gdGhpcy5sdC5zbVxuICAgICAgdGhpcy5zbSA9IHRoaXMuZ3QueHMgPT09IHRydWUgJiYgdGhpcy5sdC5tZCA9PT0gdHJ1ZVxuICAgICAgdGhpcy5tZCA9IHRoaXMuZ3Quc20gPT09IHRydWUgJiYgdGhpcy5sdC5sZyA9PT0gdHJ1ZVxuICAgICAgdGhpcy5sZyA9IHRoaXMuZ3QubWQgPT09IHRydWUgJiYgdGhpcy5sdC54bCA9PT0gdHJ1ZVxuICAgICAgdGhpcy54bCA9IHRoaXMuZ3QubGdcblxuICAgICAgcyA9ICh0aGlzLnhzID09PSB0cnVlICYmICd4cycpXG4gICAgICAgIHx8ICh0aGlzLnNtID09PSB0cnVlICYmICdzbScpXG4gICAgICAgIHx8ICh0aGlzLm1kID09PSB0cnVlICYmICdtZCcpXG4gICAgICAgIHx8ICh0aGlzLmxnID09PSB0cnVlICYmICdsZycpXG4gICAgICAgIHx8ICd4bCdcblxuICAgICAgaWYgKHMgIT09IHRoaXMubmFtZSkge1xuICAgICAgICBpZiAoY2xhc3NlcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShgc2NyZWVuLS0keyB0aGlzLm5hbWUgfWApXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKGBzY3JlZW4tLSR7IHMgfWApXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gc1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB1cGRhdGVFdnQsIHVwZGF0ZVNpemVzID0ge30sIHVwZGF0ZURlYm91bmNlID0gMTZcblxuICAgIHRoaXMuc2V0U2l6ZXMgPSBzaXplcyA9PiB7XG4gICAgICBTSVpFX0xJU1QuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKHNpemVzWyBuYW1lIF0gIT09IHZvaWQgMCkge1xuICAgICAgICAgIHVwZGF0ZVNpemVzWyBuYW1lIF0gPSBzaXplc1sgbmFtZSBdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIHRoaXMuc2V0RGVib3VuY2UgPSBkZWIgPT4ge1xuICAgICAgdXBkYXRlRGVib3VuY2UgPSBkZWJcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KVxuXG4gICAgICAvLyBpZiBjc3MgcHJvcHMgYXZhaWxhYmxlXG4gICAgICBpZiAoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1xLXNpemUtc20nKSkge1xuICAgICAgICBTSVpFX0xJU1QuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICB0aGlzLnNpemVzWyBuYW1lIF0gPSBwYXJzZUludChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGAtLXEtc2l6ZS0keyBuYW1lIH1gKSwgMTApXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U2l6ZXMgPSBzaXplcyA9PiB7XG4gICAgICAgIFNJWkVfTElTVC5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgIGlmIChzaXplc1sgbmFtZSBdKSB7XG4gICAgICAgICAgICB0aGlzLnNpemVzWyBuYW1lIF0gPSBzaXplc1sgbmFtZSBdXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLl9fdXBkYXRlKHRydWUpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0RGVib3VuY2UgPSBkZWxheSA9PiB7XG4gICAgICAgIHVwZGF0ZUV2dCAhPT0gdm9pZCAwICYmIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVFdnQsIHBhc3NpdmUpXG4gICAgICAgIHVwZGF0ZUV2dCA9IGRlbGF5ID4gMFxuICAgICAgICAgID8gZGVib3VuY2UodGhpcy5fX3VwZGF0ZSwgZGVsYXkpXG4gICAgICAgICAgOiB0aGlzLl9fdXBkYXRlXG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVFdnQsIHBhc3NpdmUpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0RGVib3VuY2UodXBkYXRlRGVib3VuY2UpXG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyh1cGRhdGVTaXplcykubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHRoaXMuc2V0U2l6ZXModXBkYXRlU2l6ZXMpXG4gICAgICAgIHVwZGF0ZVNpemVzID0gdm9pZCAwIC8vIGZyZWUgdXAgbWVtb3J5XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3VwZGF0ZSgpXG4gICAgICB9XG5cbiAgICAgIC8vIGR1ZSB0byBvcHRpbWl6YXRpb25zLCB0aGlzIHdvdWxkIGJlIGxlZnQgb3V0IG90aGVyd2lzZVxuICAgICAgY2xhc3NlcyA9PT0gdHJ1ZSAmJiB0aGlzLm5hbWUgPT09ICd4cydcbiAgICAgICAgJiYgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdzY3JlZW4tLXhzJylcbiAgICB9XG5cbiAgICBpZiAoaXNSdW50aW1lU3NyUHJlSHlkcmF0aW9uLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICBvblNTUkh5ZHJhdGVkLnB1c2goc3RhcnQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3RhcnQoKVxuICAgIH1cbiAgfVxufSlcbiIsImltcG9ydCB7IGNyZWF0ZVJlYWN0aXZlUGx1Z2luIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuXG5jb25zdCBQbHVnaW4gPSBjcmVhdGVSZWFjdGl2ZVBsdWdpbih7XG4gIGlzQWN0aXZlOiBmYWxzZSxcbiAgbW9kZTogZmFsc2Vcbn0sIHtcbiAgX19tZWRpYTogdm9pZCAwLFxuXG4gIHNldCAodmFsKSB7XG4gICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXykgcmV0dXJuXG5cbiAgICBQbHVnaW4ubW9kZSA9IHZhbFxuXG4gICAgaWYgKHZhbCA9PT0gJ2F1dG8nKSB7XG4gICAgICBpZiAoUGx1Z2luLl9fbWVkaWEgPT09IHZvaWQgMCkge1xuICAgICAgICBQbHVnaW4uX19tZWRpYSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJylcbiAgICAgICAgUGx1Z2luLl9fdXBkYXRlTWVkaWEgPSAoKSA9PiB7IFBsdWdpbi5zZXQoJ2F1dG8nKSB9XG4gICAgICAgIFBsdWdpbi5fX21lZGlhLmFkZExpc3RlbmVyKFBsdWdpbi5fX3VwZGF0ZU1lZGlhKVxuICAgICAgfVxuXG4gICAgICB2YWwgPSBQbHVnaW4uX19tZWRpYS5tYXRjaGVzXG4gICAgfVxuICAgIGVsc2UgaWYgKFBsdWdpbi5fX21lZGlhICE9PSB2b2lkIDApIHtcbiAgICAgIFBsdWdpbi5fX21lZGlhLnJlbW92ZUxpc3RlbmVyKFBsdWdpbi5fX3VwZGF0ZU1lZGlhKVxuICAgICAgUGx1Z2luLl9fbWVkaWEgPSB2b2lkIDBcbiAgICB9XG5cbiAgICBQbHVnaW4uaXNBY3RpdmUgPSB2YWwgPT09IHRydWVcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoYGJvZHktLSR7IHZhbCA9PT0gdHJ1ZSA/ICdsaWdodCcgOiAnZGFyaycgfWApXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKGBib2R5LS0keyB2YWwgPT09IHRydWUgPyAnZGFyaycgOiAnbGlnaHQnIH1gKVxuICB9LFxuXG4gIHRvZ2dsZSAoKSB7XG4gICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXyAhPT0gdHJ1ZSkge1xuICAgICAgUGx1Z2luLnNldChQbHVnaW4uaXNBY3RpdmUgPT09IGZhbHNlKVxuICAgIH1cbiAgfSxcblxuICBpbnN0YWxsICh7ICRxLCBzc3JDb250ZXh0IH0pIHtcbiAgICBjb25zdCBkYXJrID0gX19RVUFTQVJfU1NSX0NMSUVOVF9fXG4gICAgICA/IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdib2R5LS1kYXJrJylcbiAgICAgIDogJHEuY29uZmlnLmRhcmtcblxuICAgIGlmIChfX1FVQVNBUl9TU1JfU0VSVkVSX18pIHtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSBkYXJrID09PSB0cnVlXG5cbiAgICAgICRxLmRhcmsgPSB7XG4gICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgbW9kZTogZmFsc2UsXG4gICAgICAgIHNldDogdmFsID0+IHtcbiAgICAgICAgICBzc3JDb250ZXh0Ll9tZXRhLmJvZHlDbGFzc2VzID0gc3NyQ29udGV4dC5fbWV0YS5ib2R5Q2xhc3Nlc1xuICAgICAgICAgICAgLnJlcGxhY2UoJyBib2R5LS1saWdodCcsICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoJyBib2R5LS1kYXJrJywgJycpICsgYCBib2R5LS0keyB2YWwgPT09IHRydWUgPyAnZGFyaycgOiAnbGlnaHQnIH1gXG5cbiAgICAgICAgICAkcS5kYXJrLmlzQWN0aXZlID0gdmFsID09PSB0cnVlXG4gICAgICAgICAgJHEuZGFyay5tb2RlID0gdmFsXG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZTogKCkgPT4ge1xuICAgICAgICAgICRxLmRhcmsuc2V0KCRxLmRhcmsuaXNBY3RpdmUgPT09IGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRxLmRhcmsuc2V0KGRhcmspXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAkcS5kYXJrID0gdGhpc1xuXG4gICAgaWYgKHRoaXMuX19pbnN0YWxsZWQgIT09IHRydWUpIHtcbiAgICAgIHRoaXMuc2V0KGRhcmsgIT09IHZvaWQgMCA/IGRhcmsgOiBmYWxzZSlcbiAgICB9XG4gIH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IFBsdWdpblxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0Q3NzVmFyIChwcm9wTmFtZSwgdmFsdWUsIGVsZW1lbnQgPSBkb2N1bWVudC5ib2R5KSB7XG4gIGlmICh0eXBlb2YgcHJvcE5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBzdHJpbmcgYXMgcHJvcE5hbWUnKVxuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBzdHJpbmcgYXMgdmFsdWUnKVxuICB9XG4gIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgRE9NIGVsZW1lbnQnKVxuICB9XG5cbiAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShgLS1xLSR7IHByb3BOYW1lIH1gLCB2YWx1ZSlcbn1cbiIsImxldCBsYXN0S2V5Q29tcG9zaXRpb25TdGF0dXMgPSBmYWxzZVxuXG5leHBvcnQgZnVuY3Rpb24gb25LZXlEb3duQ29tcG9zaXRpb24gKGV2dCkge1xuICBsYXN0S2V5Q29tcG9zaXRpb25TdGF0dXMgPSBldnQuaXNDb21wb3NpbmcgPT09IHRydWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZElnbm9yZUtleSAoZXZ0KSB7XG4gIHJldHVybiBsYXN0S2V5Q29tcG9zaXRpb25TdGF0dXMgPT09IHRydWVcbiAgICB8fCBldnQgIT09IE9iamVjdChldnQpXG4gICAgfHwgZXZ0LmlzQ29tcG9zaW5nID09PSB0cnVlXG4gICAgfHwgZXZ0LnFLZXlFdmVudCA9PT0gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNLZXlDb2RlIChldnQsIGtleUNvZGVzKSB7XG4gIHJldHVybiBzaG91bGRJZ25vcmVLZXkoZXZ0KSA9PT0gdHJ1ZVxuICAgID8gZmFsc2VcbiAgICA6IFtdLmNvbmNhdChrZXlDb2RlcykuaW5jbHVkZXMoZXZ0LmtleUNvZGUpXG59XG4iLCJpbXBvcnQgc2V0Q3NzVmFyIGZyb20gJy4uLy4uL3V0aWxzL2Nzcy12YXIvc2V0LWNzcy12YXIuanMnXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQvZXZlbnQuanMnXG5pbXBvcnQgeyBvbktleURvd25Db21wb3NpdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUua2V5Ym9hcmQva2V5LWNvbXBvc2l0aW9uLmpzJ1xuXG5pbXBvcnQgeyBpc1J1bnRpbWVTc3JQcmVIeWRyYXRpb24sIGNsaWVudCB9IGZyb20gJy4uL3BsYXRmb3JtL1BsYXRmb3JtLmpzJ1xuXG5mdW5jdGlvbiBnZXRNb2JpbGVQbGF0Zm9ybSAoaXMpIHtcbiAgaWYgKGlzLmlvcyA9PT0gdHJ1ZSkgcmV0dXJuICdpb3MnXG4gIGlmIChpcy5hbmRyb2lkID09PSB0cnVlKSByZXR1cm4gJ2FuZHJvaWQnXG59XG5cbmZ1bmN0aW9uIGdldEJvZHlDbGFzc2VzICh7IGlzLCBoYXMsIHdpdGhpbiB9LCBjZmcpIHtcbiAgY29uc3QgY2xzID0gW1xuICAgIGlzLmRlc2t0b3AgPT09IHRydWUgPyAnZGVza3RvcCcgOiAnbW9iaWxlJyxcbiAgICBgJHsgaGFzLnRvdWNoID09PSBmYWxzZSA/ICduby0nIDogJycgfXRvdWNoYFxuICBdXG5cbiAgaWYgKGlzLm1vYmlsZSA9PT0gdHJ1ZSkge1xuICAgIGNvbnN0IG1vYmlsZSA9IGdldE1vYmlsZVBsYXRmb3JtKGlzKVxuICAgIG1vYmlsZSAhPT0gdm9pZCAwICYmIGNscy5wdXNoKCdwbGF0Zm9ybS0nICsgbW9iaWxlKVxuICB9XG5cbiAgaWYgKGlzLm5hdGl2ZU1vYmlsZSA9PT0gdHJ1ZSkge1xuICAgIGNvbnN0IHR5cGUgPSBpcy5uYXRpdmVNb2JpbGVXcmFwcGVyXG5cbiAgICBjbHMucHVzaCh0eXBlKVxuICAgIGNscy5wdXNoKCduYXRpdmUtbW9iaWxlJylcblxuICAgIGlmIChcbiAgICAgIGlzLmlvcyA9PT0gdHJ1ZVxuICAgICAgJiYgKGNmZ1sgdHlwZSBdID09PSB2b2lkIDAgfHwgY2ZnWyB0eXBlIF0uaW9zU3RhdHVzQmFyUGFkZGluZyAhPT0gZmFsc2UpXG4gICAgKSB7XG4gICAgICBjbHMucHVzaCgncS1pb3MtcGFkZGluZycpXG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGlzLmVsZWN0cm9uID09PSB0cnVlKSB7XG4gICAgY2xzLnB1c2goJ2VsZWN0cm9uJylcbiAgfVxuICBlbHNlIGlmIChpcy5iZXggPT09IHRydWUpIHtcbiAgICBjbHMucHVzaCgnYmV4JylcbiAgfVxuXG4gIHdpdGhpbi5pZnJhbWUgPT09IHRydWUgJiYgY2xzLnB1c2goJ3dpdGhpbi1pZnJhbWUnKVxuXG4gIHJldHVybiBjbHNcbn1cblxuZnVuY3Rpb24gYXBwbHlDbGllbnRTc3JDb3JyZWN0aW9ucyAoKSB7XG4gIGNvbnN0IHsgaXMgfSA9IGNsaWVudFxuICBjb25zdCBjbGFzc2VzID0gZG9jdW1lbnQuYm9keS5jbGFzc05hbWVcblxuICBjb25zdCBjbGFzc0xpc3QgPSBuZXcgU2V0KGNsYXNzZXMucmVwbGFjZSgvIHsyfS9nLCAnICcpLnNwbGl0KCcgJykpXG5cbiAgaWYgKGlzLm5hdGl2ZU1vYmlsZSAhPT0gdHJ1ZSAmJiBpcy5lbGVjdHJvbiAhPT0gdHJ1ZSAmJiBpcy5iZXggIT09IHRydWUpIHtcbiAgICBpZiAoaXMuZGVza3RvcCA9PT0gdHJ1ZSkge1xuICAgICAgY2xhc3NMaXN0LmRlbGV0ZSgnbW9iaWxlJylcbiAgICAgIGNsYXNzTGlzdC5kZWxldGUoJ3BsYXRmb3JtLWlvcycpXG4gICAgICBjbGFzc0xpc3QuZGVsZXRlKCdwbGF0Zm9ybS1hbmRyb2lkJylcbiAgICAgIGNsYXNzTGlzdC5hZGQoJ2Rlc2t0b3AnKVxuICAgIH1cbiAgICBlbHNlIGlmIChpcy5tb2JpbGUgPT09IHRydWUpIHtcbiAgICAgIGNsYXNzTGlzdC5kZWxldGUoJ2Rlc2t0b3AnKVxuICAgICAgY2xhc3NMaXN0LmFkZCgnbW9iaWxlJylcblxuICAgICAgY2xhc3NMaXN0LmRlbGV0ZSgncGxhdGZvcm0taW9zJylcbiAgICAgIGNsYXNzTGlzdC5kZWxldGUoJ3BsYXRmb3JtLWFuZHJvaWQnKVxuXG4gICAgICBjb25zdCBtb2JpbGUgPSBnZXRNb2JpbGVQbGF0Zm9ybShpcylcbiAgICAgIGlmIChtb2JpbGUgIT09IHZvaWQgMCkge1xuICAgICAgICBjbGFzc0xpc3QuYWRkKGBwbGF0Zm9ybS0keyBtb2JpbGUgfWApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGNsaWVudC5oYXMudG91Y2ggPT09IHRydWUpIHtcbiAgICBjbGFzc0xpc3QuZGVsZXRlKCduby10b3VjaCcpXG4gICAgY2xhc3NMaXN0LmFkZCgndG91Y2gnKVxuICB9XG5cbiAgaWYgKGNsaWVudC53aXRoaW4uaWZyYW1lID09PSB0cnVlKSB7XG4gICAgY2xhc3NMaXN0LmFkZCgnd2l0aGluLWlmcmFtZScpXG4gIH1cblxuICBjb25zdCBuZXdDbHMgPSBBcnJheS5mcm9tKGNsYXNzTGlzdCkuam9pbignICcpXG5cbiAgaWYgKGNsYXNzZXMgIT09IG5ld0Nscykge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gbmV3Q2xzXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q29sb3JzIChicmFuZCkge1xuICBmb3IgKGNvbnN0IGNvbG9yIGluIGJyYW5kKSB7XG4gICAgc2V0Q3NzVmFyKGNvbG9yLCBicmFuZFsgY29sb3IgXSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluc3RhbGwgKG9wdHMpIHtcbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fKSB7XG4gICAgICBjb25zdCB7ICRxLCBzc3JDb250ZXh0IH0gPSBvcHRzXG4gICAgICBjb25zdCBjbHMgPSBnZXRCb2R5Q2xhc3NlcygkcS5wbGF0Zm9ybSwgJHEuY29uZmlnKVxuXG4gICAgICBpZiAoJHEuY29uZmlnLnNjcmVlbj8uYm9keUNsYXNzID09PSB0cnVlKSB7XG4gICAgICAgIGNscy5wdXNoKCdzY3JlZW4tLXhzJylcbiAgICAgIH1cblxuICAgICAgc3NyQ29udGV4dC5fbWV0YS5ib2R5Q2xhc3NlcyArPSBjbHMuam9pbignICcpXG5cbiAgICAgIGNvbnN0IGJyYW5kID0gJHEuY29uZmlnLmJyYW5kXG4gICAgICBpZiAoYnJhbmQgIT09IHZvaWQgMCkge1xuICAgICAgICBjb25zdCB2YXJzID0gT2JqZWN0LmtleXMoYnJhbmQpXG4gICAgICAgICAgLm1hcChrZXkgPT4gYC0tcS0keyBrZXkgfTokeyBicmFuZFsga2V5IF0gfTtgKVxuICAgICAgICAgIC5qb2luKCcnKVxuXG4gICAgICAgIHNzckNvbnRleHQuX21ldGEuZW5kaW5nSGVhZFRhZ3MgKz0gYDxzdHlsZT46cm9vdHskeyB2YXJzIH19PC9zdHlsZT5gXG4gICAgICB9XG5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLl9faW5zdGFsbGVkID09PSB0cnVlKSByZXR1cm5cblxuICAgIGlmIChpc1J1bnRpbWVTc3JQcmVIeWRyYXRpb24udmFsdWUgPT09IHRydWUpIHtcbiAgICAgIGFwcGx5Q2xpZW50U3NyQ29ycmVjdGlvbnMoKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IHsgJHEgfSA9IG9wdHNcblxuICAgICAgJHEuY29uZmlnLmJyYW5kICE9PSB2b2lkIDAgJiYgc2V0Q29sb3JzKCRxLmNvbmZpZy5icmFuZClcblxuICAgICAgY29uc3QgY2xzID0gZ2V0Qm9keUNsYXNzZXMoY2xpZW50LCAkcS5jb25maWcpXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQuYXBwbHkoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QsIGNscylcbiAgICB9XG5cbiAgICBpZiAoY2xpZW50LmlzLmlvcyA9PT0gdHJ1ZSkge1xuICAgICAgLy8gbmVlZGVkIGZvciBpT1MgYnV0dG9uIGFjdGl2ZSBzdGF0ZVxuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgbm9vcClcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93bkNvbXBvc2l0aW9uLCB0cnVlKVxuICB9XG59XG4iLCJpbXBvcnQgeyBjbGllbnQgfSBmcm9tICcuLi9wbGF0Zm9ybS9QbGF0Zm9ybS5qcydcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi91dGlscy9ldmVudC9ldmVudC5qcydcblxuY29uc3QgZ2V0VHJ1ZSA9ICgpID0+IHRydWVcblxuZnVuY3Rpb24gZmlsdGVySW52YWxpZFBhdGggKHBhdGgpIHtcbiAgcmV0dXJuIHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJ1xuICAgICYmIHBhdGggIT09ICcnXG4gICAgJiYgcGF0aCAhPT0gJy8nXG4gICAgJiYgcGF0aCAhPT0gJyMvJ1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVFeGl0UGF0aCAocGF0aCkge1xuICBwYXRoLnN0YXJ0c1dpdGgoJyMnKSA9PT0gdHJ1ZSAmJiAocGF0aCA9IHBhdGguc3Vic3RyaW5nKDEpKVxuICBwYXRoLnN0YXJ0c1dpdGgoJy8nKSA9PT0gZmFsc2UgJiYgKHBhdGggPSAnLycgKyBwYXRoKVxuICBwYXRoLmVuZHNXaXRoKCcvJykgPT09IHRydWUgJiYgKHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBwYXRoLmxlbmd0aCAtIDEpKVxuICByZXR1cm4gJyMnICsgcGF0aFxufVxuXG5mdW5jdGlvbiBnZXRTaG91bGRFeGl0Rm4gKGNmZykge1xuICBpZiAoY2ZnLmJhY2tCdXR0b25FeGl0ID09PSBmYWxzZSkge1xuICAgIHJldHVybiAoKSA9PiBmYWxzZVxuICB9XG5cbiAgaWYgKGNmZy5iYWNrQnV0dG9uRXhpdCA9PT0gJyonKSB7XG4gICAgcmV0dXJuIGdldFRydWVcbiAgfVxuXG4gIC8vIEFkZCBkZWZhdWx0IHJvb3QgcGF0aFxuICBjb25zdCBleGl0UGF0aHMgPSBbICcjLycgXVxuXG4gIC8vIEFkZCBjdXN0b20gZXhpdCBwYXRoc1xuICBBcnJheS5pc0FycmF5KGNmZy5iYWNrQnV0dG9uRXhpdCkgPT09IHRydWUgJiYgZXhpdFBhdGhzLnB1c2goXG4gICAgLi4uY2ZnLmJhY2tCdXR0b25FeGl0LmZpbHRlcihmaWx0ZXJJbnZhbGlkUGF0aCkubWFwKG5vcm1hbGl6ZUV4aXRQYXRoKVxuICApXG5cbiAgcmV0dXJuICgpID0+IGV4aXRQYXRocy5pbmNsdWRlcyh3aW5kb3cubG9jYXRpb24uaGFzaClcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2hpc3Rvcnk6IFtdLFxuICBhZGQ6IG5vb3AsXG4gIHJlbW92ZTogbm9vcCxcblxuICBpbnN0YWxsICh7ICRxIH0pIHtcbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fIHx8IHRoaXMuX19pbnN0YWxsZWQgPT09IHRydWUpIHJldHVyblxuXG4gICAgY29uc3QgeyBjb3Jkb3ZhLCBjYXBhY2l0b3IgfSA9IGNsaWVudC5pc1xuXG4gICAgaWYgKGNvcmRvdmEgIT09IHRydWUgJiYgY2FwYWNpdG9yICE9PSB0cnVlKSByZXR1cm5cblxuICAgIGNvbnN0IHFDb25mID0gJHEuY29uZmlnWyBjb3Jkb3ZhID09PSB0cnVlID8gJ2NvcmRvdmEnIDogJ2NhcGFjaXRvcicgXVxuXG4gICAgaWYgKHFDb25mPy5iYWNrQnV0dG9uID09PSBmYWxzZSkgcmV0dXJuXG5cbiAgICAvLyBpZiB0aGUgJ0BjYXBhY2l0b3IvYXBwJyBwbHVnaW4gaXMgbm90IGluc3RhbGxlZFxuICAgIC8vIHRoZW4gd2UgZ290IG5vdGhpbmcgdG8gZG9cbiAgICBpZiAoXG4gICAgICAvLyBpZiB3ZSdyZSBvbiBDYXBhY2l0b3IgbW9kZVxuICAgICAgY2FwYWNpdG9yID09PSB0cnVlXG4gICAgICAvLyBhbmQgaXQncyBhbHNvIG5vdCBpbiBDYXBhY2l0b3IncyBtYWluIGluc3RhbmNlXG4gICAgICAmJiAod2luZG93LkNhcGFjaXRvciA9PT0gdm9pZCAwIHx8IHdpbmRvdy5DYXBhY2l0b3IuUGx1Z2lucy5BcHAgPT09IHZvaWQgMClcbiAgICApIHJldHVyblxuXG4gICAgdGhpcy5hZGQgPSBlbnRyeSA9PiB7XG4gICAgICBpZiAoZW50cnkuY29uZGl0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgZW50cnkuY29uZGl0aW9uID0gZ2V0VHJ1ZVxuICAgICAgfVxuICAgICAgdGhpcy5fX2hpc3RvcnkucHVzaChlbnRyeSlcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZSA9IGVudHJ5ID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fX2hpc3RvcnkuaW5kZXhPZihlbnRyeSlcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHRoaXMuX19oaXN0b3J5LnNwbGljZShpbmRleCwgMSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzaG91bGRFeGl0ID0gZ2V0U2hvdWxkRXhpdEZuKFxuICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgeyBiYWNrQnV0dG9uRXhpdDogdHJ1ZSB9LFxuICAgICAgICBxQ29uZlxuICAgICAgKVxuICAgIClcblxuICAgIGNvbnN0IGJhY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX19oaXN0b3J5Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuX19oaXN0b3J5WyB0aGlzLl9faGlzdG9yeS5sZW5ndGggLSAxIF1cblxuICAgICAgICBpZiAoZW50cnkuY29uZGl0aW9uKCkgPT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLl9faGlzdG9yeS5wb3AoKVxuICAgICAgICAgIGVudHJ5LmhhbmRsZXIoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzaG91bGRFeGl0KCkgPT09IHRydWUpIHtcbiAgICAgICAgbmF2aWdhdG9yLmFwcC5leGl0QXBwKClcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5iYWNrKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29yZG92YSA9PT0gdHJ1ZSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JhY2tidXR0b24nLCBiYWNrSGFuZGxlciwgZmFsc2UpXG4gICAgICB9KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHdpbmRvdy5DYXBhY2l0b3IuUGx1Z2lucy5BcHAuYWRkTGlzdGVuZXIoJ2JhY2tCdXR0b24nLCBiYWNrSGFuZGxlcilcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgaXNvTmFtZTogJ2VuLVVTJyxcbiAgbmF0aXZlTmFtZTogJ0VuZ2xpc2ggKFVTKScsXG4gIGxhYmVsOiB7XG4gICAgY2xlYXI6ICdDbGVhcicsXG4gICAgb2s6ICdPSycsXG4gICAgY2FuY2VsOiAnQ2FuY2VsJyxcbiAgICBjbG9zZTogJ0Nsb3NlJyxcbiAgICBzZXQ6ICdTZXQnLFxuICAgIHNlbGVjdDogJ1NlbGVjdCcsXG4gICAgcmVzZXQ6ICdSZXNldCcsXG4gICAgcmVtb3ZlOiAnUmVtb3ZlJyxcbiAgICB1cGRhdGU6ICdVcGRhdGUnLFxuICAgIGNyZWF0ZTogJ0NyZWF0ZScsXG4gICAgc2VhcmNoOiAnU2VhcmNoJyxcbiAgICBmaWx0ZXI6ICdGaWx0ZXInLFxuICAgIHJlZnJlc2g6ICdSZWZyZXNoJyxcbiAgICBleHBhbmQ6IGxhYmVsID0+IChsYWJlbCA/IGBFeHBhbmQgXCIkeyBsYWJlbCB9XCJgIDogJ0V4cGFuZCcpLFxuICAgIGNvbGxhcHNlOiBsYWJlbCA9PiAobGFiZWwgPyBgQ29sbGFwc2UgXCIkeyBsYWJlbCB9XCJgIDogJ0NvbGxhcHNlJylcbiAgfSxcbiAgZGF0ZToge1xuICAgIGRheXM6ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKSxcbiAgICBkYXlzU2hvcnQ6ICdTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXQnLnNwbGl0KCdfJyksXG4gICAgbW9udGhzOiAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKSxcbiAgICBtb250aHNTaG9ydDogJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpLFxuICAgIGZpcnN0RGF5T2ZXZWVrOiAwLCAvLyAwLTYsIDAgLSBTdW5kYXksIDEgTW9uZGF5LCAuLi5cbiAgICBmb3JtYXQyNGg6IGZhbHNlLFxuICAgIHBsdXJhbERheTogJ2RheXMnLFxuICAgIHByZXZNb250aDogJ1ByZXZpb3VzIG1vbnRoJyxcbiAgICBuZXh0TW9udGg6ICdOZXh0IG1vbnRoJyxcbiAgICBwcmV2WWVhcjogJ1ByZXZpb3VzIHllYXInLFxuICAgIG5leHRZZWFyOiAnTmV4dCB5ZWFyJyxcbiAgICB0b2RheTogJ1RvZGF5JyxcbiAgICBwcmV2UmFuZ2VZZWFyczogcmFuZ2UgPT4gYFByZXZpb3VzICR7IHJhbmdlIH0geWVhcnNgLFxuICAgIG5leHRSYW5nZVllYXJzOiByYW5nZSA9PiBgTmV4dCAkeyByYW5nZSB9IHllYXJzYFxuICB9LFxuICB0YWJsZToge1xuICAgIG5vRGF0YTogJ05vIGRhdGEgYXZhaWxhYmxlJyxcbiAgICBub1Jlc3VsdHM6ICdObyBtYXRjaGluZyByZWNvcmRzIGZvdW5kJyxcbiAgICBsb2FkaW5nOiAnTG9hZGluZy4uLicsXG4gICAgc2VsZWN0ZWRSZWNvcmRzOiByb3dzID0+IChcbiAgICAgIHJvd3MgPT09IDFcbiAgICAgICAgPyAnMSByZWNvcmQgc2VsZWN0ZWQuJ1xuICAgICAgICA6IChyb3dzID09PSAwID8gJ05vJyA6IHJvd3MpICsgJyByZWNvcmRzIHNlbGVjdGVkLidcbiAgICApLFxuICAgIHJlY29yZHNQZXJQYWdlOiAnUmVjb3JkcyBwZXIgcGFnZTonLFxuICAgIGFsbFJvd3M6ICdBbGwnLFxuICAgIHBhZ2luYXRpb246IChzdGFydCwgZW5kLCB0b3RhbCkgPT4gc3RhcnQgKyAnLScgKyBlbmQgKyAnIG9mICcgKyB0b3RhbCxcbiAgICBjb2x1bW5zOiAnQ29sdW1ucydcbiAgfSxcbiAgcGFnaW5hdGlvbjoge1xuICAgIGZpcnN0OiAnRmlyc3QgcGFnZScsXG4gICAgcHJldjogJ1ByZXZpb3VzIHBhZ2UnLFxuICAgIG5leHQ6ICdOZXh0IHBhZ2UnLFxuICAgIGxhc3Q6ICdMYXN0IHBhZ2UnXG4gIH0sXG4gIGVkaXRvcjoge1xuICAgIHVybDogJ1VSTCcsXG4gICAgYm9sZDogJ0JvbGQnLFxuICAgIGl0YWxpYzogJ0l0YWxpYycsXG4gICAgc3RyaWtldGhyb3VnaDogJ1N0cmlrZXRocm91Z2gnLFxuICAgIHVuZGVybGluZTogJ1VuZGVybGluZScsXG4gICAgdW5vcmRlcmVkTGlzdDogJ1Vub3JkZXJlZCBMaXN0JyxcbiAgICBvcmRlcmVkTGlzdDogJ09yZGVyZWQgTGlzdCcsXG4gICAgc3Vic2NyaXB0OiAnU3Vic2NyaXB0JyxcbiAgICBzdXBlcnNjcmlwdDogJ1N1cGVyc2NyaXB0JyxcbiAgICBoeXBlcmxpbms6ICdIeXBlcmxpbmsnLFxuICAgIHRvZ2dsZUZ1bGxzY3JlZW46ICdUb2dnbGUgRnVsbHNjcmVlbicsXG4gICAgcXVvdGU6ICdRdW90ZScsXG4gICAgbGVmdDogJ0xlZnQgYWxpZ24nLFxuICAgIGNlbnRlcjogJ0NlbnRlciBhbGlnbicsXG4gICAgcmlnaHQ6ICdSaWdodCBhbGlnbicsXG4gICAganVzdGlmeTogJ0p1c3RpZnkgYWxpZ24nLFxuICAgIHByaW50OiAnUHJpbnQnLFxuICAgIG91dGRlbnQ6ICdEZWNyZWFzZSBpbmRlbnRhdGlvbicsXG4gICAgaW5kZW50OiAnSW5jcmVhc2UgaW5kZW50YXRpb24nLFxuICAgIHJlbW92ZUZvcm1hdDogJ1JlbW92ZSBmb3JtYXR0aW5nJyxcbiAgICBmb3JtYXR0aW5nOiAnRm9ybWF0dGluZycsXG4gICAgZm9udFNpemU6ICdGb250IFNpemUnLFxuICAgIGFsaWduOiAnQWxpZ24nLFxuICAgIGhyOiAnSW5zZXJ0IEhvcml6b250YWwgUnVsZScsXG4gICAgdW5kbzogJ1VuZG8nLFxuICAgIHJlZG86ICdSZWRvJyxcbiAgICBoZWFkaW5nMTogJ0hlYWRpbmcgMScsXG4gICAgaGVhZGluZzI6ICdIZWFkaW5nIDInLFxuICAgIGhlYWRpbmczOiAnSGVhZGluZyAzJyxcbiAgICBoZWFkaW5nNDogJ0hlYWRpbmcgNCcsXG4gICAgaGVhZGluZzU6ICdIZWFkaW5nIDUnLFxuICAgIGhlYWRpbmc2OiAnSGVhZGluZyA2JyxcbiAgICBwYXJhZ3JhcGg6ICdQYXJhZ3JhcGgnLFxuICAgIGNvZGU6ICdDb2RlJyxcbiAgICBzaXplMTogJ1Zlcnkgc21hbGwnLFxuICAgIHNpemUyOiAnQSBiaXQgc21hbGwnLFxuICAgIHNpemUzOiAnTm9ybWFsJyxcbiAgICBzaXplNDogJ01lZGl1bS1sYXJnZScsXG4gICAgc2l6ZTU6ICdCaWcnLFxuICAgIHNpemU2OiAnVmVyeSBiaWcnLFxuICAgIHNpemU3OiAnTWF4aW11bScsXG4gICAgZGVmYXVsdEZvbnQ6ICdEZWZhdWx0IEZvbnQnLFxuICAgIHZpZXdTb3VyY2U6ICdWaWV3IFNvdXJjZSdcbiAgfSxcbiAgdHJlZToge1xuICAgIG5vTm9kZXM6ICdObyBub2RlcyBhdmFpbGFibGUnLFxuICAgIG5vUmVzdWx0czogJ05vIG1hdGNoaW5nIG5vZGVzIGZvdW5kJ1xuICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVSZWFjdGl2ZVBsdWdpbiB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcblxuaW1wb3J0IGRlZmF1bHRMYW5nIGZyb20gJy4uLy4uLy4uL2xhbmcvZW4tVVMuanMnXG5cbmZ1bmN0aW9uIGdldExvY2FsZSAoKSB7XG4gIGlmIChfX1FVQVNBUl9TU1JfU0VSVkVSX18pIHJldHVyblxuXG4gIGNvbnN0IHZhbCA9IEFycmF5LmlzQXJyYXkobmF2aWdhdG9yLmxhbmd1YWdlcykgPT09IHRydWUgJiYgbmF2aWdhdG9yLmxhbmd1YWdlcy5sZW5ndGggIT09IDBcbiAgICA/IG5hdmlnYXRvci5sYW5ndWFnZXNbIDAgXVxuICAgIDogbmF2aWdhdG9yLmxhbmd1YWdlXG5cbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbC5zcGxpdCgvWy1fXS8pLm1hcCgodiwgaSkgPT4gKFxuICAgICAgaSA9PT0gMFxuICAgICAgICA/IHYudG9Mb3dlckNhc2UoKVxuICAgICAgICA6IChcbiAgICAgICAgICAgIGkgPiAxIHx8IHYubGVuZ3RoIDwgNFxuICAgICAgICAgICAgICA/IHYudG9VcHBlckNhc2UoKVxuICAgICAgICAgICAgICA6ICh2WyAwIF0udG9VcHBlckNhc2UoKSArIHYuc2xpY2UoMSkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICApXG4gICAgKSkuam9pbignLScpXG4gIH1cbn1cblxuY29uc3QgUGx1Z2luID0gY3JlYXRlUmVhY3RpdmVQbHVnaW4oe1xuICBfX3FMYW5nOiB7fVxufSwge1xuICAvLyBwcm9wczogb2JqZWN0XG4gIC8vIF9fbGFuZ0NvbmZpZzogb2JqZWN0XG5cbiAgZ2V0TG9jYWxlLFxuXG4gIHNldCAobGFuZ09iamVjdCA9IGRlZmF1bHRMYW5nLCBzc3JDb250ZXh0KSB7XG4gICAgY29uc3QgbGFuZyA9IHtcbiAgICAgIC4uLmxhbmdPYmplY3QsXG4gICAgICBydGw6IGxhbmdPYmplY3QucnRsID09PSB0cnVlLFxuICAgICAgZ2V0TG9jYWxlXG4gICAgfVxuXG4gICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXykge1xuICAgICAgaWYgKHNzckNvbnRleHQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTU1IgRVJST1I6IHNlY29uZCBwYXJhbSByZXF1aXJlZDogTGFuZy5zZXQobGFuZywgc3NyQ29udGV4dCknKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgbGFuZy5zZXQgPSBzc3JDb250ZXh0LiRxLmxhbmcuc2V0XG5cbiAgICAgIGlmIChzc3JDb250ZXh0LiRxLmNvbmZpZy5sYW5nID09PSB2b2lkIDAgfHwgc3NyQ29udGV4dC4kcS5jb25maWcubGFuZy5ub0h0bWxBdHRycyAhPT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBkaXIgPSBsYW5nLnJ0bCA9PT0gdHJ1ZSA/ICdydGwnIDogJ2x0cidcbiAgICAgICAgY29uc3QgYXR0cnMgPSBgbGFuZz0keyBsYW5nLmlzb05hbWUgfSBkaXI9JHsgZGlyIH1gXG5cbiAgICAgICAgc3NyQ29udGV4dC5fbWV0YS5odG1sQXR0cnMgPSBzc3JDb250ZXh0Ll9fcVByZXZMYW5nICE9PSB2b2lkIDBcbiAgICAgICAgICA/IHNzckNvbnRleHQuX21ldGEuaHRtbEF0dHJzLnJlcGxhY2Uoc3NyQ29udGV4dC5fX3FQcmV2TGFuZywgYXR0cnMpXG4gICAgICAgICAgOiBhdHRyc1xuXG4gICAgICAgIHNzckNvbnRleHQuX19xUHJldkxhbmcgPSBhdHRyc1xuICAgICAgfVxuXG4gICAgICBzc3JDb250ZXh0LiRxLmxhbmcgPSBsYW5nXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbGFuZy5zZXQgPSBQbHVnaW4uc2V0XG5cbiAgICAgIGlmIChQbHVnaW4uX19sYW5nQ29uZmlnID09PSB2b2lkIDAgfHwgUGx1Z2luLl9fbGFuZ0NvbmZpZy5ub0h0bWxBdHRycyAhPT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RpcicsIGxhbmcucnRsID09PSB0cnVlID8gJ3J0bCcgOiAnbHRyJylcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdsYW5nJywgbGFuZy5pc29OYW1lKVxuICAgICAgfVxuXG4gICAgICBPYmplY3QuYXNzaWduKFBsdWdpbi5fX3FMYW5nLCBsYW5nKVxuICAgIH1cbiAgfSxcblxuICBpbnN0YWxsICh7ICRxLCBsYW5nLCBzc3JDb250ZXh0IH0pIHtcbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fKSB7XG4gICAgICBjb25zdCBpbml0aWFsTGFuZyA9IGxhbmcgfHwgZGVmYXVsdExhbmdcblxuICAgICAgJHEubGFuZyA9IHt9XG4gICAgICAkcS5sYW5nLnNldCA9IGxhbmdPYmplY3QgPT4ge1xuICAgICAgICB0aGlzLnNldChsYW5nT2JqZWN0LCBzc3JDb250ZXh0KVxuICAgICAgfVxuXG4gICAgICAkcS5sYW5nLnNldChpbml0aWFsTGFuZylcblxuICAgICAgLy8gb25lLXRpbWUgU1NSIHNlcnZlciBvcGVyYXRpb25cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcyA9PT0gdm9pZCAwXG4gICAgICAgIHx8IHRoaXMucHJvcHMuaXNvTmFtZSAhPT0gaW5pdGlhbExhbmcuaXNvTmFtZVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMucHJvcHMgPSB7IC4uLmluaXRpYWxMYW5nIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkcS5sYW5nID0gUGx1Z2luLl9fcUxhbmdcbiAgICAgIFBsdWdpbi5fX2xhbmdDb25maWcgPSAkcS5jb25maWcubGFuZ1xuXG4gICAgICBpZiAodGhpcy5fX2luc3RhbGxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICBsYW5nICE9PSB2b2lkIDAgJiYgdGhpcy5zZXQobGFuZylcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzID0gbmV3IFByb3h5KHRoaXMuX19xTGFuZywge1xuICAgICAgICAgIGdldCAoKSB7IHJldHVybiBSZWZsZWN0LmdldCguLi5hcmd1bWVudHMpIH0sXG5cbiAgICAgICAgICBvd25LZXlzICh0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KVxuICAgICAgICAgICAgICAuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdzZXQnICYmIGtleSAhPT0gJ2dldExvY2FsZScpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc2V0KGxhbmcgfHwgZGVmYXVsdExhbmcpXG4gICAgICB9XG4gICAgfVxuICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBQbHVnaW5cbmV4cG9ydCB7IGRlZmF1bHRMYW5nIH1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ21hdGVyaWFsLWljb25zJyxcbiAgdHlwZToge1xuICAgIHBvc2l0aXZlOiAnY2hlY2tfY2lyY2xlJyxcbiAgICBuZWdhdGl2ZTogJ3dhcm5pbmcnLFxuICAgIGluZm86ICdpbmZvJyxcbiAgICB3YXJuaW5nOiAncHJpb3JpdHlfaGlnaCdcbiAgfSxcbiAgYXJyb3c6IHtcbiAgICB1cDogJ2Fycm93X3Vwd2FyZCcsXG4gICAgcmlnaHQ6ICdhcnJvd19mb3J3YXJkJyxcbiAgICBkb3duOiAnYXJyb3dfZG93bndhcmQnLFxuICAgIGxlZnQ6ICdhcnJvd19iYWNrJyxcbiAgICBkcm9wZG93bjogJ2Fycm93X2Ryb3BfZG93bidcbiAgfSxcbiAgY2hldnJvbjoge1xuICAgIGxlZnQ6ICdjaGV2cm9uX2xlZnQnLFxuICAgIHJpZ2h0OiAnY2hldnJvbl9yaWdodCdcbiAgfSxcbiAgY29sb3JQaWNrZXI6IHtcbiAgICBzcGVjdHJ1bTogJ2dyYWRpZW50JyxcbiAgICB0dW5lOiAndHVuZScsXG4gICAgcGFsZXR0ZTogJ3N0eWxlJ1xuICB9LFxuICBwdWxsVG9SZWZyZXNoOiB7XG4gICAgaWNvbjogJ3JlZnJlc2gnXG4gIH0sXG4gIGNhcm91c2VsOiB7XG4gICAgbGVmdDogJ2NoZXZyb25fbGVmdCcsXG4gICAgcmlnaHQ6ICdjaGV2cm9uX3JpZ2h0JyxcbiAgICB1cDogJ2tleWJvYXJkX2Fycm93X3VwJyxcbiAgICBkb3duOiAna2V5Ym9hcmRfYXJyb3dfZG93bicsXG4gICAgbmF2aWdhdGlvbkljb246ICdsZW5zJ1xuICB9LFxuICBjaGlwOiB7XG4gICAgcmVtb3ZlOiAnY2FuY2VsJyxcbiAgICBzZWxlY3RlZDogJ2NoZWNrJ1xuICB9LFxuICBkYXRldGltZToge1xuICAgIGFycm93TGVmdDogJ2NoZXZyb25fbGVmdCcsXG4gICAgYXJyb3dSaWdodDogJ2NoZXZyb25fcmlnaHQnLFxuICAgIG5vdzogJ2FjY2Vzc190aW1lJyxcbiAgICB0b2RheTogJ3RvZGF5J1xuICB9LFxuICBlZGl0b3I6IHtcbiAgICBib2xkOiAnZm9ybWF0X2JvbGQnLFxuICAgIGl0YWxpYzogJ2Zvcm1hdF9pdGFsaWMnLFxuICAgIHN0cmlrZXRocm91Z2g6ICdzdHJpa2V0aHJvdWdoX3MnLFxuICAgIHVuZGVybGluZTogJ2Zvcm1hdF91bmRlcmxpbmVkJyxcbiAgICB1bm9yZGVyZWRMaXN0OiAnZm9ybWF0X2xpc3RfYnVsbGV0ZWQnLFxuICAgIG9yZGVyZWRMaXN0OiAnZm9ybWF0X2xpc3RfbnVtYmVyZWQnLFxuICAgIHN1YnNjcmlwdDogJ3ZlcnRpY2FsX2FsaWduX2JvdHRvbScsXG4gICAgc3VwZXJzY3JpcHQ6ICd2ZXJ0aWNhbF9hbGlnbl90b3AnLFxuICAgIGh5cGVybGluazogJ2xpbmsnLFxuICAgIHRvZ2dsZUZ1bGxzY3JlZW46ICdmdWxsc2NyZWVuJyxcbiAgICBxdW90ZTogJ2Zvcm1hdF9xdW90ZScsXG4gICAgbGVmdDogJ2Zvcm1hdF9hbGlnbl9sZWZ0JyxcbiAgICBjZW50ZXI6ICdmb3JtYXRfYWxpZ25fY2VudGVyJyxcbiAgICByaWdodDogJ2Zvcm1hdF9hbGlnbl9yaWdodCcsXG4gICAganVzdGlmeTogJ2Zvcm1hdF9hbGlnbl9qdXN0aWZ5JyxcbiAgICBwcmludDogJ3ByaW50JyxcbiAgICBvdXRkZW50OiAnZm9ybWF0X2luZGVudF9kZWNyZWFzZScsXG4gICAgaW5kZW50OiAnZm9ybWF0X2luZGVudF9pbmNyZWFzZScsXG4gICAgcmVtb3ZlRm9ybWF0OiAnZm9ybWF0X2NsZWFyJyxcbiAgICBmb3JtYXR0aW5nOiAndGV4dF9mb3JtYXQnLFxuICAgIGZvbnRTaXplOiAnZm9ybWF0X3NpemUnLFxuICAgIGFsaWduOiAnZm9ybWF0X2FsaWduX2xlZnQnLFxuICAgIGhyOiAncmVtb3ZlJyxcbiAgICB1bmRvOiAndW5kbycsXG4gICAgcmVkbzogJ3JlZG8nLFxuICAgIGhlYWRpbmc6ICdmb3JtYXRfc2l6ZScsXG4gICAgY29kZTogJ2NvZGUnLFxuICAgIHNpemU6ICdmb3JtYXRfc2l6ZScsXG4gICAgZm9udDogJ2ZvbnRfZG93bmxvYWQnLFxuICAgIHZpZXdTb3VyY2U6ICdjb2RlJ1xuICB9LFxuICBleHBhbnNpb25JdGVtOiB7XG4gICAgaWNvbjogJ2tleWJvYXJkX2Fycm93X2Rvd24nLFxuICAgIGRlbnNlSWNvbjogJ2Fycm93X2Ryb3BfZG93bidcbiAgfSxcbiAgZmFiOiB7XG4gICAgaWNvbjogJ2FkZCcsXG4gICAgYWN0aXZlSWNvbjogJ2Nsb3NlJ1xuICB9LFxuICBmaWVsZDoge1xuICAgIGNsZWFyOiAnY2FuY2VsJyxcbiAgICBlcnJvcjogJ2Vycm9yJ1xuICB9LFxuICBwYWdpbmF0aW9uOiB7XG4gICAgZmlyc3Q6ICdmaXJzdF9wYWdlJyxcbiAgICBwcmV2OiAna2V5Ym9hcmRfYXJyb3dfbGVmdCcsXG4gICAgbmV4dDogJ2tleWJvYXJkX2Fycm93X3JpZ2h0JyxcbiAgICBsYXN0OiAnbGFzdF9wYWdlJ1xuICB9LFxuICByYXRpbmc6IHtcbiAgICBpY29uOiAnZ3JhZGUnXG4gIH0sXG4gIHN0ZXBwZXI6IHtcbiAgICBkb25lOiAnY2hlY2snLFxuICAgIGFjdGl2ZTogJ2VkaXQnLFxuICAgIGVycm9yOiAnd2FybmluZydcbiAgfSxcbiAgdGFiczoge1xuICAgIGxlZnQ6ICdjaGV2cm9uX2xlZnQnLFxuICAgIHJpZ2h0OiAnY2hldnJvbl9yaWdodCcsXG4gICAgdXA6ICdrZXlib2FyZF9hcnJvd191cCcsXG4gICAgZG93bjogJ2tleWJvYXJkX2Fycm93X2Rvd24nXG4gIH0sXG4gIHRhYmxlOiB7XG4gICAgYXJyb3dVcDogJ2Fycm93X3Vwd2FyZCcsXG4gICAgd2FybmluZzogJ3dhcm5pbmcnLFxuICAgIGZpcnN0UGFnZTogJ2ZpcnN0X3BhZ2UnLFxuICAgIHByZXZQYWdlOiAnY2hldnJvbl9sZWZ0JyxcbiAgICBuZXh0UGFnZTogJ2NoZXZyb25fcmlnaHQnLFxuICAgIGxhc3RQYWdlOiAnbGFzdF9wYWdlJ1xuICB9LFxuICB0cmVlOiB7XG4gICAgaWNvbjogJ3BsYXlfYXJyb3cnXG4gIH0sXG4gIHVwbG9hZGVyOiB7XG4gICAgZG9uZTogJ2RvbmUnLFxuICAgIGNsZWFyOiAnY2xlYXInLFxuICAgIGFkZDogJ2FkZF9ib3gnLFxuICAgIHVwbG9hZDogJ2Nsb3VkX3VwbG9hZCcsXG4gICAgcmVtb3ZlUXVldWU6ICdjbGVhcl9hbGwnLFxuICAgIHJlbW92ZVVwbG9hZGVkOiAnZG9uZV9hbGwnXG4gIH1cbn1cbiIsImltcG9ydCB7IGNyZWF0ZVJlYWN0aXZlUGx1Z2luIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IHsgaW5qZWN0UHJvcCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuaW5qZWN0LW9iai1wcm9wL2luamVjdC1vYmotcHJvcC5qcydcblxuaW1wb3J0IG1hdGVyaWFsSWNvbnMgZnJvbSAnLi4vLi4vLi4vaWNvbi1zZXQvbWF0ZXJpYWwtaWNvbnMuanMnXG5cbmNvbnN0IFBsdWdpbiA9IGNyZWF0ZVJlYWN0aXZlUGx1Z2luKHtcbiAgaWNvbk1hcEZuOiBudWxsLFxuICBfX3FJY29uU2V0OiB7fVxufSwge1xuICAvLyBwcm9wczogb2JqZWN0XG5cbiAgc2V0IChzZXRPYmplY3QsIHNzckNvbnRleHQpIHtcbiAgICBjb25zdCBkZWYgPSB7IC4uLnNldE9iamVjdCB9XG5cbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fKSB7XG4gICAgICBpZiAoc3NyQ29udGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NTUiBFUlJPUjogc2Vjb25kIHBhcmFtIHJlcXVpcmVkOiBJY29uU2V0LnNldChpY29uU2V0LCBzc3JDb250ZXh0KScpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBkZWYuc2V0ID0gc3NyQ29udGV4dC4kcS5pY29uU2V0LnNldFxuICAgICAgT2JqZWN0LmFzc2lnbihzc3JDb250ZXh0LiRxLmljb25TZXQsIGRlZilcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkZWYuc2V0ID0gUGx1Z2luLnNldFxuICAgICAgT2JqZWN0LmFzc2lnbihQbHVnaW4uX19xSWNvblNldCwgZGVmKVxuICAgIH1cbiAgfSxcblxuICBpbnN0YWxsICh7ICRxLCBpY29uU2V0LCBzc3JDb250ZXh0IH0pIHtcbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fKSB7XG4gICAgICBjb25zdCBpbml0aWFsU2V0ID0gaWNvblNldCB8fCBtYXRlcmlhbEljb25zXG5cbiAgICAgICRxLmljb25NYXBGbiA9IHNzckNvbnRleHQuJHEuY29uZmlnLmljb25NYXBGbiB8fCB0aGlzLmljb25NYXBGbiB8fCBudWxsXG4gICAgICAkcS5pY29uU2V0ID0ge31cbiAgICAgICRxLmljb25TZXQuc2V0ID0gc2V0T2JqZWN0ID0+IHtcbiAgICAgICAgdGhpcy5zZXQoc2V0T2JqZWN0LCBzc3JDb250ZXh0KVxuICAgICAgfVxuXG4gICAgICAkcS5pY29uU2V0LnNldChpbml0aWFsU2V0KVxuXG4gICAgICAvLyBvbmUtdGltZSBTU1Igc2VydmVyIG9wZXJhdGlvblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnByb3BzID09PSB2b2lkIDBcbiAgICAgICAgfHwgdGhpcy5wcm9wcy5uYW1lICE9PSBpbml0aWFsU2V0Lm5hbWVcbiAgICAgICkge1xuICAgICAgICB0aGlzLnByb3BzID0geyAuLi5pbml0aWFsU2V0IH1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoJHEuY29uZmlnLmljb25NYXBGbiAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHRoaXMuaWNvbk1hcEZuID0gJHEuY29uZmlnLmljb25NYXBGblxuICAgICAgfVxuXG4gICAgICAkcS5pY29uU2V0ID0gdGhpcy5fX3FJY29uU2V0XG4gICAgICBpbmplY3RQcm9wKCRxLCAnaWNvbk1hcEZuJywgKCkgPT4gdGhpcy5pY29uTWFwRm4sIHZhbCA9PiB7IHRoaXMuaWNvbk1hcEZuID0gdmFsIH0pXG5cbiAgICAgIGlmICh0aGlzLl9faW5zdGFsbGVkID09PSB0cnVlKSB7XG4gICAgICAgIGljb25TZXQgIT09IHZvaWQgMCAmJiB0aGlzLnNldChpY29uU2V0KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMgPSBuZXcgUHJveHkodGhpcy5fX3FJY29uU2V0LCB7XG4gICAgICAgICAgZ2V0ICgpIHsgcmV0dXJuIFJlZmxlY3QuZ2V0KC4uLmFyZ3VtZW50cykgfSxcblxuICAgICAgICAgIG93bktleXMgKHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpXG4gICAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ3NldCcpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc2V0KGljb25TZXQgfHwgbWF0ZXJpYWxJY29ucylcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IFBsdWdpblxuIiwiZXhwb3J0IGNvbnN0IHF1YXNhcktleSA9ICdfcV8nXG5leHBvcnQgY29uc3QgdGltZWxpbmVLZXkgPSAnX3FfdF8nXG5leHBvcnQgY29uc3Qgc3RlcHBlcktleSA9ICdfcV9zXydcbmV4cG9ydCBjb25zdCBsYXlvdXRLZXkgPSAnX3FfbF8nXG5leHBvcnQgY29uc3QgcGFnZUNvbnRhaW5lcktleSA9ICdfcV9wY18nXG5leHBvcnQgY29uc3QgZmFiS2V5ID0gJ19xX2ZfJ1xuZXhwb3J0IGNvbnN0IGZvcm1LZXkgPSAnX3FfZm9fJ1xuZXhwb3J0IGNvbnN0IHRhYnNLZXkgPSAnX3FfdGFic18nXG5leHBvcnQgY29uc3QgdXBsb2FkZXJLZXkgPSAnX3FfdV8nXG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eVJlbmRlckZuICgpIHt9XG4iLCJleHBvcnQgY29uc3QgZ2xvYmFsQ29uZmlnID0ge31cbmV4cG9ydCBsZXQgZ2xvYmFsQ29uZmlnSXNGcm96ZW4gPSBmYWxzZVxuXG5leHBvcnQgZnVuY3Rpb24gZnJlZXplR2xvYmFsQ29uZmlnICgpIHtcbiAgZ2xvYmFsQ29uZmlnSXNGcm96ZW4gPSB0cnVlXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNEZWVwRXF1YWwgKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgaWYgKGEgIT09IG51bGwgJiYgYiAhPT0gbnVsbCAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGxldCBsZW5ndGgsIGlcblxuICAgIGlmIChhLmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGhcblxuICAgICAgaWYgKGxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgICBpZiAoaXNEZWVwRXF1YWwoYVsgaSBdLCBiWyBpIF0pICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gTWFwKSB7XG4gICAgICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGxldCBpdGVyID0gYS5lbnRyaWVzKClcblxuICAgICAgaSA9IGl0ZXIubmV4dCgpXG4gICAgICB3aGlsZSAoaS5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgIGlmIChiLmhhcyhpLnZhbHVlWyAwIF0pICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaSA9IGl0ZXIubmV4dCgpXG4gICAgICB9XG5cbiAgICAgIGl0ZXIgPSBhLmVudHJpZXMoKVxuICAgICAgaSA9IGl0ZXIubmV4dCgpXG4gICAgICB3aGlsZSAoaS5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgIGlmIChpc0RlZXBFcXVhbChpLnZhbHVlWyAxIF0sIGIuZ2V0KGkudmFsdWVbIDAgXSkpICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaSA9IGl0ZXIubmV4dCgpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFNldCkge1xuICAgICAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBpdGVyID0gYS5lbnRyaWVzKClcblxuICAgICAgaSA9IGl0ZXIubmV4dCgpXG4gICAgICB3aGlsZSAoaS5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgIGlmIChiLmhhcyhpLnZhbHVlWyAwIF0pICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaSA9IGl0ZXIubmV4dCgpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKGEuYnVmZmVyICE9IG51bGwgJiYgYS5idWZmZXIuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICBsZW5ndGggPSBhLmxlbmd0aFxuXG4gICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICAgIGlmIChhWyBpIF0gIT09IGJbIGkgXSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzXG4gICAgfVxuXG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSB7XG4gICAgICByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpXG4gICAgfVxuXG4gICAgaWYgKGEudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcbiAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKVxuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhKS5maWx0ZXIoa2V5ID0+IGFbIGtleSBdICE9PSB2b2lkIDApXG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGhcblxuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmZpbHRlcihrZXkgPT4gYlsga2V5IF0gIT09IHZvaWQgMCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbIGkgXVxuICAgICAgaWYgKGlzRGVlcEVxdWFsKGFbIGtleSBdLCBiWyBrZXkgXSkgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSAhPT0gYSAmJiBiICE9PSBiIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG5cbi8vIG5vdCBwZXJmZWN0LCBidXQgd2hhdCB3ZSBBUkUgaW50ZXJlc3RlZCBpcyBmb3IgQXJyYXlzIG5vdCB0byBzbGlwIGluXG4vLyBhcyBzcHJlYWQgb3BlcmF0b3Igd2lsbCBtZXNzIHRoaW5ncyB1cCBpbiB2YXJpb3VzIGFyZWFzXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QgKHYpIHtcbiAgcmV0dXJuIHYgIT09IG51bGwgJiYgdHlwZW9mIHYgPT09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkodikgIT09IHRydWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSAodikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHYpID09PSAnW29iamVjdCBEYXRlXSdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVnZXhwICh2KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlciAodikge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHYpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGVlcEVxdWFsOiBpc0RlZXBFcXVhbCxcbiAgb2JqZWN0OiBpc09iamVjdCxcbiAgZGF0ZTogaXNEYXRlLFxuICByZWdleHA6IGlzUmVnZXhwLFxuICBudW1iZXI6IGlzTnVtYmVyXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tICd2dWUnXG5cbmltcG9ydCBQbGF0Zm9ybSwgeyBpc1J1bnRpbWVTc3JQcmVIeWRyYXRpb24gfSBmcm9tICcuL3BsdWdpbnMvcGxhdGZvcm0vUGxhdGZvcm0uanMnXG5pbXBvcnQgU2NyZWVuIGZyb20gJy4vcGx1Z2lucy9zY3JlZW4vU2NyZWVuLmpzJ1xuaW1wb3J0IERhcmsgZnJvbSAnLi9wbHVnaW5zL2RhcmsvRGFyay5qcydcbmltcG9ydCBCb2R5IGZyb20gJy4vcGx1Z2lucy9wcml2YXRlLmJvZHkvQm9keS5qcydcbmltcG9ydCBIaXN0b3J5IGZyb20gJy4vcGx1Z2lucy9wcml2YXRlLmhpc3RvcnkvSGlzdG9yeS5qcydcbmltcG9ydCBMYW5nIGZyb20gJy4vcGx1Z2lucy9sYW5nL0xhbmcuanMnXG5pbXBvcnQgSWNvblNldCBmcm9tICcuL3BsdWdpbnMvaWNvbi1zZXQvSWNvblNldC5qcydcblxuaW1wb3J0IHsgcXVhc2FyS2V5IH0gZnJvbSAnLi91dGlscy9wcml2YXRlLnN5bWJvbHMvc3ltYm9scy5qcydcbmltcG9ydCB7IGdsb2JhbENvbmZpZywgZ2xvYmFsQ29uZmlnSXNGcm96ZW4sIGZyZWV6ZUdsb2JhbENvbmZpZyB9IGZyb20gJy4vdXRpbHMvcHJpdmF0ZS5jb25maWcvaW5zdGFuY2UtY29uZmlnLmpzJ1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWxzL2lzL2lzLmpzJ1xuXG4vKipcbiAqIElmIHRoZSBsaXN0IGJlbG93IGNoYW5nZXMsIG1ha2Ugc3VyZVxuICogdG8gYWxzbyBlZGl0IC91aS90ZXN0aW5nL3NwZWNzL2dlbmVyYXRvcnMvZ2VuZXJhdG9yLnBsdWdpbi5qc1xuICogb24gdGhlIFwiYXV0b0luc3RhbGxlZFBsdWdpbnNcIiBhcnJheVxuICovXG5jb25zdCBhdXRvSW5zdGFsbGVkUGx1Z2lucyA9IFtcbiAgUGxhdGZvcm0sXG4gIEJvZHksXG4gIERhcmssXG4gIFNjcmVlbixcbiAgSGlzdG9yeSxcbiAgTGFuZyxcbiAgSWNvblNldFxuXVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2hpbGRBcHAgKGFwcENmZywgcGFyZW50QXBwKSB7XG4gIGNvbnN0IGFwcCA9IGNyZWF0ZUFwcChhcHBDZmcpXG5cbiAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzID0gcGFyZW50QXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzXG5cbiAgY29uc3QgeyByZWxvYWQsIC4uLmFwcENvbnRleHQgfSA9IHBhcmVudEFwcC5fY29udGV4dFxuICBPYmplY3QuYXNzaWduKGFwcC5fY29udGV4dCwgYXBwQ29udGV4dClcblxuICByZXR1cm4gYXBwXG59XG5cbmZ1bmN0aW9uIGluc3RhbGxQbHVnaW5zIChwbHVnaW5PcHRzLCBwbHVnaW5MaXN0KSB7XG4gIHBsdWdpbkxpc3QuZm9yRWFjaChQbHVnaW4gPT4ge1xuICAgIFBsdWdpbi5pbnN0YWxsKHBsdWdpbk9wdHMpXG4gICAgUGx1Z2luLl9faW5zdGFsbGVkID0gdHJ1ZVxuICB9KVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlQXBwIChhcHAsIHVpT3B0cywgcGx1Z2luT3B0cykge1xuICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHEgPSBwbHVnaW5PcHRzLiRxXG4gIGFwcC5wcm92aWRlKHF1YXNhcktleSwgcGx1Z2luT3B0cy4kcSlcblxuICBpbnN0YWxsUGx1Z2lucyhwbHVnaW5PcHRzLCBhdXRvSW5zdGFsbGVkUGx1Z2lucylcblxuICB1aU9wdHMuY29tcG9uZW50cyAhPT0gdm9pZCAwICYmIE9iamVjdC52YWx1ZXModWlPcHRzLmNvbXBvbmVudHMpLmZvckVhY2goYyA9PiB7XG4gICAgaWYgKGlzT2JqZWN0KGMpID09PSB0cnVlICYmIGMubmFtZSAhPT0gdm9pZCAwKSB7XG4gICAgICBhcHAuY29tcG9uZW50KGMubmFtZSwgYylcbiAgICB9XG4gIH0pXG5cbiAgdWlPcHRzLmRpcmVjdGl2ZXMgIT09IHZvaWQgMCAmJiBPYmplY3QudmFsdWVzKHVpT3B0cy5kaXJlY3RpdmVzKS5mb3JFYWNoKGQgPT4ge1xuICAgIGlmIChpc09iamVjdChkKSA9PT0gdHJ1ZSAmJiBkLm5hbWUgIT09IHZvaWQgMCkge1xuICAgICAgYXBwLmRpcmVjdGl2ZShkLm5hbWUsIGQpXG4gICAgfVxuICB9KVxuXG4gIHVpT3B0cy5wbHVnaW5zICE9PSB2b2lkIDAgJiYgaW5zdGFsbFBsdWdpbnMoXG4gICAgcGx1Z2luT3B0cyxcbiAgICBPYmplY3QudmFsdWVzKHVpT3B0cy5wbHVnaW5zKS5maWx0ZXIoXG4gICAgICBwID0+IHR5cGVvZiBwLmluc3RhbGwgPT09ICdmdW5jdGlvbicgJiYgYXV0b0luc3RhbGxlZFBsdWdpbnMuaW5jbHVkZXMocCkgPT09IGZhbHNlXG4gICAgKVxuICApXG5cbiAgaWYgKGlzUnVudGltZVNzclByZUh5ZHJhdGlvbi52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgIHBsdWdpbk9wdHMuJHEub25TU1JIeWRyYXRlZCA9ICgpID0+IHtcbiAgICAgIHBsdWdpbk9wdHMub25TU1JIeWRyYXRlZC5mb3JFYWNoKGZuID0+IHsgZm4oKSB9KVxuICAgICAgcGx1Z2luT3B0cy4kcS5vblNTUkh5ZHJhdGVkID0gKCkgPT4ge31cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgX19RVUFTQVJfU1NSX1NFUlZFUl9fXG4gID8gZnVuY3Rpb24gKHBhcmVudEFwcCwgb3B0cyA9IHt9LCBzc3JDb250ZXh0KSB7XG4gICAgY29uc3QgJHEgPSB7XG4gICAgICB2ZXJzaW9uOiBfX1FVQVNBUl9WRVJTSU9OX18sXG4gICAgICBjb25maWc6IG9wdHMuY29uZmlnIHx8IHt9XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbihzc3JDb250ZXh0LCB7XG4gICAgICAkcSxcbiAgICAgIF9tZXRhOiB7XG4gICAgICAgIGh0bWxBdHRyczogJycsXG4gICAgICAgIGhlYWRUYWdzOiAnJyxcbiAgICAgICAgZW5kaW5nSGVhZFRhZ3M6ICcnLFxuICAgICAgICBib2R5Q2xhc3NlczogJycsXG4gICAgICAgIGJvZHlBdHRyczogJ2RhdGEtc2VydmVyLXJlbmRlcmVkJyxcbiAgICAgICAgYm9keVRhZ3M6ICcnXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmIChzc3JDb250ZXh0Ll9tb2R1bGVzID09PSB2b2lkIDApIHtcbiAgICAgIC8vIG5vdCBPSy4gbWVhbnMgdGhlIFNTUiBidWlsZCBpcyBub3QgdXNpbmcgQHF1YXNhci9zc3ItaGVscGVycyxcbiAgICAgIC8vIGJ1dCB3ZSBzaG91bGRuJ3QgY3Jhc2ggdGhlIGFwcFxuICAgICAgc3NyQ29udGV4dC5fbW9kdWxlcyA9IFtdXG4gICAgfVxuXG4gICAgaWYgKHNzckNvbnRleHQub25SZW5kZXJlZCA9PT0gdm9pZCAwKSB7XG4gICAgICAvLyBub3QgT0suIG1lYW5zIHRoZSBTU1IgYnVpbGQgaXMgbm90IHVzaW5nIEBxdWFzYXIvc3NyLWhlbHBlcnMsXG4gICAgICAvLyBidXQgd2Ugc2hvdWxkbid0IGNyYXNoIHRoZSBhcHBcbiAgICAgIHNzckNvbnRleHQub25SZW5kZXJlZCA9ICgpID0+IHt9XG4gICAgfVxuXG4gICAgcGFyZW50QXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLnNzckNvbnRleHQgPSBzc3JDb250ZXh0XG5cbiAgICBwcmVwYXJlQXBwKHBhcmVudEFwcCwgb3B0cywge1xuICAgICAgcGFyZW50QXBwLFxuICAgICAgJHEsXG4gICAgICBsYW5nOiBvcHRzLmxhbmcsXG4gICAgICBpY29uU2V0OiBvcHRzLmljb25TZXQsXG4gICAgICBzc3JDb250ZXh0XG4gICAgfSlcbiAgfVxuICA6IGZ1bmN0aW9uIChwYXJlbnRBcHAsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0ICRxID0geyB2ZXJzaW9uOiBfX1FVQVNBUl9WRVJTSU9OX18gfVxuXG4gICAgaWYgKGdsb2JhbENvbmZpZ0lzRnJvemVuID09PSBmYWxzZSkge1xuICAgICAgaWYgKG9wdHMuY29uZmlnICE9PSB2b2lkIDApIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihnbG9iYWxDb25maWcsIG9wdHMuY29uZmlnKVxuICAgICAgfVxuXG4gICAgICAkcS5jb25maWcgPSB7IC4uLmdsb2JhbENvbmZpZyB9XG4gICAgICBmcmVlemVHbG9iYWxDb25maWcoKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRxLmNvbmZpZyA9IG9wdHMuY29uZmlnIHx8IHt9XG4gICAgfVxuXG4gICAgcHJlcGFyZUFwcChwYXJlbnRBcHAsIG9wdHMsIHtcbiAgICAgIHBhcmVudEFwcCxcbiAgICAgICRxLFxuICAgICAgbGFuZzogb3B0cy5sYW5nLFxuICAgICAgaWNvblNldDogb3B0cy5pY29uU2V0LFxuICAgICAgb25TU1JIeWRyYXRlZDogW11cbiAgICB9KVxuICB9XG4iLCJpbXBvcnQgaW5zdGFsbFF1YXNhciBmcm9tICcuL2luc3RhbGwtcXVhc2FyLmpzJ1xuaW1wb3J0IExhbmcgZnJvbSAnLi9wbHVnaW5zL2xhbmcvTGFuZy5qcydcbmltcG9ydCBJY29uU2V0IGZyb20gJy4vcGx1Z2lucy9pY29uLXNldC9JY29uU2V0LmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdRdWFzYXInLFxuICB2ZXJzaW9uOiBfX1FVQVNBUl9WRVJTSU9OX18sXG5cbiAgaW5zdGFsbDogaW5zdGFsbFF1YXNhcixcblxuICAvLyBUT0RPOiByZW1vdmUgaW4gUXYzIChzaG91bGQgb25seSBiZSB1c2VkIHRocm91Z2ggdGhlIHBsdWdpbilcbiAgLy8gV2UgcHJvdmlkZSBhIGRlcHJlY2F0ZWQgZmFsbGJhY2sgaGVyZVxuICBsYW5nOiBMYW5nLFxuXG4gIC8vIFRPRE86IHJlbW92ZSBpbiBRdjMgKHNob3VsZCBvbmx5IGJlIHVzZWQgdGhyb3VnaCB0aGUgcGx1Z2luKVxuICAvLyBXZSBwcm92aWRlIGEgZGVwcmVjYXRlZCBmYWxsYmFjayBoZXJlXG4gIGljb25TZXQ6IEljb25TZXRcbn1cbiIsIi8qIVxuICAqIHZ1ZS1yb3V0ZXIgdjQuNS4xXG4gICogKGMpIDIwMjUgRWR1YXJkbyBTYW4gTWFydGluIE1vcm90ZVxuICAqIEBsaWNlbnNlIE1JVFxuICAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCBpbmplY3QsIG9uVW5tb3VudGVkLCBvbkRlYWN0aXZhdGVkLCBvbkFjdGl2YXRlZCwgY29tcHV0ZWQsIHVucmVmLCB3YXRjaEVmZmVjdCwgZGVmaW5lQ29tcG9uZW50LCByZWFjdGl2ZSwgaCwgcHJvdmlkZSwgcmVmLCB3YXRjaCwgc2hhbGxvd1JlZiwgc2hhbGxvd1JlYWN0aXZlLCBuZXh0VGljayB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuXG5jb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG4vKipcbiAqIEFsbG93cyBkaWZmZXJlbnRpYXRpbmcgbGF6eSBjb21wb25lbnRzIGZyb20gZnVuY3Rpb25hbCBjb21wb25lbnRzIGFuZCB2dWUtY2xhc3MtY29tcG9uZW50XG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50XG4gKi9cbmZ1bmN0aW9uIGlzUm91dGVDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgY29tcG9uZW50ID09PSAnb2JqZWN0JyB8fFxuICAgICAgICAnZGlzcGxheU5hbWUnIGluIGNvbXBvbmVudCB8fFxuICAgICAgICAncHJvcHMnIGluIGNvbXBvbmVudCB8fFxuICAgICAgICAnX192Y2NPcHRzJyBpbiBjb21wb25lbnQpO1xufVxuZnVuY3Rpb24gaXNFU01vZHVsZShvYmopIHtcbiAgICByZXR1cm4gKG9iai5fX2VzTW9kdWxlIHx8XG4gICAgICAgIG9ialtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJyB8fFxuICAgICAgICAvLyBzdXBwb3J0IENGIHdpdGggZHluYW1pYyBpbXBvcnRzIHRoYXQgZG8gbm90XG4gICAgICAgIC8vIGFkZCB0aGUgTW9kdWxlIHN0cmluZyB0YWdcbiAgICAgICAgKG9iai5kZWZhdWx0ICYmIGlzUm91dGVDb21wb25lbnQob2JqLmRlZmF1bHQpKSk7XG59XG5jb25zdCBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuZnVuY3Rpb24gYXBwbHlUb1BhcmFtcyhmbiwgcGFyYW1zKSB7XG4gICAgY29uc3QgbmV3UGFyYW1zID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyYW1zW2tleV07XG4gICAgICAgIG5ld1BhcmFtc1trZXldID0gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICAgID8gdmFsdWUubWFwKGZuKVxuICAgICAgICAgICAgOiBmbih2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdQYXJhbXM7XG59XG5jb25zdCBub29wID0gKCkgPT4geyB9O1xuLyoqXG4gKiBUeXBlc2FmZSBhbHRlcm5hdGl2ZSB0byBBcnJheS5pc0FycmF5XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvcHVsbC80ODIyOFxuICovXG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICAvLyBhdm9pZCB1c2luZyAuLi5hcmdzIGFzIGl0IGJyZWFrcyBpbiBvbGRlciBFZGdlIGJ1aWxkc1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cykuc2xpY2UoMSk7XG4gICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIFsnW1Z1ZSBSb3V0ZXIgd2Fybl06ICcgKyBtc2ddLmNvbmNhdChhcmdzKSk7XG59XG5cbi8qKlxuICogRW5jb2RpbmcgUnVsZXMgKOKQoyA9IFNwYWNlKVxuICogLSBQYXRoOiDikKMgXCIgPCA+ICMgPyB7IH1cbiAqIC0gUXVlcnk6IOKQoyBcIiA8ID4gIyAmID1cbiAqIC0gSGFzaDog4pCjIFwiIDwgPiBgXG4gKlxuICogT24gdG9wIG9mIHRoYXQsIHRoZSBSRkMzOTg2IChodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTIuMilcbiAqIGRlZmluZXMgc29tZSBleHRyYSBjaGFyYWN0ZXJzIHRvIGJlIGVuY29kZWQuIE1vc3QgYnJvd3NlcnMgZG8gbm90IGVuY29kZSB0aGVtXG4gKiBpbiBlbmNvZGVVUkkgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy91cmwvaXNzdWVzLzM2OSwgc28gaXQgbWF5IGJlIHNhZmVyIHRvXG4gKiBhbHNvIGVuY29kZSBgIScoKSpgLiBMZWF2aW5nIHVuLWVuY29kZWQgb25seSBBU0NJSSBhbHBoYW51bWVyaWMoYGEtekEtWjAtOWApXG4gKiBwbHVzIGAtLl9+YC4gVGhpcyBleHRyYSBzYWZldHkgc2hvdWxkIGJlIGFwcGxpZWQgdG8gcXVlcnkgYnkgcGF0Y2hpbmcgdGhlXG4gKiBzdHJpbmcgcmV0dXJuZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50IGVuY29kZVVSSSBhbHNvIGVuY29kZXMgYFtcXF1eYC4gYFxcYFxuICogc2hvdWxkIGJlIGVuY29kZWQgdG8gYXZvaWQgYW1iaWd1aXR5LiBCcm93c2VycyAoSUUsIEZGLCBDKSB0cmFuc2Zvcm0gYSBgXFxgXG4gKiBpbnRvIGEgYC9gIGlmIGRpcmVjdGx5IHR5cGVkIGluLiBUaGUgX2JhY2t0aWNrXyAoYGBgYGApIHNob3VsZCBhbHNvIGJlXG4gKiBlbmNvZGVkIGV2ZXJ5d2hlcmUgYmVjYXVzZSBzb21lIGJyb3dzZXJzIGxpa2UgRkYgZW5jb2RlIGl0IHdoZW4gZGlyZWN0bHlcbiAqIHdyaXR0ZW4gd2hpbGUgb3RoZXJzIGRvbid0LiBTYWZhcmkgYW5kIElFIGRvbid0IGVuY29kZSBgYFwiPD57fWBgYCBpbiBoYXNoLlxuICovXG4vLyBjb25zdCBFWFRSQV9SRVNFUlZFRF9SRSA9IC9bIScoKSpdL2dcbi8vIGNvbnN0IGVuY29kZVJlc2VydmVkUmVwbGFjZXIgPSAoYzogc3RyaW5nKSA9PiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpXG5jb25zdCBIQVNIX1JFID0gLyMvZzsgLy8gJTIzXG5jb25zdCBBTVBFUlNBTkRfUkUgPSAvJi9nOyAvLyAlMjZcbmNvbnN0IFNMQVNIX1JFID0gL1xcLy9nOyAvLyAlMkZcbmNvbnN0IEVRVUFMX1JFID0gLz0vZzsgLy8gJTNEXG5jb25zdCBJTV9SRSA9IC9cXD8vZzsgLy8gJTNGXG5jb25zdCBQTFVTX1JFID0gL1xcKy9nOyAvLyAlMkJcbi8qKlxuICogTk9URTogSXQncyBub3QgY2xlYXIgdG8gbWUgaWYgd2Ugc2hvdWxkIGVuY29kZSB0aGUgKyBzeW1ib2wgaW4gcXVlcmllcywgaXRcbiAqIHNlZW1zIHRvIGJlIGxlc3MgZmxleGlibGUgdGhhbiBub3QgZG9pbmcgc28gYW5kIEkgY2FuJ3QgZmluZCBvdXQgdGhlIGxlZ2FjeVxuICogc3lzdGVtcyByZXF1aXJpbmcgdGhpcyBmb3IgcmVndWxhciByZXF1ZXN0cyBsaWtlIHRleHQvaHRtbC4gSW4gdGhlIHN0YW5kYXJkLFxuICogdGhlIGVuY29kaW5nIG9mIHRoZSBwbHVzIGNoYXJhY3RlciBpcyBvbmx5IG1lbnRpb25lZCBmb3JcbiAqIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogKGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsZW5jb2RlZC1wYXJzaW5nKSBhbmQgbW9zdCBicm93c2VycyBzZWVtcyBsb1xuICogbGVhdmUgdGhlIHBsdXMgY2hhcmFjdGVyIGFzIGlzIGluIHF1ZXJpZXMuIFRvIGJlIG1vcmUgZmxleGlibGUsIHdlIGFsbG93IHRoZVxuICogcGx1cyBjaGFyYWN0ZXIgb24gdGhlIHF1ZXJ5LCBidXQgaXQgY2FuIGFsc28gYmUgbWFudWFsbHkgZW5jb2RlZCBieSB0aGUgdXNlci5cbiAqXG4gKiBSZXNvdXJjZXM6XG4gKiAtIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsZW5jb2RlZC1wYXJzaW5nXG4gKiAtIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2MzQyNzEvdXJsLWVuY29kaW5nLXRoZS1zcGFjZS1jaGFyYWN0ZXItb3ItMjBcbiAqL1xuY29uc3QgRU5DX0JSQUNLRVRfT1BFTl9SRSA9IC8lNUIvZzsgLy8gW1xuY29uc3QgRU5DX0JSQUNLRVRfQ0xPU0VfUkUgPSAvJTVEL2c7IC8vIF1cbmNvbnN0IEVOQ19DQVJFVF9SRSA9IC8lNUUvZzsgLy8gXlxuY29uc3QgRU5DX0JBQ0tUSUNLX1JFID0gLyU2MC9nOyAvLyBgXG5jb25zdCBFTkNfQ1VSTFlfT1BFTl9SRSA9IC8lN0IvZzsgLy8ge1xuY29uc3QgRU5DX1BJUEVfUkUgPSAvJTdDL2c7IC8vIHxcbmNvbnN0IEVOQ19DVVJMWV9DTE9TRV9SRSA9IC8lN0QvZzsgLy8gfVxuY29uc3QgRU5DX1NQQUNFX1JFID0gLyUyMC9nOyAvLyB9XG4vKipcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBwYXRoLCBzZWFyY2ggYW5kIGhhc2hcbiAqIHNlY3Rpb25zIG9mIHRoZSBVUkwuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGNvbW1vbkVuY29kZSh0ZXh0KSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSSgnJyArIHRleHQpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19QSVBFX1JFLCAnfCcpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19CUkFDS0VUX09QRU5fUkUsICdbJylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0JSQUNLRVRfQ0xPU0VfUkUsICddJyk7XG59XG4vKipcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBoYXNoIHNlY3Rpb24gb2YgdGhlIFVSTC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVuY29kZUhhc2godGV4dCkge1xuICAgIHJldHVybiBjb21tb25FbmNvZGUodGV4dClcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX09QRU5fUkUsICd7JylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX0NMT1NFX1JFLCAnfScpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DQVJFVF9SRSwgJ14nKTtcbn1cbi8qKlxuICogRW5jb2RlIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVuY29kZWQgcXVlcnkgdmFsdWVzIG9uIHRoZSBxdWVyeVxuICogc2VjdGlvbiBvZiB0aGUgVVJMLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZW5jb2RlUXVlcnlWYWx1ZSh0ZXh0KSB7XG4gICAgcmV0dXJuIChjb21tb25FbmNvZGUodGV4dClcbiAgICAgICAgLy8gRW5jb2RlIHRoZSBzcGFjZSBhcyArLCBlbmNvZGUgdGhlICsgdG8gZGlmZmVyZW50aWF0ZSBpdCBmcm9tIHRoZSBzcGFjZVxuICAgICAgICAucmVwbGFjZShQTFVTX1JFLCAnJTJCJylcbiAgICAgICAgLnJlcGxhY2UoRU5DX1NQQUNFX1JFLCAnKycpXG4gICAgICAgIC5yZXBsYWNlKEhBU0hfUkUsICclMjMnKVxuICAgICAgICAucmVwbGFjZShBTVBFUlNBTkRfUkUsICclMjYnKVxuICAgICAgICAucmVwbGFjZShFTkNfQkFDS1RJQ0tfUkUsICdgJylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX09QRU5fUkUsICd7JylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX0NMT1NFX1JFLCAnfScpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DQVJFVF9SRSwgJ14nKSk7XG59XG4vKipcbiAqIExpa2UgYGVuY29kZVF1ZXJ5VmFsdWVgIGJ1dCBhbHNvIGVuY29kZXMgdGhlIGA9YCBjaGFyYWN0ZXIuXG4gKlxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5S2V5KHRleHQpIHtcbiAgICByZXR1cm4gZW5jb2RlUXVlcnlWYWx1ZSh0ZXh0KS5yZXBsYWNlKEVRVUFMX1JFLCAnJTNEJyk7XG59XG4vKipcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBwYXRoIHNlY3Rpb24gb2YgdGhlIFVSTC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVBhdGgodGV4dCkge1xuICAgIHJldHVybiBjb21tb25FbmNvZGUodGV4dCkucmVwbGFjZShIQVNIX1JFLCAnJTIzJykucmVwbGFjZShJTV9SRSwgJyUzRicpO1xufVxuLyoqXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgcGF0aCBzZWN0aW9uIG9mIHRoZSBVUkwgYXMgYVxuICogcGFyYW0uIFRoaXMgZnVuY3Rpb24gZW5jb2RlcyBldmVyeXRoaW5nIHtAbGluayBlbmNvZGVQYXRofSBkb2VzIHBsdXMgdGhlXG4gKiBzbGFzaCAoYC9gKSBjaGFyYWN0ZXIuIElmIGB0ZXh0YCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHJldHVybnMgYW4gZW1wdHlcbiAqIHN0cmluZyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZW5jb2RlUGFyYW0odGV4dCkge1xuICAgIHJldHVybiB0ZXh0ID09IG51bGwgPyAnJyA6IGVuY29kZVBhdGgodGV4dCkucmVwbGFjZShTTEFTSF9SRSwgJyUyRicpO1xufVxuLyoqXG4gKiBEZWNvZGUgdGV4dCB1c2luZyBgZGVjb2RlVVJJQ29tcG9uZW50YC4gUmV0dXJucyB0aGUgb3JpZ2luYWwgdGV4dCBpZiBpdFxuICogZmFpbHMuXG4gKlxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZGVjb2RlXG4gKiBAcmV0dXJucyBkZWNvZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBkZWNvZGUodGV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoJycgKyB0ZXh0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgRXJyb3IgZGVjb2RpbmcgXCIke3RleHR9XCIuIFVzaW5nIG9yaWdpbmFsIHZhbHVlYCk7XG4gICAgfVxuICAgIHJldHVybiAnJyArIHRleHQ7XG59XG5cbmNvbnN0IFRSQUlMSU5HX1NMQVNIX1JFID0gL1xcLyQvO1xuY29uc3QgcmVtb3ZlVHJhaWxpbmdTbGFzaCA9IChwYXRoKSA9PiBwYXRoLnJlcGxhY2UoVFJBSUxJTkdfU0xBU0hfUkUsICcnKTtcbi8qKlxuICogVHJhbnNmb3JtcyBhIFVSSSBpbnRvIGEgbm9ybWFsaXplZCBoaXN0b3J5IGxvY2F0aW9uXG4gKlxuICogQHBhcmFtIHBhcnNlUXVlcnlcbiAqIEBwYXJhbSBsb2NhdGlvbiAtIFVSSSB0byBub3JtYWxpemVcbiAqIEBwYXJhbSBjdXJyZW50TG9jYXRpb24gLSBjdXJyZW50IGFic29sdXRlIGxvY2F0aW9uLiBBbGxvd3MgcmVzb2x2aW5nIHJlbGF0aXZlXG4gKiBwYXRocy4gTXVzdCBzdGFydCB3aXRoIGAvYC4gRGVmYXVsdHMgdG8gYC9gXG4gKiBAcmV0dXJucyBhIG5vcm1hbGl6ZWQgaGlzdG9yeSBsb2NhdGlvblxuICovXG5mdW5jdGlvbiBwYXJzZVVSTChwYXJzZVF1ZXJ5LCBsb2NhdGlvbiwgY3VycmVudExvY2F0aW9uID0gJy8nKSB7XG4gICAgbGV0IHBhdGgsIHF1ZXJ5ID0ge30sIHNlYXJjaFN0cmluZyA9ICcnLCBoYXNoID0gJyc7XG4gICAgLy8gQ291bGQgdXNlIFVSTCBhbmQgVVJMU2VhcmNoUGFyYW1zIGJ1dCBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgaXRcbiAgICAvLyBUT0RPOiBtb3ZlIHRvIG5ldyBVUkwoKVxuICAgIGNvbnN0IGhhc2hQb3MgPSBsb2NhdGlvbi5pbmRleE9mKCcjJyk7XG4gICAgbGV0IHNlYXJjaFBvcyA9IGxvY2F0aW9uLmluZGV4T2YoJz8nKTtcbiAgICAvLyB0aGUgaGFzaCBhcHBlYXJzIGJlZm9yZSB0aGUgc2VhcmNoLCBzbyBpdCdzIG5vdCBwYXJ0IG9mIHRoZSBzZWFyY2ggc3RyaW5nXG4gICAgaWYgKGhhc2hQb3MgPCBzZWFyY2hQb3MgJiYgaGFzaFBvcyA+PSAwKSB7XG4gICAgICAgIHNlYXJjaFBvcyA9IC0xO1xuICAgIH1cbiAgICBpZiAoc2VhcmNoUG9zID4gLTEpIHtcbiAgICAgICAgcGF0aCA9IGxvY2F0aW9uLnNsaWNlKDAsIHNlYXJjaFBvcyk7XG4gICAgICAgIHNlYXJjaFN0cmluZyA9IGxvY2F0aW9uLnNsaWNlKHNlYXJjaFBvcyArIDEsIGhhc2hQb3MgPiAtMSA/IGhhc2hQb3MgOiBsb2NhdGlvbi5sZW5ndGgpO1xuICAgICAgICBxdWVyeSA9IHBhcnNlUXVlcnkoc2VhcmNoU3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKGhhc2hQb3MgPiAtMSkge1xuICAgICAgICBwYXRoID0gcGF0aCB8fCBsb2NhdGlvbi5zbGljZSgwLCBoYXNoUG9zKTtcbiAgICAgICAgLy8ga2VlcCB0aGUgIyBjaGFyYWN0ZXJcbiAgICAgICAgaGFzaCA9IGxvY2F0aW9uLnNsaWNlKGhhc2hQb3MsIGxvY2F0aW9uLmxlbmd0aCk7XG4gICAgfVxuICAgIC8vIG5vIHNlYXJjaCBhbmQgbm8gcXVlcnlcbiAgICBwYXRoID0gcmVzb2x2ZVJlbGF0aXZlUGF0aChwYXRoICE9IG51bGwgPyBwYXRoIDogbG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbik7XG4gICAgLy8gZW1wdHkgcGF0aCBtZWFucyBhIHJlbGF0aXZlIHF1ZXJ5IG9yIGhhc2ggYD9mb289ZmAsIGAjdGhpbmdgXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnVsbFBhdGg6IHBhdGggKyAoc2VhcmNoU3RyaW5nICYmICc/JykgKyBzZWFyY2hTdHJpbmcgKyBoYXNoLFxuICAgICAgICBwYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgaGFzaDogZGVjb2RlKGhhc2gpLFxuICAgIH07XG59XG4vKipcbiAqIFN0cmluZ2lmaWVzIGEgVVJMIG9iamVjdFxuICpcbiAqIEBwYXJhbSBzdHJpbmdpZnlRdWVyeVxuICogQHBhcmFtIGxvY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVVSTChzdHJpbmdpZnlRdWVyeSwgbG9jYXRpb24pIHtcbiAgICBjb25zdCBxdWVyeSA9IGxvY2F0aW9uLnF1ZXJ5ID8gc3RyaW5naWZ5UXVlcnkobG9jYXRpb24ucXVlcnkpIDogJyc7XG4gICAgcmV0dXJuIGxvY2F0aW9uLnBhdGggKyAocXVlcnkgJiYgJz8nKSArIHF1ZXJ5ICsgKGxvY2F0aW9uLmhhc2ggfHwgJycpO1xufVxuLyoqXG4gKiBTdHJpcHMgb2ZmIHRoZSBiYXNlIGZyb20gdGhlIGJlZ2lubmluZyBvZiBhIGxvY2F0aW9uLnBhdGhuYW1lIGluIGEgbm9uLWNhc2Utc2Vuc2l0aXZlIHdheS5cbiAqXG4gKiBAcGFyYW0gcGF0aG5hbWUgLSBsb2NhdGlvbi5wYXRobmFtZVxuICogQHBhcmFtIGJhc2UgLSBiYXNlIHRvIHN0cmlwIG9mZlxuICovXG5mdW5jdGlvbiBzdHJpcEJhc2UocGF0aG5hbWUsIGJhc2UpIHtcbiAgICAvLyBubyBiYXNlIG9yIGJhc2UgaXMgbm90IGZvdW5kIGF0IHRoZSBiZWdpbm5pbmdcbiAgICBpZiAoIWJhc2UgfHwgIXBhdGhuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChiYXNlLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICByZXR1cm4gcGF0aG5hbWU7XG4gICAgcmV0dXJuIHBhdGhuYW1lLnNsaWNlKGJhc2UubGVuZ3RoKSB8fCAnLyc7XG59XG4vKipcbiAqIENoZWNrcyBpZiB0d28gUm91dGVMb2NhdGlvbiBhcmUgZXF1YWwuIFRoaXMgbWVhbnMgdGhhdCBib3RoIGxvY2F0aW9ucyBhcmVcbiAqIHBvaW50aW5nIHRvd2FyZHMgdGhlIHNhbWUge0BsaW5rIFJvdXRlUmVjb3JkfSBhbmQgdGhhdCBhbGwgYHBhcmFtc2AsIGBxdWVyeWBcbiAqIHBhcmFtZXRlcnMgYW5kIGBoYXNoYCBhcmUgdGhlIHNhbWVcbiAqXG4gKiBAcGFyYW0gc3RyaW5naWZ5UXVlcnkgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBxdWVyeSBvYmplY3Qgb2YgdHlwZSBMb2NhdGlvblF1ZXJ5UmF3IGFuZCByZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGl0LlxuICogQHBhcmFtIGEgLSBmaXJzdCB7QGxpbmsgUm91dGVMb2NhdGlvbn1cbiAqIEBwYXJhbSBiIC0gc2Vjb25kIHtAbGluayBSb3V0ZUxvY2F0aW9ufVxuICovXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5LCBhLCBiKSB7XG4gICAgY29uc3QgYUxhc3RJbmRleCA9IGEubWF0Y2hlZC5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGJMYXN0SW5kZXggPSBiLm1hdGNoZWQubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gKGFMYXN0SW5kZXggPiAtMSAmJlxuICAgICAgICBhTGFzdEluZGV4ID09PSBiTGFzdEluZGV4ICYmXG4gICAgICAgIGlzU2FtZVJvdXRlUmVjb3JkKGEubWF0Y2hlZFthTGFzdEluZGV4XSwgYi5tYXRjaGVkW2JMYXN0SW5kZXhdKSAmJlxuICAgICAgICBpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zKGEucGFyYW1zLCBiLnBhcmFtcykgJiZcbiAgICAgICAgc3RyaW5naWZ5UXVlcnkoYS5xdWVyeSkgPT09IHN0cmluZ2lmeVF1ZXJ5KGIucXVlcnkpICYmXG4gICAgICAgIGEuaGFzaCA9PT0gYi5oYXNoKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdHdvIGBSb3V0ZVJlY29yZHNgIGFyZSBlcXVhbC4gVGFrZXMgaW50byBhY2NvdW50IGFsaWFzZXM6IHRoZXkgYXJlXG4gKiBjb25zaWRlcmVkIGVxdWFsIHRvIHRoZSBgUm91dGVSZWNvcmRgIHRoZXkgYXJlIGFsaWFzaW5nLlxuICpcbiAqIEBwYXJhbSBhIC0gZmlyc3Qge0BsaW5rIFJvdXRlUmVjb3JkfVxuICogQHBhcmFtIGIgLSBzZWNvbmQge0BsaW5rIFJvdXRlUmVjb3JkfVxuICovXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZVJlY29yZChhLCBiKSB7XG4gICAgLy8gc2luY2UgdGhlIG9yaWdpbmFsIHJlY29yZCBoYXMgYW4gdW5kZWZpbmVkIHZhbHVlIGZvciBhbGlhc09mXG4gICAgLy8gYnV0IGFsbCBhbGlhc2VzIHBvaW50IHRvIHRoZSBvcmlnaW5hbCByZWNvcmQsIHRoaXMgd2lsbCBhbHdheXMgY29tcGFyZVxuICAgIC8vIHRoZSBvcmlnaW5hbCByZWNvcmRcbiAgICByZXR1cm4gKGEuYWxpYXNPZiB8fCBhKSA9PT0gKGIuYWxpYXNPZiB8fCBiKTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoYSwgYikge1xuICAgIGlmIChPYmplY3Qua2V5cyhhKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgICAgaWYgKCFpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zVmFsdWUoYVtrZXldLCBiW2tleV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXNWYWx1ZShhLCBiKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYSlcbiAgICAgICAgPyBpc0VxdWl2YWxlbnRBcnJheShhLCBiKVxuICAgICAgICA6IGlzQXJyYXkoYilcbiAgICAgICAgICAgID8gaXNFcXVpdmFsZW50QXJyYXkoYiwgYSlcbiAgICAgICAgICAgIDogYSA9PT0gYjtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdHdvIGFycmF5cyBhcmUgdGhlIHNhbWUgb3IgaWYgYW4gYXJyYXkgd2l0aCBvbmUgc2luZ2xlIGVudHJ5IGlzIHRoZVxuICogc2FtZSBhcyBhbm90aGVyIHByaW1pdGl2ZSB2YWx1ZS4gVXNlZCB0byBjaGVjayBxdWVyeSBhbmQgcGFyYW1ldGVyc1xuICpcbiAqIEBwYXJhbSBhIC0gYXJyYXkgb2YgdmFsdWVzXG4gKiBAcGFyYW0gYiAtIGFycmF5IG9mIHZhbHVlcyBvciBhIHNpbmdsZSB2YWx1ZVxuICovXG5mdW5jdGlvbiBpc0VxdWl2YWxlbnRBcnJheShhLCBiKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYilcbiAgICAgICAgPyBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeSgodmFsdWUsIGkpID0+IHZhbHVlID09PSBiW2ldKVxuICAgICAgICA6IGEubGVuZ3RoID09PSAxICYmIGFbMF0gPT09IGI7XG59XG4vKipcbiAqIFJlc29sdmVzIGEgcmVsYXRpdmUgcGF0aCB0aGF0IHN0YXJ0cyB3aXRoIGAuYC5cbiAqXG4gKiBAcGFyYW0gdG8gLSBwYXRoIGxvY2F0aW9uIHdlIGFyZSByZXNvbHZpbmdcbiAqIEBwYXJhbSBmcm9tIC0gY3VycmVudExvY2F0aW9uLnBhdGgsIHNob3VsZCBzdGFydCB3aXRoIGAvYFxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVsYXRpdmVQYXRoKHRvLCBmcm9tKSB7XG4gICAgaWYgKHRvLnN0YXJ0c1dpdGgoJy8nKSlcbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZyb20uc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgIHdhcm4oYENhbm5vdCByZXNvbHZlIGEgcmVsYXRpdmUgbG9jYXRpb24gd2l0aG91dCBhbiBhYnNvbHV0ZSBwYXRoLiBUcnlpbmcgdG8gcmVzb2x2ZSBcIiR7dG99XCIgZnJvbSBcIiR7ZnJvbX1cIi4gSXQgc2hvdWxkIGxvb2sgbGlrZSBcIi8ke2Zyb219XCIuYCk7XG4gICAgICAgIHJldHVybiB0bztcbiAgICB9XG4gICAgaWYgKCF0bylcbiAgICAgICAgcmV0dXJuIGZyb207XG4gICAgY29uc3QgZnJvbVNlZ21lbnRzID0gZnJvbS5zcGxpdCgnLycpO1xuICAgIGNvbnN0IHRvU2VnbWVudHMgPSB0by5zcGxpdCgnLycpO1xuICAgIGNvbnN0IGxhc3RUb1NlZ21lbnQgPSB0b1NlZ21lbnRzW3RvU2VnbWVudHMubGVuZ3RoIC0gMV07XG4gICAgLy8gbWFrZSAuIGFuZCAuLyB0aGUgc2FtZSAoLi4vID09PSAuLiwgLi4vLi4vID09PSAuLi8uLilcbiAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGJlaGF2aW9yIGFzIG5ldyBVUkwoKVxuICAgIGlmIChsYXN0VG9TZWdtZW50ID09PSAnLi4nIHx8IGxhc3RUb1NlZ21lbnQgPT09ICcuJykge1xuICAgICAgICB0b1NlZ21lbnRzLnB1c2goJycpO1xuICAgIH1cbiAgICBsZXQgcG9zaXRpb24gPSBmcm9tU2VnbWVudHMubGVuZ3RoIC0gMTtcbiAgICBsZXQgdG9Qb3NpdGlvbjtcbiAgICBsZXQgc2VnbWVudDtcbiAgICBmb3IgKHRvUG9zaXRpb24gPSAwOyB0b1Bvc2l0aW9uIDwgdG9TZWdtZW50cy5sZW5ndGg7IHRvUG9zaXRpb24rKykge1xuICAgICAgICBzZWdtZW50ID0gdG9TZWdtZW50c1t0b1Bvc2l0aW9uXTtcbiAgICAgICAgLy8gd2Ugc3RheSBvbiB0aGUgc2FtZSBwb3NpdGlvblxuICAgICAgICBpZiAoc2VnbWVudCA9PT0gJy4nKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIC8vIGdvIHVwIGluIHRoZSBmcm9tIGFycmF5XG4gICAgICAgIGlmIChzZWdtZW50ID09PSAnLi4nKSB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4ndCBnbyBiZWxvdyB6ZXJvLCBidXQgd2Ugc3RpbGwgbmVlZCB0byBpbmNyZW1lbnQgdG9Qb3NpdGlvblxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID4gMSlcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi0tO1xuICAgICAgICAgICAgLy8gY29udGludWVcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSByZWFjaGVkIGEgbm9uLXJlbGF0aXZlIHBhdGgsIHdlIHN0b3AgaGVyZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIChmcm9tU2VnbWVudHMuc2xpY2UoMCwgcG9zaXRpb24pLmpvaW4oJy8nKSArXG4gICAgICAgICcvJyArXG4gICAgICAgIHRvU2VnbWVudHMuc2xpY2UodG9Qb3NpdGlvbikuam9pbignLycpKTtcbn1cbi8qKlxuICogSW5pdGlhbCByb3V0ZSBsb2NhdGlvbiB3aGVyZSB0aGUgcm91dGVyIGlzLiBDYW4gYmUgdXNlZCBpbiBuYXZpZ2F0aW9uIGd1YXJkc1xuICogdG8gZGlmZmVyZW50aWF0ZSB0aGUgaW5pdGlhbCBuYXZpZ2F0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgU1RBUlRfTE9DQVRJT04gfSBmcm9tICd2dWUtcm91dGVyJ1xuICpcbiAqIHJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSkgPT4ge1xuICogICBpZiAoZnJvbSA9PT0gU1RBUlRfTE9DQVRJT04pIHtcbiAqICAgICAvLyBpbml0aWFsIG5hdmlnYXRpb25cbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICovXG5jb25zdCBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEID0ge1xuICAgIHBhdGg6ICcvJyxcbiAgICAvLyBUT0RPOiBjb3VsZCB3ZSB1c2UgYSBzeW1ib2wgaW4gdGhlIGZ1dHVyZT9cbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgcGFyYW1zOiB7fSxcbiAgICBxdWVyeToge30sXG4gICAgaGFzaDogJycsXG4gICAgZnVsbFBhdGg6ICcvJyxcbiAgICBtYXRjaGVkOiBbXSxcbiAgICBtZXRhOiB7fSxcbiAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxufTtcblxudmFyIE5hdmlnYXRpb25UeXBlO1xuKGZ1bmN0aW9uIChOYXZpZ2F0aW9uVHlwZSkge1xuICAgIE5hdmlnYXRpb25UeXBlW1wicG9wXCJdID0gXCJwb3BcIjtcbiAgICBOYXZpZ2F0aW9uVHlwZVtcInB1c2hcIl0gPSBcInB1c2hcIjtcbn0pKE5hdmlnYXRpb25UeXBlIHx8IChOYXZpZ2F0aW9uVHlwZSA9IHt9KSk7XG52YXIgTmF2aWdhdGlvbkRpcmVjdGlvbjtcbihmdW5jdGlvbiAoTmF2aWdhdGlvbkRpcmVjdGlvbikge1xuICAgIE5hdmlnYXRpb25EaXJlY3Rpb25bXCJiYWNrXCJdID0gXCJiYWNrXCI7XG4gICAgTmF2aWdhdGlvbkRpcmVjdGlvbltcImZvcndhcmRcIl0gPSBcImZvcndhcmRcIjtcbiAgICBOYXZpZ2F0aW9uRGlyZWN0aW9uW1widW5rbm93blwiXSA9IFwiXCI7XG59KShOYXZpZ2F0aW9uRGlyZWN0aW9uIHx8IChOYXZpZ2F0aW9uRGlyZWN0aW9uID0ge30pKTtcbi8qKlxuICogU3RhcnRpbmcgbG9jYXRpb24gZm9yIEhpc3Rvcmllc1xuICovXG5jb25zdCBTVEFSVCA9ICcnO1xuLy8gR2VuZXJpYyB1dGlsc1xuLyoqXG4gKiBOb3JtYWxpemVzIGEgYmFzZSBieSByZW1vdmluZyBhbnkgdHJhaWxpbmcgc2xhc2ggYW5kIHJlYWRpbmcgdGhlIGJhc2UgdGFnIGlmXG4gKiBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSBiYXNlIC0gYmFzZSB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplQmFzZShiYXNlKSB7XG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgIC8vIHJlc3BlY3QgPGJhc2U+IHRhZ1xuICAgICAgICAgICAgY29uc3QgYmFzZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpO1xuICAgICAgICAgICAgYmFzZSA9IChiYXNlRWwgJiYgYmFzZUVsLmdldEF0dHJpYnV0ZSgnaHJlZicpKSB8fCAnLyc7XG4gICAgICAgICAgICAvLyBzdHJpcCBmdWxsIFVSTCBvcmlnaW5cbiAgICAgICAgICAgIGJhc2UgPSBiYXNlLnJlcGxhY2UoL15cXHcrOlxcL1xcL1teXFwvXSsvLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYXNlID0gJy8nO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGVuc3VyZSBsZWFkaW5nIHNsYXNoIHdoZW4gaXQgd2FzIHJlbW92ZWQgYnkgdGhlIHJlZ2V4IGFib3ZlIGF2b2lkIGxlYWRpbmdcbiAgICAvLyBzbGFzaCB3aXRoIGhhc2ggYmVjYXVzZSB0aGUgZmlsZSBjb3VsZCBiZSByZWFkIGZyb20gdGhlIGRpc2sgbGlrZSBmaWxlOi8vXG4gICAgLy8gYW5kIHRoZSBsZWFkaW5nIHNsYXNoIHdvdWxkIGNhdXNlIHByb2JsZW1zXG4gICAgaWYgKGJhc2VbMF0gIT09ICcvJyAmJiBiYXNlWzBdICE9PSAnIycpXG4gICAgICAgIGJhc2UgPSAnLycgKyBiYXNlO1xuICAgIC8vIHJlbW92ZSB0aGUgdHJhaWxpbmcgc2xhc2ggc28gYWxsIG90aGVyIG1ldGhvZCBjYW4ganVzdCBkbyBgYmFzZSArIGZ1bGxQYXRoYFxuICAgIC8vIHRvIGJ1aWxkIGFuIGhyZWZcbiAgICByZXR1cm4gcmVtb3ZlVHJhaWxpbmdTbGFzaChiYXNlKTtcbn1cbi8vIHJlbW92ZSBhbnkgY2hhcmFjdGVyIGJlZm9yZSB0aGUgaGFzaFxuY29uc3QgQkVGT1JFX0hBU0hfUkUgPSAvXlteI10rIy87XG5mdW5jdGlvbiBjcmVhdGVIcmVmKGJhc2UsIGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2UucmVwbGFjZShCRUZPUkVfSEFTSF9SRSwgJyMnKSArIGxvY2F0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50UG9zaXRpb24oZWwsIG9mZnNldCkge1xuICAgIGNvbnN0IGRvY1JlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZWxSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmVoYXZpb3I6IG9mZnNldC5iZWhhdmlvcixcbiAgICAgICAgbGVmdDogZWxSZWN0LmxlZnQgLSBkb2NSZWN0LmxlZnQgLSAob2Zmc2V0LmxlZnQgfHwgMCksXG4gICAgICAgIHRvcDogZWxSZWN0LnRvcCAtIGRvY1JlY3QudG9wIC0gKG9mZnNldC50b3AgfHwgMCksXG4gICAgfTtcbn1cbmNvbnN0IGNvbXB1dGVTY3JvbGxQb3NpdGlvbiA9ICgpID0+ICh7XG4gICAgbGVmdDogd2luZG93LnNjcm9sbFgsXG4gICAgdG9wOiB3aW5kb3cuc2Nyb2xsWSxcbn0pO1xuZnVuY3Rpb24gc2Nyb2xsVG9Qb3NpdGlvbihwb3NpdGlvbikge1xuICAgIGxldCBzY3JvbGxUb09wdGlvbnM7XG4gICAgaWYgKCdlbCcgaW4gcG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25FbCA9IHBvc2l0aW9uLmVsO1xuICAgICAgICBjb25zdCBpc0lkU2VsZWN0b3IgPSB0eXBlb2YgcG9zaXRpb25FbCA9PT0gJ3N0cmluZycgJiYgcG9zaXRpb25FbC5zdGFydHNXaXRoKCcjJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgaWRgcyBjYW4gYWNjZXB0IHByZXR0eSBtdWNoIGFueSBjaGFyYWN0ZXJzLCBpbmNsdWRpbmcgQ1NTIGNvbWJpbmF0b3JzXG4gICAgICAgICAqIGxpa2UgYD5gIG9yIGB+YC4gSXQncyBzdGlsbCBwb3NzaWJsZSB0byByZXRyaWV2ZSBlbGVtZW50cyB1c2luZ1xuICAgICAgICAgKiBgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ34nKWAgYnV0IGl0IG5lZWRzIHRvIGJlIGVzY2FwZWQgd2hlbiB1c2luZ1xuICAgICAgICAgKiBgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1xcXFx+JylgIGZvciBpdCB0byBiZSB2YWxpZC4gVGhlIG9ubHlcbiAgICAgICAgICogcmVxdWlyZW1lbnRzIGZvciBgaWRgcyBhcmUgdGhlbSB0byBiZSB1bmlxdWUgb24gdGhlIHBhZ2UgYW5kIHRvIG5vdCBiZVxuICAgICAgICAgKiBlbXB0eSAoYGlkPVwiXCJgKS4gQmVjYXVzZSBvZiB0aGF0LCB3aGVuIHBhc3NpbmcgYW4gaWQgc2VsZWN0b3IsIGl0IHNob3VsZFxuICAgICAgICAgKiBiZSBwcm9wZXJseSBlc2NhcGVkIGZvciBpdCB0byB3b3JrIHdpdGggYHF1ZXJ5U2VsZWN0b3JgLiBXZSBjb3VsZCBjaGVja1xuICAgICAgICAgKiBmb3IgdGhlIGlkIHNlbGVjdG9yIHRvIGJlIHNpbXBsZSAobm8gQ1NTIGNvbWJpbmF0b3JzIGArID5+YCkgYnV0IHRoYXRcbiAgICAgICAgICogd291bGQgbWFrZSB0aGluZ3MgaW5jb25zaXN0ZW50IHNpbmNlIHRoZXkgYXJlIHZhbGlkIGNoYXJhY3RlcnMgZm9yIGFuXG4gICAgICAgICAqIGBpZGAgYnV0IHdvdWxkIG5lZWQgdG8gYmUgZXNjYXBlZCB3aGVuIHVzaW5nIGBxdWVyeVNlbGVjdG9yYCwgYnJlYWtpbmdcbiAgICAgICAgICogdGhlaXIgdXNhZ2UgYW5kIGVuZGluZyB1cCBpbiBubyBzZWxlY3RvciByZXR1cm5lZC4gU2VsZWN0b3JzIG5lZWQgdG8gYmVcbiAgICAgICAgICogZXNjYXBlZDpcbiAgICAgICAgICpcbiAgICAgICAgICogLSBgIzEtdGhpbmdgIGJlY29tZXMgYCNcXDMxIC10aGluZ2BcbiAgICAgICAgICogLSBgI3dpdGh+c3ltYm9sc2AgYmVjb21lcyBgI3dpdGhcXFxcfnN5bWJvbHNgXG4gICAgICAgICAqXG4gICAgICAgICAqIC0gTW9yZSBpbmZvcm1hdGlvbiBhYm91dCAgdGhlIHRvcGljIGNhbiBiZSBmb3VuZCBhdFxuICAgICAgICAgKiAgIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9odG1sNS1pZC1jbGFzcy5cbiAgICAgICAgICogLSBQcmFjdGljYWwgZXhhbXBsZTogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vaHRtbDUtaWRcbiAgICAgICAgICovXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdHlwZW9mIHBvc2l0aW9uLmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKCFpc0lkU2VsZWN0b3IgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uLmVsLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvc2l0aW9uLmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRTZWxlY3RvciAmJiBmb3VuZEVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBUaGUgc2VsZWN0b3IgXCIke3Bvc2l0aW9uLmVsfVwiIHNob3VsZCBiZSBwYXNzZWQgYXMgXCJlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignJHtwb3NpdGlvbi5lbH0nKVwiIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggXCIjXCIuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdG8gYXZvaWQgb3RoZXIgd2FybmluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBzZWxlY3RvciBcIiR7cG9zaXRpb24uZWx9XCIgaXMgaW52YWxpZC4gSWYgeW91IGFyZSB1c2luZyBhbiBpZCBzZWxlY3RvciwgbWFrZSBzdXJlIHRvIGVzY2FwZSBpdC4gWW91IGNhbiBmaW5kIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZXNjYXBpbmcgY2hhcmFjdGVycyBpbiBzZWxlY3RvcnMgYXQgaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2Nzcy1lc2NhcGVzIG9yIHVzZSBDU1MuZXNjYXBlIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ1NTL2VzY2FwZSkuYCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0byBhdm9pZCBvdGhlciB3YXJuaW5nc1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsID0gdHlwZW9mIHBvc2l0aW9uRWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGlzSWRTZWxlY3RvclxuICAgICAgICAgICAgICAgID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb25FbC5zbGljZSgxKSlcbiAgICAgICAgICAgICAgICA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9zaXRpb25FbClcbiAgICAgICAgICAgIDogcG9zaXRpb25FbDtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybihgQ291bGRuJ3QgZmluZCBlbGVtZW50IHVzaW5nIHNlbGVjdG9yIFwiJHtwb3NpdGlvbi5lbH1cIiByZXR1cm5lZCBieSBzY3JvbGxCZWhhdmlvci5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzY3JvbGxUb09wdGlvbnMgPSBnZXRFbGVtZW50UG9zaXRpb24oZWwsIHBvc2l0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjcm9sbFRvT3B0aW9ucyA9IHBvc2l0aW9uO1xuICAgIH1cbiAgICBpZiAoJ3Njcm9sbEJlaGF2aW9yJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxUb09wdGlvbnMpO1xuICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsVG9PcHRpb25zLmxlZnQgIT0gbnVsbCA/IHNjcm9sbFRvT3B0aW9ucy5sZWZ0IDogd2luZG93LnNjcm9sbFgsIHNjcm9sbFRvT3B0aW9ucy50b3AgIT0gbnVsbCA/IHNjcm9sbFRvT3B0aW9ucy50b3AgOiB3aW5kb3cuc2Nyb2xsWSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0U2Nyb2xsS2V5KHBhdGgsIGRlbHRhKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBoaXN0b3J5LnN0YXRlID8gaGlzdG9yeS5zdGF0ZS5wb3NpdGlvbiAtIGRlbHRhIDogLTE7XG4gICAgcmV0dXJuIHBvc2l0aW9uICsgcGF0aDtcbn1cbmNvbnN0IHNjcm9sbFBvc2l0aW9ucyA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbihrZXksIHNjcm9sbFBvc2l0aW9uKSB7XG4gICAgc2Nyb2xsUG9zaXRpb25zLnNldChrZXksIHNjcm9sbFBvc2l0aW9uKTtcbn1cbmZ1bmN0aW9uIGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oa2V5KSB7XG4gICAgY29uc3Qgc2Nyb2xsID0gc2Nyb2xsUG9zaXRpb25zLmdldChrZXkpO1xuICAgIC8vIGNvbnN1bWUgaXQgc28gaXQncyBub3QgdXNlZCBhZ2FpblxuICAgIHNjcm9sbFBvc2l0aW9ucy5kZWxldGUoa2V5KTtcbiAgICByZXR1cm4gc2Nyb2xsO1xufVxuLy8gVE9ETzogUkZDIGFib3V0IGhvdyB0byBzYXZlIHNjcm9sbCBwb3NpdGlvblxuLyoqXG4gKiBTY3JvbGxCZWhhdmlvciBpbnN0YW5jZSB1c2VkIGJ5IHRoZSByb3V0ZXIgdG8gY29tcHV0ZSBhbmQgcmVzdG9yZSB0aGUgc2Nyb2xsXG4gKiBwb3NpdGlvbiB3aGVuIG5hdmlnYXRpbmcuXG4gKi9cbi8vIGV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsSGFuZGxlcjxTY3JvbGxQb3NpdGlvbkVudHJ5IGV4dGVuZHMgSGlzdG9yeVN0YXRlVmFsdWUsIFNjcm9sbFBvc2l0aW9uIGV4dGVuZHMgU2Nyb2xsUG9zaXRpb25FbnRyeT4ge1xuLy8gICAvLyByZXR1cm5zIGEgc2Nyb2xsIHBvc2l0aW9uIHRoYXQgY2FuIGJlIHNhdmVkIGluIGhpc3Rvcnlcbi8vICAgY29tcHV0ZSgpOiBTY3JvbGxQb3NpdGlvbkVudHJ5XG4vLyAgIC8vIGNhbiB0YWtlIGFuIGV4dGVuZGVkIFNjcm9sbFBvc2l0aW9uRW50cnlcbi8vICAgc2Nyb2xsKHBvc2l0aW9uOiBTY3JvbGxQb3NpdGlvbik6IHZvaWRcbi8vIH1cbi8vIGV4cG9ydCBjb25zdCBzY3JvbGxIYW5kbGVyOiBTY3JvbGxIYW5kbGVyPFNjcm9sbFBvc2l0aW9uPiA9IHtcbi8vICAgY29tcHV0ZTogY29tcHV0ZVNjcm9sbCxcbi8vICAgc2Nyb2xsOiBzY3JvbGxUb1Bvc2l0aW9uLFxuLy8gfVxuXG5sZXQgY3JlYXRlQmFzZUxvY2F0aW9uID0gKCkgPT4gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdDtcbi8qKlxuICogQ3JlYXRlcyBhIG5vcm1hbGl6ZWQgaGlzdG9yeSBsb2NhdGlvbiBmcm9tIGEgd2luZG93LmxvY2F0aW9uIG9iamVjdFxuICogQHBhcmFtIGJhc2UgLSBUaGUgYmFzZSBwYXRoXG4gKiBAcGFyYW0gbG9jYXRpb24gLSBUaGUgd2luZG93LmxvY2F0aW9uIG9iamVjdFxuICovXG5mdW5jdGlvbiBjcmVhdGVDdXJyZW50TG9jYXRpb24oYmFzZSwgbG9jYXRpb24pIHtcbiAgICBjb25zdCB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSA9IGxvY2F0aW9uO1xuICAgIC8vIGFsbG93cyBoYXNoIGJhc2VzIGxpa2UgIywgLyMsICMvLCAjISwgIyEvLCAvIyEvLCBvciBldmVuIC9mb2xkZXIjZW5kXG4gICAgY29uc3QgaGFzaFBvcyA9IGJhc2UuaW5kZXhPZignIycpO1xuICAgIGlmIChoYXNoUG9zID4gLTEpIHtcbiAgICAgICAgbGV0IHNsaWNlUG9zID0gaGFzaC5pbmNsdWRlcyhiYXNlLnNsaWNlKGhhc2hQb3MpKVxuICAgICAgICAgICAgPyBiYXNlLnNsaWNlKGhhc2hQb3MpLmxlbmd0aFxuICAgICAgICAgICAgOiAxO1xuICAgICAgICBsZXQgcGF0aEZyb21IYXNoID0gaGFzaC5zbGljZShzbGljZVBvcyk7XG4gICAgICAgIC8vIHByZXBlbmQgdGhlIHN0YXJ0aW5nIHNsYXNoIHRvIGhhc2ggc28gdGhlIHVybCBzdGFydHMgd2l0aCAvI1xuICAgICAgICBpZiAocGF0aEZyb21IYXNoWzBdICE9PSAnLycpXG4gICAgICAgICAgICBwYXRoRnJvbUhhc2ggPSAnLycgKyBwYXRoRnJvbUhhc2g7XG4gICAgICAgIHJldHVybiBzdHJpcEJhc2UocGF0aEZyb21IYXNoLCAnJyk7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBzdHJpcEJhc2UocGF0aG5hbWUsIGJhc2UpO1xuICAgIHJldHVybiBwYXRoICsgc2VhcmNoICsgaGFzaDtcbn1cbmZ1bmN0aW9uIHVzZUhpc3RvcnlMaXN0ZW5lcnMoYmFzZSwgaGlzdG9yeVN0YXRlLCBjdXJyZW50TG9jYXRpb24sIHJlcGxhY2UpIHtcbiAgICBsZXQgbGlzdGVuZXJzID0gW107XG4gICAgbGV0IHRlYXJkb3ducyA9IFtdO1xuICAgIC8vIFRPRE86IHNob3VsZCBpdCBiZSBhIHN0YWNrPyBhIERpY3QuIENoZWNrIGlmIHRoZSBwb3BzdGF0ZSBsaXN0ZW5lclxuICAgIC8vIGNhbiB0cmlnZ2VyIHR3aWNlXG4gICAgbGV0IHBhdXNlU3RhdGUgPSBudWxsO1xuICAgIGNvbnN0IHBvcFN0YXRlSGFuZGxlciA9ICh7IHN0YXRlLCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvID0gY3JlYXRlQ3VycmVudExvY2F0aW9uKGJhc2UsIGxvY2F0aW9uKTtcbiAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRMb2NhdGlvbi52YWx1ZTtcbiAgICAgICAgY29uc3QgZnJvbVN0YXRlID0gaGlzdG9yeVN0YXRlLnZhbHVlO1xuICAgICAgICBsZXQgZGVsdGEgPSAwO1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbi52YWx1ZSA9IHRvO1xuICAgICAgICAgICAgaGlzdG9yeVN0YXRlLnZhbHVlID0gc3RhdGU7XG4gICAgICAgICAgICAvLyBpZ25vcmUgdGhlIHBvcHN0YXRlIGFuZCByZXNldCB0aGUgcGF1c2VTdGF0ZVxuICAgICAgICAgICAgaWYgKHBhdXNlU3RhdGUgJiYgcGF1c2VTdGF0ZSA9PT0gZnJvbSkge1xuICAgICAgICAgICAgICAgIHBhdXNlU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbHRhID0gZnJvbVN0YXRlID8gc3RhdGUucG9zaXRpb24gLSBmcm9tU3RhdGUucG9zaXRpb24gOiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVwbGFjZSh0byk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGVyZSB3ZSBjb3VsZCBhbHNvIHJldmVydCB0aGUgbmF2aWdhdGlvbiBieSBjYWxsaW5nIGhpc3RvcnkuZ28oLWRlbHRhKVxuICAgICAgICAvLyB0aGlzIGxpc3RlbmVyIHdpbGwgaGF2ZSB0byBiZSBhZGFwdGVkIHRvIG5vdCB0cmlnZ2VyIGFnYWluIGFuZCB0byB3YWl0IGZvciB0aGUgdXJsXG4gICAgICAgIC8vIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHRyaWdnZXJpbmcgdGhlIGxpc3RlbmVycy4gU29tZSBraW5kIG9mIHZhbGlkYXRpb24gZnVuY3Rpb24gd291bGQgYWxzb1xuICAgICAgICAvLyBuZWVkIHRvIGJlIHBhc3NlZCB0byB0aGUgbGlzdGVuZXJzIHNvIHRoZSBuYXZpZ2F0aW9uIGNhbiBiZSBhY2NlcHRlZFxuICAgICAgICAvLyBjYWxsIGFsbCBsaXN0ZW5lcnNcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIoY3VycmVudExvY2F0aW9uLnZhbHVlLCBmcm9tLCB7XG4gICAgICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICAgICAgdHlwZTogTmF2aWdhdGlvblR5cGUucG9wLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGVsdGFcbiAgICAgICAgICAgICAgICAgICAgPyBkZWx0YSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTmF2aWdhdGlvbkRpcmVjdGlvbi5mb3J3YXJkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IE5hdmlnYXRpb25EaXJlY3Rpb24uYmFja1xuICAgICAgICAgICAgICAgICAgICA6IE5hdmlnYXRpb25EaXJlY3Rpb24udW5rbm93bixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHBhdXNlTGlzdGVuZXJzKCkge1xuICAgICAgICBwYXVzZVN0YXRlID0gY3VycmVudExvY2F0aW9uLnZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaXN0ZW4oY2FsbGJhY2spIHtcbiAgICAgICAgLy8gc2V0IHVwIHRoZSBsaXN0ZW5lciBhbmQgcHJlcGFyZSB0ZWFyZG93biBjYWxsYmFja3NcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBjb25zdCB0ZWFyZG93biA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH07XG4gICAgICAgIHRlYXJkb3ducy5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgcmV0dXJuIHRlYXJkb3duO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiZWZvcmVVbmxvYWRMaXN0ZW5lcigpIHtcbiAgICAgICAgY29uc3QgeyBoaXN0b3J5IH0gPSB3aW5kb3c7XG4gICAgICAgIGlmICghaGlzdG9yeS5zdGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoYXNzaWduKHt9LCBoaXN0b3J5LnN0YXRlLCB7IHNjcm9sbDogY29tcHV0ZVNjcm9sbFBvc2l0aW9uKCkgfSksICcnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChjb25zdCB0ZWFyZG93biBvZiB0ZWFyZG93bnMpXG4gICAgICAgICAgICB0ZWFyZG93bigpO1xuICAgICAgICB0ZWFyZG93bnMgPSBbXTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wU3RhdGVIYW5kbGVyKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGJlZm9yZVVubG9hZExpc3RlbmVyKTtcbiAgICB9XG4gICAgLy8gc2V0IHVwIHRoZSBsaXN0ZW5lcnMgYW5kIHByZXBhcmUgdGVhcmRvd24gY2FsbGJhY2tzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wU3RhdGVIYW5kbGVyKTtcbiAgICAvLyBUT0RPOiBjb3VsZCB3ZSB1c2UgJ3BhZ2VoaWRlJyBvciAndmlzaWJpbGl0eWNoYW5nZScgaW5zdGVhZD9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2Jsb2cvcGFnZS1saWZlY3ljbGUtYXBpL1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRMaXN0ZW5lciwge1xuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhdXNlTGlzdGVuZXJzLFxuICAgICAgICBsaXN0ZW4sXG4gICAgICAgIGRlc3Ryb3ksXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHN0YXRlIG9iamVjdFxuICovXG5mdW5jdGlvbiBidWlsZFN0YXRlKGJhY2ssIGN1cnJlbnQsIGZvcndhcmQsIHJlcGxhY2VkID0gZmFsc2UsIGNvbXB1dGVTY3JvbGwgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhY2ssXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIGZvcndhcmQsXG4gICAgICAgIHJlcGxhY2VkLFxuICAgICAgICBwb3NpdGlvbjogd2luZG93Lmhpc3RvcnkubGVuZ3RoLFxuICAgICAgICBzY3JvbGw6IGNvbXB1dGVTY3JvbGwgPyBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSA6IG51bGwsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24oYmFzZSkge1xuICAgIGNvbnN0IHsgaGlzdG9yeSwgbG9jYXRpb24gfSA9IHdpbmRvdztcbiAgICAvLyBwcml2YXRlIHZhcmlhYmxlc1xuICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHtcbiAgICAgICAgdmFsdWU6IGNyZWF0ZUN1cnJlbnRMb2NhdGlvbihiYXNlLCBsb2NhdGlvbiksXG4gICAgfTtcbiAgICBjb25zdCBoaXN0b3J5U3RhdGUgPSB7IHZhbHVlOiBoaXN0b3J5LnN0YXRlIH07XG4gICAgLy8gYnVpbGQgY3VycmVudCBoaXN0b3J5IGVudHJ5IGFzIHRoaXMgaXMgYSBmcmVzaCBuYXZpZ2F0aW9uXG4gICAgaWYgKCFoaXN0b3J5U3RhdGUudmFsdWUpIHtcbiAgICAgICAgY2hhbmdlTG9jYXRpb24oY3VycmVudExvY2F0aW9uLnZhbHVlLCB7XG4gICAgICAgICAgICBiYWNrOiBudWxsLFxuICAgICAgICAgICAgY3VycmVudDogY3VycmVudExvY2F0aW9uLnZhbHVlLFxuICAgICAgICAgICAgZm9yd2FyZDogbnVsbCxcbiAgICAgICAgICAgIC8vIHRoZSBsZW5ndGggaXMgb2ZmIGJ5IG9uZSwgd2UgbmVlZCB0byBkZWNyZWFzZSBpdFxuICAgICAgICAgICAgcG9zaXRpb246IGhpc3RvcnkubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgIHJlcGxhY2VkOiB0cnVlLFxuICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIGEgc2Nyb2xsIGFzIHRoZSB1c2VyIG1heSBoYXZlIGFuIGFuY2hvciwgYW5kIHdlIHdhbnRcbiAgICAgICAgICAgIC8vIHNjcm9sbEJlaGF2aW9yIHRvIGJlIHRyaWdnZXJlZCB3aXRob3V0IGEgc2F2ZWQgcG9zaXRpb25cbiAgICAgICAgICAgIHNjcm9sbDogbnVsbCxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgcmVwbGFjZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogaWYgYSBiYXNlIHRhZyBpcyBwcm92aWRlZCwgYW5kIHdlIGFyZSBvbiBhIG5vcm1hbCBkb21haW4sIHdlIGhhdmUgdG9cbiAgICAgICAgICogcmVzcGVjdCB0aGUgcHJvdmlkZWQgYGJhc2VgIGF0dHJpYnV0ZSBiZWNhdXNlIHB1c2hTdGF0ZSgpIHdpbGwgdXNlIGl0IGFuZFxuICAgICAgICAgKiBwb3RlbnRpYWxseSBlcmFzZSBhbnl0aGluZyBiZWZvcmUgdGhlIGAjYCBsaWtlIGF0XG4gICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzLzY4NSB3aGVyZSBhIGJhc2Ugb2ZcbiAgICAgICAgICogYC9mb2xkZXIvI2AgYnV0IGEgYmFzZSBvZiBgL2Agd291bGQgZXJhc2UgdGhlIGAvZm9sZGVyL2Agc2VjdGlvbi4gSWZcbiAgICAgICAgICogdGhlcmUgaXMgbm8gaG9zdCwgdGhlIGA8YmFzZT5gIHRhZyBtYWtlcyBubyBzZW5zZSBhbmQgaWYgdGhlcmUgaXNuJ3QgYVxuICAgICAgICAgKiBiYXNlIHRhZyB3ZSBjYW4ganVzdCB1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgYCNgLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaGFzaEluZGV4ID0gYmFzZS5pbmRleE9mKCcjJyk7XG4gICAgICAgIGNvbnN0IHVybCA9IGhhc2hJbmRleCA+IC0xXG4gICAgICAgICAgICA/IChsb2NhdGlvbi5ob3N0ICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Jhc2UnKVxuICAgICAgICAgICAgICAgID8gYmFzZVxuICAgICAgICAgICAgICAgIDogYmFzZS5zbGljZShoYXNoSW5kZXgpKSArIHRvXG4gICAgICAgICAgICA6IGNyZWF0ZUJhc2VMb2NhdGlvbigpICsgYmFzZSArIHRvO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQlJPV1NFUiBRVUlSS1xuICAgICAgICAgICAgLy8gTk9URTogU2FmYXJpIHRocm93cyBhIFNlY3VyaXR5RXJyb3Igd2hlbiBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gMTAwIHRpbWVzIGluIDMwIHNlY29uZHNcbiAgICAgICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcbiAgICAgICAgICAgIGhpc3RvcnlTdGF0ZS52YWx1ZSA9IHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdFcnJvciB3aXRoIHB1c2gvcmVwbGFjZSBTdGF0ZScsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3JjZSB0aGUgbmF2aWdhdGlvbiwgdGhpcyBhbHNvIHJlc2V0cyB0aGUgY2FsbCBjb3VudFxuICAgICAgICAgICAgbG9jYXRpb25bcmVwbGFjZSA/ICdyZXBsYWNlJyA6ICdhc3NpZ24nXSh1cmwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxhY2UodG8sIGRhdGEpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhc3NpZ24oe30sIGhpc3Rvcnkuc3RhdGUsIGJ1aWxkU3RhdGUoaGlzdG9yeVN0YXRlLnZhbHVlLmJhY2ssIFxuICAgICAgICAvLyBrZWVwIGJhY2sgYW5kIGZvcndhcmQgZW50cmllcyBidXQgb3ZlcnJpZGUgY3VycmVudCBwb3NpdGlvblxuICAgICAgICB0bywgaGlzdG9yeVN0YXRlLnZhbHVlLmZvcndhcmQsIHRydWUpLCBkYXRhLCB7IHBvc2l0aW9uOiBoaXN0b3J5U3RhdGUudmFsdWUucG9zaXRpb24gfSk7XG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgdHJ1ZSk7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbi52YWx1ZSA9IHRvO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoKHRvLCBkYXRhKSB7XG4gICAgICAgIC8vIEFkZCB0byBjdXJyZW50IGVudHJ5IHRoZSBpbmZvcm1hdGlvbiBvZiB3aGVyZSB3ZSBhcmUgZ29pbmdcbiAgICAgICAgLy8gYXMgd2VsbCBhcyBzYXZpbmcgdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gYXNzaWduKHt9LCBcbiAgICAgICAgLy8gdXNlIGN1cnJlbnQgaGlzdG9yeSBzdGF0ZSB0byBncmFjZWZ1bGx5IGhhbmRsZSBhIHdyb25nIGNhbGwgdG9cbiAgICAgICAgLy8gaGlzdG9yeS5yZXBsYWNlU3RhdGVcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JvdXRlci9pc3N1ZXMvMzY2XG4gICAgICAgIGhpc3RvcnlTdGF0ZS52YWx1ZSwgaGlzdG9yeS5zdGF0ZSwge1xuICAgICAgICAgICAgZm9yd2FyZDogdG8sXG4gICAgICAgICAgICBzY3JvbGw6IGNvbXB1dGVTY3JvbGxQb3NpdGlvbigpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGlzdG9yeS5zdGF0ZSkge1xuICAgICAgICAgICAgd2FybihgaGlzdG9yeS5zdGF0ZSBzZWVtcyB0byBoYXZlIGJlZW4gbWFudWFsbHkgcmVwbGFjZWQgd2l0aG91dCBwcmVzZXJ2aW5nIHRoZSBuZWNlc3NhcnkgdmFsdWVzLiBNYWtlIHN1cmUgdG8gcHJlc2VydmUgZXhpc3RpbmcgaGlzdG9yeSBzdGF0ZSBpZiB5b3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgaGlzdG9yeS5yZXBsYWNlU3RhdGU6XFxuXFxuYCArXG4gICAgICAgICAgICAgICAgYGhpc3RvcnkucmVwbGFjZVN0YXRlKGhpc3Rvcnkuc3RhdGUsICcnLCB1cmwpXFxuXFxuYCArXG4gICAgICAgICAgICAgICAgYFlvdSBjYW4gZmluZCBtb3JlIGluZm9ybWF0aW9uIGF0IGh0dHBzOi8vcm91dGVyLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vI1VzYWdlLW9mLWhpc3Rvcnktc3RhdGVgKTtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2VMb2NhdGlvbihjdXJyZW50U3RhdGUuY3VycmVudCwgY3VycmVudFN0YXRlLCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhc3NpZ24oe30sIGJ1aWxkU3RhdGUoY3VycmVudExvY2F0aW9uLnZhbHVlLCB0bywgbnVsbCksIHsgcG9zaXRpb246IGN1cnJlbnRTdGF0ZS5wb3NpdGlvbiArIDEgfSwgZGF0YSk7XG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgZmFsc2UpO1xuICAgICAgICBjdXJyZW50TG9jYXRpb24udmFsdWUgPSB0bztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYXRpb246IGN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgc3RhdGU6IGhpc3RvcnlTdGF0ZSxcbiAgICAgICAgcHVzaCxcbiAgICAgICAgcmVwbGFjZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIEhUTUw1IGhpc3RvcnkuIE1vc3QgY29tbW9uIGhpc3RvcnkgZm9yIHNpbmdsZSBwYWdlIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBAcGFyYW0gYmFzZSAtXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdlYkhpc3RvcnkoYmFzZSkge1xuICAgIGJhc2UgPSBub3JtYWxpemVCYXNlKGJhc2UpO1xuICAgIGNvbnN0IGhpc3RvcnlOYXZpZ2F0aW9uID0gdXNlSGlzdG9yeVN0YXRlTmF2aWdhdGlvbihiYXNlKTtcbiAgICBjb25zdCBoaXN0b3J5TGlzdGVuZXJzID0gdXNlSGlzdG9yeUxpc3RlbmVycyhiYXNlLCBoaXN0b3J5TmF2aWdhdGlvbi5zdGF0ZSwgaGlzdG9yeU5hdmlnYXRpb24ubG9jYXRpb24sIGhpc3RvcnlOYXZpZ2F0aW9uLnJlcGxhY2UpO1xuICAgIGZ1bmN0aW9uIGdvKGRlbHRhLCB0cmlnZ2VyTGlzdGVuZXJzID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXRyaWdnZXJMaXN0ZW5lcnMpXG4gICAgICAgICAgICBoaXN0b3J5TGlzdGVuZXJzLnBhdXNlTGlzdGVuZXJzKCk7XG4gICAgICAgIGhpc3RvcnkuZ28oZGVsdGEpO1xuICAgIH1cbiAgICBjb25zdCByb3V0ZXJIaXN0b3J5ID0gYXNzaWduKHtcbiAgICAgICAgLy8gaXQncyBvdmVycmlkZGVuIHJpZ2h0IGFmdGVyXG4gICAgICAgIGxvY2F0aW9uOiAnJyxcbiAgICAgICAgYmFzZSxcbiAgICAgICAgZ28sXG4gICAgICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYuYmluZChudWxsLCBiYXNlKSxcbiAgICB9LCBoaXN0b3J5TmF2aWdhdGlvbiwgaGlzdG9yeUxpc3RlbmVycyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdXRlckhpc3RvcnksICdsb2NhdGlvbicsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBoaXN0b3J5TmF2aWdhdGlvbi5sb2NhdGlvbi52YWx1ZSxcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm91dGVySGlzdG9yeSwgJ3N0YXRlJywge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGhpc3RvcnlOYXZpZ2F0aW9uLnN0YXRlLnZhbHVlLFxuICAgIH0pO1xuICAgIHJldHVybiByb3V0ZXJIaXN0b3J5O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW4tbWVtb3J5IGJhc2VkIGhpc3RvcnkuIFRoZSBtYWluIHB1cnBvc2Ugb2YgdGhpcyBoaXN0b3J5IGlzIHRvIGhhbmRsZSBTU1IuIEl0IHN0YXJ0cyBpbiBhIHNwZWNpYWwgbG9jYXRpb24gdGhhdCBpcyBub3doZXJlLlxuICogSXQncyB1cCB0byB0aGUgdXNlciB0byByZXBsYWNlIHRoYXQgbG9jYXRpb24gd2l0aCB0aGUgc3RhcnRlciBsb2NhdGlvbiBieSBlaXRoZXIgY2FsbGluZyBgcm91dGVyLnB1c2hgIG9yIGByb3V0ZXIucmVwbGFjZWAuXG4gKlxuICogQHBhcmFtIGJhc2UgLSBCYXNlIGFwcGxpZWQgdG8gYWxsIHVybHMsIGRlZmF1bHRzIHRvICcvJ1xuICogQHJldHVybnMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIHJvdXRlciBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KGJhc2UgPSAnJykge1xuICAgIGxldCBsaXN0ZW5lcnMgPSBbXTtcbiAgICBsZXQgcXVldWUgPSBbW1NUQVJULCB7fV1dO1xuICAgIGxldCBwb3NpdGlvbiA9IDA7XG4gICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2UoYmFzZSk7XG4gICAgZnVuY3Rpb24gc2V0TG9jYXRpb24obG9jYXRpb24sIHN0YXRlID0ge30pIHtcbiAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHdlIGFyZSBpbiB0aGUgbWlkZGxlLCB3ZSByZW1vdmUgZXZlcnl0aGluZyBmcm9tIGhlcmUgaW4gdGhlIHF1ZXVlXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXVlLnB1c2goW2xvY2F0aW9uLCBzdGF0ZV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmlnZ2VyTGlzdGVuZXJzKHRvLCBmcm9tLCB7IGRpcmVjdGlvbiwgZGVsdGEgfSkge1xuICAgICAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICB0eXBlOiBOYXZpZ2F0aW9uVHlwZS5wb3AsXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayh0bywgZnJvbSwgaW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgcm91dGVySGlzdG9yeSA9IHtcbiAgICAgICAgLy8gcmV3cml0dGVuIGJ5IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAgICAgICBsb2NhdGlvbjogU1RBUlQsXG4gICAgICAgIC8vIHJld3JpdHRlbiBieSBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgICAgICAgc3RhdGU6IHt9LFxuICAgICAgICBiYXNlLFxuICAgICAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLmJpbmQobnVsbCwgYmFzZSksXG4gICAgICAgIHJlcGxhY2UodG8sIHN0YXRlKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgY3VycmVudCBlbnRyeSBhbmQgZGVjcmVtZW50IHBvc2l0aW9uXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zaXRpb24tLSwgMSk7XG4gICAgICAgICAgICBzZXRMb2NhdGlvbih0bywgc3RhdGUpO1xuICAgICAgICB9LFxuICAgICAgICBwdXNoKHRvLCBzdGF0ZSkge1xuICAgICAgICAgICAgc2V0TG9jYXRpb24odG8sIHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdGVuKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgICAgIHF1ZXVlID0gW1tTVEFSVCwge31dXTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZ28oZGVsdGEsIHNob3VsZFRyaWdnZXIgPSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5sb2NhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IFxuICAgICAgICAgICAgLy8gd2UgYXJlIGNvbnNpZGVyaW5nIGRlbHRhID09PSAwIGdvaW5nIGZvcndhcmQsIGJ1dCBpbiBhYnN0cmFjdCBtb2RlXG4gICAgICAgICAgICAvLyB1c2luZyAwIGZvciB0aGUgZGVsdGEgZG9lc24ndCBtYWtlIHNlbnNlIGxpa2UgaXQgZG9lcyBpbiBodG1sNSB3aGVyZVxuICAgICAgICAgICAgLy8gaXQgcmVsb2FkcyB0aGUgcGFnZVxuICAgICAgICAgICAgZGVsdGEgPCAwID8gTmF2aWdhdGlvbkRpcmVjdGlvbi5iYWNrIDogTmF2aWdhdGlvbkRpcmVjdGlvbi5mb3J3YXJkO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwb3NpdGlvbiArIGRlbHRhLCBxdWV1ZS5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0ZW5lcnModGhpcy5sb2NhdGlvbiwgZnJvbSwge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdXRlckhpc3RvcnksICdsb2NhdGlvbicsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBxdWV1ZVtwb3NpdGlvbl1bMF0sXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdXRlckhpc3RvcnksICdzdGF0ZScsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBxdWV1ZVtwb3NpdGlvbl1bMV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHJvdXRlckhpc3Rvcnk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggaGlzdG9yeS4gVXNlZnVsIGZvciB3ZWIgYXBwbGljYXRpb25zIHdpdGggbm8gaG9zdCAoZS5nLiBgZmlsZTovL2ApIG9yIHdoZW4gY29uZmlndXJpbmcgYSBzZXJ2ZXIgdG9cbiAqIGhhbmRsZSBhbnkgVVJMIGlzIG5vdCBwb3NzaWJsZS5cbiAqXG4gKiBAcGFyYW0gYmFzZSAtIG9wdGlvbmFsIGJhc2UgdG8gcHJvdmlkZS4gRGVmYXVsdHMgdG8gYGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoYCBJZiB0aGVyZSBpcyBhIGA8YmFzZT5gIHRhZ1xuICogaW4gdGhlIGBoZWFkYCwgaXRzIHZhbHVlIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvciBvZiB0aGlzIHBhcmFtZXRlciAqKmJ1dCBub3RlIGl0IGFmZmVjdHMgYWxsIHRoZSBoaXN0b3J5LnB1c2hTdGF0ZSgpXG4gKiBjYWxscyoqLCBtZWFuaW5nIHRoYXQgaWYgeW91IHVzZSBhIGA8YmFzZT5gIHRhZywgaXQncyBgaHJlZmAgdmFsdWUgKipoYXMgdG8gbWF0Y2ggdGhpcyBwYXJhbWV0ZXIqKiAoaWdub3JpbmcgYW55dGhpbmdcbiAqIGFmdGVyIHRoZSBgI2ApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogLy8gYXQgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXJcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCkgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vZm9sZGVyI2BcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCcvZm9sZGVyLycpIC8vIGdpdmVzIGEgdXJsIG9mIGBodHRwczovL2V4YW1wbGUuY29tL2ZvbGRlci8jYFxuICogLy8gaWYgdGhlIGAjYCBpcyBwcm92aWRlZCBpbiB0aGUgYmFzZSwgaXQgd29uJ3QgYmUgYWRkZWQgYnkgYGNyZWF0ZVdlYkhhc2hIaXN0b3J5YFxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoJy9mb2xkZXIvIy9hcHAvJykgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vZm9sZGVyLyMvYXBwL2BcbiAqIC8vIHlvdSBzaG91bGQgYXZvaWQgZG9pbmcgdGhpcyBiZWNhdXNlIGl0IGNoYW5nZXMgdGhlIG9yaWdpbmFsIHVybCBhbmQgYnJlYWtzIGNvcHlpbmcgdXJsc1xuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoJy9vdGhlci1mb2xkZXIvJykgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vb3RoZXItZm9sZGVyLyNgXG4gKlxuICogLy8gYXQgZmlsZTovLy91c3IvZXRjL2ZvbGRlci9pbmRleC5odG1sXG4gKiAvLyBmb3IgbG9jYXRpb25zIHdpdGggbm8gYGhvc3RgLCB0aGUgYmFzZSBpcyBpZ25vcmVkXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL2lBbUlnbm9yZWQnKSAvLyBnaXZlcyBhIHVybCBvZiBgZmlsZTovLy91c3IvZXRjL2ZvbGRlci9pbmRleC5odG1sI2BcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBjcmVhdGVXZWJIYXNoSGlzdG9yeShiYXNlKSB7XG4gICAgLy8gTWFrZSBzdXJlIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgZmluZSBpbiB0ZXJtcyBvZiBlbmNvZGluZywgc3BlY2lhbGx5IGZvciBJRTExXG4gICAgLy8gZm9yIGBmaWxlOi8vYCwgZGlyZWN0bHkgdXNlIHRoZSBwYXRobmFtZSBhbmQgaWdub3JlIHRoZSBiYXNlXG4gICAgLy8gbG9jYXRpb24ucGF0aG5hbWUgY29udGFpbnMgYW4gaW5pdGlhbCBgL2AgZXZlbiBhdCB0aGUgcm9vdDogYGh0dHBzOi8vZXhhbXBsZS5jb21gXG4gICAgYmFzZSA9IGxvY2F0aW9uLmhvc3QgPyBiYXNlIHx8IGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoIDogJyc7XG4gICAgLy8gYWxsb3cgdGhlIHVzZXIgdG8gcHJvdmlkZSBhIGAjYCBpbiB0aGUgbWlkZGxlOiBgL2Jhc2UvIy9hcHBgXG4gICAgaWYgKCFiYXNlLmluY2x1ZGVzKCcjJykpXG4gICAgICAgIGJhc2UgKz0gJyMnO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWJhc2UuZW5kc1dpdGgoJyMvJykgJiYgIWJhc2UuZW5kc1dpdGgoJyMnKSkge1xuICAgICAgICB3YXJuKGBBIGhhc2ggYmFzZSBtdXN0IGVuZCB3aXRoIGEgXCIjXCI6XFxuXCIke2Jhc2V9XCIgc2hvdWxkIGJlIFwiJHtiYXNlLnJlcGxhY2UoLyMuKiQvLCAnIycpfVwiLmApO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlV2ViSGlzdG9yeShiYXNlKTtcbn1cblxuZnVuY3Rpb24gaXNSb3V0ZUxvY2F0aW9uKHJvdXRlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiByb3V0ZSA9PT0gJ3N0cmluZycgfHwgKHJvdXRlICYmIHR5cGVvZiByb3V0ZSA9PT0gJ29iamVjdCcpO1xufVxuZnVuY3Rpb24gaXNSb3V0ZU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnO1xufVxuXG5jb25zdCBOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnbmF2aWdhdGlvbiBmYWlsdXJlJyA6ICcnKTtcbi8qKlxuICogRW51bWVyYXRpb24gd2l0aCBhbGwgcG9zc2libGUgdHlwZXMgZm9yIG5hdmlnYXRpb24gZmFpbHVyZXMuIENhbiBiZSBwYXNzZWQgdG9cbiAqIHtAbGluayBpc05hdmlnYXRpb25GYWlsdXJlfSB0byBjaGVjayBmb3Igc3BlY2lmaWMgZmFpbHVyZXMuXG4gKi9cbnZhciBOYXZpZ2F0aW9uRmFpbHVyZVR5cGU7XG4oZnVuY3Rpb24gKE5hdmlnYXRpb25GYWlsdXJlVHlwZSkge1xuICAgIC8qKlxuICAgICAqIEFuIGFib3J0ZWQgbmF2aWdhdGlvbiBpcyBhIG5hdmlnYXRpb24gdGhhdCBmYWlsZWQgYmVjYXVzZSBhIG5hdmlnYXRpb25cbiAgICAgKiBndWFyZCByZXR1cm5lZCBgZmFsc2VgIG9yIGNhbGxlZCBgbmV4dChmYWxzZSlgXG4gICAgICovXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImFib3J0ZWRcIl0gPSA0XSA9IFwiYWJvcnRlZFwiO1xuICAgIC8qKlxuICAgICAqIEEgY2FuY2VsbGVkIG5hdmlnYXRpb24gaXMgYSBuYXZpZ2F0aW9uIHRoYXQgZmFpbGVkIGJlY2F1c2UgYSBtb3JlIHJlY2VudFxuICAgICAqIG5hdmlnYXRpb24gZmluaXNoZWQgc3RhcnRlZCAobm90IG5lY2Vzc2FyaWx5IGZpbmlzaGVkKS5cbiAgICAgKi9cbiAgICBOYXZpZ2F0aW9uRmFpbHVyZVR5cGVbTmF2aWdhdGlvbkZhaWx1cmVUeXBlW1wiY2FuY2VsbGVkXCJdID0gOF0gPSBcImNhbmNlbGxlZFwiO1xuICAgIC8qKlxuICAgICAqIEEgZHVwbGljYXRlZCBuYXZpZ2F0aW9uIGlzIGEgbmF2aWdhdGlvbiB0aGF0IGZhaWxlZCBiZWNhdXNlIGl0IHdhc1xuICAgICAqIGluaXRpYXRlZCB3aGlsZSBhbHJlYWR5IGJlaW5nIGF0IHRoZSBleGFjdCBzYW1lIGxvY2F0aW9uLlxuICAgICAqL1xuICAgIE5hdmlnYXRpb25GYWlsdXJlVHlwZVtOYXZpZ2F0aW9uRmFpbHVyZVR5cGVbXCJkdXBsaWNhdGVkXCJdID0gMTZdID0gXCJkdXBsaWNhdGVkXCI7XG59KShOYXZpZ2F0aW9uRmFpbHVyZVR5cGUgfHwgKE5hdmlnYXRpb25GYWlsdXJlVHlwZSA9IHt9KSk7XG4vLyBERVYgb25seSBkZWJ1ZyBtZXNzYWdlc1xuY29uc3QgRXJyb3JUeXBlTWVzc2FnZXMgPSB7XG4gICAgWzEgLyogRXJyb3JUeXBlcy5NQVRDSEVSX05PVF9GT1VORCAqL10oeyBsb2NhdGlvbiwgY3VycmVudExvY2F0aW9uIH0pIHtcbiAgICAgICAgcmV0dXJuIGBObyBtYXRjaCBmb3JcXG4gJHtKU09OLnN0cmluZ2lmeShsb2NhdGlvbil9JHtjdXJyZW50TG9jYXRpb25cbiAgICAgICAgICAgID8gJ1xcbndoaWxlIGJlaW5nIGF0XFxuJyArIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRMb2NhdGlvbilcbiAgICAgICAgICAgIDogJyd9YDtcbiAgICB9LFxuICAgIFsyIC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqL10oeyBmcm9tLCB0bywgfSkge1xuICAgICAgICByZXR1cm4gYFJlZGlyZWN0ZWQgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7c3RyaW5naWZ5Um91dGUodG8pfVwiIHZpYSBhIG5hdmlnYXRpb24gZ3VhcmQuYDtcbiAgICB9LFxuICAgIFs0IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9BQk9SVEVEICovXSh7IGZyb20sIHRvIH0pIHtcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uIGFib3J0ZWQgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7dG8uZnVsbFBhdGh9XCIgdmlhIGEgbmF2aWdhdGlvbiBndWFyZC5gO1xuICAgIH0sXG4gICAgWzggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqL10oeyBmcm9tLCB0byB9KSB7XG4gICAgICAgIHJldHVybiBgTmF2aWdhdGlvbiBjYW5jZWxsZWQgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7dG8uZnVsbFBhdGh9XCIgd2l0aCBhIG5ldyBuYXZpZ2F0aW9uLmA7XG4gICAgfSxcbiAgICBbMTYgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0RVUExJQ0FURUQgKi9dKHsgZnJvbSwgdG8gfSkge1xuICAgICAgICByZXR1cm4gYEF2b2lkZWQgcmVkdW5kYW50IG5hdmlnYXRpb24gdG8gY3VycmVudCBsb2NhdGlvbjogXCIke2Zyb20uZnVsbFBhdGh9XCIuYDtcbiAgICB9LFxufTtcbi8qKlxuICogQ3JlYXRlcyBhIHR5cGVkIE5hdmlnYXRpb25GYWlsdXJlIG9iamVjdC5cbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHR5cGUgLSBOYXZpZ2F0aW9uRmFpbHVyZVR5cGVcbiAqIEBwYXJhbSBwYXJhbXMgLSB7IGZyb20sIHRvIH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm91dGVyRXJyb3IodHlwZSwgcGFyYW1zKSB7XG4gICAgLy8ga2VlcCBmdWxsIGVycm9yIG1lc3NhZ2VzIGluIGNqcyB2ZXJzaW9uc1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIXRydWUpIHtcbiAgICAgICAgcmV0dXJuIGFzc2lnbihuZXcgRXJyb3IoRXJyb3JUeXBlTWVzc2FnZXNbdHlwZV0ocGFyYW1zKSksIHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBbTmF2aWdhdGlvbkZhaWx1cmVTeW1ib2xdOiB0cnVlLFxuICAgICAgICB9LCBwYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFzc2lnbihuZXcgRXJyb3IoKSwge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIFtOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbF06IHRydWUsXG4gICAgICAgIH0sIHBhcmFtcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvciwgdHlwZSkge1xuICAgIHJldHVybiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuICAgICAgICBOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbCBpbiBlcnJvciAmJlxuICAgICAgICAodHlwZSA9PSBudWxsIHx8ICEhKGVycm9yLnR5cGUgJiB0eXBlKSkpO1xufVxuY29uc3QgcHJvcGVydGllc1RvTG9nID0gWydwYXJhbXMnLCAncXVlcnknLCAnaGFzaCddO1xuZnVuY3Rpb24gc3RyaW5naWZ5Um91dGUodG8pIHtcbiAgICBpZiAodHlwZW9mIHRvID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIGlmICh0by5wYXRoICE9IG51bGwpXG4gICAgICAgIHJldHVybiB0by5wYXRoO1xuICAgIGNvbnN0IGxvY2F0aW9uID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgb2YgcHJvcGVydGllc1RvTG9nKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdG8pXG4gICAgICAgICAgICBsb2NhdGlvbltrZXldID0gdG9ba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGxvY2F0aW9uLCBudWxsLCAyKTtcbn1cblxuLy8gZGVmYXVsdCBwYXR0ZXJuIGZvciBhIHBhcmFtOiBub24tZ3JlZWR5IGV2ZXJ5dGhpbmcgYnV0IC9cbmNvbnN0IEJBU0VfUEFSQU1fUEFUVEVSTiA9ICdbXi9dKz8nO1xuY29uc3QgQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TID0ge1xuICAgIHNlbnNpdGl2ZTogZmFsc2UsXG4gICAgc3RyaWN0OiBmYWxzZSxcbiAgICBzdGFydDogdHJ1ZSxcbiAgICBlbmQ6IHRydWUsXG59O1xuLy8gU3BlY2lhbCBSZWdleCBjaGFyYWN0ZXJzIHRoYXQgbXVzdCBiZSBlc2NhcGVkIGluIHN0YXRpYyB0b2tlbnNcbmNvbnN0IFJFR0VYX0NIQVJTX1JFID0gL1suKyo/XiR7fSgpW1xcXS9cXFxcXS9nO1xuLyoqXG4gKiBDcmVhdGVzIGEgcGF0aCBwYXJzZXIgZnJvbSBhbiBhcnJheSBvZiBTZWdtZW50cyAoYSBzZWdtZW50IGlzIGFuIGFycmF5IG9mIFRva2VucylcbiAqXG4gKiBAcGFyYW0gc2VnbWVudHMgLSBhcnJheSBvZiBzZWdtZW50cyByZXR1cm5lZCBieSB0b2tlbml6ZVBhdGhcbiAqIEBwYXJhbSBleHRyYU9wdGlvbnMgLSBvcHRpb25hbCBvcHRpb25zIGZvciB0aGUgcmVnZXhwXG4gKiBAcmV0dXJucyBhIFBhdGhQYXJzZXJcbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9QYXJzZXIoc2VnbWVudHMsIGV4dHJhT3B0aW9ucykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBhc3NpZ24oe30sIEJBU0VfUEFUSF9QQVJTRVJfT1BUSU9OUywgZXh0cmFPcHRpb25zKTtcbiAgICAvLyB0aGUgYW1vdW50IG9mIHNjb3JlcyBpcyB0aGUgc2FtZSBhcyB0aGUgbGVuZ3RoIG9mIHNlZ21lbnRzIGV4Y2VwdCBmb3IgdGhlIHJvb3Qgc2VnbWVudCBcIi9cIlxuICAgIGNvbnN0IHNjb3JlID0gW107XG4gICAgLy8gdGhlIHJlZ2V4cCBhcyBhIHN0cmluZ1xuICAgIGxldCBwYXR0ZXJuID0gb3B0aW9ucy5zdGFydCA/ICdeJyA6ICcnO1xuICAgIC8vIGV4dHJhY3RlZCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgICAgICAvLyB0aGUgcm9vdCBzZWdtZW50IG5lZWRzIHNwZWNpYWwgdHJlYXRtZW50XG4gICAgICAgIGNvbnN0IHNlZ21lbnRTY29yZXMgPSBzZWdtZW50Lmxlbmd0aCA/IFtdIDogWzkwIC8qIFBhdGhTY29yZS5Sb290ICovXTtcbiAgICAgICAgLy8gYWxsb3cgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RyaWN0ICYmICFzZWdtZW50Lmxlbmd0aClcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gJy8nO1xuICAgICAgICBmb3IgKGxldCB0b2tlbkluZGV4ID0gMDsgdG9rZW5JbmRleCA8IHNlZ21lbnQubGVuZ3RoOyB0b2tlbkluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2VnbWVudFt0b2tlbkluZGV4XTtcbiAgICAgICAgICAgIC8vIHJlc2V0cyB0aGUgc2NvcmUgaWYgd2UgYXJlIGluc2lkZSBhIHN1Yi1zZWdtZW50IC86YS1vdGhlci06YlxuICAgICAgICAgICAgbGV0IHN1YlNlZ21lbnRTY29yZSA9IDQwIC8qIFBhdGhTY29yZS5TZWdtZW50ICovICtcbiAgICAgICAgICAgICAgICAob3B0aW9ucy5zZW5zaXRpdmUgPyAwLjI1IC8qIFBhdGhTY29yZS5Cb251c0Nhc2VTZW5zaXRpdmUgKi8gOiAwKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAwIC8qIFRva2VuVHlwZS5TdGF0aWMgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBwcmVwZW5kIHRoZSBzbGFzaCBpZiB3ZSBhcmUgc3RhcnRpbmcgYSBuZXcgc2VnbWVudFxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5JbmRleClcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSAnLyc7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSB0b2tlbi52YWx1ZS5yZXBsYWNlKFJFR0VYX0NIQVJTX1JFLCAnXFxcXCQmJyk7XG4gICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IDQwIC8qIFBhdGhTY29yZS5TdGF0aWMgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSAxIC8qIFRva2VuVHlwZS5QYXJhbSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIHJlcGVhdGFibGUsIG9wdGlvbmFsLCByZWdleHAgfSA9IHRva2VuO1xuICAgICAgICAgICAgICAgIGtleXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICByZXBlYXRhYmxlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZSA9IHJlZ2V4cCA/IHJlZ2V4cCA6IEJBU0VfUEFSQU1fUEFUVEVSTjtcbiAgICAgICAgICAgICAgICAvLyB0aGUgdXNlciBwcm92aWRlZCBhIGN1c3RvbSByZWdleHAgLzppZChcXFxcZCspXG4gICAgICAgICAgICAgICAgaWYgKHJlICE9PSBCQVNFX1BBUkFNX1BBVFRFUk4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IDEwIC8qIFBhdGhTY29yZS5Cb251c0N1c3RvbVJlZ0V4cCAqLztcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSByZWdleHAgaXMgdmFsaWQgYmVmb3JlIHVzaW5nIGl0XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKGAoJHtyZX0pYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGN1c3RvbSBSZWdFeHAgZm9yIHBhcmFtIFwiJHt2YWx1ZX1cIiAoJHtyZX0pOiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2hlbiB3ZSByZXBlYXQgd2UgbXVzdCB0YWtlIGNhcmUgb2YgdGhlIHJlcGVhdGluZyBsZWFkaW5nIHNsYXNoXG4gICAgICAgICAgICAgICAgbGV0IHN1YlBhdHRlcm4gPSByZXBlYXRhYmxlID8gYCgoPzoke3JlfSkoPzovKD86JHtyZX0pKSopYCA6IGAoJHtyZX0pYDtcbiAgICAgICAgICAgICAgICAvLyBwcmVwZW5kIHRoZSBzbGFzaCBpZiB3ZSBhcmUgc3RhcnRpbmcgYSBuZXcgc2VnbWVudFxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5JbmRleClcbiAgICAgICAgICAgICAgICAgICAgc3ViUGF0dGVybiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBhbiBvcHRpb25hbCAvIGlmIHRoZXJlIGFyZSBtb3JlIHNlZ21lbnRzIGUuZy4gLzpwPy1zdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIC86cD8tOnAyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbCAmJiBzZWdtZW50Lmxlbmd0aCA8IDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAoPzovJHtzdWJQYXR0ZXJufSlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnLycgKyBzdWJQYXR0ZXJuO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbClcbiAgICAgICAgICAgICAgICAgICAgc3ViUGF0dGVybiArPSAnPyc7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBzdWJQYXR0ZXJuO1xuICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAyMCAvKiBQYXRoU2NvcmUuRHluYW1pYyAqLztcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAtOCAvKiBQYXRoU2NvcmUuQm9udXNPcHRpb25hbCAqLztcbiAgICAgICAgICAgICAgICBpZiAocmVwZWF0YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC0yMCAvKiBQYXRoU2NvcmUuQm9udXNSZXBlYXRhYmxlICovO1xuICAgICAgICAgICAgICAgIGlmIChyZSA9PT0gJy4qJylcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC01MCAvKiBQYXRoU2NvcmUuQm9udXNXaWxkY2FyZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZ21lbnRTY29yZXMucHVzaChzdWJTZWdtZW50U2NvcmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFuIGVtcHR5IGFycmF5IGxpa2UgL2hvbWUvIC0+IFtbe2hvbWV9XSwgW11dXG4gICAgICAgIC8vIGlmICghc2VnbWVudC5sZW5ndGgpIHBhdHRlcm4gKz0gJy8nXG4gICAgICAgIHNjb3JlLnB1c2goc2VnbWVudFNjb3Jlcyk7XG4gICAgfVxuICAgIC8vIG9ubHkgYXBwbHkgdGhlIHN0cmljdCBib251cyB0byB0aGUgbGFzdCBzY29yZVxuICAgIGlmIChvcHRpb25zLnN0cmljdCAmJiBvcHRpb25zLmVuZCkge1xuICAgICAgICBjb25zdCBpID0gc2NvcmUubGVuZ3RoIC0gMTtcbiAgICAgICAgc2NvcmVbaV1bc2NvcmVbaV0ubGVuZ3RoIC0gMV0gKz0gMC43MDAwMDAwMDAwMDAwMDAxIC8qIFBhdGhTY29yZS5Cb251c1N0cmljdCAqLztcbiAgICB9XG4gICAgLy8gVE9ETzogZGV2IG9ubHkgd2FybiBkb3VibGUgdHJhaWxpbmcgc2xhc2hcbiAgICBpZiAoIW9wdGlvbnMuc3RyaWN0KVxuICAgICAgICBwYXR0ZXJuICs9ICcvPyc7XG4gICAgaWYgKG9wdGlvbnMuZW5kKVxuICAgICAgICBwYXR0ZXJuICs9ICckJztcbiAgICAvLyBhbGxvdyBwYXRocyBsaWtlIC9keW5hbWljIHRvIG9ubHkgbWF0Y2ggZHluYW1pYyBvciBkeW5hbWljLy4uLiBidXQgbm90IGR5bmFtaWNfc29tZXRoaW5nX2Vsc2VcbiAgICBlbHNlIGlmIChvcHRpb25zLnN0cmljdCAmJiAhcGF0dGVybi5lbmRzV2l0aCgnLycpKVxuICAgICAgICBwYXR0ZXJuICs9ICcoPzovfCQpJztcbiAgICBjb25zdCByZSA9IG5ldyBSZWdFeHAocGF0dGVybiwgb3B0aW9ucy5zZW5zaXRpdmUgPyAnJyA6ICdpJyk7XG4gICAgZnVuY3Rpb24gcGFyc2UocGF0aCkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHBhdGgubWF0Y2gocmUpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG1hdGNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG1hdGNoW2ldIHx8ICcnO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpIC0gMV07XG4gICAgICAgICAgICBwYXJhbXNba2V5Lm5hbWVdID0gdmFsdWUgJiYga2V5LnJlcGVhdGFibGUgPyB2YWx1ZS5zcGxpdCgnLycpIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5KHBhcmFtcykge1xuICAgICAgICBsZXQgcGF0aCA9ICcnO1xuICAgICAgICAvLyBmb3Igb3B0aW9uYWwgcGFyYW1ldGVycyB0byBhbGxvdyB0byBiZSBlbXB0eVxuICAgICAgICBsZXQgYXZvaWREdXBsaWNhdGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgICAgICBpZiAoIWF2b2lkRHVwbGljYXRlZFNsYXNoIHx8ICFwYXRoLmVuZHNXaXRoKCcvJykpXG4gICAgICAgICAgICAgICAgcGF0aCArPSAnLyc7XG4gICAgICAgICAgICBhdm9pZER1cGxpY2F0ZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBzZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IDAgLyogVG9rZW5UeXBlLlN0YXRpYyAqLykge1xuICAgICAgICAgICAgICAgICAgICBwYXRoICs9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSAxIC8qIFRva2VuVHlwZS5QYXJhbSAqLykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCByZXBlYXRhYmxlLCBvcHRpb25hbCB9ID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gdmFsdWUgaW4gcGFyYW1zID8gcGFyYW1zW3ZhbHVlXSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShwYXJhbSkgJiYgIXJlcGVhdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgcGFyYW0gXCIke3ZhbHVlfVwiIGlzIGFuIGFycmF5IGJ1dCBpdCBpcyBub3QgcmVwZWF0YWJsZSAoKiBvciArIG1vZGlmaWVycylgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gaXNBcnJheShwYXJhbSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW0uam9pbignLycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcmFtO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBvcHRpb25hbCBwYXJhbSBsaWtlIC86YT8tc3RhdGljIHdlIGRvbid0IG5lZWQgdG8gY2FyZSBhYm91dCB0aGUgb3B0aW9uYWwgcGFyYW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGFzdCBzbGFzaCBhcyB3ZSBjb3VsZCBiZSBhdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmVuZHNXaXRoKCcvJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhcHBlbmQgYSBzbGFzaCBvbiB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWREdXBsaWNhdGVkU2xhc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgcGFyYW0gXCIke3ZhbHVlfVwiYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF0aCArPSB0ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhdm9pZCBlbXB0eSBwYXRoIHdoZW4gd2UgaGF2ZSBtdWx0aXBsZSBvcHRpb25hbCBwYXJhbXNcbiAgICAgICAgcmV0dXJuIHBhdGggfHwgJy8nO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZSxcbiAgICAgICAgc2NvcmUsXG4gICAgICAgIGtleXMsXG4gICAgICAgIHBhcnNlLFxuICAgICAgICBzdHJpbmdpZnksXG4gICAgfTtcbn1cbi8qKlxuICogQ29tcGFyZXMgYW4gYXJyYXkgb2YgbnVtYmVycyBhcyB1c2VkIGluIFBhdGhQYXJzZXIuc2NvcmUgYW5kIHJldHVybnMgYVxuICogbnVtYmVyLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGBzb3J0YCBhbiBhcnJheVxuICpcbiAqIEBwYXJhbSBhIC0gZmlyc3QgYXJyYXkgb2YgbnVtYmVyc1xuICogQHBhcmFtIGIgLSBzZWNvbmQgYXJyYXkgb2YgbnVtYmVyc1xuICogQHJldHVybnMgMCBpZiBib3RoIGFyZSBlcXVhbCwgPCAwIGlmIGEgc2hvdWxkIGJlIHNvcnRlZCBmaXJzdCwgPiAwIGlmIGJcbiAqIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3RcbiAqL1xuZnVuY3Rpb24gY29tcGFyZVNjb3JlQXJyYXkoYSwgYikge1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGEubGVuZ3RoICYmIGkgPCBiLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBkaWZmID0gYltpXSAtIGFbaV07XG4gICAgICAgIC8vIG9ubHkga2VlcCBnb2luZyBpZiBkaWZmID09PSAwXG4gICAgICAgIGlmIChkaWZmKVxuICAgICAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxhc3Qgc3Vic2VnbWVudCB3YXMgU3RhdGljLCB0aGUgc2hvcnRlciBzZWdtZW50cyBzaG91bGQgYmUgc29ydGVkIGZpcnN0XG4gICAgLy8gb3RoZXJ3aXNlIHNvcnQgdGhlIGxvbmdlc3Qgc2VnbWVudCBmaXJzdFxuICAgIGlmIChhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBhLmxlbmd0aCA9PT0gMSAmJiBhWzBdID09PSA0MCAvKiBQYXRoU2NvcmUuU3RhdGljICovICsgNDAgLyogUGF0aFNjb3JlLlNlZ21lbnQgKi9cbiAgICAgICAgICAgID8gLTFcbiAgICAgICAgICAgIDogMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYS5sZW5ndGggPiBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggPT09IDEgJiYgYlswXSA9PT0gNDAgLyogUGF0aFNjb3JlLlN0YXRpYyAqLyArIDQwIC8qIFBhdGhTY29yZS5TZWdtZW50ICovXG4gICAgICAgICAgICA/IDFcbiAgICAgICAgICAgIDogLTE7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuLyoqXG4gKiBDb21wYXJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgc29ydGAgdG8gc29ydCBhbiBhcnJheSBvZiBQYXRoUGFyc2VyXG4gKlxuICogQHBhcmFtIGEgLSBmaXJzdCBQYXRoUGFyc2VyXG4gKiBAcGFyYW0gYiAtIHNlY29uZCBQYXRoUGFyc2VyXG4gKiBAcmV0dXJucyAwIGlmIGJvdGggYXJlIGVxdWFsLCA8IDAgaWYgYSBzaG91bGQgYmUgc29ydGVkIGZpcnN0LCA+IDAgaWYgYlxuICovXG5mdW5jdGlvbiBjb21wYXJlUGF0aFBhcnNlclNjb3JlKGEsIGIpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgYVNjb3JlID0gYS5zY29yZTtcbiAgICBjb25zdCBiU2NvcmUgPSBiLnNjb3JlO1xuICAgIHdoaWxlIChpIDwgYVNjb3JlLmxlbmd0aCAmJiBpIDwgYlNjb3JlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjb21wID0gY29tcGFyZVNjb3JlQXJyYXkoYVNjb3JlW2ldLCBiU2NvcmVbaV0pO1xuICAgICAgICAvLyBkbyBub3QgcmV0dXJuIGlmIGJvdGggYXJlIGVxdWFsXG4gICAgICAgIGlmIChjb21wKVxuICAgICAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKGJTY29yZS5sZW5ndGggLSBhU2NvcmUubGVuZ3RoKSA9PT0gMSkge1xuICAgICAgICBpZiAoaXNMYXN0U2NvcmVOZWdhdGl2ZShhU2NvcmUpKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChpc0xhc3RTY29yZU5lZ2F0aXZlKGJTY29yZSkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8vIGlmIGEgYW5kIGIgc2hhcmUgdGhlIHNhbWUgc2NvcmUgZW50cmllcyBidXQgYiBoYXMgbW9yZSwgc29ydCBiIGZpcnN0XG4gICAgcmV0dXJuIGJTY29yZS5sZW5ndGggLSBhU2NvcmUubGVuZ3RoO1xuICAgIC8vIHRoaXMgaXMgdGhlIHRlcm5hcnkgdmVyc2lvblxuICAgIC8vIHJldHVybiBhU2NvcmUubGVuZ3RoIDwgYlNjb3JlLmxlbmd0aFxuICAgIC8vICAgPyAxXG4gICAgLy8gICA6IGFTY29yZS5sZW5ndGggPiBiU2NvcmUubGVuZ3RoXG4gICAgLy8gICA/IC0xXG4gICAgLy8gICA6IDBcbn1cbi8qKlxuICogVGhpcyBhbGxvd3MgZGV0ZWN0aW5nIHNwbGF0cyBhdCB0aGUgZW5kIG9mIGEgcGF0aDogL2hvbWUvOmlkKC4qKSpcbiAqXG4gKiBAcGFyYW0gc2NvcmUgLSBzY29yZSB0byBjaGVja1xuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgbGFzdCBlbnRyeSBpcyBuZWdhdGl2ZVxuICovXG5mdW5jdGlvbiBpc0xhc3RTY29yZU5lZ2F0aXZlKHNjb3JlKSB7XG4gICAgY29uc3QgbGFzdCA9IHNjb3JlW3Njb3JlLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiBzY29yZS5sZW5ndGggPiAwICYmIGxhc3RbbGFzdC5sZW5ndGggLSAxXSA8IDA7XG59XG5cbmNvbnN0IFJPT1RfVE9LRU4gPSB7XG4gICAgdHlwZTogMCAvKiBUb2tlblR5cGUuU3RhdGljICovLFxuICAgIHZhbHVlOiAnJyxcbn07XG5jb25zdCBWQUxJRF9QQVJBTV9SRSA9IC9bYS16QS1aMC05X10vO1xuLy8gQWZ0ZXIgc29tZSBwcm9maWxpbmcsIHRoZSBjYWNoZSBzZWVtcyB0byBiZSB1bm5lY2Vzc2FyeSBiZWNhdXNlIHRva2VuaXplUGF0aFxuLy8gKHRoZSBzbG93ZXN0IHBhcnQgb2YgYWRkaW5nIGEgcm91dGUpIGlzIHZlcnkgZmFzdFxuLy8gY29uc3QgdG9rZW5DYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBUb2tlbltdW10+KClcbmZ1bmN0aW9uIHRva2VuaXplUGF0aChwYXRoKSB7XG4gICAgaWYgKCFwYXRoKVxuICAgICAgICByZXR1cm4gW1tdXTtcbiAgICBpZiAocGF0aCA9PT0gJy8nKVxuICAgICAgICByZXR1cm4gW1tST09UX1RPS0VOXV07XG4gICAgaWYgKCFwYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICA/IGBSb3V0ZSBwYXRocyBzaG91bGQgc3RhcnQgd2l0aCBhIFwiL1wiOiBcIiR7cGF0aH1cIiBzaG91bGQgYmUgXCIvJHtwYXRofVwiLmBcbiAgICAgICAgICAgIDogYEludmFsaWQgcGF0aCBcIiR7cGF0aH1cImApO1xuICAgIH1cbiAgICAvLyBpZiAodG9rZW5DYWNoZS5oYXMocGF0aCkpIHJldHVybiB0b2tlbkNhY2hlLmdldChwYXRoKSFcbiAgICBmdW5jdGlvbiBjcmFzaChtZXNzYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRVJSICgke3N0YXRlfSkvXCIke2J1ZmZlcn1cIjogJHttZXNzYWdlfWApO1xuICAgIH1cbiAgICBsZXQgc3RhdGUgPSAwIC8qIFRva2VuaXplclN0YXRlLlN0YXRpYyAqLztcbiAgICBsZXQgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgIC8vIHRoZSBzZWdtZW50IHdpbGwgYWx3YXlzIGJlIHZhbGlkIGJlY2F1c2Ugd2UgZ2V0IGludG8gdGhlIGluaXRpYWwgc3RhdGVcbiAgICAvLyB3aXRoIHRoZSBsZWFkaW5nIC9cbiAgICBsZXQgc2VnbWVudDtcbiAgICBmdW5jdGlvbiBmaW5hbGl6ZVNlZ21lbnQoKSB7XG4gICAgICAgIGlmIChzZWdtZW50KVxuICAgICAgICAgICAgdG9rZW5zLnB1c2goc2VnbWVudCk7XG4gICAgICAgIHNlZ21lbnQgPSBbXTtcbiAgICB9XG4gICAgLy8gaW5kZXggb24gdGhlIHBhdGhcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gY2hhciBhdCBpbmRleFxuICAgIGxldCBjaGFyO1xuICAgIC8vIGJ1ZmZlciBvZiB0aGUgdmFsdWUgcmVhZFxuICAgIGxldCBidWZmZXIgPSAnJztcbiAgICAvLyBjdXN0b20gcmVnZXhwIGZvciBhIHBhcmFtXG4gICAgbGV0IGN1c3RvbVJlID0gJyc7XG4gICAgZnVuY3Rpb24gY29uc3VtZUJ1ZmZlcigpIHtcbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gMCAvKiBUb2tlbml6ZXJTdGF0ZS5TdGF0aWMgKi8pIHtcbiAgICAgICAgICAgIHNlZ21lbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogMCAvKiBUb2tlblR5cGUuU3RhdGljICovLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBidWZmZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gMSAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbSAqLyB8fFxuICAgICAgICAgICAgc3RhdGUgPT09IDIgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHAgKi8gfHxcbiAgICAgICAgICAgIHN0YXRlID09PSAzIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwRW5kICovKSB7XG4gICAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPiAxICYmIChjaGFyID09PSAnKicgfHwgY2hhciA9PT0gJysnKSlcbiAgICAgICAgICAgICAgICBjcmFzaChgQSByZXBlYXRhYmxlIHBhcmFtICgke2J1ZmZlcn0pIG11c3QgYmUgYWxvbmUgaW4gaXRzIHNlZ21lbnQuIGVnOiAnLzppZHMrLmApO1xuICAgICAgICAgICAgc2VnbWVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAxIC8qIFRva2VuVHlwZS5QYXJhbSAqLyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYnVmZmVyLFxuICAgICAgICAgICAgICAgIHJlZ2V4cDogY3VzdG9tUmUsXG4gICAgICAgICAgICAgICAgcmVwZWF0YWJsZTogY2hhciA9PT0gJyonIHx8IGNoYXIgPT09ICcrJyxcbiAgICAgICAgICAgICAgICBvcHRpb25hbDogY2hhciA9PT0gJyonIHx8IGNoYXIgPT09ICc/JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3Jhc2goJ0ludmFsaWQgc3RhdGUgdG8gY29uc3VtZSBidWZmZXInKTtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXIgPSAnJztcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQ2hhclRvQnVmZmVyKCkge1xuICAgICAgICBidWZmZXIgKz0gY2hhcjtcbiAgICB9XG4gICAgd2hpbGUgKGkgPCBwYXRoLmxlbmd0aCkge1xuICAgICAgICBjaGFyID0gcGF0aFtpKytdO1xuICAgICAgICBpZiAoY2hhciA9PT0gJ1xcXFwnICYmIHN0YXRlICE9PSAyIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwICovKSB7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICBzdGF0ZSA9IDQgLyogVG9rZW5pemVyU3RhdGUuRXNjYXBlTmV4dCAqLztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBUb2tlbml6ZXJTdGF0ZS5TdGF0aWMgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxpemVTZWdtZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09ICc6Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMSAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENoYXJUb0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNCAvKiBUb2tlbml6ZXJTdGF0ZS5Fc2NhcGVOZXh0ICovOlxuICAgICAgICAgICAgICAgIGFkZENoYXJUb0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gcHJldmlvdXNTdGF0ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMSAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbSAqLzpcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gJygnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMiAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cCAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoVkFMSURfUEFSQU1fUkUudGVzdChjaGFyKSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDaGFyVG9CdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAwIC8qIFRva2VuaXplclN0YXRlLlN0YXRpYyAqLztcbiAgICAgICAgICAgICAgICAgICAgLy8gZ28gYmFjayBvbmUgY2hhcmFjdGVyIGlmIHdlIHdlcmUgbm90IG1vZGlmeWluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhciAhPT0gJyonICYmIGNoYXIgIT09ICc/JyAmJiBjaGFyICE9PSAnKycpXG4gICAgICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwICovOlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGlzIGl0IHdvcnRoIGhhbmRsaW5nIG5lc3RlZCByZWdleHA/IGxpa2UgOnAoPzpwcmVmaXhfKFteL10rKV9zdWZmaXgpXG4gICAgICAgICAgICAgICAgLy8gaXQgYWxyZWFkeSB3b3JrcyBieSBlc2NhcGluZyB0aGUgY2xvc2luZyApXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wYXRocy5lc20uZGV2Lz9wPUFBTWVKYmlBd1FFY0RLYkFvQUFrUDYwUEcyUjZRQXZnTmFBNkFGQUNNMkFCdVFCQiNcbiAgICAgICAgICAgICAgICAvLyBpcyB0aGlzIHJlYWxseSBzb21ldGhpbmcgcGVvcGxlIG5lZWQgc2luY2UgeW91IGNhbiBhbHNvIHdyaXRlXG4gICAgICAgICAgICAgICAgLy8gL3ByZWZpeF86cCgpX3N1ZmZpeFxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnKScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHRoZSBlc2NhcGVkIClcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbVJlW2N1c3RvbVJlLmxlbmd0aCAtIDFdID09ICdcXFxcJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlID0gY3VzdG9tUmUuc2xpY2UoMCwgLTEpICsgY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAzIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwRW5kICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDMgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHBFbmQgKi86XG4gICAgICAgICAgICAgICAgLy8gc2FtZSBhcyBmaW5hbGl6aW5nIGEgcGFyYW1cbiAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSAwIC8qIFRva2VuaXplclN0YXRlLlN0YXRpYyAqLztcbiAgICAgICAgICAgICAgICAvLyBnbyBiYWNrIG9uZSBjaGFyYWN0ZXIgaWYgd2Ugd2VyZSBub3QgbW9kaWZ5aW5nXG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgIT09ICcqJyAmJiBjaGFyICE9PSAnPycgJiYgY2hhciAhPT0gJysnKVxuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgY3VzdG9tUmUgPSAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY3Jhc2goJ1Vua25vd24gc3RhdGUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3RhdGUgPT09IDIgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHAgKi8pXG4gICAgICAgIGNyYXNoKGBVbmZpbmlzaGVkIGN1c3RvbSBSZWdFeHAgZm9yIHBhcmFtIFwiJHtidWZmZXJ9XCJgKTtcbiAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgZmluYWxpemVTZWdtZW50KCk7XG4gICAgLy8gdG9rZW5DYWNoZS5zZXQocGF0aCwgdG9rZW5zKVxuICAgIHJldHVybiB0b2tlbnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlUmVjb3JkTWF0Y2hlcihyZWNvcmQsIHBhcmVudCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHBhcnNlciA9IHRva2Vuc1RvUGFyc2VyKHRva2VuaXplUGF0aChyZWNvcmQucGF0aCksIG9wdGlvbnMpO1xuICAgIC8vIHdhcm4gYWdhaW5zdCBwYXJhbXMgd2l0aCB0aGUgc2FtZSBuYW1lXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCBleGlzdGluZ0tleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHBhcnNlci5rZXlzKSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdLZXlzLmhhcyhrZXkubmFtZSkpXG4gICAgICAgICAgICAgICAgd2FybihgRm91bmQgZHVwbGljYXRlZCBwYXJhbXMgd2l0aCBuYW1lIFwiJHtrZXkubmFtZX1cIiBmb3IgcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIuIE9ubHkgdGhlIGxhc3Qgb25lIHdpbGwgYmUgYXZhaWxhYmxlIG9uIFwiJHJvdXRlLnBhcmFtc1wiLmApO1xuICAgICAgICAgICAgZXhpc3RpbmdLZXlzLmFkZChrZXkubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlciA9IGFzc2lnbihwYXJzZXIsIHtcbiAgICAgICAgcmVjb3JkLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIC8vIHRoZXNlIG5lZWRzIHRvIGJlIHBvcHVsYXRlZCBieSB0aGUgcGFyZW50XG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgYWxpYXM6IFtdLFxuICAgIH0pO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgLy8gYm90aCBhcmUgYWxpYXNlcyBvciBib3RoIGFyZSBub3QgYWxpYXNlc1xuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIG1peCB0aGVtIGJlY2F1c2UgdGhlIG9yZGVyIGlzIHVzZWQgd2hlblxuICAgICAgICAvLyBwYXNzaW5nIG9yaWdpbmFsUmVjb3JkIGluIE1hdGNoZXIuYWRkUm91dGVcbiAgICAgICAgaWYgKCFtYXRjaGVyLnJlY29yZC5hbGlhc09mID09PSAhcGFyZW50LnJlY29yZC5hbGlhc09mKVxuICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2gobWF0Y2hlcik7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVyO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBSb3V0ZXIgTWF0Y2hlci5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSByb3V0ZXMgLSBhcnJheSBvZiBpbml0aWFsIHJvdXRlc1xuICogQHBhcmFtIGdsb2JhbE9wdGlvbnMgLSBnbG9iYWwgcm91dGUgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXJNYXRjaGVyKHJvdXRlcywgZ2xvYmFsT3B0aW9ucykge1xuICAgIC8vIG5vcm1hbGl6ZWQgb3JkZXJlZCBhcnJheSBvZiBtYXRjaGVyc1xuICAgIGNvbnN0IG1hdGNoZXJzID0gW107XG4gICAgY29uc3QgbWF0Y2hlck1hcCA9IG5ldyBNYXAoKTtcbiAgICBnbG9iYWxPcHRpb25zID0gbWVyZ2VPcHRpb25zKHsgc3RyaWN0OiBmYWxzZSwgZW5kOiB0cnVlLCBzZW5zaXRpdmU6IGZhbHNlIH0sIGdsb2JhbE9wdGlvbnMpO1xuICAgIGZ1bmN0aW9uIGdldFJlY29yZE1hdGNoZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlck1hcC5nZXQobmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFJvdXRlKHJlY29yZCwgcGFyZW50LCBvcmlnaW5hbFJlY29yZCkge1xuICAgICAgICAvLyB1c2VkIGxhdGVyIG9uIHRvIHJlbW92ZSBieSBuYW1lXG4gICAgICAgIGNvbnN0IGlzUm9vdEFkZCA9ICFvcmlnaW5hbFJlY29yZDtcbiAgICAgICAgY29uc3QgbWFpbk5vcm1hbGl6ZWRSZWNvcmQgPSBub3JtYWxpemVSb3V0ZVJlY29yZChyZWNvcmQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBjaGVja0NoaWxkTWlzc2luZ05hbWVXaXRoRW1wdHlQYXRoKG1haW5Ob3JtYWxpemVkUmVjb3JkLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIG1pZ2h0IGJlIHRoZSBjaGlsZCBvZiBhbiBhbGlhc1xuICAgICAgICBtYWluTm9ybWFsaXplZFJlY29yZC5hbGlhc09mID0gb3JpZ2luYWxSZWNvcmQgJiYgb3JpZ2luYWxSZWNvcmQucmVjb3JkO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gbWVyZ2VPcHRpb25zKGdsb2JhbE9wdGlvbnMsIHJlY29yZCk7XG4gICAgICAgIC8vIGdlbmVyYXRlIGFuIGFycmF5IG9mIHJlY29yZHMgdG8gY29ycmVjdGx5IGhhbmRsZSBhbGlhc2VzXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRSZWNvcmRzID0gW21haW5Ob3JtYWxpemVkUmVjb3JkXTtcbiAgICAgICAgaWYgKCdhbGlhcycgaW4gcmVjb3JkKSB7XG4gICAgICAgICAgICBjb25zdCBhbGlhc2VzID0gdHlwZW9mIHJlY29yZC5hbGlhcyA9PT0gJ3N0cmluZycgPyBbcmVjb3JkLmFsaWFzXSA6IHJlY29yZC5hbGlhcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWxpYXMgb2YgYWxpYXNlcykge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRSZWNvcmRzLnB1c2goXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBub3JtYWxpemUgYWdhaW4gdG8gZW5zdXJlIHRoZSBgbW9kc2AgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyBiZWluZyBub24gZW51bWVyYWJsZVxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZVJvdXRlUmVjb3JkKGFzc2lnbih7fSwgbWFpbk5vcm1hbGl6ZWRSZWNvcmQsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgdXMgdG8gaG9sZCBhIGNvcHkgb2YgdGhlIGBjb21wb25lbnRzYCBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gc28gdGhhdCBhc3luYyBjb21wb25lbnRzIGNhY2hlIGlzIGhvbGQgb24gdGhlIG9yaWdpbmFsIHJlY29yZFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBvcmlnaW5hbFJlY29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcmlnaW5hbFJlY29yZC5yZWNvcmQuY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBtYWluTm9ybWFsaXplZFJlY29yZC5jb21wb25lbnRzLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBhbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgbWlnaHQgYmUgdGhlIGNoaWxkIG9mIGFuIGFsaWFzXG4gICAgICAgICAgICAgICAgICAgIGFsaWFzT2Y6IG9yaWdpbmFsUmVjb3JkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9yaWdpbmFsUmVjb3JkLnJlY29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBtYWluTm9ybWFsaXplZFJlY29yZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGFsaWFzZXMgYXJlIGFsd2F5cyBvZiB0aGUgc2FtZSBraW5kIGFzIHRoZSBvcmlnaW5hbCBzaW5jZSB0aGV5XG4gICAgICAgICAgICAgICAgICAgIC8vIGFyZSBkZWZpbmVkIG9uIHRoZSBzYW1lIHJlY29yZFxuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hdGNoZXI7XG4gICAgICAgIGxldCBvcmlnaW5hbE1hdGNoZXI7XG4gICAgICAgIGZvciAoY29uc3Qgbm9ybWFsaXplZFJlY29yZCBvZiBub3JtYWxpemVkUmVjb3Jkcykge1xuICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBub3JtYWxpemVkUmVjb3JkO1xuICAgICAgICAgICAgLy8gQnVpbGQgdXAgdGhlIHBhdGggZm9yIG5lc3RlZCByb3V0ZXMgaWYgdGhlIGNoaWxkIGlzbid0IGFuIGFic29sdXRlXG4gICAgICAgICAgICAvLyByb3V0ZS4gT25seSBhZGQgdGhlIC8gZGVsaW1pdGVyIGlmIHRoZSBjaGlsZCBwYXRoIGlzbid0IGVtcHR5IGFuZCBpZiB0aGVcbiAgICAgICAgICAgIC8vIHBhcmVudCBwYXRoIGRvZXNuJ3QgaGF2ZSBhIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhdGhbMF0gIT09ICcvJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFBhdGggPSBwYXJlbnQucmVjb3JkLnBhdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgY29ubmVjdGluZ1NsYXNoID0gcGFyZW50UGF0aFtwYXJlbnRQYXRoLmxlbmd0aCAtIDFdID09PSAnLycgPyAnJyA6ICcvJztcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVjb3JkLnBhdGggPVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVjb3JkLnBhdGggKyAocGF0aCAmJiBjb25uZWN0aW5nU2xhc2ggKyBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbm9ybWFsaXplZFJlY29yZC5wYXRoID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhdGNoIGFsbCByb3V0ZXMgKFwiKlwiKSBtdXN0IG5vdyBiZSBkZWZpbmVkIHVzaW5nIGEgcGFyYW0gd2l0aCBhIGN1c3RvbSByZWdleHAuXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdTZWUgbW9yZSBhdCBodHRwczovL3JvdXRlci52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uLyNSZW1vdmVkLXN0YXItb3ItY2F0Y2gtYWxsLXJvdXRlcy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgb2JqZWN0IGJlZm9yZWhhbmQsIHNvIGl0IGNhbiBiZSBwYXNzZWQgdG8gY2hpbGRyZW5cbiAgICAgICAgICAgIG1hdGNoZXIgPSBjcmVhdGVSb3V0ZVJlY29yZE1hdGNoZXIobm9ybWFsaXplZFJlY29yZCwgcGFyZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50ICYmIHBhdGhbMF0gPT09ICcvJylcbiAgICAgICAgICAgICAgICBjaGVja01pc3NpbmdQYXJhbXNJbkFic29sdXRlUGF0aChtYXRjaGVyLCBwYXJlbnQpO1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGFuIGFsaWFzIHdlIG11c3QgdGVsbCB0aGUgb3JpZ2luYWwgcmVjb3JkIHRoYXQgd2UgZXhpc3QsXG4gICAgICAgICAgICAvLyBzbyB3ZSBjYW4gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxSZWNvcmQuYWxpYXMucHVzaChtYXRjaGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrU2FtZVBhcmFtcyhvcmlnaW5hbFJlY29yZCwgbWF0Y2hlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGUgZmlyc3QgcmVjb3JkIGlzIHRoZSBvcmlnaW5hbCBhbmQgb3RoZXJzIGFyZSBhbGlhc2VzXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxNYXRjaGVyID0gb3JpZ2luYWxNYXRjaGVyIHx8IG1hdGNoZXI7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsTWF0Y2hlciAhPT0gbWF0Y2hlcilcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxNYXRjaGVyLmFsaWFzLnB1c2gobWF0Y2hlcik7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSByb3V0ZSBpZiBuYW1lZCBhbmQgb25seSBmb3IgdGhlIHRvcCByZWNvcmQgKGF2b2lkIGluIG5lc3RlZCBjYWxscylcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdvcmtzIGJlY2F1c2UgdGhlIG9yaWdpbmFsIHJlY29yZCBpcyB0aGUgZmlyc3Qgb25lXG4gICAgICAgICAgICAgICAgaWYgKGlzUm9vdEFkZCAmJiByZWNvcmQubmFtZSAmJiAhaXNBbGlhc1JlY29yZChtYXRjaGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1NhbWVOYW1lQXNBbmNlc3RvcihyZWNvcmQsIHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUm91dGUocmVjb3JkLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEF2b2lkIGFkZGluZyBhIHJlY29yZCB0aGF0IGRvZXNuJ3QgZGlzcGxheSBhbnl0aGluZy4gVGhpcyBhbGxvd3MgcGFzc2luZyB0aHJvdWdoIHJlY29yZHMgd2l0aG91dCBhIGNvbXBvbmVudCB0b1xuICAgICAgICAgICAgLy8gbm90IGJlIHJlYWNoZWQgYW5kIHBhc3MgdGhyb3VnaCB0aGUgY2F0Y2ggYWxsIHJvdXRlXG4gICAgICAgICAgICBpZiAoaXNNYXRjaGFibGUobWF0Y2hlcikpIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRNYXRjaGVyKG1hdGNoZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1haW5Ob3JtYWxpemVkUmVjb3JkLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBtYWluTm9ybWFsaXplZFJlY29yZC5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJvdXRlKGNoaWxkcmVuW2ldLCBtYXRjaGVyLCBvcmlnaW5hbFJlY29yZCAmJiBvcmlnaW5hbFJlY29yZC5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2FzIG5vIG9yaWdpbmFsIHJlY29yZCwgdGhlbiB0aGUgZmlyc3Qgb25lIHdhcyBub3QgYW4gYWxpYXMgYW5kIGFsbFxuICAgICAgICAgICAgLy8gb3RoZXIgYWxpYXNlcyAoaWYgYW55KSBuZWVkIHRvIHJlZmVyZW5jZSB0aGlzIHJlY29yZCB3aGVuIGFkZGluZyBjaGlsZHJlblxuICAgICAgICAgICAgb3JpZ2luYWxSZWNvcmQgPSBvcmlnaW5hbFJlY29yZCB8fCBtYXRjaGVyO1xuICAgICAgICAgICAgLy8gVE9ETzogYWRkIG5vcm1hbGl6ZWQgcmVjb3JkcyBmb3IgbW9yZSBmbGV4aWJpbGl0eVxuICAgICAgICAgICAgLy8gaWYgKHBhcmVudCAmJiBpc0FsaWFzUmVjb3JkKG9yaWdpbmFsUmVjb3JkKSkge1xuICAgICAgICAgICAgLy8gICBwYXJlbnQuY2hpbGRyZW4ucHVzaChvcmlnaW5hbFJlY29yZClcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZ2luYWxNYXRjaGVyXG4gICAgICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSBvdGhlciBtYXRjaGVycyBhcmUgYWxpYXNlcywgdGhleSBzaG91bGQgYmUgcmVtb3ZlZCBieSB0aGUgb3JpZ2luYWwgbWF0Y2hlclxuICAgICAgICAgICAgICAgIHJlbW92ZVJvdXRlKG9yaWdpbmFsTWF0Y2hlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG5vb3A7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdXRlKG1hdGNoZXJSZWYpIHtcbiAgICAgICAgaWYgKGlzUm91dGVOYW1lKG1hdGNoZXJSZWYpKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVyID0gbWF0Y2hlck1hcC5nZXQobWF0Y2hlclJlZik7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcikge1xuICAgICAgICAgICAgICAgIG1hdGNoZXJNYXAuZGVsZXRlKG1hdGNoZXJSZWYpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXJzLnNwbGljZShtYXRjaGVycy5pbmRleE9mKG1hdGNoZXIpLCAxKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVyLmNoaWxkcmVuLmZvckVhY2gocmVtb3ZlUm91dGUpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXIuYWxpYXMuZm9yRWFjaChyZW1vdmVSb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IG1hdGNoZXJzLmluZGV4T2YobWF0Y2hlclJlZik7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXJSZWYucmVjb3JkLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXJNYXAuZGVsZXRlKG1hdGNoZXJSZWYucmVjb3JkLm5hbWUpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXJSZWYuY2hpbGRyZW4uZm9yRWFjaChyZW1vdmVSb3V0ZSk7XG4gICAgICAgICAgICAgICAgbWF0Y2hlclJlZi5hbGlhcy5mb3JFYWNoKHJlbW92ZVJvdXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSb3V0ZXMoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVycztcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0TWF0Y2hlcihtYXRjaGVyKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZmluZEluc2VydGlvbkluZGV4KG1hdGNoZXIsIG1hdGNoZXJzKTtcbiAgICAgICAgbWF0Y2hlcnMuc3BsaWNlKGluZGV4LCAwLCBtYXRjaGVyKTtcbiAgICAgICAgLy8gb25seSBhZGQgdGhlIG9yaWdpbmFsIHJlY29yZCB0byB0aGUgbmFtZSBtYXBcbiAgICAgICAgaWYgKG1hdGNoZXIucmVjb3JkLm5hbWUgJiYgIWlzQWxpYXNSZWNvcmQobWF0Y2hlcikpXG4gICAgICAgICAgICBtYXRjaGVyTWFwLnNldChtYXRjaGVyLnJlY29yZC5uYW1lLCBtYXRjaGVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZShsb2NhdGlvbiwgY3VycmVudExvY2F0aW9uKSB7XG4gICAgICAgIGxldCBtYXRjaGVyO1xuICAgICAgICBsZXQgcGFyYW1zID0ge307XG4gICAgICAgIGxldCBwYXRoO1xuICAgICAgICBsZXQgbmFtZTtcbiAgICAgICAgaWYgKCduYW1lJyBpbiBsb2NhdGlvbiAmJiBsb2NhdGlvbi5uYW1lKSB7XG4gICAgICAgICAgICBtYXRjaGVyID0gbWF0Y2hlck1hcC5nZXQobG9jYXRpb24ubmFtZSk7XG4gICAgICAgICAgICBpZiAoIW1hdGNoZXIpXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlUm91dGVyRXJyb3IoMSAvKiBFcnJvclR5cGVzLk1BVENIRVJfTk9UX0ZPVU5EICovLCB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2FybiBpZiB0aGUgdXNlciBpcyBwYXNzaW5nIGludmFsaWQgcGFyYW1zIHNvIHRoZXkgY2FuIGRlYnVnIGl0IGJldHRlciB3aGVuIHRoZXkgZ2V0IHJlbW92ZWRcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnZhbGlkUGFyYW1zID0gT2JqZWN0LmtleXMobG9jYXRpb24ucGFyYW1zIHx8IHt9KS5maWx0ZXIocGFyYW1OYW1lID0+ICFtYXRjaGVyLmtleXMuZmluZChrID0+IGsubmFtZSA9PT0gcGFyYW1OYW1lKSk7XG4gICAgICAgICAgICAgICAgaWYgKGludmFsaWRQYXJhbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYERpc2NhcmRlZCBpbnZhbGlkIHBhcmFtKHMpIFwiJHtpbnZhbGlkUGFyYW1zLmpvaW4oJ1wiLCBcIicpfVwiIHdoZW4gbmF2aWdhdGluZy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvYmxvYi9tYWluL3BhY2thZ2VzL3JvdXRlci9DSEFOR0VMT0cubWQjNDE0LTIwMjItMDgtMjIgZm9yIG1vcmUgZGV0YWlscy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYW1lID0gbWF0Y2hlci5yZWNvcmQubmFtZTtcbiAgICAgICAgICAgIHBhcmFtcyA9IGFzc2lnbihcbiAgICAgICAgICAgIC8vIHBhcmFtc0Zyb21Mb2NhdGlvbiBpcyBhIG5ldyBvYmplY3RcbiAgICAgICAgICAgIHBhcmFtc0Zyb21Mb2NhdGlvbihjdXJyZW50TG9jYXRpb24ucGFyYW1zLCBcbiAgICAgICAgICAgIC8vIG9ubHkga2VlcCBwYXJhbXMgdGhhdCBleGlzdCBpbiB0aGUgcmVzb2x2ZWQgbG9jYXRpb25cbiAgICAgICAgICAgIC8vIG9ubHkga2VlcCBvcHRpb25hbCBwYXJhbXMgY29taW5nIGZyb20gYSBwYXJlbnQgcmVjb3JkXG4gICAgICAgICAgICBtYXRjaGVyLmtleXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGsgPT4gIWsub3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChtYXRjaGVyLnBhcmVudCA/IG1hdGNoZXIucGFyZW50LmtleXMuZmlsdGVyKGsgPT4gay5vcHRpb25hbCkgOiBbXSlcbiAgICAgICAgICAgICAgICAubWFwKGsgPT4gay5uYW1lKSksIFxuICAgICAgICAgICAgLy8gZGlzY2FyZCBhbnkgZXhpc3RpbmcgcGFyYW1zIGluIHRoZSBjdXJyZW50IGxvY2F0aW9uIHRoYXQgZG8gbm90IGV4aXN0IGhlcmVcbiAgICAgICAgICAgIC8vICMxNDk3IHRoaXMgZW5zdXJlcyBiZXR0ZXIgYWN0aXZlL2V4YWN0IG1hdGNoaW5nXG4gICAgICAgICAgICBsb2NhdGlvbi5wYXJhbXMgJiZcbiAgICAgICAgICAgICAgICBwYXJhbXNGcm9tTG9jYXRpb24obG9jYXRpb24ucGFyYW1zLCBtYXRjaGVyLmtleXMubWFwKGsgPT4gay5uYW1lKSkpO1xuICAgICAgICAgICAgLy8gdGhyb3dzIGlmIGNhbm5vdCBiZSBzdHJpbmdpZmllZFxuICAgICAgICAgICAgcGF0aCA9IG1hdGNoZXIuc3RyaW5naWZ5KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobG9jYXRpb24ucGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIHJlc29sdmUgdGhlIHBhdGggd2l0aCB0aGUgbWF0Y2hlciBhcyBpdCB3YXMgcHJvdmlkZWRcbiAgICAgICAgICAgIC8vIHRoaXMgYWxzbyBhbGxvd3MgdGhlIHVzZXIgdG8gY29udHJvbCB0aGUgZW5jb2RpbmdcbiAgICAgICAgICAgIHBhdGggPSBsb2NhdGlvbi5wYXRoO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcGF0aC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGBUaGUgTWF0Y2hlciBjYW5ub3QgcmVzb2x2ZSByZWxhdGl2ZSBwYXRocyBidXQgcmVjZWl2ZWQgXCIke3BhdGh9XCIuIFVubGVzcyB5b3UgZGlyZWN0bHkgY2FsbGVkIFxcYG1hdGNoZXIucmVzb2x2ZShcIiR7cGF0aH1cIilcXGAsIHRoaXMgaXMgcHJvYmFibHkgYSBidWcgaW4gdnVlLXJvdXRlci4gUGxlYXNlIG9wZW4gYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JvdXRlci9pc3N1ZXMvbmV3L2Nob29zZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGNoZXIgPSBtYXRjaGVycy5maW5kKG0gPT4gbS5yZS50ZXN0KHBhdGgpKTtcbiAgICAgICAgICAgIC8vIG1hdGNoZXIgc2hvdWxkIGhhdmUgYSB2YWx1ZSBhZnRlciB0aGUgbG9vcFxuICAgICAgICAgICAgaWYgKG1hdGNoZXIpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBrbm93IHRoZSBtYXRjaGVyIHdvcmtzIGJlY2F1c2Ugd2UgdGVzdGVkIHRoZSByZWdleHBcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSBtYXRjaGVyLnBhcnNlKHBhdGgpO1xuICAgICAgICAgICAgICAgIG5hbWUgPSBtYXRjaGVyLnJlY29yZC5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbG9jYXRpb24gaXMgYSByZWxhdGl2ZSBwYXRoXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBtYXRjaCBieSBuYW1lIG9yIHBhdGggb2YgY3VycmVudCByb3V0ZVxuICAgICAgICAgICAgbWF0Y2hlciA9IGN1cnJlbnRMb2NhdGlvbi5uYW1lXG4gICAgICAgICAgICAgICAgPyBtYXRjaGVyTWFwLmdldChjdXJyZW50TG9jYXRpb24ubmFtZSlcbiAgICAgICAgICAgICAgICA6IG1hdGNoZXJzLmZpbmQobSA9PiBtLnJlLnRlc3QoY3VycmVudExvY2F0aW9uLnBhdGgpKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2hlcilcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVSb3V0ZXJFcnJvcigxIC8qIEVycm9yVHlwZXMuTUFUQ0hFUl9OT1RfRk9VTkQgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaGVyLnJlY29yZC5uYW1lO1xuICAgICAgICAgICAgLy8gc2luY2Ugd2UgYXJlIG5hdmlnYXRpbmcgdG8gdGhlIHNhbWUgbG9jYXRpb24sIHdlIGRvbid0IG5lZWQgdG8gcGljayB0aGVcbiAgICAgICAgICAgIC8vIHBhcmFtcyBsaWtlIHdoZW4gYG5hbWVgIGlzIHByb3ZpZGVkXG4gICAgICAgICAgICBwYXJhbXMgPSBhc3NpZ24oe30sIGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMsIGxvY2F0aW9uLnBhcmFtcyk7XG4gICAgICAgICAgICBwYXRoID0gbWF0Y2hlci5zdHJpbmdpZnkocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXRjaGVkID0gW107XG4gICAgICAgIGxldCBwYXJlbnRNYXRjaGVyID0gbWF0Y2hlcjtcbiAgICAgICAgd2hpbGUgKHBhcmVudE1hdGNoZXIpIHtcbiAgICAgICAgICAgIC8vIHJldmVyc2VkIG9yZGVyIHNvIHBhcmVudHMgYXJlIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgIG1hdGNoZWQudW5zaGlmdChwYXJlbnRNYXRjaGVyLnJlY29yZCk7XG4gICAgICAgICAgICBwYXJlbnRNYXRjaGVyID0gcGFyZW50TWF0Y2hlci5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgbWF0Y2hlZCxcbiAgICAgICAgICAgIG1ldGE6IG1lcmdlTWV0YUZpZWxkcyhtYXRjaGVkKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gYWRkIGluaXRpYWwgcm91dGVzXG4gICAgcm91dGVzLmZvckVhY2gocm91dGUgPT4gYWRkUm91dGUocm91dGUpKTtcbiAgICBmdW5jdGlvbiBjbGVhclJvdXRlcygpIHtcbiAgICAgICAgbWF0Y2hlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgbWF0Y2hlck1hcC5jbGVhcigpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRSb3V0ZSxcbiAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgcmVtb3ZlUm91dGUsXG4gICAgICAgIGNsZWFyUm91dGVzLFxuICAgICAgICBnZXRSb3V0ZXMsXG4gICAgICAgIGdldFJlY29yZE1hdGNoZXIsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcmFtc0Zyb21Mb2NhdGlvbihwYXJhbXMsIGtleXMpIHtcbiAgICBjb25zdCBuZXdQYXJhbXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGlmIChrZXkgaW4gcGFyYW1zKVxuICAgICAgICAgICAgbmV3UGFyYW1zW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1BhcmFtcztcbn1cbi8qKlxuICogTm9ybWFsaXplcyBhIFJvdXRlUmVjb3JkUmF3LiBDcmVhdGVzIGEgY29weVxuICpcbiAqIEBwYXJhbSByZWNvcmRcbiAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHZlcnNpb25cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUm91dGVSZWNvcmQocmVjb3JkKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICAgICAgcGF0aDogcmVjb3JkLnBhdGgsXG4gICAgICAgIHJlZGlyZWN0OiByZWNvcmQucmVkaXJlY3QsXG4gICAgICAgIG5hbWU6IHJlY29yZC5uYW1lLFxuICAgICAgICBtZXRhOiByZWNvcmQubWV0YSB8fCB7fSxcbiAgICAgICAgYWxpYXNPZjogcmVjb3JkLmFsaWFzT2YsXG4gICAgICAgIGJlZm9yZUVudGVyOiByZWNvcmQuYmVmb3JlRW50ZXIsXG4gICAgICAgIHByb3BzOiBub3JtYWxpemVSZWNvcmRQcm9wcyhyZWNvcmQpLFxuICAgICAgICBjaGlsZHJlbjogcmVjb3JkLmNoaWxkcmVuIHx8IFtdLFxuICAgICAgICBpbnN0YW5jZXM6IHt9LFxuICAgICAgICBsZWF2ZUd1YXJkczogbmV3IFNldCgpLFxuICAgICAgICB1cGRhdGVHdWFyZHM6IG5ldyBTZXQoKSxcbiAgICAgICAgZW50ZXJDYWxsYmFja3M6IHt9LFxuICAgICAgICAvLyBtdXN0IGJlIGRlY2xhcmVkIGFmdGVyd2FyZHNcbiAgICAgICAgLy8gbW9kczoge30sXG4gICAgICAgIGNvbXBvbmVudHM6ICdjb21wb25lbnRzJyBpbiByZWNvcmRcbiAgICAgICAgICAgID8gcmVjb3JkLmNvbXBvbmVudHMgfHwgbnVsbFxuICAgICAgICAgICAgOiByZWNvcmQuY29tcG9uZW50ICYmIHsgZGVmYXVsdDogcmVjb3JkLmNvbXBvbmVudCB9LFxuICAgIH07XG4gICAgLy8gbW9kcyBjb250YWluIG1vZHVsZXMgYW5kIHNob3VsZG4ndCBiZSBjb3BpZWQsXG4gICAgLy8gbG9nZ2VkIG9yIGFueXRoaW5nLiBJdCdzIGp1c3QgdXNlZCBmb3IgaW50ZXJuYWxcbiAgICAvLyBhZHZhbmNlZCB1c2UgY2FzZXMgbGlrZSBkYXRhIGxvYWRlcnNcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9ybWFsaXplZCwgJ21vZHMnLCB7XG4gICAgICAgIHZhbHVlOiB7fSxcbiAgICB9KTtcbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbn1cbi8qKlxuICogTm9ybWFsaXplIHRoZSBvcHRpb25hbCBgcHJvcHNgIGluIGEgcmVjb3JkIHRvIGFsd2F5cyBiZSBhbiBvYmplY3Qgc2ltaWxhciB0b1xuICogY29tcG9uZW50cy4gQWxzbyBhY2NlcHQgYSBib29sZWFuIGZvciBjb21wb25lbnRzLlxuICogQHBhcmFtIHJlY29yZFxuICovXG5mdW5jdGlvbiBub3JtYWxpemVSZWNvcmRQcm9wcyhyZWNvcmQpIHtcbiAgICBjb25zdCBwcm9wc09iamVjdCA9IHt9O1xuICAgIC8vIHByb3BzIGRvZXMgbm90IGV4aXN0IG9uIHJlZGlyZWN0IHJlY29yZHMsIGJ1dCB3ZSBjYW4gc2V0IGZhbHNlIGRpcmVjdGx5XG4gICAgY29uc3QgcHJvcHMgPSByZWNvcmQucHJvcHMgfHwgZmFsc2U7XG4gICAgaWYgKCdjb21wb25lbnQnIGluIHJlY29yZCkge1xuICAgICAgICBwcm9wc09iamVjdC5kZWZhdWx0ID0gcHJvcHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBOT1RFOiB3ZSBjb3VsZCBhbHNvIGFsbG93IGEgZnVuY3Rpb24gdG8gYmUgYXBwbGllZCB0byBldmVyeSBjb21wb25lbnQuXG4gICAgICAgIC8vIFdvdWxkIG5lZWQgdXNlciBmZWVkYmFjayBmb3IgdXNlIGNhc2VzXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiByZWNvcmQuY29tcG9uZW50cylcbiAgICAgICAgICAgIHByb3BzT2JqZWN0W25hbWVdID0gdHlwZW9mIHByb3BzID09PSAnb2JqZWN0JyA/IHByb3BzW25hbWVdIDogcHJvcHM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wc09iamVjdDtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGEgcmVjb3JkIG9yIGFueSBvZiBpdHMgcGFyZW50IGlzIGFuIGFsaWFzXG4gKiBAcGFyYW0gcmVjb3JkXG4gKi9cbmZ1bmN0aW9uIGlzQWxpYXNSZWNvcmQocmVjb3JkKSB7XG4gICAgd2hpbGUgKHJlY29yZCkge1xuICAgICAgICBpZiAocmVjb3JkLnJlY29yZC5hbGlhc09mKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJlY29yZCA9IHJlY29yZC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogTWVyZ2UgbWV0YSBmaWVsZHMgb2YgYW4gYXJyYXkgb2YgcmVjb3Jkc1xuICpcbiAqIEBwYXJhbSBtYXRjaGVkIC0gYXJyYXkgb2YgbWF0Y2hlZCByZWNvcmRzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlTWV0YUZpZWxkcyhtYXRjaGVkKSB7XG4gICAgcmV0dXJuIG1hdGNoZWQucmVkdWNlKChtZXRhLCByZWNvcmQpID0+IGFzc2lnbihtZXRhLCByZWNvcmQubWV0YSksIHt9KTtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhkZWZhdWx0cywgcGFydGlhbE9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgb3B0aW9uc1trZXldID0ga2V5IGluIHBhcnRpYWxPcHRpb25zID8gcGFydGlhbE9wdGlvbnNba2V5XSA6IGRlZmF1bHRzW2tleV07XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufVxuZnVuY3Rpb24gaXNTYW1lUGFyYW0oYSwgYikge1xuICAgIHJldHVybiAoYS5uYW1lID09PSBiLm5hbWUgJiZcbiAgICAgICAgYS5vcHRpb25hbCA9PT0gYi5vcHRpb25hbCAmJlxuICAgICAgICBhLnJlcGVhdGFibGUgPT09IGIucmVwZWF0YWJsZSk7XG59XG4vKipcbiAqIENoZWNrIGlmIGEgcGF0aCBhbmQgaXRzIGFsaWFzIGhhdmUgdGhlIHNhbWUgcmVxdWlyZWQgcGFyYW1zXG4gKlxuICogQHBhcmFtIGEgLSBvcmlnaW5hbCByZWNvcmRcbiAqIEBwYXJhbSBiIC0gYWxpYXMgcmVjb3JkXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU2FtZVBhcmFtcyhhLCBiKSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgYS5rZXlzKSB7XG4gICAgICAgIGlmICgha2V5Lm9wdGlvbmFsICYmICFiLmtleXMuZmluZChpc1NhbWVQYXJhbS5iaW5kKG51bGwsIGtleSkpKVxuICAgICAgICAgICAgcmV0dXJuIHdhcm4oYEFsaWFzIFwiJHtiLnJlY29yZC5wYXRofVwiIGFuZCB0aGUgb3JpZ2luYWwgcmVjb3JkOiBcIiR7YS5yZWNvcmQucGF0aH1cIiBtdXN0IGhhdmUgdGhlIGV4YWN0IHNhbWUgcGFyYW0gbmFtZWQgXCIke2tleS5uYW1lfVwiYCk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGIua2V5cykge1xuICAgICAgICBpZiAoIWtleS5vcHRpb25hbCAmJiAhYS5rZXlzLmZpbmQoaXNTYW1lUGFyYW0uYmluZChudWxsLCBrZXkpKSlcbiAgICAgICAgICAgIHJldHVybiB3YXJuKGBBbGlhcyBcIiR7Yi5yZWNvcmQucGF0aH1cIiBhbmQgdGhlIG9yaWdpbmFsIHJlY29yZDogXCIke2EucmVjb3JkLnBhdGh9XCIgbXVzdCBoYXZlIHRoZSBleGFjdCBzYW1lIHBhcmFtIG5hbWVkIFwiJHtrZXkubmFtZX1cImApO1xuICAgIH1cbn1cbi8qKlxuICogQSByb3V0ZSB3aXRoIGEgbmFtZSBhbmQgYSBjaGlsZCB3aXRoIGFuIGVtcHR5IHBhdGggd2l0aG91dCBhIG5hbWUgc2hvdWxkIHdhcm4gd2hlbiBhZGRpbmcgdGhlIHJvdXRlXG4gKlxuICogQHBhcmFtIG1haW5Ob3JtYWxpemVkUmVjb3JkIC0gUm91dGVSZWNvcmROb3JtYWxpemVkXG4gKiBAcGFyYW0gcGFyZW50IC0gUm91dGVSZWNvcmRNYXRjaGVyXG4gKi9cbmZ1bmN0aW9uIGNoZWNrQ2hpbGRNaXNzaW5nTmFtZVdpdGhFbXB0eVBhdGgobWFpbk5vcm1hbGl6ZWRSZWNvcmQsIHBhcmVudCkge1xuICAgIGlmIChwYXJlbnQgJiZcbiAgICAgICAgcGFyZW50LnJlY29yZC5uYW1lICYmXG4gICAgICAgICFtYWluTm9ybWFsaXplZFJlY29yZC5uYW1lICYmXG4gICAgICAgICFtYWluTm9ybWFsaXplZFJlY29yZC5wYXRoKSB7XG4gICAgICAgIHdhcm4oYFRoZSByb3V0ZSBuYW1lZCBcIiR7U3RyaW5nKHBhcmVudC5yZWNvcmQubmFtZSl9XCIgaGFzIGEgY2hpbGQgd2l0aG91dCBhIG5hbWUgYW5kIGFuIGVtcHR5IHBhdGguIFVzaW5nIHRoYXQgbmFtZSB3b24ndCByZW5kZXIgdGhlIGVtcHR5IHBhdGggY2hpbGQgc28geW91IHByb2JhYmx5IHdhbnQgdG8gbW92ZSB0aGUgbmFtZSB0byB0aGUgY2hpbGQgaW5zdGVhZC4gSWYgdGhpcyBpcyBpbnRlbnRpb25hbCwgYWRkIGEgbmFtZSB0byB0aGUgY2hpbGQgcm91dGUgdG8gcmVtb3ZlIHRoZSB3YXJuaW5nLmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrU2FtZU5hbWVBc0FuY2VzdG9yKHJlY29yZCwgcGFyZW50KSB7XG4gICAgZm9yIChsZXQgYW5jZXN0b3IgPSBwYXJlbnQ7IGFuY2VzdG9yOyBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudCkge1xuICAgICAgICBpZiAoYW5jZXN0b3IucmVjb3JkLm5hbWUgPT09IHJlY29yZC5uYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgcm91dGUgbmFtZWQgXCIke1N0cmluZyhyZWNvcmQubmFtZSl9XCIgaGFzIGJlZW4gYWRkZWQgYXMgYSAke3BhcmVudCA9PT0gYW5jZXN0b3IgPyAnY2hpbGQnIDogJ2Rlc2NlbmRhbnQnfSBvZiBhIHJvdXRlIHdpdGggdGhlIHNhbWUgbmFtZS4gUm91dGUgbmFtZXMgbXVzdCBiZSB1bmlxdWUgYW5kIGEgbmVzdGVkIHJvdXRlIGNhbm5vdCB1c2UgdGhlIHNhbWUgbmFtZSBhcyBhbiBhbmNlc3Rvci5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrTWlzc2luZ1BhcmFtc0luQWJzb2x1dGVQYXRoKHJlY29yZCwgcGFyZW50KSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgcGFyZW50LmtleXMpIHtcbiAgICAgICAgaWYgKCFyZWNvcmQua2V5cy5maW5kKGlzU2FtZVBhcmFtLmJpbmQobnVsbCwga2V5KSkpXG4gICAgICAgICAgICByZXR1cm4gd2FybihgQWJzb2x1dGUgcGF0aCBcIiR7cmVjb3JkLnJlY29yZC5wYXRofVwiIG11c3QgaGF2ZSB0aGUgZXhhY3Qgc2FtZSBwYXJhbSBuYW1lZCBcIiR7a2V5Lm5hbWV9XCIgYXMgaXRzIHBhcmVudCBcIiR7cGFyZW50LnJlY29yZC5wYXRofVwiLmApO1xuICAgIH1cbn1cbi8qKlxuICogUGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIHRvIGZpbmQgdGhlIGNvcnJlY3QgaW5zZXJ0aW9uIGluZGV4IGZvciBhIG5ldyBtYXRjaGVyLlxuICpcbiAqIE1hdGNoZXJzIGFyZSBwcmltYXJpbHkgc29ydGVkIGJ5IHRoZWlyIHNjb3JlLiBJZiBzY29yZXMgYXJlIHRpZWQgdGhlbiB3ZSBhbHNvIGNvbnNpZGVyIHBhcmVudC9jaGlsZCByZWxhdGlvbnNoaXBzLFxuICogd2l0aCBkZXNjZW5kYW50cyBjb21pbmcgYmVmb3JlIGFuY2VzdG9ycy4gSWYgdGhlcmUncyBzdGlsbCBhIHRpZSwgbmV3IHJvdXRlcyBhcmUgaW5zZXJ0ZWQgYWZ0ZXIgZXhpc3Rpbmcgcm91dGVzLlxuICpcbiAqIEBwYXJhbSBtYXRjaGVyIC0gbmV3IG1hdGNoZXIgdG8gYmUgaW5zZXJ0ZWRcbiAqIEBwYXJhbSBtYXRjaGVycyAtIGV4aXN0aW5nIG1hdGNoZXJzXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChtYXRjaGVyLCBtYXRjaGVycykge1xuICAgIC8vIEZpcnN0IHBoYXNlOiBiaW5hcnkgc2VhcmNoIGJhc2VkIG9uIHNjb3JlXG4gICAgbGV0IGxvd2VyID0gMDtcbiAgICBsZXQgdXBwZXIgPSBtYXRjaGVycy5sZW5ndGg7XG4gICAgd2hpbGUgKGxvd2VyICE9PSB1cHBlcikge1xuICAgICAgICBjb25zdCBtaWQgPSAobG93ZXIgKyB1cHBlcikgPj4gMTtcbiAgICAgICAgY29uc3Qgc29ydE9yZGVyID0gY29tcGFyZVBhdGhQYXJzZXJTY29yZShtYXRjaGVyLCBtYXRjaGVyc1ttaWRdKTtcbiAgICAgICAgaWYgKHNvcnRPcmRlciA8IDApIHtcbiAgICAgICAgICAgIHVwcGVyID0gbWlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG93ZXIgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNlY29uZCBwaGFzZTogY2hlY2sgZm9yIGFuIGFuY2VzdG9yIHdpdGggdGhlIHNhbWUgc2NvcmVcbiAgICBjb25zdCBpbnNlcnRpb25BbmNlc3RvciA9IGdldEluc2VydGlvbkFuY2VzdG9yKG1hdGNoZXIpO1xuICAgIGlmIChpbnNlcnRpb25BbmNlc3Rvcikge1xuICAgICAgICB1cHBlciA9IG1hdGNoZXJzLmxhc3RJbmRleE9mKGluc2VydGlvbkFuY2VzdG9yLCB1cHBlciAtIDEpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHVwcGVyIDwgMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB3YXJuKGBGaW5kaW5nIGFuY2VzdG9yIHJvdXRlIFwiJHtpbnNlcnRpb25BbmNlc3Rvci5yZWNvcmQucGF0aH1cIiBmYWlsZWQgZm9yIFwiJHttYXRjaGVyLnJlY29yZC5wYXRofVwiYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwcGVyO1xufVxuZnVuY3Rpb24gZ2V0SW5zZXJ0aW9uQW5jZXN0b3IobWF0Y2hlcikge1xuICAgIGxldCBhbmNlc3RvciA9IG1hdGNoZXI7XG4gICAgd2hpbGUgKChhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudCkpIHtcbiAgICAgICAgaWYgKGlzTWF0Y2hhYmxlKGFuY2VzdG9yKSAmJlxuICAgICAgICAgICAgY29tcGFyZVBhdGhQYXJzZXJTY29yZShtYXRjaGVyLCBhbmNlc3RvcikgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhbmNlc3RvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIG1hdGNoZXIgY2FuIGJlIHJlYWNoYWJsZS4gVGhpcyBtZWFucyBpZiBpdCdzIHBvc3NpYmxlIHRvIHJlYWNoIGl0IGFzIGEgcm91dGUuIEZvciBleGFtcGxlLCByb3V0ZXMgd2l0aG91dFxuICogYSBjb21wb25lbnQsIG9yIG5hbWUsIG9yIHJlZGlyZWN0LCBhcmUganVzdCB1c2VkIHRvIGdyb3VwIG90aGVyIHJvdXRlcy5cbiAqIEBwYXJhbSBtYXRjaGVyXG4gKiBAcGFyYW0gbWF0Y2hlci5yZWNvcmQgcmVjb3JkIG9mIHRoZSBtYXRjaGVyXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBpc01hdGNoYWJsZSh7IHJlY29yZCB9KSB7XG4gICAgcmV0dXJuICEhKHJlY29yZC5uYW1lIHx8XG4gICAgICAgIChyZWNvcmQuY29tcG9uZW50cyAmJiBPYmplY3Qua2V5cyhyZWNvcmQuY29tcG9uZW50cykubGVuZ3RoKSB8fFxuICAgICAgICByZWNvcmQucmVkaXJlY3QpO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBxdWVyeVN0cmluZyBpbnRvIGEge0BsaW5rIExvY2F0aW9uUXVlcnl9IG9iamVjdC4gQWNjZXB0IGJvdGgsIGFcbiAqIHZlcnNpb24gd2l0aCB0aGUgbGVhZGluZyBgP2AgYW5kIHdpdGhvdXQgU2hvdWxkIHdvcmsgYXMgVVJMU2VhcmNoUGFyYW1zXG5cbiAqIEBpbnRlcm5hbFxuICpcbiAqIEBwYXJhbSBzZWFyY2ggLSBzZWFyY2ggc3RyaW5nIHRvIHBhcnNlXG4gKiBAcmV0dXJucyBhIHF1ZXJ5IG9iamVjdFxuICovXG5mdW5jdGlvbiBwYXJzZVF1ZXJ5KHNlYXJjaCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0ge307XG4gICAgLy8gYXZvaWQgY3JlYXRpbmcgYW4gb2JqZWN0IHdpdGggYW4gZW1wdHkga2V5IGFuZCBlbXB0eSB2YWx1ZVxuICAgIC8vIGJlY2F1c2Ugb2Ygc3BsaXQoJyYnKVxuICAgIGlmIChzZWFyY2ggPT09ICcnIHx8IHNlYXJjaCA9PT0gJz8nKVxuICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgY29uc3QgaGFzTGVhZGluZ0lNID0gc2VhcmNoWzBdID09PSAnPyc7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gKGhhc0xlYWRpbmdJTSA/IHNlYXJjaC5zbGljZSgxKSA6IHNlYXJjaCkuc3BsaXQoJyYnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlYXJjaFBhcmFtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAvLyBwcmUgZGVjb2RlIHRoZSArIGludG8gc3BhY2VcbiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW0gPSBzZWFyY2hQYXJhbXNbaV0ucmVwbGFjZShQTFVTX1JFLCAnICcpO1xuICAgICAgICAvLyBhbGxvdyB0aGUgPSBjaGFyYWN0ZXJcbiAgICAgICAgY29uc3QgZXFQb3MgPSBzZWFyY2hQYXJhbS5pbmRleE9mKCc9Jyk7XG4gICAgICAgIGNvbnN0IGtleSA9IGRlY29kZShlcVBvcyA8IDAgPyBzZWFyY2hQYXJhbSA6IHNlYXJjaFBhcmFtLnNsaWNlKDAsIGVxUG9zKSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXFQb3MgPCAwID8gbnVsbCA6IGRlY29kZShzZWFyY2hQYXJhbS5zbGljZShlcVBvcyArIDEpKTtcbiAgICAgICAgaWYgKGtleSBpbiBxdWVyeSkge1xuICAgICAgICAgICAgLy8gYW4gZXh0cmEgdmFyaWFibGUgZm9yIHRzIHR5cGVzXG4gICAgICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gcXVlcnlba2V5XTtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gcXVlcnlba2V5XSA9IFtjdXJyZW50VmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFZhbHVlLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVlcnlba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbn1cbi8qKlxuICogU3RyaW5naWZpZXMgYSB7QGxpbmsgTG9jYXRpb25RdWVyeVJhd30gb2JqZWN0LiBMaWtlIGBVUkxTZWFyY2hQYXJhbXNgLCBpdFxuICogZG9lc24ndCBwcmVwZW5kIGEgYD9gXG4gKlxuICogQGludGVybmFsXG4gKlxuICogQHBhcmFtIHF1ZXJ5IC0gcXVlcnkgb2JqZWN0IHRvIHN0cmluZ2lmeVxuICogQHJldHVybnMgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHF1ZXJ5IHdpdGhvdXQgdGhlIGxlYWRpbmcgYD9gXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgbGV0IHNlYXJjaCA9ICcnO1xuICAgIGZvciAobGV0IGtleSBpbiBxdWVyeSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgICAgIGtleSA9IGVuY29kZVF1ZXJ5S2V5KGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvbmx5IG51bGwgYWRkcyB0aGUgdmFsdWVcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoICs9IChzZWFyY2gubGVuZ3RoID8gJyYnIDogJycpICsga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8ga2VlcCBudWxsIHZhbHVlc1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiB2ICYmIGVuY29kZVF1ZXJ5VmFsdWUodikpXG4gICAgICAgICAgICA6IFt2YWx1ZSAmJiBlbmNvZGVRdWVyeVZhbHVlKHZhbHVlKV07XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIC8vIHNraXAgdW5kZWZpbmVkIHZhbHVlcyBpbiBhcnJheXMgYXMgaWYgdGhleSB3ZXJlIG5vdCBwcmVzZW50XG4gICAgICAgICAgICAvLyBzbWFsbGVyIGNvZGUgdGhhbiB1c2luZyBmaWx0ZXJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSBhcHBlbmQgJiB3aXRoIG5vbi1lbXB0eSBzZWFyY2hcbiAgICAgICAgICAgICAgICBzZWFyY2ggKz0gKHNlYXJjaC5sZW5ndGggPyAnJicgOiAnJykgKyBrZXk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaCArPSAnPScgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWFyY2g7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYSB7QGxpbmsgTG9jYXRpb25RdWVyeVJhd30gaW50byBhIHtAbGluayBMb2NhdGlvblF1ZXJ5fSBieSBjYXN0aW5nXG4gKiBudW1iZXJzIGludG8gc3RyaW5ncywgcmVtb3Zpbmcga2V5cyB3aXRoIGFuIHVuZGVmaW5lZCB2YWx1ZSBhbmQgcmVwbGFjaW5nXG4gKiB1bmRlZmluZWQgd2l0aCBudWxsIGluIGFycmF5c1xuICpcbiAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5IG9iamVjdCB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIGEgbm9ybWFsaXplZCBxdWVyeSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUXVlcnkocXVlcnkpIHtcbiAgICBjb25zdCBub3JtYWxpemVkUXVlcnkgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBxdWVyeSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUXVlcnlba2V5XSA9IGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiAodiA9PSBudWxsID8gbnVsbCA6ICcnICsgdikpXG4gICAgICAgICAgICAgICAgOiB2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiAnJyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkUXVlcnk7XG59XG5cbi8qKlxuICogUm91dGVSZWNvcmQgYmVpbmcgcmVuZGVyZWQgYnkgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgUm91dGVyIFZpZXcuIFVzZWQgZm9yXG4gKiBgb25CZWZvcmVSb3V0ZVVwZGF0ZWAgYW5kIGBvbkJlZm9yZVJvdXRlTGVhdmVgLiBydmxtIHN0YW5kcyBmb3IgUm91dGVyIFZpZXdcbiAqIExvY2F0aW9uIE1hdGNoZWRcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgbWF0Y2hlZFJvdXRlS2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdyb3V0ZXIgdmlldyBsb2NhdGlvbiBtYXRjaGVkJyA6ICcnKTtcbi8qKlxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIHJvdXRlciB2aWV3IGRlcHRoIHRvIGNvbnRyb2wgd2hpY2ggY29tcG9uZW50IGluXG4gKiBgbWF0Y2hlZGAgaXMgcmVuZGVyZWQuIHJ2ZCBzdGFuZHMgZm9yIFJvdXRlciBWaWV3IERlcHRoXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHZpZXdEZXB0aEtleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyIHZpZXcgZGVwdGgnIDogJycpO1xuLyoqXG4gKiBBbGxvd3Mgb3ZlcnJpZGluZyB0aGUgcm91dGVyIGluc3RhbmNlIHJldHVybmVkIGJ5IGB1c2VSb3V0ZXJgIGluIHRlc3RzLiByXG4gKiBzdGFuZHMgZm9yIHJvdXRlclxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCByb3V0ZXJLZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ3JvdXRlcicgOiAnJyk7XG4vKipcbiAqIEFsbG93cyBvdmVycmlkaW5nIHRoZSBjdXJyZW50IHJvdXRlIHJldHVybmVkIGJ5IGB1c2VSb3V0ZWAgaW4gdGVzdHMuIHJsXG4gKiBzdGFuZHMgZm9yIHJvdXRlIGxvY2F0aW9uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHJvdXRlTG9jYXRpb25LZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ3JvdXRlIGxvY2F0aW9uJyA6ICcnKTtcbi8qKlxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIGN1cnJlbnQgcm91dGUgdXNlZCBieSByb3V0ZXItdmlldy4gSW50ZXJuYWxseSB0aGlzIGlzXG4gKiB1c2VkIHdoZW4gdGhlIGByb3V0ZWAgcHJvcCBpcyBwYXNzZWQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHJvdXRlclZpZXdMb2NhdGlvbktleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyIHZpZXcgbG9jYXRpb24nIDogJycpO1xuXG4vKipcbiAqIENyZWF0ZSBhIGxpc3Qgb2YgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIHJlc2V0LiBVc2VkIHRvIGNyZWF0ZSBiZWZvcmUgYW5kIGFmdGVyIG5hdmlnYXRpb24gZ3VhcmRzIGxpc3RcbiAqL1xuZnVuY3Rpb24gdXNlQ2FsbGJhY2tzKCkge1xuICAgIGxldCBoYW5kbGVycyA9IFtdO1xuICAgIGZ1bmN0aW9uIGFkZChoYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkLFxuICAgICAgICBsaXN0OiAoKSA9PiBoYW5kbGVycy5zbGljZSgpLFxuICAgICAgICByZXNldCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiByZWdpc3Rlckd1YXJkKHJlY29yZCwgbmFtZSwgZ3VhcmQpIHtcbiAgICBjb25zdCByZW1vdmVGcm9tTGlzdCA9ICgpID0+IHtcbiAgICAgICAgcmVjb3JkW25hbWVdLmRlbGV0ZShndWFyZCk7XG4gICAgfTtcbiAgICBvblVubW91bnRlZChyZW1vdmVGcm9tTGlzdCk7XG4gICAgb25EZWFjdGl2YXRlZChyZW1vdmVGcm9tTGlzdCk7XG4gICAgb25BY3RpdmF0ZWQoKCkgPT4ge1xuICAgICAgICByZWNvcmRbbmFtZV0uYWRkKGd1YXJkKTtcbiAgICB9KTtcbiAgICByZWNvcmRbbmFtZV0uYWRkKGd1YXJkKTtcbn1cbi8qKlxuICogQWRkIGEgbmF2aWdhdGlvbiBndWFyZCB0aGF0IHRyaWdnZXJzIHdoZW5ldmVyIHRoZSBjb21wb25lbnQgZm9yIHRoZSBjdXJyZW50XG4gKiBsb2NhdGlvbiBpcyBhYm91dCB0byBiZSBsZWZ0LiBTaW1pbGFyIHRvIHtAbGluayBiZWZvcmVSb3V0ZUxlYXZlfSBidXQgY2FuIGJlXG4gKiB1c2VkIGluIGFueSBjb21wb25lbnQuIFRoZSBndWFyZCBpcyByZW1vdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogQHBhcmFtIGxlYXZlR3VhcmQgLSB7QGxpbmsgTmF2aWdhdGlvbkd1YXJkfVxuICovXG5mdW5jdGlvbiBvbkJlZm9yZVJvdXRlTGVhdmUobGVhdmVHdWFyZCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWdldEN1cnJlbnRJbnN0YW5jZSgpKSB7XG4gICAgICAgIHdhcm4oJ2dldEN1cnJlbnRJbnN0YW5jZSgpIHJldHVybmVkIG51bGwuIG9uQmVmb3JlUm91dGVMZWF2ZSgpIG11c3QgYmUgY2FsbGVkIGF0IHRoZSB0b3Agb2YgYSBzZXR1cCBmdW5jdGlvbicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVJlY29yZCA9IGluamVjdChtYXRjaGVkUm91dGVLZXksIFxuICAgIC8vIHRvIGF2b2lkIHdhcm5pbmdcbiAgICB7fSkudmFsdWU7XG4gICAgaWYgKCFhY3RpdmVSZWNvcmQpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICB3YXJuKCdObyBhY3RpdmUgcm91dGUgcmVjb3JkIHdhcyBmb3VuZCB3aGVuIGNhbGxpbmcgYG9uQmVmb3JlUm91dGVMZWF2ZSgpYC4gTWFrZSBzdXJlIHlvdSBjYWxsIHRoaXMgZnVuY3Rpb24gaW5zaWRlIGEgY29tcG9uZW50IGNoaWxkIG9mIDxyb3V0ZXItdmlldz4uIE1heWJlIHlvdSBjYWxsZWQgaXQgaW5zaWRlIG9mIEFwcC52dWU/Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVnaXN0ZXJHdWFyZChhY3RpdmVSZWNvcmQsICdsZWF2ZUd1YXJkcycsIGxlYXZlR3VhcmQpO1xufVxuLyoqXG4gKiBBZGQgYSBuYXZpZ2F0aW9uIGd1YXJkIHRoYXQgdHJpZ2dlcnMgd2hlbmV2ZXIgdGhlIGN1cnJlbnQgbG9jYXRpb24gaXMgYWJvdXRcbiAqIHRvIGJlIHVwZGF0ZWQuIFNpbWlsYXIgdG8ge0BsaW5rIGJlZm9yZVJvdXRlVXBkYXRlfSBidXQgY2FuIGJlIHVzZWQgaW4gYW55XG4gKiBjb21wb25lbnQuIFRoZSBndWFyZCBpcyByZW1vdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogQHBhcmFtIHVwZGF0ZUd1YXJkIC0ge0BsaW5rIE5hdmlnYXRpb25HdWFyZH1cbiAqL1xuZnVuY3Rpb24gb25CZWZvcmVSb3V0ZVVwZGF0ZSh1cGRhdGVHdWFyZCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWdldEN1cnJlbnRJbnN0YW5jZSgpKSB7XG4gICAgICAgIHdhcm4oJ2dldEN1cnJlbnRJbnN0YW5jZSgpIHJldHVybmVkIG51bGwuIG9uQmVmb3JlUm91dGVVcGRhdGUoKSBtdXN0IGJlIGNhbGxlZCBhdCB0aGUgdG9wIG9mIGEgc2V0dXAgZnVuY3Rpb24nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVSZWNvcmQgPSBpbmplY3QobWF0Y2hlZFJvdXRlS2V5LCBcbiAgICAvLyB0byBhdm9pZCB3YXJuaW5nXG4gICAge30pLnZhbHVlO1xuICAgIGlmICghYWN0aXZlUmVjb3JkKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgd2FybignTm8gYWN0aXZlIHJvdXRlIHJlY29yZCB3YXMgZm91bmQgd2hlbiBjYWxsaW5nIGBvbkJlZm9yZVJvdXRlVXBkYXRlKClgLiBNYWtlIHN1cmUgeW91IGNhbGwgdGhpcyBmdW5jdGlvbiBpbnNpZGUgYSBjb21wb25lbnQgY2hpbGQgb2YgPHJvdXRlci12aWV3Pi4gTWF5YmUgeW91IGNhbGxlZCBpdCBpbnNpZGUgb2YgQXBwLnZ1ZT8nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZWdpc3Rlckd1YXJkKGFjdGl2ZVJlY29yZCwgJ3VwZGF0ZUd1YXJkcycsIHVwZGF0ZUd1YXJkKTtcbn1cbmZ1bmN0aW9uIGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tLCByZWNvcmQsIG5hbWUsIHJ1bldpdGhDb250ZXh0ID0gZm4gPT4gZm4oKSkge1xuICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGVudGVyQ2FsbGJhY2tBcnJheSB0byBwcmV2ZW50IHB1c2hpbmcgY2FsbGJhY2tzIGlmIGEgbmV3IG5hdmlnYXRpb24gdG9vayBwbGFjZVxuICAgIGNvbnN0IGVudGVyQ2FsbGJhY2tBcnJheSA9IHJlY29yZCAmJlxuICAgICAgICAvLyBuYW1lIGlzIGRlZmluZWQgaWYgcmVjb3JkIGlzIGJlY2F1c2Ugb2YgdGhlIGZ1bmN0aW9uIG92ZXJsb2FkXG4gICAgICAgIChyZWNvcmQuZW50ZXJDYWxsYmFja3NbbmFtZV0gPSByZWNvcmQuZW50ZXJDYWxsYmFja3NbbmFtZV0gfHwgW10pO1xuICAgIHJldHVybiAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSAodmFsaWQpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoY3JlYXRlUm91dGVyRXJyb3IoNCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQUJPUlRFRCAqLywge1xuICAgICAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWxpZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHZhbGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUm91dGVMb2NhdGlvbih2YWxpZCkpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoY3JlYXRlUm91dGVyRXJyb3IoMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogdG8sXG4gICAgICAgICAgICAgICAgICAgIHRvOiB2YWxpZCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50ZXJDYWxsYmFja0FycmF5ICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIGVudGVyQ2FsbGJhY2tBcnJheSBpcyB0cnV0aHksIGJvdGggcmVjb3JkIGFuZCBuYW1lIGFsc28gYXJlXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSA9PT0gZW50ZXJDYWxsYmFja0FycmF5ICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiB2YWxpZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBlbnRlckNhbGxiYWNrQXJyYXkucHVzaCh2YWxpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gd3JhcHBpbmcgd2l0aCBQcm9taXNlLnJlc29sdmUgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBib3RoIGFzeW5jIGFuZCBzeW5jIGd1YXJkc1xuICAgICAgICBjb25zdCBndWFyZFJldHVybiA9IHJ1bldpdGhDb250ZXh0KCgpID0+IGd1YXJkLmNhbGwocmVjb3JkICYmIHJlY29yZC5pbnN0YW5jZXNbbmFtZV0sIHRvLCBmcm9tLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjYW5Pbmx5QmVDYWxsZWRPbmNlKG5leHQsIHRvLCBmcm9tKSA6IG5leHQpKTtcbiAgICAgICAgbGV0IGd1YXJkQ2FsbCA9IFByb21pc2UucmVzb2x2ZShndWFyZFJldHVybik7XG4gICAgICAgIGlmIChndWFyZC5sZW5ndGggPCAzKVxuICAgICAgICAgICAgZ3VhcmRDYWxsID0gZ3VhcmRDYWxsLnRoZW4obmV4dCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ3VhcmQubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBUaGUgXCJuZXh0XCIgY2FsbGJhY2sgd2FzIG5ldmVyIGNhbGxlZCBpbnNpZGUgb2YgJHtndWFyZC5uYW1lID8gJ1wiJyArIGd1YXJkLm5hbWUgKyAnXCInIDogJyd9OlxcbiR7Z3VhcmQudG9TdHJpbmcoKX1cXG4uIElmIHlvdSBhcmUgcmV0dXJuaW5nIGEgdmFsdWUgaW5zdGVhZCBvZiBjYWxsaW5nIFwibmV4dFwiLCBtYWtlIHN1cmUgdG8gcmVtb3ZlIHRoZSBcIm5leHRcIiBwYXJhbWV0ZXIgZnJvbSB5b3VyIGZ1bmN0aW9uLmA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGd1YXJkUmV0dXJuID09PSAnb2JqZWN0JyAmJiAndGhlbicgaW4gZ3VhcmRSZXR1cm4pIHtcbiAgICAgICAgICAgICAgICBndWFyZENhbGwgPSBndWFyZENhbGwudGhlbihyZXNvbHZlZFZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogX2NhbGxlZCBpcyBhZGRlZCBhdCBjYW5Pbmx5QmVDYWxsZWRPbmNlXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dC5fY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCBuYXZpZ2F0aW9uIGd1YXJkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ3VhcmRSZXR1cm4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IF9jYWxsZWQgaXMgYWRkZWQgYXQgY2FuT25seUJlQ2FsbGVkT25jZVxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5fY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgbmF2aWdhdGlvbiBndWFyZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBndWFyZENhbGwuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNhbk9ubHlCZUNhbGxlZE9uY2UobmV4dCwgdG8sIGZyb20pIHtcbiAgICBsZXQgY2FsbGVkID0gMDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2FsbGVkKysgPT09IDEpXG4gICAgICAgICAgICB3YXJuKGBUaGUgXCJuZXh0XCIgY2FsbGJhY2sgd2FzIGNhbGxlZCBtb3JlIHRoYW4gb25jZSBpbiBvbmUgbmF2aWdhdGlvbiBndWFyZCB3aGVuIGdvaW5nIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiLiBJdCBzaG91bGQgYmUgY2FsbGVkIGV4YWN0bHkgb25lIHRpbWUgaW4gZWFjaCBuYXZpZ2F0aW9uIGd1YXJkLiBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uLmApO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBwdXQgaXQgaW4gdGhlIG9yaWdpbmFsIG9uZSBiZWNhdXNlIGl0J3MgZWFzaWVyIHRvIGNoZWNrXG4gICAgICAgIG5leHQuX2NhbGxlZCA9IHRydWU7XG4gICAgICAgIGlmIChjYWxsZWQgPT09IDEpXG4gICAgICAgICAgICBuZXh0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RDb21wb25lbnRzR3VhcmRzKG1hdGNoZWQsIGd1YXJkVHlwZSwgdG8sIGZyb20sIHJ1bldpdGhDb250ZXh0ID0gZm4gPT4gZm4oKSkge1xuICAgIGNvbnN0IGd1YXJkcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIG1hdGNoZWQpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcmVjb3JkLmNvbXBvbmVudHMgJiYgIXJlY29yZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHdhcm4oYFJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGVpdGhlciBtaXNzaW5nIGEgXCJjb21wb25lbnQocylcImAgK1xuICAgICAgICAgICAgICAgIGAgb3IgXCJjaGlsZHJlblwiIHByb3BlcnR5LmApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiByZWNvcmQuY29tcG9uZW50cykge1xuICAgICAgICAgICAgbGV0IHJhd0NvbXBvbmVudCA9IHJlY29yZC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGlmICghcmF3Q29tcG9uZW50IHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcmF3Q29tcG9uZW50ICE9PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJhd0NvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIG5vdGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCBhIHZhbGlkIGNvbXBvbmVudC4gUmVjZWl2ZWQgXCIke1N0cmluZyhyYXdDb21wb25lbnQpfVwiLmApO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyB0byBlbnN1cmUgd2Ugc3RvcCBoZXJlIGJ1dCB3YXJuIHRvIGVuc3VyZSB0aGUgbWVzc2FnZSBpc24ndFxuICAgICAgICAgICAgICAgICAgICAvLyBtaXNzZWQgYnkgdGhlIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJvdXRlIGNvbXBvbmVudCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgndGhlbicgaW4gcmF3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdhcm4gaWYgdXNlciB3cm90ZSBpbXBvcnQoJy9jb21wb25lbnQudnVlJykgaW5zdGVhZCBvZiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAvLyBpbXBvcnQoJy4vY29tcG9uZW50LnZ1ZScpXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBcIiR7bmFtZX1cIiBpbiByZWNvcmQgd2l0aCBwYXRoIFwiJHtyZWNvcmQucGF0aH1cIiBpcyBhIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFByb21pc2UgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFByb21pc2UuIERpZCB5b3UgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgd3JpdGUgXCJpbXBvcnQoJy4vTXlQYWdlLnZ1ZScpXCIgaW5zdGVhZCBvZiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBcIigpID0+IGltcG9ydCgnLi9NeVBhZ2UudnVlJylcIiA/IFRoaXMgd2lsbCBicmVhayBpbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHJhd0NvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29tcG9uZW50ID0gKCkgPT4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmF3Q29tcG9uZW50Ll9fYXN5bmNMb2FkZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gd2FybiBvbmx5IG9uY2UgcGVyIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAhcmF3Q29tcG9uZW50Ll9fd2FybmVkRGVmaW5lQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29tcG9uZW50Ll9fd2FybmVkRGVmaW5lQXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaW4gcmVjb3JkIHdpdGggcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIgaXMgZGVmaW5lZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB1c2luZyBcImRlZmluZUFzeW5jQ29tcG9uZW50KClcIi4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgV3JpdGUgXCIoKSA9PiBpbXBvcnQoJy4vTXlQYWdlLnZ1ZScpXCIgaW5zdGVhZCBvZiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBcImRlZmluZUFzeW5jQ29tcG9uZW50KCgpID0+IGltcG9ydCgnLi9NeVBhZ2UudnVlJykpXCIuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2tpcCB1cGRhdGUgYW5kIGxlYXZlIGd1YXJkcyBpZiB0aGUgcm91dGUgY29tcG9uZW50IGlzIG5vdCBtb3VudGVkXG4gICAgICAgICAgICBpZiAoZ3VhcmRUeXBlICE9PSAnYmVmb3JlUm91dGVFbnRlcicgJiYgIXJlY29yZC5pbnN0YW5jZXNbbmFtZV0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoaXNSb3V0ZUNvbXBvbmVudChyYXdDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgLy8gX192Y2NPcHRzIGlzIGFkZGVkIGJ5IHZ1ZS1jbGFzcy1jb21wb25lbnQgYW5kIGNvbnRhaW4gdGhlIHJlZ3VsYXIgb3B0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSByYXdDb21wb25lbnQuX192Y2NPcHRzIHx8IHJhd0NvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBndWFyZCA9IG9wdGlvbnNbZ3VhcmRUeXBlXTtcbiAgICAgICAgICAgICAgICBndWFyZCAmJlxuICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSwgcmVjb3JkLCBuYW1lLCBydW5XaXRoQ29udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgcmVxdWVzdGluZyB0aGUgY2h1bmsgYWxyZWFkeVxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9taXNlID0gcmF3Q29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhKCdjYXRjaCcgaW4gY29tcG9uZW50UHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGEgZnVuY3Rpb24gdGhhdCBkb2VzIG5vdCByZXR1cm4gYSBQcm9taXNlLiBJZiB5b3Ugd2VyZSBwYXNzaW5nIGEgZnVuY3Rpb25hbCBjb21wb25lbnQsIG1ha2Ugc3VyZSB0byBhZGQgYSBcImRpc3BsYXlOYW1lXCIgdG8gdGhlIGNvbXBvbmVudC4gVGhpcyB3aWxsIGJyZWFrIGluIHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbXBvbmVudFByb21pc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBndWFyZHMucHVzaCgoKSA9PiBjb21wb25lbnRQcm9taXNlLnRoZW4ocmVzb2x2ZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCByZXNvbHZlIGNvbXBvbmVudCBcIiR7bmFtZX1cIiBhdCBcIiR7cmVjb3JkLnBhdGh9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRDb21wb25lbnQgPSBpc0VTTW9kdWxlKHJlc29sdmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXNvbHZlZC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkO1xuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSByZXNvbHZlZCBtb2R1bGUgZm9yIHBsdWdpbnMgbGlrZSBkYXRhIGxvYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLm1vZHNbbmFtZV0gPSByZXNvbHZlZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgcmVzb2x2ZWQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCBiZWNhdXNlIHdlIHdlbnQgaW50byB0aGUgZm9yIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmNvbXBvbmVudHNbbmFtZV0gPSByZXNvbHZlZENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gX192Y2NPcHRzIGlzIGFkZGVkIGJ5IHZ1ZS1jbGFzcy1jb21wb25lbnQgYW5kIGNvbnRhaW4gdGhlIHJlZ3VsYXIgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZWRDb21wb25lbnQuX192Y2NPcHRzIHx8IHJlc29sdmVkQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBndWFyZCA9IG9wdGlvbnNbZ3VhcmRUeXBlXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChndWFyZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20sIHJlY29yZCwgbmFtZSwgcnVuV2l0aENvbnRleHQpKCkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3VhcmRzO1xufVxuLyoqXG4gKiBFbnN1cmVzIGEgcm91dGUgaXMgbG9hZGVkLCBzbyBpdCBjYW4gYmUgcGFzc2VkIGFzIG8gcHJvcCB0byBgPFJvdXRlclZpZXc+YC5cbiAqXG4gKiBAcGFyYW0gcm91dGUgLSByZXNvbHZlZCByb3V0ZSB0byBsb2FkXG4gKi9cbmZ1bmN0aW9uIGxvYWRSb3V0ZUxvY2F0aW9uKHJvdXRlKSB7XG4gICAgcmV0dXJuIHJvdXRlLm1hdGNoZWQuZXZlcnkocmVjb3JkID0+IHJlY29yZC5yZWRpcmVjdClcbiAgICAgICAgPyBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0Nhbm5vdCBsb2FkIGEgcm91dGUgdGhhdCByZWRpcmVjdHMuJykpXG4gICAgICAgIDogUHJvbWlzZS5hbGwocm91dGUubWF0Y2hlZC5tYXAocmVjb3JkID0+IHJlY29yZC5jb21wb25lbnRzICYmXG4gICAgICAgICAgICBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhyZWNvcmQuY29tcG9uZW50cykucmVkdWNlKChwcm9taXNlcywgbmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0NvbXBvbmVudCA9IHJlY29yZC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmF3Q29tcG9uZW50ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICAgICAgICAgICEoJ2Rpc3BsYXlOYW1lJyBpbiByYXdDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmF3Q29tcG9uZW50KCkudGhlbihyZXNvbHZlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYENvdWxkbid0IHJlc29sdmUgY29tcG9uZW50IFwiJHtuYW1lfVwiIGF0IFwiJHtyZWNvcmQucGF0aH1cIi4gRW5zdXJlIHlvdSBwYXNzZWQgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwcm9taXNlLmApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQ29tcG9uZW50ID0gaXNFU01vZHVsZShyZXNvbHZlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlc29sdmVkLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlc29sdmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCB0aGUgcmVzb2x2ZWQgbW9kdWxlIGZvciBwbHVnaW5zIGxpa2UgZGF0YSBsb2FkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQubW9kc1tuYW1lXSA9IHJlc29sdmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgcmVzb2x2ZWQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQgYmVjYXVzZSB3ZSB3ZW50IGludG8gdGhlIGZvciBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuY29tcG9uZW50c1tuYW1lXSA9IHJlc29sdmVkQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlcztcbiAgICAgICAgICAgIH0sIFtdKSkpKS50aGVuKCgpID0+IHJvdXRlKTtcbn1cblxuLy8gVE9ETzogd2UgY291bGQgYWxsb3cgY3VycmVudFJvdXRlIGFzIGEgcHJvcCB0byBleHBvc2UgYGlzQWN0aXZlYCBhbmRcbi8vIGBpc0V4YWN0QWN0aXZlYCBiZWhhdmlvciBzaG91bGQgZ28gdGhyb3VnaCBhbiBSRkNcbi8qKlxuICogUmV0dXJucyB0aGUgaW50ZXJuYWwgYmVoYXZpb3Igb2YgYSB7QGxpbmsgUm91dGVyTGlua30gd2l0aG91dCB0aGUgcmVuZGVyaW5nIHBhcnQuXG4gKlxuICogQHBhcmFtIHByb3BzIC0gYSBgdG9gIGxvY2F0aW9uIGFuZCBhbiBvcHRpb25hbCBgcmVwbGFjZWAgZmxhZ1xuICovXG5mdW5jdGlvbiB1c2VMaW5rKHByb3BzKSB7XG4gICAgY29uc3Qgcm91dGVyID0gaW5qZWN0KHJvdXRlcktleSk7XG4gICAgY29uc3QgY3VycmVudFJvdXRlID0gaW5qZWN0KHJvdXRlTG9jYXRpb25LZXkpO1xuICAgIGxldCBoYXNQcmV2aW91cyA9IGZhbHNlO1xuICAgIGxldCBwcmV2aW91c1RvID0gbnVsbDtcbiAgICBjb25zdCByb3V0ZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgY29uc3QgdG8gPSB1bnJlZihwcm9wcy50byk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgKCFoYXNQcmV2aW91cyB8fCB0byAhPT0gcHJldmlvdXNUbykpIHtcbiAgICAgICAgICAgIGlmICghaXNSb3V0ZUxvY2F0aW9uKHRvKSkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNQcmV2aW91cykge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHZhbHVlIGZvciBwcm9wIFwidG9cIiBpbiB1c2VMaW5rKClcXG4tIHRvOmAsIHRvLCBgXFxuLSBwcmV2aW91cyB0bzpgLCBwcmV2aW91c1RvLCBgXFxuLSBwcm9wczpgLCBwcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHZhbHVlIGZvciBwcm9wIFwidG9cIiBpbiB1c2VMaW5rKClcXG4tIHRvOmAsIHRvLCBgXFxuLSBwcm9wczpgLCBwcm9wcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXNUbyA9IHRvO1xuICAgICAgICAgICAgaGFzUHJldmlvdXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3V0ZXIucmVzb2x2ZSh0byk7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0aXZlUmVjb3JkSW5kZXggPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWF0Y2hlZCB9ID0gcm91dGUudmFsdWU7XG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBtYXRjaGVkO1xuICAgICAgICBjb25zdCByb3V0ZU1hdGNoZWQgPSBtYXRjaGVkW2xlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBjdXJyZW50TWF0Y2hlZCA9IGN1cnJlbnRSb3V0ZS5tYXRjaGVkO1xuICAgICAgICBpZiAoIXJvdXRlTWF0Y2hlZCB8fCAhY3VycmVudE1hdGNoZWQubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBjb25zdCBpbmRleCA9IGN1cnJlbnRNYXRjaGVkLmZpbmRJbmRleChpc1NhbWVSb3V0ZVJlY29yZC5iaW5kKG51bGwsIHJvdXRlTWF0Y2hlZCkpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgLy8gcG9zc2libGUgcGFyZW50IHJlY29yZFxuICAgICAgICBjb25zdCBwYXJlbnRSZWNvcmRQYXRoID0gZ2V0T3JpZ2luYWxQYXRoKG1hdGNoZWRbbGVuZ3RoIC0gMl0pO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvLyB3ZSBhcmUgZGVhbGluZyB3aXRoIG5lc3RlZCByb3V0ZXNcbiAgICAgICAgbGVuZ3RoID4gMSAmJlxuICAgICAgICAgICAgLy8gaWYgdGhlIHBhcmVudCBhbmQgbWF0Y2hlZCByb3V0ZSBoYXZlIHRoZSBzYW1lIHBhdGgsIHRoaXMgbGluayBpc1xuICAgICAgICAgICAgLy8gcmVmZXJyaW5nIHRvIHRoZSBlbXB0eSBjaGlsZC4gT3Igd2UgY3VycmVudGx5IGFyZSBvbiBhIGRpZmZlcmVudFxuICAgICAgICAgICAgLy8gY2hpbGQgb2YgdGhlIHNhbWUgcGFyZW50XG4gICAgICAgICAgICBnZXRPcmlnaW5hbFBhdGgocm91dGVNYXRjaGVkKSA9PT0gcGFyZW50UmVjb3JkUGF0aCAmJlxuICAgICAgICAgICAgLy8gYXZvaWQgY29tcGFyaW5nIHRoZSBjaGlsZCB3aXRoIGl0cyBwYXJlbnRcbiAgICAgICAgICAgIGN1cnJlbnRNYXRjaGVkW2N1cnJlbnRNYXRjaGVkLmxlbmd0aCAtIDFdLnBhdGggIT09IHBhcmVudFJlY29yZFBhdGhcbiAgICAgICAgICAgID8gY3VycmVudE1hdGNoZWQuZmluZEluZGV4KGlzU2FtZVJvdXRlUmVjb3JkLmJpbmQobnVsbCwgbWF0Y2hlZFtsZW5ndGggLSAyXSkpXG4gICAgICAgICAgICA6IGluZGV4KTtcbiAgICB9KTtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbXB1dGVkKCgpID0+IGFjdGl2ZVJlY29yZEluZGV4LnZhbHVlID4gLTEgJiZcbiAgICAgICAgaW5jbHVkZXNQYXJhbXMoY3VycmVudFJvdXRlLnBhcmFtcywgcm91dGUudmFsdWUucGFyYW1zKSk7XG4gICAgY29uc3QgaXNFeGFjdEFjdGl2ZSA9IGNvbXB1dGVkKCgpID0+IGFjdGl2ZVJlY29yZEluZGV4LnZhbHVlID4gLTEgJiZcbiAgICAgICAgYWN0aXZlUmVjb3JkSW5kZXgudmFsdWUgPT09IGN1cnJlbnRSb3V0ZS5tYXRjaGVkLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyhjdXJyZW50Um91dGUucGFyYW1zLCByb3V0ZS52YWx1ZS5wYXJhbXMpKTtcbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZShlID0ge30pIHtcbiAgICAgICAgaWYgKGd1YXJkRXZlbnQoZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSByb3V0ZXJbdW5yZWYocHJvcHMucmVwbGFjZSkgPyAncmVwbGFjZScgOiAncHVzaCddKHVucmVmKHByb3BzLnRvKVxuICAgICAgICAgICAgLy8gYXZvaWQgdW5jYXVnaHQgZXJyb3JzIGFyZSB0aGV5IGFyZSBsb2dnZWQgYW55d2F5XG4gICAgICAgICAgICApLmNhdGNoKG5vb3ApO1xuICAgICAgICAgICAgaWYgKHByb3BzLnZpZXdUcmFuc2l0aW9uICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgICdzdGFydFZpZXdUcmFuc2l0aW9uJyBpbiBkb2N1bWVudCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24oKCkgPT4gcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8vIGRldnRvb2xzIG9ubHlcbiAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmIGlzQnJvd3Nlcikge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtDb250ZXh0RGV2dG9vbHMgPSB7XG4gICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBpc0FjdGl2ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBpc0V4YWN0QWN0aXZlOiBpc0V4YWN0QWN0aXZlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoaXMgaXMgaW50ZXJuYWxcbiAgICAgICAgICAgIGluc3RhbmNlLl9fdnJsX2RldnRvb2xzID0gaW5zdGFuY2UuX192cmxfZGV2dG9vbHMgfHwgW107XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0aGlzIGlzIGludGVybmFsXG4gICAgICAgICAgICBpbnN0YW5jZS5fX3ZybF9kZXZ0b29scy5wdXNoKGxpbmtDb250ZXh0RGV2dG9vbHMpO1xuICAgICAgICAgICAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxpbmtDb250ZXh0RGV2dG9vbHMucm91dGUgPSByb3V0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsaW5rQ29udGV4dERldnRvb2xzLmlzQWN0aXZlID0gaXNBY3RpdmUudmFsdWU7XG4gICAgICAgICAgICAgICAgbGlua0NvbnRleHREZXZ0b29scy5pc0V4YWN0QWN0aXZlID0gaXNFeGFjdEFjdGl2ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsaW5rQ29udGV4dERldnRvb2xzLmVycm9yID0gaXNSb3V0ZUxvY2F0aW9uKHVucmVmKHByb3BzLnRvKSlcbiAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgIDogJ0ludmFsaWQgXCJ0b1wiIHZhbHVlJztcbiAgICAgICAgICAgIH0sIHsgZmx1c2g6ICdwb3N0JyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBOT1RFOiB1cGRhdGUge0BsaW5rIF9Sb3V0ZXJMaW5rSX0ncyBgJHNsb3RzYCB0eXBlIHdoZW4gdXBkYXRpbmcgdGhpc1xuICAgICAqL1xuICAgIHJldHVybiB7XG4gICAgICAgIHJvdXRlLFxuICAgICAgICBocmVmOiBjb21wdXRlZCgoKSA9PiByb3V0ZS52YWx1ZS5ocmVmKSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgIGlzRXhhY3RBY3RpdmUsXG4gICAgICAgIG5hdmlnYXRlLFxuICAgIH07XG59XG5mdW5jdGlvbiBwcmVmZXJTaW5nbGVWTm9kZSh2bm9kZXMpIHtcbiAgICByZXR1cm4gdm5vZGVzLmxlbmd0aCA9PT0gMSA/IHZub2Rlc1swXSA6IHZub2Rlcztcbn1cbmNvbnN0IFJvdXRlckxpbmtJbXBsID0gLyojX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdSb3V0ZXJMaW5rJyxcbiAgICBjb21wYXRDb25maWc6IHsgTU9ERTogMyB9LFxuICAgIHByb3BzOiB7XG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHJlcGxhY2U6IEJvb2xlYW4sXG4gICAgICAgIGFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gICAgICAgIC8vIGluYWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICAgICAgZXhhY3RBY3RpdmVDbGFzczogU3RyaW5nLFxuICAgICAgICBjdXN0b206IEJvb2xlYW4sXG4gICAgICAgIGFyaWFDdXJyZW50VmFsdWU6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdwYWdlJyxcbiAgICAgICAgfSxcbiAgICAgICAgdmlld1RyYW5zaXRpb246IEJvb2xlYW4sXG4gICAgfSxcbiAgICB1c2VMaW5rLFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3QgbGluayA9IHJlYWN0aXZlKHVzZUxpbmsocHJvcHMpKTtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBpbmplY3Qocm91dGVyS2V5KTtcbiAgICAgICAgY29uc3QgZWxDbGFzcyA9IGNvbXB1dGVkKCgpID0+ICh7XG4gICAgICAgICAgICBbZ2V0TGlua0NsYXNzKHByb3BzLmFjdGl2ZUNsYXNzLCBvcHRpb25zLmxpbmtBY3RpdmVDbGFzcywgJ3JvdXRlci1saW5rLWFjdGl2ZScpXTogbGluay5pc0FjdGl2ZSxcbiAgICAgICAgICAgIC8vIFtnZXRMaW5rQ2xhc3MoXG4gICAgICAgICAgICAvLyAgIHByb3BzLmluYWN0aXZlQ2xhc3MsXG4gICAgICAgICAgICAvLyAgIG9wdGlvbnMubGlua0luYWN0aXZlQ2xhc3MsXG4gICAgICAgICAgICAvLyAgICdyb3V0ZXItbGluay1pbmFjdGl2ZSdcbiAgICAgICAgICAgIC8vICldOiAhbGluay5pc0V4YWN0QWN0aXZlLFxuICAgICAgICAgICAgW2dldExpbmtDbGFzcyhwcm9wcy5leGFjdEFjdGl2ZUNsYXNzLCBvcHRpb25zLmxpbmtFeGFjdEFjdGl2ZUNsYXNzLCAncm91dGVyLWxpbmstZXhhY3QtYWN0aXZlJyldOiBsaW5rLmlzRXhhY3RBY3RpdmUsXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBwcmVmZXJTaW5nbGVWTm9kZShzbG90cy5kZWZhdWx0KGxpbmspKTtcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy5jdXN0b21cbiAgICAgICAgICAgICAgICA/IGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgOiBoKCdhJywge1xuICAgICAgICAgICAgICAgICAgICAnYXJpYS1jdXJyZW50JzogbGluay5pc0V4YWN0QWN0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHByb3BzLmFyaWFDdXJyZW50VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogbGluay5ocmVmLFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdvdWxkIG92ZXJyaWRlIHVzZXIgYWRkZWQgYXR0cnMgYnV0IFZ1ZSB3aWxsIHN0aWxsIGFkZFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIsIHNvIHdlIGVuZCB1cCB0cmlnZ2VyaW5nIGJvdGhcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogbGluay5uYXZpZ2F0ZSxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IGVsQ2xhc3MudmFsdWUsXG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW4pO1xuICAgICAgICB9O1xuICAgIH0sXG59KTtcbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcbi8qKlxuICogQ29tcG9uZW50IHRvIHJlbmRlciBhIGxpbmsgdGhhdCB0cmlnZ2VycyBhIG5hdmlnYXRpb24gb24gY2xpY2suXG4gKi9cbmNvbnN0IFJvdXRlckxpbmsgPSBSb3V0ZXJMaW5rSW1wbDtcbmZ1bmN0aW9uIGd1YXJkRXZlbnQoZSkge1xuICAgIC8vIGRvbid0IHJlZGlyZWN0IHdpdGggY29udHJvbCBrZXlzXG4gICAgaWYgKGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5zaGlmdEtleSlcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGRvbid0IHJlZGlyZWN0IHdoZW4gcHJldmVudERlZmF1bHQgY2FsbGVkXG4gICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGRvbid0IHJlZGlyZWN0IG9uIHJpZ2h0IGNsaWNrXG4gICAgaWYgKGUuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgZS5idXR0b24gIT09IDApXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBkb24ndCByZWRpcmVjdCBpZiBgdGFyZ2V0PVwiX2JsYW5rXCJgXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBnZXRBdHRyaWJ1dGUgZG9lcyBleGlzdFxuICAgIGlmIChlLmN1cnJlbnRUYXJnZXQgJiYgZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGdldEF0dHJpYnV0ZSBleGlzdHNcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgndGFyZ2V0Jyk7XG4gICAgICAgIGlmICgvXFxiX2JsYW5rXFxiL2kudGVzdCh0YXJnZXQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB0aGlzIG1heSBiZSBhIFdlZXggZXZlbnQgd2hpY2ggZG9lc24ndCBoYXZlIHRoaXMgbWV0aG9kXG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGluY2x1ZGVzUGFyYW1zKG91dGVyLCBpbm5lcikge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGlubmVyKSB7XG4gICAgICAgIGNvbnN0IGlubmVyVmFsdWUgPSBpbm5lcltrZXldO1xuICAgICAgICBjb25zdCBvdXRlclZhbHVlID0gb3V0ZXJba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbm5lclZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKGlubmVyVmFsdWUgIT09IG91dGVyVmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KG91dGVyVmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgb3V0ZXJWYWx1ZS5sZW5ndGggIT09IGlubmVyVmFsdWUubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgaW5uZXJWYWx1ZS5zb21lKCh2YWx1ZSwgaSkgPT4gdmFsdWUgIT09IG91dGVyVmFsdWVbaV0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogR2V0IHRoZSBvcmlnaW5hbCBwYXRoIHZhbHVlIG9mIGEgcmVjb3JkIGJ5IGZvbGxvd2luZyBpdHMgYWxpYXNPZlxuICogQHBhcmFtIHJlY29yZFxuICovXG5mdW5jdGlvbiBnZXRPcmlnaW5hbFBhdGgocmVjb3JkKSB7XG4gICAgcmV0dXJuIHJlY29yZCA/IChyZWNvcmQuYWxpYXNPZiA/IHJlY29yZC5hbGlhc09mLnBhdGggOiByZWNvcmQucGF0aCkgOiAnJztcbn1cbi8qKlxuICogVXRpbGl0eSBjbGFzcyB0byBnZXQgdGhlIGFjdGl2ZSBjbGFzcyBiYXNlZCBvbiBkZWZhdWx0cy5cbiAqIEBwYXJhbSBwcm9wQ2xhc3NcbiAqIEBwYXJhbSBnbG9iYWxDbGFzc1xuICogQHBhcmFtIGRlZmF1bHRDbGFzc1xuICovXG5jb25zdCBnZXRMaW5rQ2xhc3MgPSAocHJvcENsYXNzLCBnbG9iYWxDbGFzcywgZGVmYXVsdENsYXNzKSA9PiBwcm9wQ2xhc3MgIT0gbnVsbFxuICAgID8gcHJvcENsYXNzXG4gICAgOiBnbG9iYWxDbGFzcyAhPSBudWxsXG4gICAgICAgID8gZ2xvYmFsQ2xhc3NcbiAgICAgICAgOiBkZWZhdWx0Q2xhc3M7XG5cbmNvbnN0IFJvdXRlclZpZXdJbXBsID0gLyojX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdSb3V0ZXJWaWV3JyxcbiAgICAvLyAjNjc0IHdlIG1hbnVhbGx5IGluaGVyaXQgdGhlbVxuICAgIGluaGVyaXRBdHRyczogZmFsc2UsXG4gICAgcHJvcHM6IHtcbiAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnLFxuICAgICAgICB9LFxuICAgICAgICByb3V0ZTogT2JqZWN0LFxuICAgIH0sXG4gICAgLy8gQmV0dGVyIGNvbXBhdCBmb3IgQHZ1ZS9jb21wYXQgdXNlcnNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcm91dGVyL2lzc3Vlcy8xMzE1XG4gICAgY29tcGF0Q29uZmlnOiB7IE1PREU6IDMgfSxcbiAgICBzZXR1cChwcm9wcywgeyBhdHRycywgc2xvdHMgfSkge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybkRlcHJlY2F0ZWRVc2FnZSgpO1xuICAgICAgICBjb25zdCBpbmplY3RlZFJvdXRlID0gaW5qZWN0KHJvdXRlclZpZXdMb2NhdGlvbktleSk7XG4gICAgICAgIGNvbnN0IHJvdXRlVG9EaXNwbGF5ID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMucm91dGUgfHwgaW5qZWN0ZWRSb3V0ZS52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGluamVjdGVkRGVwdGggPSBpbmplY3Qodmlld0RlcHRoS2V5LCAwKTtcbiAgICAgICAgLy8gVGhlIGRlcHRoIGNoYW5nZXMgYmFzZWQgb24gZW1wdHkgY29tcG9uZW50cyBvcHRpb24sIHdoaWNoIGFsbG93cyBwYXNzdGhyb3VnaCByb3V0ZXMgZS5nLiByb3V0ZXMgd2l0aCBjaGlsZHJlblxuICAgICAgICAvLyB0aGF0IGFyZSB1c2VkIHRvIHJldXNlIHRoZSBgcGF0aGAgcHJvcGVydHlcbiAgICAgICAgY29uc3QgZGVwdGggPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW5pdGlhbERlcHRoID0gdW5yZWYoaW5qZWN0ZWREZXB0aCk7XG4gICAgICAgICAgICBjb25zdCB7IG1hdGNoZWQgfSA9IHJvdXRlVG9EaXNwbGF5LnZhbHVlO1xuICAgICAgICAgICAgbGV0IG1hdGNoZWRSb3V0ZTtcbiAgICAgICAgICAgIHdoaWxlICgobWF0Y2hlZFJvdXRlID0gbWF0Y2hlZFtpbml0aWFsRGVwdGhdKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaGVkUm91dGUuY29tcG9uZW50cykge1xuICAgICAgICAgICAgICAgIGluaXRpYWxEZXB0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxEZXB0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1hdGNoZWRSb3V0ZVJlZiA9IGNvbXB1dGVkKCgpID0+IHJvdXRlVG9EaXNwbGF5LnZhbHVlLm1hdGNoZWRbZGVwdGgudmFsdWVdKTtcbiAgICAgICAgcHJvdmlkZSh2aWV3RGVwdGhLZXksIGNvbXB1dGVkKCgpID0+IGRlcHRoLnZhbHVlICsgMSkpO1xuICAgICAgICBwcm92aWRlKG1hdGNoZWRSb3V0ZUtleSwgbWF0Y2hlZFJvdXRlUmVmKTtcbiAgICAgICAgcHJvdmlkZShyb3V0ZXJWaWV3TG9jYXRpb25LZXksIHJvdXRlVG9EaXNwbGF5KTtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHJlZigpO1xuICAgICAgICAvLyB3YXRjaCBhdCB0aGUgc2FtZSB0aW1lIHRoZSBjb21wb25lbnQgaW5zdGFuY2UsIHRoZSByb3V0ZSByZWNvcmQgd2UgYXJlXG4gICAgICAgIC8vIHJlbmRlcmluZywgYW5kIHRoZSBuYW1lXG4gICAgICAgIHdhdGNoKCgpID0+IFt2aWV3UmVmLnZhbHVlLCBtYXRjaGVkUm91dGVSZWYudmFsdWUsIHByb3BzLm5hbWVdLCAoW2luc3RhbmNlLCB0bywgbmFtZV0sIFtvbGRJbnN0YW5jZSwgZnJvbSwgb2xkTmFtZV0pID0+IHtcbiAgICAgICAgICAgIC8vIGNvcHkgcmV1c2VkIGluc3RhbmNlc1xuICAgICAgICAgICAgaWYgKHRvKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHVwZGF0ZSB0aGUgaW5zdGFuY2UgZm9yIG5ldyBpbnN0YW5jZXMgYXMgd2VsbCBhcyByZXVzZWRcbiAgICAgICAgICAgICAgICAvLyBpbnN0YW5jZXMgd2hlbiBuYXZpZ2F0aW5nIHRvIGEgbmV3IHJvdXRlXG4gICAgICAgICAgICAgICAgdG8uaW5zdGFuY2VzW25hbWVdID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSBpcyByZXVzZWQgZm9yIGEgZGlmZmVyZW50IHJvdXRlIG9yIG5hbWUsIHNvXG4gICAgICAgICAgICAgICAgLy8gd2UgY29weSBhbnkgc2F2ZWQgdXBkYXRlIG9yIGxlYXZlIGd1YXJkcy4gV2l0aCBhc3luYyBzZXR1cCwgdGhlXG4gICAgICAgICAgICAgICAgLy8gbW91bnRpbmcgY29tcG9uZW50IHdpbGwgbW91bnQgYmVmb3JlIHRoZSBtYXRjaGVkUm91dGUgY2hhbmdlcyxcbiAgICAgICAgICAgICAgICAvLyBtYWtpbmcgaW5zdGFuY2UgPT09IG9sZEluc3RhbmNlLCBzbyB3ZSBjaGVjayBpZiBndWFyZHMgaGF2ZSBiZWVuXG4gICAgICAgICAgICAgICAgLy8gYWRkZWQgYmVmb3JlLiBUaGlzIHdvcmtzIGJlY2F1c2Ugd2UgcmVtb3ZlIGd1YXJkcyB3aGVuXG4gICAgICAgICAgICAgICAgLy8gdW5tb3VudGluZy9kZWFjdGl2YXRpbmcgY29tcG9uZW50c1xuICAgICAgICAgICAgICAgIGlmIChmcm9tICYmIGZyb20gIT09IHRvICYmIGluc3RhbmNlICYmIGluc3RhbmNlID09PSBvbGRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRvLmxlYXZlR3VhcmRzLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvLmxlYXZlR3VhcmRzID0gZnJvbS5sZWF2ZUd1YXJkcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRvLnVwZGF0ZUd1YXJkcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by51cGRhdGVHdWFyZHMgPSBmcm9tLnVwZGF0ZUd1YXJkcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyaWdnZXIgYmVmb3JlUm91dGVFbnRlciBuZXh0IGNhbGxiYWNrc1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmXG4gICAgICAgICAgICAgICAgdG8gJiZcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBpbnN0YW5jZSBidXQgdG8gYW5kIGZyb20gYXJlIHRoZSBzYW1lIHRoaXMgbWlnaHQgYmVcbiAgICAgICAgICAgICAgICAvLyB0aGUgZmlyc3QgdmlzaXRcbiAgICAgICAgICAgICAgICAoIWZyb20gfHwgIWlzU2FtZVJvdXRlUmVjb3JkKHRvLCBmcm9tKSB8fCAhb2xkSW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgKHRvLmVudGVyQ2FsbGJhY2tzW25hbWVdIHx8IFtdKS5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGluc3RhbmNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHsgZmx1c2g6ICdwb3N0JyB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm91dGVUb0Rpc3BsYXkudmFsdWU7XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRoZSB2YWx1ZSBhdCB0aGUgdGltZSB3ZSByZW5kZXIgYmVjYXVzZSB3aGVuIHdlIHVubW91bnQsIHdlXG4gICAgICAgICAgICAvLyBuYXZpZ2F0ZWQgdG8gYSBkaWZmZXJlbnQgbG9jYXRpb24gc28gdGhlIHZhbHVlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgY29uc3QgY3VycmVudE5hbWUgPSBwcm9wcy5uYW1lO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZFJvdXRlID0gbWF0Y2hlZFJvdXRlUmVmLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgVmlld0NvbXBvbmVudCA9IG1hdGNoZWRSb3V0ZSAmJiBtYXRjaGVkUm91dGUuY29tcG9uZW50c1tjdXJyZW50TmFtZV07XG4gICAgICAgICAgICBpZiAoIVZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9ybWFsaXplU2xvdChzbG90cy5kZWZhdWx0LCB7IENvbXBvbmVudDogVmlld0NvbXBvbmVudCwgcm91dGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwcm9wcyBmcm9tIHJvdXRlIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgIGNvbnN0IHJvdXRlUHJvcHNPcHRpb24gPSBtYXRjaGVkUm91dGUucHJvcHNbY3VycmVudE5hbWVdO1xuICAgICAgICAgICAgY29uc3Qgcm91dGVQcm9wcyA9IHJvdXRlUHJvcHNPcHRpb25cbiAgICAgICAgICAgICAgICA/IHJvdXRlUHJvcHNPcHRpb24gPT09IHRydWVcbiAgICAgICAgICAgICAgICAgICAgPyByb3V0ZS5wYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2Ygcm91dGVQcm9wc09wdGlvbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyByb3V0ZVByb3BzT3B0aW9uKHJvdXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiByb3V0ZVByb3BzT3B0aW9uXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgY29uc3Qgb25Wbm9kZVVubW91bnRlZCA9IHZub2RlID0+IHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIGluc3RhbmNlIHJlZmVyZW5jZSB0byBwcmV2ZW50IGxlYWtcbiAgICAgICAgICAgICAgICBpZiAodm5vZGUuY29tcG9uZW50LmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZWRSb3V0ZS5pbnN0YW5jZXNbY3VycmVudE5hbWVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gaChWaWV3Q29tcG9uZW50LCBhc3NpZ24oe30sIHJvdXRlUHJvcHMsIGF0dHJzLCB7XG4gICAgICAgICAgICAgICAgb25Wbm9kZVVubW91bnRlZCxcbiAgICAgICAgICAgICAgICByZWY6IHZpZXdSZWYsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmXG4gICAgICAgICAgICAgICAgaXNCcm93c2VyICYmXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnJlZikge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGNhbiBkaXNwbGF5IGlmIGl0J3MgYW4gYWxpYXMsIGl0cyBwcm9wc1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoOiBkZXB0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWF0Y2hlZFJvdXRlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IG1hdGNoZWRSb3V0ZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBtZXRhOiBtYXRjaGVkUm91dGUubWV0YSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVybmFsSW5zdGFuY2VzID0gaXNBcnJheShjb21wb25lbnQucmVmKVxuICAgICAgICAgICAgICAgICAgICA/IGNvbXBvbmVudC5yZWYubWFwKHIgPT4gci5pKVxuICAgICAgICAgICAgICAgICAgICA6IFtjb21wb25lbnQucmVmLmldO1xuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2VzLmZvckVhY2goaW5zdGFuY2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLl9fdnJ2X2RldnRvb2xzID0gaW5mbztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAvLyBwYXNzIHRoZSB2bm9kZSB0byB0aGUgc2xvdCBhcyBhIHByb3AuXG4gICAgICAgICAgICAvLyBoIGFuZCA8Y29tcG9uZW50IDppcz1cIi4uLlwiPiBib3RoIGFjY2VwdCB2bm9kZXNcbiAgICAgICAgICAgIG5vcm1hbGl6ZVNsb3Qoc2xvdHMuZGVmYXVsdCwgeyBDb21wb25lbnQ6IGNvbXBvbmVudCwgcm91dGUgfSkgfHxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQpO1xuICAgICAgICB9O1xuICAgIH0sXG59KTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZVNsb3Qoc2xvdCwgZGF0YSkge1xuICAgIGlmICghc2xvdClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3Qgc2xvdENvbnRlbnQgPSBzbG90KGRhdGEpO1xuICAgIHJldHVybiBzbG90Q29udGVudC5sZW5ndGggPT09IDEgPyBzbG90Q29udGVudFswXSA6IHNsb3RDb250ZW50O1xufVxuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xuLyoqXG4gKiBDb21wb25lbnQgdG8gZGlzcGxheSB0aGUgY3VycmVudCByb3V0ZSB0aGUgdXNlciBpcyBhdC5cbiAqL1xuY29uc3QgUm91dGVyVmlldyA9IFJvdXRlclZpZXdJbXBsO1xuLy8gd2FybiBhZ2FpbnN0IGRlcHJlY2F0ZWQgdXNhZ2Ugd2l0aCA8dHJhbnNpdGlvbj4gJiA8a2VlcC1hbGl2ZT5cbi8vIGR1ZSB0byBmdW5jdGlvbmFsIGNvbXBvbmVudCBiZWluZyBubyBsb25nZXIgZWFnZXIgaW4gVnVlIDNcbmZ1bmN0aW9uIHdhcm5EZXByZWNhdGVkVXNhZ2UoKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBwYXJlbnROYW1lID0gaW5zdGFuY2UucGFyZW50ICYmIGluc3RhbmNlLnBhcmVudC50eXBlLm5hbWU7XG4gICAgY29uc3QgcGFyZW50U3ViVHJlZVR5cGUgPSBpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnN1YlRyZWUgJiYgaW5zdGFuY2UucGFyZW50LnN1YlRyZWUudHlwZTtcbiAgICBpZiAocGFyZW50TmFtZSAmJlxuICAgICAgICAocGFyZW50TmFtZSA9PT0gJ0tlZXBBbGl2ZScgfHwgcGFyZW50TmFtZS5pbmNsdWRlcygnVHJhbnNpdGlvbicpKSAmJlxuICAgICAgICB0eXBlb2YgcGFyZW50U3ViVHJlZVR5cGUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHBhcmVudFN1YlRyZWVUeXBlLm5hbWUgPT09ICdSb3V0ZXJWaWV3Jykge1xuICAgICAgICBjb25zdCBjb21wID0gcGFyZW50TmFtZSA9PT0gJ0tlZXBBbGl2ZScgPyAna2VlcC1hbGl2ZScgOiAndHJhbnNpdGlvbic7XG4gICAgICAgIHdhcm4oYDxyb3V0ZXItdmlldz4gY2FuIG5vIGxvbmdlciBiZSB1c2VkIGRpcmVjdGx5IGluc2lkZSA8dHJhbnNpdGlvbj4gb3IgPGtlZXAtYWxpdmU+LlxcbmAgK1xuICAgICAgICAgICAgYFVzZSBzbG90IHByb3BzIGluc3RlYWQ6XFxuXFxuYCArXG4gICAgICAgICAgICBgPHJvdXRlci12aWV3IHYtc2xvdD1cInsgQ29tcG9uZW50IH1cIj5cXG5gICtcbiAgICAgICAgICAgIGAgIDwke2NvbXB9PlxcbmAgK1xuICAgICAgICAgICAgYCAgICA8Y29tcG9uZW50IDppcz1cIkNvbXBvbmVudFwiIC8+XFxuYCArXG4gICAgICAgICAgICBgICA8LyR7Y29tcH0+XFxuYCArXG4gICAgICAgICAgICBgPC9yb3V0ZXItdmlldz5gKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29waWVzIGEgcm91dGUgbG9jYXRpb24gYW5kIHJlbW92ZXMgYW55IHByb2JsZW1hdGljIHByb3BlcnRpZXMgdGhhdCBjYW5ub3QgYmUgc2hvd24gaW4gZGV2dG9vbHMgKGUuZy4gVnVlIGluc3RhbmNlcykuXG4gKlxuICogQHBhcmFtIHJvdXRlTG9jYXRpb24gLSByb3V0ZUxvY2F0aW9uIHRvIGZvcm1hdFxuICogQHBhcmFtIHRvb2x0aXAgLSBvcHRpb25hbCB0b29sdGlwXG4gKiBAcmV0dXJucyBhIGNvcHkgb2YgdGhlIHJvdXRlTG9jYXRpb25cbiAqL1xuZnVuY3Rpb24gZm9ybWF0Um91dGVMb2NhdGlvbihyb3V0ZUxvY2F0aW9uLCB0b29sdGlwKSB7XG4gICAgY29uc3QgY29weSA9IGFzc2lnbih7fSwgcm91dGVMb2NhdGlvbiwge1xuICAgICAgICAvLyByZW1vdmUgdmFyaWFibGVzIHRoYXQgY2FuIGNvbnRhaW4gdnVlIGluc3RhbmNlc1xuICAgICAgICBtYXRjaGVkOiByb3V0ZUxvY2F0aW9uLm1hdGNoZWQubWFwKG1hdGNoZWQgPT4gb21pdChtYXRjaGVkLCBbJ2luc3RhbmNlcycsICdjaGlsZHJlbicsICdhbGlhc09mJ10pKSxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICBkaXNwbGF5OiByb3V0ZUxvY2F0aW9uLmZ1bGxQYXRoLFxuICAgICAgICAgICAgdG9vbHRpcCxcbiAgICAgICAgICAgIHZhbHVlOiBjb3B5LFxuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5KGRpc3BsYXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICBkaXNwbGF5LFxuICAgICAgICB9LFxuICAgIH07XG59XG4vLyB0byBzdXBwb3J0IG11bHRpcGxlIHJvdXRlciBpbnN0YW5jZXNcbmxldCByb3V0ZXJJZCA9IDA7XG5mdW5jdGlvbiBhZGREZXZ0b29scyhhcHAsIHJvdXRlciwgbWF0Y2hlcikge1xuICAgIC8vIFRha2Ugb3ZlciByb3V0ZXIuYmVmb3JlRWFjaCBhbmQgYWZ0ZXJFYWNoXG4gICAgLy8gbWFrZSBzdXJlIHdlIGFyZSBub3QgcmVnaXN0ZXJpbmcgdGhlIGRldnRvb2wgdHdpY2VcbiAgICBpZiAocm91dGVyLl9faGFzRGV2dG9vbHMpXG4gICAgICAgIHJldHVybjtcbiAgICByb3V0ZXIuX19oYXNEZXZ0b29scyA9IHRydWU7XG4gICAgLy8gaW5jcmVtZW50IHRvIHN1cHBvcnQgbXVsdGlwbGUgcm91dGVyIGluc3RhbmNlc1xuICAgIGNvbnN0IGlkID0gcm91dGVySWQrKztcbiAgICBzZXR1cERldnRvb2xzUGx1Z2luKHtcbiAgICAgICAgaWQ6ICdvcmcudnVlanMucm91dGVyJyArIChpZCA/ICcuJyArIGlkIDogJycpLFxuICAgICAgICBsYWJlbDogJ1Z1ZSBSb3V0ZXInLFxuICAgICAgICBwYWNrYWdlTmFtZTogJ3Z1ZS1yb3V0ZXInLFxuICAgICAgICBob21lcGFnZTogJ2h0dHBzOi8vcm91dGVyLnZ1ZWpzLm9yZycsXG4gICAgICAgIGxvZ286ICdodHRwczovL3JvdXRlci52dWVqcy5vcmcvbG9nby5wbmcnLFxuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzOiBbJ1JvdXRpbmcnXSxcbiAgICAgICAgYXBwLFxuICAgIH0sIGFwaSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYXBpLm5vdyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbVnVlIFJvdXRlcl06IFlvdSBzZWVtIHRvIGJlIHVzaW5nIGFuIG91dGRhdGVkIHZlcnNpb24gb2YgVnVlIERldnRvb2xzLiBBcmUgeW91IHN0aWxsIHVzaW5nIHRoZSBCZXRhIHJlbGVhc2UgaW5zdGVhZCBvZiB0aGUgc3RhYmxlIG9uZT8gWW91IGNhbiBmaW5kIHRoZSBsaW5rcyBhdCBodHRwczovL2RldnRvb2xzLnZ1ZWpzLm9yZy9ndWlkZS9pbnN0YWxsYXRpb24uaHRtbC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkaXNwbGF5IHN0YXRlIGFkZGVkIGJ5IHRoZSByb3V0ZXJcbiAgICAgICAgYXBpLm9uLmluc3BlY3RDb21wb25lbnQoKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuaW5zdGFuY2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSb3V0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnJHJvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZm9ybWF0Um91dGVMb2NhdGlvbihyb3V0ZXIuY3VycmVudFJvdXRlLnZhbHVlLCAnQ3VycmVudCBSb3V0ZScpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gbWFyayByb3V0ZXItbGluayBhcyBhY3RpdmUgYW5kIGRpc3BsYXkgdGFncyBvbiByb3V0ZXIgdmlld3NcbiAgICAgICAgYXBpLm9uLnZpc2l0Q29tcG9uZW50VHJlZSgoeyB0cmVlTm9kZTogbm9kZSwgY29tcG9uZW50SW5zdGFuY2UgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudEluc3RhbmNlLl9fdnJ2X2RldnRvb2xzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5mbyA9IGNvbXBvbmVudEluc3RhbmNlLl9fdnJ2X2RldnRvb2xzO1xuICAgICAgICAgICAgICAgIG5vZGUudGFncy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IChpbmZvLm5hbWUgPyBgJHtpbmZvLm5hbWUudG9TdHJpbmcoKX06IGAgOiAnJykgKyBpbmZvLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1RoaXMgY29tcG9uZW50IGlzIHJlbmRlcmVkIGJ5ICZsdDtyb3V0ZXItdmlldyZndDsnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFBJTktfNTAwLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgbXVsdGlwbGUgdXNlTGluayBhcmUgdXNlZFxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoY29tcG9uZW50SW5zdGFuY2UuX192cmxfZGV2dG9vbHMpKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuX19kZXZ0b29sc0FwaSA9IGFwaTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS5fX3ZybF9kZXZ0b29scy5mb3JFYWNoKGRldnRvb2xzRGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IGRldnRvb2xzRGF0YS5yb3V0ZS5wYXRoO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYmFja2dyb3VuZENvbG9yID0gT1JBTkdFXzQwMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvb2x0aXAgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHRDb2xvciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZ0b29sc0RhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gZGV2dG9vbHNEYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gUkVEXzEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvciA9IFJFRF83MDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGV2dG9vbHNEYXRhLmlzRXhhY3RBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IExJTUVfNTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcCA9ICdUaGlzIGlzIGV4YWN0bHkgYWN0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkZXZ0b29sc0RhdGEuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IEJMVUVfNjAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcCA9ICdUaGlzIGxpbmsgaXMgYWN0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2F0Y2gocm91dGVyLmN1cnJlbnRSb3V0ZSwgKCkgPT4ge1xuICAgICAgICAgICAgLy8gcmVmcmVzaCBhY3RpdmUgc3RhdGVcbiAgICAgICAgICAgIHJlZnJlc2hSb3V0ZXNWaWV3KCk7XG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUocm91dGVySW5zcGVjdG9ySWQpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShyb3V0ZXJJbnNwZWN0b3JJZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uc0xheWVySWQgPSAncm91dGVyOm5hdmlnYXRpb25zOicgKyBpZDtcbiAgICAgICAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICAgICAgaWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcbiAgICAgICAgICAgIGxhYmVsOiBgUm91dGVyJHtpZCA/ICcgJyArIGlkIDogJyd9IE5hdmlnYXRpb25zYCxcbiAgICAgICAgICAgIGNvbG9yOiAweDQwYThjNCxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnN0IGVycm9yc0xheWVySWQgPSAncm91dGVyOmVycm9ycydcbiAgICAgICAgLy8gYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICAvLyAgIGlkOiBlcnJvcnNMYXllcklkLFxuICAgICAgICAvLyAgIGxhYmVsOiAnUm91dGVyIEVycm9ycycsXG4gICAgICAgIC8vICAgY29sb3I6IDB4ZWE1NDU1LFxuICAgICAgICAvLyB9KVxuICAgICAgICByb3V0ZXIub25FcnJvcigoZXJyb3IsIHRvKSA9PiB7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogbmF2aWdhdGlvbnNMYXllcklkLFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3IgZHVyaW5nIE5hdmlnYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogdG8uZnVsbFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGFwaS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvciB9LFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiB0by5tZXRhLl9fbmF2aWdhdGlvbklkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGF0dGFjaGVkIHRvIGBtZXRhYCBhbmQgdXNlZCB0byBncm91cCBldmVudHNcbiAgICAgICAgbGV0IG5hdmlnYXRpb25JZCA9IDA7XG4gICAgICAgIHJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBndWFyZDogZm9ybWF0RGlzcGxheSgnYmVmb3JlRWFjaCcpLFxuICAgICAgICAgICAgICAgIGZyb206IGZvcm1hdFJvdXRlTG9jYXRpb24oZnJvbSwgJ0N1cnJlbnQgTG9jYXRpb24gZHVyaW5nIHRoaXMgbmF2aWdhdGlvbicpLFxuICAgICAgICAgICAgICAgIHRvOiBmb3JtYXRSb3V0ZUxvY2F0aW9uKHRvLCAnVGFyZ2V0IGxvY2F0aW9uJyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gVXNlZCB0byBncm91cCBuYXZpZ2F0aW9ucyB0b2dldGhlciwgaGlkZSBmcm9tIGRldnRvb2xzXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodG8ubWV0YSwgJ19fbmF2aWdhdGlvbklkJywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuYXZpZ2F0aW9uSWQrKyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcbiAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBhcGkubm93KCksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3RhcnQgb2YgbmF2aWdhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiB0by5mdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogdG8ubWV0YS5fX25hdmlnYXRpb25JZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByb3V0ZXIuYWZ0ZXJFYWNoKCh0bywgZnJvbSwgZmFpbHVyZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBndWFyZDogZm9ybWF0RGlzcGxheSgnYWZ0ZXJFYWNoJyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmZhaWx1cmUgPSB7XG4gICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmYWlsdXJlID8gZmFpbHVyZS5tZXNzYWdlIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnTmF2aWdhdGlvbiBGYWlsdXJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZGF0YS5zdGF0dXMgPSBmb3JtYXREaXNwbGF5KCfinYwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEuc3RhdHVzID0gZm9ybWF0RGlzcGxheSgn4pyFJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBzZXQgaGVyZSB0byBoYXZlIHRoZSByaWdodCBvcmRlclxuICAgICAgICAgICAgZGF0YS5mcm9tID0gZm9ybWF0Um91dGVMb2NhdGlvbihmcm9tLCAnQ3VycmVudCBMb2NhdGlvbiBkdXJpbmcgdGhpcyBuYXZpZ2F0aW9uJyk7XG4gICAgICAgICAgICBkYXRhLnRvID0gZm9ybWF0Um91dGVMb2NhdGlvbih0bywgJ1RhcmdldCBsb2NhdGlvbicpO1xuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcbiAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0VuZCBvZiBuYXZpZ2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6IHRvLmZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBhcGkubm93KCksXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6IGZhaWx1cmUgPyAnd2FybmluZycgOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IHRvLm1ldGEuX19uYXZpZ2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc3BlY3RvciBvZiBFeGlzdGluZyByb3V0ZXNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHJvdXRlckluc3BlY3RvcklkID0gJ3JvdXRlci1pbnNwZWN0b3I6JyArIGlkO1xuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcbiAgICAgICAgICAgIGlkOiByb3V0ZXJJbnNwZWN0b3JJZCxcbiAgICAgICAgICAgIGxhYmVsOiAnUm91dGVzJyArIChpZCA/ICcgJyArIGlkIDogJycpLFxuICAgICAgICAgICAgaWNvbjogJ2Jvb2snLFxuICAgICAgICAgICAgdHJlZUZpbHRlclBsYWNlaG9sZGVyOiAnU2VhcmNoIHJvdXRlcycsXG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiByZWZyZXNoUm91dGVzVmlldygpIHtcbiAgICAgICAgICAgIC8vIHRoZSByb3V0ZXMgdmlldyBpc24ndCBhY3RpdmVcbiAgICAgICAgICAgIGlmICghYWN0aXZlUm91dGVzUGF5bG9hZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYWN0aXZlUm91dGVzUGF5bG9hZDtcbiAgICAgICAgICAgIC8vIGNoaWxkcmVuIHJvdXRlcyB3aWxsIGFwcGVhciBhcyBuZXN0ZWRcbiAgICAgICAgICAgIGxldCByb3V0ZXMgPSBtYXRjaGVyLmdldFJvdXRlcygpLmZpbHRlcihyb3V0ZSA9PiAhcm91dGUucGFyZW50IHx8XG4gICAgICAgICAgICAgICAgLy8gdGhlc2Ugcm91dGVzIGhhdmUgYSBwYXJlbnQgd2l0aCBubyBjb21wb25lbnQgd2hpY2ggd2lsbCBub3QgYXBwZWFyIGluIHRoZSB2aWV3XG4gICAgICAgICAgICAgICAgLy8gdGhlcmVmb3JlIHdlIHN0aWxsIG5lZWQgdG8gaW5jbHVkZSB0aGVtXG4gICAgICAgICAgICAgICAgIXJvdXRlLnBhcmVudC5yZWNvcmQuY29tcG9uZW50cyk7XG4gICAgICAgICAgICAvLyByZXNldCBtYXRjaCBzdGF0ZSB0byBmYWxzZVxuICAgICAgICAgICAgcm91dGVzLmZvckVhY2gocmVzZXRNYXRjaFN0YXRlT25Sb3V0ZVJlY29yZCk7XG4gICAgICAgICAgICAvLyBhcHBseSBhIG1hdGNoIHN0YXRlIGlmIHRoZXJlIGlzIGEgcGF5bG9hZFxuICAgICAgICAgICAgaWYgKHBheWxvYWQuZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgcm91dGVzID0gcm91dGVzLmZpbHRlcihyb3V0ZSA9PiBcbiAgICAgICAgICAgICAgICAvLyBzYXZlIG1hdGNoZXMgc3RhdGUgYmFzZWQgb24gdGhlIHBheWxvYWRcbiAgICAgICAgICAgICAgICBpc1JvdXRlTWF0Y2hpbmcocm91dGUsIHBheWxvYWQuZmlsdGVyLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1hcmsgYWN0aXZlIHJvdXRlc1xuICAgICAgICAgICAgcm91dGVzLmZvckVhY2gocm91dGUgPT4gbWFya1JvdXRlUmVjb3JkQWN0aXZlKHJvdXRlLCByb3V0ZXIuY3VycmVudFJvdXRlLnZhbHVlKSk7XG4gICAgICAgICAgICBwYXlsb2FkLnJvb3ROb2RlcyA9IHJvdXRlcy5tYXAoZm9ybWF0Um91dGVSZWNvcmRGb3JJbnNwZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhY3RpdmVSb3V0ZXNQYXlsb2FkO1xuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yVHJlZShwYXlsb2FkID0+IHtcbiAgICAgICAgICAgIGFjdGl2ZVJvdXRlc1BheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gcm91dGVySW5zcGVjdG9ySWQpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoUm91dGVzVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BsYXkgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCByb3V0ZSByZWNvcmRcbiAgICAgICAgICovXG4gICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JTdGF0ZShwYXlsb2FkID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IHJvdXRlckluc3BlY3RvcklkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGVzID0gbWF0Y2hlci5nZXRSb3V0ZXMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvdXRlcy5maW5kKHJvdXRlID0+IHJvdXRlLnJlY29yZC5fX3ZkX2lkID09PSBwYXlsb2FkLm5vZGVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBmb3JtYXRSb3V0ZVJlY29yZE1hdGNoZXJGb3JTdGF0ZUluc3BlY3Rvcihyb3V0ZSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKHJvdXRlckluc3BlY3RvcklkKTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShyb3V0ZXJJbnNwZWN0b3JJZCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBtb2RpZmllckZvcktleShrZXkpIHtcbiAgICBpZiAoa2V5Lm9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBrZXkucmVwZWF0YWJsZSA/ICcqJyA6ICc/JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBrZXkucmVwZWF0YWJsZSA/ICcrJyA6ICcnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdFJvdXRlUmVjb3JkTWF0Y2hlckZvclN0YXRlSW5zcGVjdG9yKHJvdXRlKSB7XG4gICAgY29uc3QgeyByZWNvcmQgfSA9IHJvdXRlO1xuICAgIGNvbnN0IGZpZWxkcyA9IFtcbiAgICAgICAgeyBlZGl0YWJsZTogZmFsc2UsIGtleTogJ3BhdGgnLCB2YWx1ZTogcmVjb3JkLnBhdGggfSxcbiAgICBdO1xuICAgIGlmIChyZWNvcmQubmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogJ25hbWUnLFxuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5uYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmllbGRzLnB1c2goeyBlZGl0YWJsZTogZmFsc2UsIGtleTogJ3JlZ2V4cCcsIHZhbHVlOiByb3V0ZS5yZSB9KTtcbiAgICBpZiAocm91dGUua2V5cy5sZW5ndGgpIHtcbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5OiAna2V5cycsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHJvdXRlLmtleXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IGAke2tleS5uYW1lfSR7bW9kaWZpZXJGb3JLZXkoa2V5KX1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1BhcmFtIGtleXMnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcm91dGUua2V5cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyZWNvcmQucmVkaXJlY3QgIT0gbnVsbCkge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBrZXk6ICdyZWRpcmVjdCcsXG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLnJlZGlyZWN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLmFsaWFzLmxlbmd0aCkge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBrZXk6ICdhbGlhc2VzJyxcbiAgICAgICAgICAgIHZhbHVlOiByb3V0ZS5hbGlhcy5tYXAoYWxpYXMgPT4gYWxpYXMucmVjb3JkLnBhdGgpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKHJvdXRlLnJlY29yZC5tZXRhKS5sZW5ndGgpIHtcbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5OiAnbWV0YScsXG4gICAgICAgICAgICB2YWx1ZTogcm91dGUucmVjb3JkLm1ldGEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgIGtleTogJ3Njb3JlJyxcbiAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgIHR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogcm91dGUuc2NvcmUubWFwKHNjb3JlID0+IHNjb3JlLmpvaW4oJywgJykpLmpvaW4oJyB8ICcpLFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdTY29yZSB1c2VkIHRvIHNvcnQgcm91dGVzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcm91dGUuc2NvcmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBmaWVsZHM7XG59XG4vKipcbiAqIEV4dHJhY3RlZCBmcm9tIHRhaWx3aW5kIHBhbGV0dGVcbiAqL1xuY29uc3QgUElOS181MDAgPSAweGVjNDg5OTtcbmNvbnN0IEJMVUVfNjAwID0gMHgyNTYzZWI7XG5jb25zdCBMSU1FXzUwMCA9IDB4ODRjYzE2O1xuY29uc3QgQ1lBTl80MDAgPSAweDIyZDNlZTtcbmNvbnN0IE9SQU5HRV80MDAgPSAweGZiOTIzYztcbi8vIGNvbnN0IEdSQVlfMTAwID0gMHhmNGY0ZjVcbmNvbnN0IERBUksgPSAweDY2NjY2NjtcbmNvbnN0IFJFRF8xMDAgPSAweGZlZTJlMjtcbmNvbnN0IFJFRF83MDAgPSAweGI5MWMxYztcbmZ1bmN0aW9uIGZvcm1hdFJvdXRlUmVjb3JkRm9ySW5zcGVjdG9yKHJvdXRlKSB7XG4gICAgY29uc3QgdGFncyA9IFtdO1xuICAgIGNvbnN0IHsgcmVjb3JkIH0gPSByb3V0ZTtcbiAgICBpZiAocmVjb3JkLm5hbWUgIT0gbnVsbCkge1xuICAgICAgICB0YWdzLnB1c2goe1xuICAgICAgICAgICAgbGFiZWw6IFN0cmluZyhyZWNvcmQubmFtZSksXG4gICAgICAgICAgICB0ZXh0Q29sb3I6IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IENZQU5fNDAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJlY29yZC5hbGlhc09mKSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogJ2FsaWFzJyxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogT1JBTkdFXzQwMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5fX3ZkX21hdGNoKSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogJ21hdGNoZXMnLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBQSU5LXzUwMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5fX3ZkX2V4YWN0QWN0aXZlKSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogJ2V4YWN0JyxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogTElNRV81MDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocm91dGUuX192ZF9hY3RpdmUpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiAnYWN0aXZlJyxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogQkxVRV82MDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVjb3JkLnJlZGlyZWN0KSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogdHlwZW9mIHJlY29yZC5yZWRpcmVjdCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGByZWRpcmVjdDogJHtyZWNvcmQucmVkaXJlY3R9YFxuICAgICAgICAgICAgICAgIDogJ3JlZGlyZWN0cycsXG4gICAgICAgICAgICB0ZXh0Q29sb3I6IDB4ZmZmZmZmLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBEQVJLLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gYWRkIGFuIGlkIHRvIGJlIGFibGUgdG8gc2VsZWN0IGl0LiBVc2luZyB0aGUgYHBhdGhgIGlzIG5vdCBwb3NzaWJsZSBiZWNhdXNlXG4gICAgLy8gZW1wdHkgcGF0aCBjaGlsZHJlbiB3b3VsZCBjb2xsaWRlIHdpdGggdGhlaXIgcGFyZW50c1xuICAgIGxldCBpZCA9IHJlY29yZC5fX3ZkX2lkO1xuICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgIGlkID0gU3RyaW5nKHJvdXRlUmVjb3JkSWQrKyk7XG4gICAgICAgIHJlY29yZC5fX3ZkX2lkID0gaWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbDogcmVjb3JkLnBhdGgsXG4gICAgICAgIHRhZ3MsXG4gICAgICAgIGNoaWxkcmVuOiByb3V0ZS5jaGlsZHJlbi5tYXAoZm9ybWF0Um91dGVSZWNvcmRGb3JJbnNwZWN0b3IpLFxuICAgIH07XG59XG4vLyAgaW5jcmVtZW50YWwgaWQgZm9yIHJvdXRlIHJlY29yZHMgYW5kIGluc3BlY3RvciBzdGF0ZVxubGV0IHJvdXRlUmVjb3JkSWQgPSAwO1xuY29uc3QgRVhUUkFDVF9SRUdFWFBfUkUgPSAvXlxcLyguKilcXC8oW2Etel0qKSQvO1xuZnVuY3Rpb24gbWFya1JvdXRlUmVjb3JkQWN0aXZlKHJvdXRlLCBjdXJyZW50Um91dGUpIHtcbiAgICAvLyBubyByb3V0ZSB3aWxsIGJlIGFjdGl2ZSBpZiBtYXRjaGVkIGlzIGVtcHR5XG4gICAgLy8gcmVzZXQgdGhlIG1hdGNoaW5nIHN0YXRlXG4gICAgY29uc3QgaXNFeGFjdEFjdGl2ZSA9IGN1cnJlbnRSb3V0ZS5tYXRjaGVkLmxlbmd0aCAmJlxuICAgICAgICBpc1NhbWVSb3V0ZVJlY29yZChjdXJyZW50Um91dGUubWF0Y2hlZFtjdXJyZW50Um91dGUubWF0Y2hlZC5sZW5ndGggLSAxXSwgcm91dGUucmVjb3JkKTtcbiAgICByb3V0ZS5fX3ZkX2V4YWN0QWN0aXZlID0gcm91dGUuX192ZF9hY3RpdmUgPSBpc0V4YWN0QWN0aXZlO1xuICAgIGlmICghaXNFeGFjdEFjdGl2ZSkge1xuICAgICAgICByb3V0ZS5fX3ZkX2FjdGl2ZSA9IGN1cnJlbnRSb3V0ZS5tYXRjaGVkLnNvbWUobWF0Y2ggPT4gaXNTYW1lUm91dGVSZWNvcmQobWF0Y2gsIHJvdXRlLnJlY29yZCkpO1xuICAgIH1cbiAgICByb3V0ZS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkUm91dGUgPT4gbWFya1JvdXRlUmVjb3JkQWN0aXZlKGNoaWxkUm91dGUsIGN1cnJlbnRSb3V0ZSkpO1xufVxuZnVuY3Rpb24gcmVzZXRNYXRjaFN0YXRlT25Sb3V0ZVJlY29yZChyb3V0ZSkge1xuICAgIHJvdXRlLl9fdmRfbWF0Y2ggPSBmYWxzZTtcbiAgICByb3V0ZS5jaGlsZHJlbi5mb3JFYWNoKHJlc2V0TWF0Y2hTdGF0ZU9uUm91dGVSZWNvcmQpO1xufVxuZnVuY3Rpb24gaXNSb3V0ZU1hdGNoaW5nKHJvdXRlLCBmaWx0ZXIpIHtcbiAgICBjb25zdCBmb3VuZCA9IFN0cmluZyhyb3V0ZS5yZSkubWF0Y2goRVhUUkFDVF9SRUdFWFBfUkUpO1xuICAgIHJvdXRlLl9fdmRfbWF0Y2ggPSBmYWxzZTtcbiAgICBpZiAoIWZvdW5kIHx8IGZvdW5kLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyB1c2UgYSByZWdleHAgd2l0aG91dCAkIGF0IHRoZSBlbmQgdG8gbWF0Y2ggbmVzdGVkIHJvdXRlcyBiZXR0ZXJcbiAgICBjb25zdCBub25FbmRpbmdSRSA9IG5ldyBSZWdFeHAoZm91bmRbMV0ucmVwbGFjZSgvXFwkJC8sICcnKSwgZm91bmRbMl0pO1xuICAgIGlmIChub25FbmRpbmdSRS50ZXN0KGZpbHRlcikpIHtcbiAgICAgICAgLy8gbWFyayBjaGlsZHJlbiBhcyBtYXRjaGVzXG4gICAgICAgIHJvdXRlLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4gaXNSb3V0ZU1hdGNoaW5nKGNoaWxkLCBmaWx0ZXIpKTtcbiAgICAgICAgLy8gZXhjZXB0aW9uIGNhc2U6IGAvYFxuICAgICAgICBpZiAocm91dGUucmVjb3JkLnBhdGggIT09ICcvJyB8fCBmaWx0ZXIgPT09ICcvJykge1xuICAgICAgICAgICAgcm91dGUuX192ZF9tYXRjaCA9IHJvdXRlLnJlLnRlc3QoZmlsdGVyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhpZGUgdGhlIC8gcm91dGVcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gcm91dGUucmVjb3JkLnBhdGgudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBkZWNvZGVkUGF0aCA9IGRlY29kZShwYXRoKTtcbiAgICAvLyBhbHNvIGFsbG93IHBhcnRpYWwgbWF0Y2hpbmcgb24gdGhlIHBhdGhcbiAgICBpZiAoIWZpbHRlci5zdGFydHNXaXRoKCcvJykgJiZcbiAgICAgICAgKGRlY29kZWRQYXRoLmluY2x1ZGVzKGZpbHRlcikgfHwgcGF0aC5pbmNsdWRlcyhmaWx0ZXIpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGRlY29kZWRQYXRoLnN0YXJ0c1dpdGgoZmlsdGVyKSB8fCBwYXRoLnN0YXJ0c1dpdGgoZmlsdGVyKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHJvdXRlLnJlY29yZC5uYW1lICYmIFN0cmluZyhyb3V0ZS5yZWNvcmQubmFtZSkuaW5jbHVkZXMoZmlsdGVyKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIHJvdXRlLmNoaWxkcmVuLnNvbWUoY2hpbGQgPT4gaXNSb3V0ZU1hdGNoaW5nKGNoaWxkLCBmaWx0ZXIpKTtcbn1cbmZ1bmN0aW9uIG9taXQob2JqLCBrZXlzKSB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmICgha2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZXRba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJvdXRlciBpbnN0YW5jZSB0aGF0IGNhbiBiZSB1c2VkIGJ5IGEgVnVlIGFwcC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIHtAbGluayBSb3V0ZXJPcHRpb25zfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXIob3B0aW9ucykge1xuICAgIGNvbnN0IG1hdGNoZXIgPSBjcmVhdGVSb3V0ZXJNYXRjaGVyKG9wdGlvbnMucm91dGVzLCBvcHRpb25zKTtcbiAgICBjb25zdCBwYXJzZVF1ZXJ5JDEgPSBvcHRpb25zLnBhcnNlUXVlcnkgfHwgcGFyc2VRdWVyeTtcbiAgICBjb25zdCBzdHJpbmdpZnlRdWVyeSQxID0gb3B0aW9ucy5zdHJpbmdpZnlRdWVyeSB8fCBzdHJpbmdpZnlRdWVyeTtcbiAgICBjb25zdCByb3V0ZXJIaXN0b3J5ID0gb3B0aW9ucy5oaXN0b3J5O1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXJvdXRlckhpc3RvcnkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZSB0aGUgXCJoaXN0b3J5XCIgb3B0aW9uIHdoZW4gY2FsbGluZyBcImNyZWF0ZVJvdXRlcigpXCI6JyArXG4gICAgICAgICAgICAnIGh0dHBzOi8vcm91dGVyLnZ1ZWpzLm9yZy9hcGkvaW50ZXJmYWNlcy9Sb3V0ZXJPcHRpb25zLmh0bWwjaGlzdG9yeScpO1xuICAgIGNvbnN0IGJlZm9yZUd1YXJkcyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGNvbnN0IGJlZm9yZVJlc29sdmVHdWFyZHMgPSB1c2VDYWxsYmFja3MoKTtcbiAgICBjb25zdCBhZnRlckd1YXJkcyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IHNoYWxsb3dSZWYoU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCk7XG4gICAgbGV0IHBlbmRpbmdMb2NhdGlvbiA9IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XG4gICAgLy8gbGVhdmUgdGhlIHNjcm9sbFJlc3RvcmF0aW9uIGlmIG5vIHNjcm9sbEJlaGF2aW9yIGlzIHByb3ZpZGVkXG4gICAgaWYgKGlzQnJvd3NlciAmJiBvcHRpb25zLnNjcm9sbEJlaGF2aW9yICYmICdzY3JvbGxSZXN0b3JhdGlvbicgaW4gaGlzdG9yeSkge1xuICAgICAgICBoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gJ21hbnVhbCc7XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhcmFtcyA9IGFwcGx5VG9QYXJhbXMuYmluZChudWxsLCBwYXJhbVZhbHVlID0+ICcnICsgcGFyYW1WYWx1ZSk7XG4gICAgY29uc3QgZW5jb2RlUGFyYW1zID0gYXBwbHlUb1BhcmFtcy5iaW5kKG51bGwsIGVuY29kZVBhcmFtKTtcbiAgICBjb25zdCBkZWNvZGVQYXJhbXMgPSBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBpbnRlbnRpb25hbGx5IGF2b2lkIHRoZSB0eXBlIGNoZWNrXG4gICAgYXBwbHlUb1BhcmFtcy5iaW5kKG51bGwsIGRlY29kZSk7XG4gICAgZnVuY3Rpb24gYWRkUm91dGUocGFyZW50T3JSb3V0ZSwgcm91dGUpIHtcbiAgICAgICAgbGV0IHBhcmVudDtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgaWYgKGlzUm91dGVOYW1lKHBhcmVudE9yUm91dGUpKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIocGFyZW50T3JSb3V0ZSk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGBQYXJlbnQgcm91dGUgXCIke1N0cmluZyhwYXJlbnRPclJvdXRlKX1cIiBub3QgZm91bmQgd2hlbiBhZGRpbmcgY2hpbGQgcm91dGVgLCByb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmQgPSByb3V0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHBhcmVudE9yUm91dGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoZXIuYWRkUm91dGUocmVjb3JkLCBwYXJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVSb3V0ZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IHJlY29yZE1hdGNoZXIgPSBtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIobmFtZSk7XG4gICAgICAgIGlmIChyZWNvcmRNYXRjaGVyKSB7XG4gICAgICAgICAgICBtYXRjaGVyLnJlbW92ZVJvdXRlKHJlY29yZE1hdGNoZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybihgQ2Fubm90IHJlbW92ZSBub24tZXhpc3RlbnQgcm91dGUgXCIke1N0cmluZyhuYW1lKX1cImApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJvdXRlcygpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXIuZ2V0Um91dGVzKCkubWFwKHJvdXRlTWF0Y2hlciA9PiByb3V0ZU1hdGNoZXIucmVjb3JkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzUm91dGUobmFtZSkge1xuICAgICAgICByZXR1cm4gISFtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIobmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmUocmF3TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAvLyBjb25zdCByZXNvbHZlOiBSb3V0ZXJbJ3Jlc29sdmUnXSA9IChyYXdMb2NhdGlvbjogUm91dGVMb2NhdGlvblJhdywgY3VycmVudExvY2F0aW9uKSA9PiB7XG4gICAgICAgIC8vIGNvbnN0IG9iamVjdExvY2F0aW9uID0gcm91dGVyTG9jYXRpb25Bc09iamVjdChyYXdMb2NhdGlvbilcbiAgICAgICAgLy8gd2UgY3JlYXRlIGEgY29weSB0byBtb2RpZnkgaXQgbGF0ZXJcbiAgICAgICAgY3VycmVudExvY2F0aW9uID0gYXNzaWduKHt9LCBjdXJyZW50TG9jYXRpb24gfHwgY3VycmVudFJvdXRlLnZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiByYXdMb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uTm9ybWFsaXplZCA9IHBhcnNlVVJMKHBhcnNlUXVlcnkkMSwgcmF3TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbi5wYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRSb3V0ZSA9IG1hdGNoZXIucmVzb2x2ZSh7IHBhdGg6IGxvY2F0aW9uTm9ybWFsaXplZC5wYXRoIH0sIGN1cnJlbnRMb2NhdGlvbik7XG4gICAgICAgICAgICBjb25zdCBocmVmID0gcm91dGVySGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uTm9ybWFsaXplZC5mdWxsUGF0aCk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgnLy8nKSlcbiAgICAgICAgICAgICAgICAgICAgd2FybihgTG9jYXRpb24gXCIke3Jhd0xvY2F0aW9ufVwiIHJlc29sdmVkIHRvIFwiJHtocmVmfVwiLiBBIHJlc29sdmVkIGxvY2F0aW9uIGNhbm5vdCBzdGFydCB3aXRoIG11bHRpcGxlIHNsYXNoZXMuYCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIW1hdGNoZWRSb3V0ZS5tYXRjaGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBObyBtYXRjaCBmb3VuZCBmb3IgbG9jYXRpb24gd2l0aCBwYXRoIFwiJHtyYXdMb2NhdGlvbn1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxvY2F0aW9uTm9ybWFsaXplZCBpcyBhbHdheXMgYSBuZXcgb2JqZWN0XG4gICAgICAgICAgICByZXR1cm4gYXNzaWduKGxvY2F0aW9uTm9ybWFsaXplZCwgbWF0Y2hlZFJvdXRlLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBkZWNvZGVQYXJhbXMobWF0Y2hlZFJvdXRlLnBhcmFtcyksXG4gICAgICAgICAgICAgICAgaGFzaDogZGVjb2RlKGxvY2F0aW9uTm9ybWFsaXplZC5oYXNoKSxcbiAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1JvdXRlTG9jYXRpb24ocmF3TG9jYXRpb24pKSB7XG4gICAgICAgICAgICB3YXJuKGByb3V0ZXIucmVzb2x2ZSgpIHdhcyBwYXNzZWQgYW4gaW52YWxpZCBsb2NhdGlvbi4gVGhpcyB3aWxsIGZhaWwgaW4gcHJvZHVjdGlvbi5cXG4tIExvY2F0aW9uOmAsIHJhd0xvY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHt9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWF0Y2hlckxvY2F0aW9uO1xuICAgICAgICAvLyBwYXRoIGNvdWxkIGJlIHJlbGF0aXZlIGluIG9iamVjdCBhcyB3ZWxsXG4gICAgICAgIGlmIChyYXdMb2NhdGlvbi5wYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAncGFyYW1zJyBpbiByYXdMb2NhdGlvbiAmJlxuICAgICAgICAgICAgICAgICEoJ25hbWUnIGluIHJhd0xvY2F0aW9uKSAmJlxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoZSB0eXBlIGlzIG5ldmVyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocmF3TG9jYXRpb24ucGFyYW1zKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGBQYXRoIFwiJHtyYXdMb2NhdGlvbi5wYXRofVwiIHdhcyBwYXNzZWQgd2l0aCBwYXJhbXMgYnV0IHRoZXkgd2lsbCBiZSBpZ25vcmVkLiBVc2UgYSBuYW1lZCByb3V0ZSBhbG9uZ3NpZGUgcGFyYW1zIGluc3RlYWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRjaGVyTG9jYXRpb24gPSBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLCB7XG4gICAgICAgICAgICAgICAgcGF0aDogcGFyc2VVUkwocGFyc2VRdWVyeSQxLCByYXdMb2NhdGlvbi5wYXRoLCBjdXJyZW50TG9jYXRpb24ucGF0aCkucGF0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGFueSBudWxsaXNoIHBhcmFtXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRQYXJhbXMgPSBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLnBhcmFtcyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXRQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0UGFyYW1zW2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGFyZ2V0UGFyYW1zW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcGFzcyBlbmNvZGVkIHZhbHVlcyB0byB0aGUgbWF0Y2hlciwgc28gaXQgY2FuIHByb2R1Y2UgZW5jb2RlZCBwYXRoIGFuZCBmdWxsUGF0aFxuICAgICAgICAgICAgbWF0Y2hlckxvY2F0aW9uID0gYXNzaWduKHt9LCByYXdMb2NhdGlvbiwge1xuICAgICAgICAgICAgICAgIHBhcmFtczogZW5jb2RlUGFyYW1zKHRhcmdldFBhcmFtcyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgbG9jYXRpb24gcGFyYW1zIGFyZSBkZWNvZGVkLCB3ZSBuZWVkIHRvIGVuY29kZSB0aGVtIGluIGNhc2UgdGhlXG4gICAgICAgICAgICAvLyBtYXRjaGVyIG1lcmdlcyB0aGUgcGFyYW1zXG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb24ucGFyYW1zID0gZW5jb2RlUGFyYW1zKGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hdGNoZWRSb3V0ZSA9IG1hdGNoZXIucmVzb2x2ZShtYXRjaGVyTG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbik7XG4gICAgICAgIGNvbnN0IGhhc2ggPSByYXdMb2NhdGlvbi5oYXNoIHx8ICcnO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhhc2ggJiYgIWhhc2guc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgICAgICB3YXJuKGBBIFxcYGhhc2hcXGAgc2hvdWxkIGFsd2F5cyBzdGFydCB3aXRoIHRoZSBjaGFyYWN0ZXIgXCIjXCIuIFJlcGxhY2UgXCIke2hhc2h9XCIgd2l0aCBcIiMke2hhc2h9XCIuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIG1hdGNoZXIgbWlnaHQgaGF2ZSBtZXJnZWQgY3VycmVudCBsb2NhdGlvbiBwYXJhbXMsIHNvXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcnVuIHRoZSBkZWNvZGluZyBhZ2FpblxuICAgICAgICBtYXRjaGVkUm91dGUucGFyYW1zID0gbm9ybWFsaXplUGFyYW1zKGRlY29kZVBhcmFtcyhtYXRjaGVkUm91dGUucGFyYW1zKSk7XG4gICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gc3RyaW5naWZ5VVJMKHN0cmluZ2lmeVF1ZXJ5JDEsIGFzc2lnbih7fSwgcmF3TG9jYXRpb24sIHtcbiAgICAgICAgICAgIGhhc2g6IGVuY29kZUhhc2goaGFzaCksXG4gICAgICAgICAgICBwYXRoOiBtYXRjaGVkUm91dGUucGF0aCxcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBocmVmID0gcm91dGVySGlzdG9yeS5jcmVhdGVIcmVmKGZ1bGxQYXRoKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgnLy8nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4oYExvY2F0aW9uIFwiJHtyYXdMb2NhdGlvbn1cIiByZXNvbHZlZCB0byBcIiR7aHJlZn1cIi4gQSByZXNvbHZlZCBsb2NhdGlvbiBjYW5ub3Qgc3RhcnQgd2l0aCBtdWx0aXBsZSBzbGFzaGVzLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW1hdGNoZWRSb3V0ZS5tYXRjaGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHdhcm4oYE5vIG1hdGNoIGZvdW5kIGZvciBsb2NhdGlvbiB3aXRoIHBhdGggXCIke3Jhd0xvY2F0aW9uLnBhdGggIT0gbnVsbCA/IHJhd0xvY2F0aW9uLnBhdGggOiByYXdMb2NhdGlvbn1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NpZ24oe1xuICAgICAgICAgICAgZnVsbFBhdGgsXG4gICAgICAgICAgICAvLyBrZWVwIHRoZSBoYXNoIGVuY29kZWQgc28gZnVsbFBhdGggaXMgZWZmZWN0aXZlbHkgcGF0aCArIGVuY29kZWRRdWVyeSArXG4gICAgICAgICAgICAvLyBoYXNoXG4gICAgICAgICAgICBoYXNoLFxuICAgICAgICAgICAgcXVlcnk6IFxuICAgICAgICAgICAgLy8gaWYgdGhlIHVzZXIgaXMgdXNpbmcgYSBjdXN0b20gcXVlcnkgbGliIGxpa2UgcXMsIHdlIG1pZ2h0IGhhdmVcbiAgICAgICAgICAgIC8vIG5lc3RlZCBvYmplY3RzLCBzbyB3ZSBrZWVwIHRoZSBxdWVyeSBhcyBpcywgbWVhbmluZyBpdCBjYW4gY29udGFpblxuICAgICAgICAgICAgLy8gbnVtYmVycyBhdCBgJHJvdXRlLnF1ZXJ5YCwgYnV0IGF0IHRoZSBwb2ludCwgdGhlIHVzZXIgd2lsbCBoYXZlIHRvXG4gICAgICAgICAgICAvLyB1c2UgdGhlaXIgb3duIHR5cGUgYW55d2F5LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JvdXRlci9pc3N1ZXMvMzI4I2lzc3VlY29tbWVudC02NDk0ODE1NjdcbiAgICAgICAgICAgIHN0cmluZ2lmeVF1ZXJ5JDEgPT09IHN0cmluZ2lmeVF1ZXJ5XG4gICAgICAgICAgICAgICAgPyBub3JtYWxpemVRdWVyeShyYXdMb2NhdGlvbi5xdWVyeSlcbiAgICAgICAgICAgICAgICA6IChyYXdMb2NhdGlvbi5xdWVyeSB8fCB7fSksXG4gICAgICAgIH0sIG1hdGNoZWRSb3V0ZSwge1xuICAgICAgICAgICAgcmVkaXJlY3RlZEZyb206IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGhyZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb2NhdGlvbkFzT2JqZWN0KHRvKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdG8gPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IHBhcnNlVVJMKHBhcnNlUXVlcnkkMSwgdG8sIGN1cnJlbnRSb3V0ZS52YWx1ZS5wYXRoKVxuICAgICAgICAgICAgOiBhc3NpZ24oe30sIHRvKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb24odG8sIGZyb20pIHtcbiAgICAgICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAhPT0gdG8pIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVSb3V0ZXJFcnJvcig4IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9DQU5DRUxMRUQgKi8sIHtcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaCh0bykge1xuICAgICAgICByZXR1cm4gcHVzaFdpdGhSZWRpcmVjdCh0byk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxhY2UodG8pIHtcbiAgICAgICAgcmV0dXJuIHB1c2goYXNzaWduKGxvY2F0aW9uQXNPYmplY3QodG8pLCB7IHJlcGxhY2U6IHRydWUgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVSZWRpcmVjdFJlY29yZCh0bykge1xuICAgICAgICBjb25zdCBsYXN0TWF0Y2hlZCA9IHRvLm1hdGNoZWRbdG8ubWF0Y2hlZC5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGxhc3RNYXRjaGVkICYmIGxhc3RNYXRjaGVkLnJlZGlyZWN0KSB7XG4gICAgICAgICAgICBjb25zdCB7IHJlZGlyZWN0IH0gPSBsYXN0TWF0Y2hlZDtcbiAgICAgICAgICAgIGxldCBuZXdUYXJnZXRMb2NhdGlvbiA9IHR5cGVvZiByZWRpcmVjdCA9PT0gJ2Z1bmN0aW9uJyA/IHJlZGlyZWN0KHRvKSA6IHJlZGlyZWN0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdUYXJnZXRMb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBuZXdUYXJnZXRMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIG5ld1RhcmdldExvY2F0aW9uLmluY2x1ZGVzKCc/JykgfHwgbmV3VGFyZ2V0TG9jYXRpb24uaW5jbHVkZXMoJyMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAobmV3VGFyZ2V0TG9jYXRpb24gPSBsb2NhdGlvbkFzT2JqZWN0KG5ld1RhcmdldExvY2F0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogLy8gZm9yY2UgZW1wdHkgcGFyYW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBwYXRoOiBuZXdUYXJnZXRMb2NhdGlvbiB9O1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGZvcmNlIGVtcHR5IHBhcmFtcyB3aGVuIGEgc3RyaW5nIGlzIHBhc3NlZCB0byBsZXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgcm91dGVyIHBhcnNlIHRoZW0gYWdhaW5cbiAgICAgICAgICAgICAgICBuZXdUYXJnZXRMb2NhdGlvbi5wYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICBuZXdUYXJnZXRMb2NhdGlvbi5wYXRoID09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAhKCduYW1lJyBpbiBuZXdUYXJnZXRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGBJbnZhbGlkIHJlZGlyZWN0IGZvdW5kOlxcbiR7SlNPTi5zdHJpbmdpZnkobmV3VGFyZ2V0TG9jYXRpb24sIG51bGwsIDIpfVxcbiB3aGVuIG5hdmlnYXRpbmcgdG8gXCIke3RvLmZ1bGxQYXRofVwiLiBBIHJlZGlyZWN0IG11c3QgY29udGFpbiBhIG5hbWUgb3IgcGF0aC4gVGhpcyB3aWxsIGJyZWFrIGluIHByb2R1Y3Rpb24uYCk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlZGlyZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgICAgICAgICBxdWVyeTogdG8ucXVlcnksXG4gICAgICAgICAgICAgICAgaGFzaDogdG8uaGFzaCxcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmFuc2ZlcnJpbmcgcGFyYW1zIGlmIHRoZSByZWRpcmVjdCBoYXMgYSBwYXRoXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBuZXdUYXJnZXRMb2NhdGlvbi5wYXRoICE9IG51bGwgPyB7fSA6IHRvLnBhcmFtcyxcbiAgICAgICAgICAgIH0sIG5ld1RhcmdldExvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoV2l0aFJlZGlyZWN0KHRvLCByZWRpcmVjdGVkRnJvbSkge1xuICAgICAgICBjb25zdCB0YXJnZXRMb2NhdGlvbiA9IChwZW5kaW5nTG9jYXRpb24gPSByZXNvbHZlKHRvKSk7XG4gICAgICAgIGNvbnN0IGZyb20gPSBjdXJyZW50Um91dGUudmFsdWU7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0by5zdGF0ZTtcbiAgICAgICAgY29uc3QgZm9yY2UgPSB0by5mb3JjZTtcbiAgICAgICAgLy8gdG8gY291bGQgYmUgYSBzdHJpbmcgd2hlcmUgYHJlcGxhY2VgIGlzIGEgZnVuY3Rpb25cbiAgICAgICAgY29uc3QgcmVwbGFjZSA9IHRvLnJlcGxhY2UgPT09IHRydWU7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlZGlyZWN0ID0gaGFuZGxlUmVkaXJlY3RSZWNvcmQodGFyZ2V0TG9jYXRpb24pO1xuICAgICAgICBpZiAoc2hvdWxkUmVkaXJlY3QpXG4gICAgICAgICAgICByZXR1cm4gcHVzaFdpdGhSZWRpcmVjdChhc3NpZ24obG9jYXRpb25Bc09iamVjdChzaG91bGRSZWRpcmVjdCksIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogdHlwZW9mIHNob3VsZFJlZGlyZWN0ID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgICAgICAgICA/IGFzc2lnbih7fSwgZGF0YSwgc2hvdWxkUmVkaXJlY3Quc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIDogZGF0YSxcbiAgICAgICAgICAgICAgICBmb3JjZSxcbiAgICAgICAgICAgICAgICByZXBsYWNlLFxuICAgICAgICAgICAgfSksIFxuICAgICAgICAgICAgLy8ga2VlcCBvcmlnaW5hbCByZWRpcmVjdGVkRnJvbSBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIHJlZGlyZWN0ZWRGcm9tIHx8IHRhcmdldExvY2F0aW9uKTtcbiAgICAgICAgLy8gaWYgaXQgd2FzIGEgcmVkaXJlY3Qgd2UgYWxyZWFkeSBjYWxsZWQgYHB1c2hXaXRoUmVkaXJlY3RgIGFib3ZlXG4gICAgICAgIGNvbnN0IHRvTG9jYXRpb24gPSB0YXJnZXRMb2NhdGlvbjtcbiAgICAgICAgdG9Mb2NhdGlvbi5yZWRpcmVjdGVkRnJvbSA9IHJlZGlyZWN0ZWRGcm9tO1xuICAgICAgICBsZXQgZmFpbHVyZTtcbiAgICAgICAgaWYgKCFmb3JjZSAmJiBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5JDEsIGZyb20sIHRhcmdldExvY2F0aW9uKSkge1xuICAgICAgICAgICAgZmFpbHVyZSA9IGNyZWF0ZVJvdXRlckVycm9yKDE2IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9EVVBMSUNBVEVEICovLCB7IHRvOiB0b0xvY2F0aW9uLCBmcm9tIH0pO1xuICAgICAgICAgICAgLy8gdHJpZ2dlciBzY3JvbGwgdG8gYWxsb3cgc2Nyb2xsaW5nIHRvIHRoZSBzYW1lIGFuY2hvclxuICAgICAgICAgICAgaGFuZGxlU2Nyb2xsKGZyb20sIGZyb20sIFxuICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHB1c2gsIHRoZSBvbmx5IHdheSBmb3IgaXQgdG8gYmUgdHJpZ2dlcmVkIGZyb20gYVxuICAgICAgICAgICAgLy8gaGlzdG9yeS5saXN0ZW4gaXMgd2l0aCBhIHJlZGlyZWN0LCB3aGljaCBtYWtlcyBpdCBiZWNvbWUgYSBwdXNoXG4gICAgICAgICAgICB0cnVlLCBcbiAgICAgICAgICAgIC8vIFRoaXMgY2Fubm90IGJlIHRoZSBmaXJzdCBuYXZpZ2F0aW9uIGJlY2F1c2UgdGhlIGluaXRpYWwgbG9jYXRpb25cbiAgICAgICAgICAgIC8vIGNhbm5vdCBiZSBtYW51YWxseSBuYXZpZ2F0ZWQgdG9cbiAgICAgICAgICAgIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGZhaWx1cmUgPyBQcm9taXNlLnJlc29sdmUoZmFpbHVyZSkgOiBuYXZpZ2F0ZSh0b0xvY2F0aW9uLCBmcm9tKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IpXG4gICAgICAgICAgICA/IC8vIG5hdmlnYXRpb24gcmVkaXJlY3RzIHN0aWxsIG1hcmsgdGhlIHJvdXRlciBhcyByZWFkeVxuICAgICAgICAgICAgICAgIGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIDIgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0dVQVJEX1JFRElSRUNUICovKVxuICAgICAgICAgICAgICAgICAgICA/IGVycm9yXG4gICAgICAgICAgICAgICAgICAgIDogbWFya0FzUmVhZHkoZXJyb3IpIC8vIGFsc28gcmV0dXJucyB0aGUgZXJyb3JcbiAgICAgICAgICAgIDogLy8gcmVqZWN0IGFueSB1bmtub3duIGVycm9yXG4gICAgICAgICAgICAgICAgdHJpZ2dlckVycm9yKGVycm9yLCB0b0xvY2F0aW9uLCBmcm9tKSlcbiAgICAgICAgICAgIC50aGVuKChmYWlsdXJlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmFpbHVyZSkge1xuICAgICAgICAgICAgICAgIGlmIChpc05hdmlnYXRpb25GYWlsdXJlKGZhaWx1cmUsIDIgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0dVQVJEX1JFRElSRUNUICovKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgcmVkaXJlY3RpbmcgdG8gdGhlIHNhbWUgbG9jYXRpb24gd2Ugd2VyZSBhbHJlYWR5IGF0XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5JDEsIHJlc29sdmUoZmFpbHVyZS50byksIHRvTG9jYXRpb24pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgd2UgaGF2ZSBkb25lIGl0IGEgY291cGxlIG9mIHRpbWVzXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogYWRkZWQgb25seSBpbiBkZXZcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZWRpcmVjdGVkRnJvbS5fY291bnQgPSByZWRpcmVjdGVkRnJvbS5fY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20uX2NvdW50ICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMSkgPiAzMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgRGV0ZWN0ZWQgYSBwb3NzaWJseSBpbmZpbml0ZSByZWRpcmVjdGlvbiBpbiBhIG5hdmlnYXRpb24gZ3VhcmQgd2hlbiBnb2luZyBmcm9tIFwiJHtmcm9tLmZ1bGxQYXRofVwiIHRvIFwiJHt0b0xvY2F0aW9uLmZ1bGxQYXRofVwiLiBBYm9ydGluZyB0byBhdm9pZCBhIFN0YWNrIE92ZXJmbG93LlxcbiBBcmUgeW91IGFsd2F5cyByZXR1cm5pbmcgYSBuZXcgbG9jYXRpb24gd2l0aGluIGEgbmF2aWdhdGlvbiBndWFyZD8gVGhhdCB3b3VsZCBsZWFkIHRvIHRoaXMgZXJyb3IuIE9ubHkgcmV0dXJuIHdoZW4gcmVkaXJlY3Rpbmcgb3IgYWJvcnRpbmcsIHRoYXQgc2hvdWxkIGZpeCB0aGlzLiBUaGlzIG1pZ2h0IGJyZWFrIGluIHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW5maW5pdGUgcmVkaXJlY3QgaW4gbmF2aWdhdGlvbiBndWFyZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHVzaFdpdGhSZWRpcmVjdChcbiAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmVzZXJ2ZSBhbiBleGlzdGluZyByZXBsYWNlbWVudCBidXQgYWxsb3cgdGhlIHJlZGlyZWN0IHRvIG92ZXJyaWRlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlLFxuICAgICAgICAgICAgICAgICAgICB9LCBsb2NhdGlvbkFzT2JqZWN0KGZhaWx1cmUudG8pLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogdHlwZW9mIGZhaWx1cmUudG8gPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhc3NpZ24oe30sIGRhdGEsIGZhaWx1cmUudG8uc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2UsXG4gICAgICAgICAgICAgICAgICAgIH0pLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJlc2VydmUgdGhlIG9yaWdpbmFsIHJlZGlyZWN0ZWRGcm9tIGlmIGFueVxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbSB8fCB0b0xvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBmYWlsIHdlIGRvbid0IGZpbmFsaXplIHRoZSBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgZmFpbHVyZSA9IGZpbmFsaXplTmF2aWdhdGlvbih0b0xvY2F0aW9uLCBmcm9tLCB0cnVlLCByZXBsYWNlLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyaWdnZXJBZnRlckVhY2godG9Mb2NhdGlvbiwgZnJvbSwgZmFpbHVyZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFpbHVyZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhlbHBlciB0byByZWplY3QgYW5kIHNraXAgYWxsIG5hdmlnYXRpb24gZ3VhcmRzIGlmIGEgbmV3IG5hdmlnYXRpb24gaGFwcGVuZWRcbiAgICAgKiBAcGFyYW0gdG9cbiAgICAgKiBAcGFyYW0gZnJvbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uQW5kUmVqZWN0KHRvLCBmcm9tKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb24odG8sIGZyb20pO1xuICAgICAgICByZXR1cm4gZXJyb3IgPyBQcm9taXNlLnJlamVjdChlcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuV2l0aENvbnRleHQoZm4pIHtcbiAgICAgICAgY29uc3QgYXBwID0gaW5zdGFsbGVkQXBwcy52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG4gICAgICAgIC8vIHN1cHBvcnQgVnVlIDwgMy4zXG4gICAgICAgIHJldHVybiBhcHAgJiYgdHlwZW9mIGFwcC5ydW5XaXRoQ29udGV4dCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBhcHAucnVuV2l0aENvbnRleHQoZm4pXG4gICAgICAgICAgICA6IGZuKCk7XG4gICAgfVxuICAgIC8vIFRPRE86IHJlZmFjdG9yIHRoZSB3aG9sZSBiZWZvcmUgZ3VhcmRzIGJ5IGludGVybmFsbHkgdXNpbmcgcm91dGVyLmJlZm9yZUVhY2hcbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZSh0bywgZnJvbSkge1xuICAgICAgICBsZXQgZ3VhcmRzO1xuICAgICAgICBjb25zdCBbbGVhdmluZ1JlY29yZHMsIHVwZGF0aW5nUmVjb3JkcywgZW50ZXJpbmdSZWNvcmRzXSA9IGV4dHJhY3RDaGFuZ2luZ1JlY29yZHModG8sIGZyb20pO1xuICAgICAgICAvLyBhbGwgY29tcG9uZW50cyBoZXJlIGhhdmUgYmVlbiByZXNvbHZlZCBvbmNlIGJlY2F1c2Ugd2UgYXJlIGxlYXZpbmdcbiAgICAgICAgZ3VhcmRzID0gZXh0cmFjdENvbXBvbmVudHNHdWFyZHMobGVhdmluZ1JlY29yZHMucmV2ZXJzZSgpLCAnYmVmb3JlUm91dGVMZWF2ZScsIHRvLCBmcm9tKTtcbiAgICAgICAgLy8gbGVhdmluZ1JlY29yZHMgaXMgYWxyZWFkeSByZXZlcnNlZFxuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBsZWF2aW5nUmVjb3Jkcykge1xuICAgICAgICAgICAgcmVjb3JkLmxlYXZlR3VhcmRzLmZvckVhY2goZ3VhcmQgPT4ge1xuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYW5jZWxlZE5hdmlnYXRpb25DaGVjayA9IGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uQW5kUmVqZWN0LmJpbmQobnVsbCwgdG8sIGZyb20pO1xuICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XG4gICAgICAgIC8vIHJ1biB0aGUgcXVldWUgb2YgcGVyIHJvdXRlIGJlZm9yZVJvdXRlTGVhdmUgZ3VhcmRzXG4gICAgICAgIHJldHVybiAocnVuR3VhcmRRdWV1ZShndWFyZHMpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBjaGVjayBnbG9iYWwgZ3VhcmRzIGJlZm9yZUVhY2hcbiAgICAgICAgICAgIGd1YXJkcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBndWFyZCBvZiBiZWZvcmVHdWFyZHMubGlzdCgpKSB7XG4gICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBjaGVjayBpbiBjb21wb25lbnRzIGJlZm9yZVJvdXRlVXBkYXRlXG4gICAgICAgICAgICBndWFyZHMgPSBleHRyYWN0Q29tcG9uZW50c0d1YXJkcyh1cGRhdGluZ1JlY29yZHMsICdiZWZvcmVSb3V0ZVVwZGF0ZScsIHRvLCBmcm9tKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHVwZGF0aW5nUmVjb3Jkcykge1xuICAgICAgICAgICAgICAgIHJlY29yZC51cGRhdGVHdWFyZHMuZm9yRWFjaChndWFyZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XG4gICAgICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVFbnRlciBndWFyZHNcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBjaGVjayB0aGUgcm91dGUgYmVmb3JlRW50ZXJcbiAgICAgICAgICAgIGd1YXJkcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgZW50ZXJpbmdSZWNvcmRzKSB7XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IHRyaWdnZXIgYmVmb3JlRW50ZXIgb24gcmV1c2VkIHZpZXdzXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5iZWZvcmVFbnRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShyZWNvcmQuYmVmb3JlRW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJlZm9yZUVudGVyIG9mIHJlY29yZC5iZWZvcmVFbnRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGJlZm9yZUVudGVyLCB0bywgZnJvbSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihyZWNvcmQuYmVmb3JlRW50ZXIsIHRvLCBmcm9tKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XG4gICAgICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVFbnRlciBndWFyZHNcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBOT1RFOiBhdCB0aGlzIHBvaW50IHRvLm1hdGNoZWQgaXMgbm9ybWFsaXplZCBhbmQgZG9lcyBub3QgY29udGFpbiBhbnkgKCkgPT4gUHJvbWlzZTxDb21wb25lbnQ+XG4gICAgICAgICAgICAvLyBjbGVhciBleGlzdGluZyBlbnRlckNhbGxiYWNrcywgdGhlc2UgYXJlIGFkZGVkIGJ5IGV4dHJhY3RDb21wb25lbnRzR3VhcmRzXG4gICAgICAgICAgICB0by5tYXRjaGVkLmZvckVhY2gocmVjb3JkID0+IChyZWNvcmQuZW50ZXJDYWxsYmFja3MgPSB7fSkpO1xuICAgICAgICAgICAgLy8gY2hlY2sgaW4tY29tcG9uZW50IGJlZm9yZVJvdXRlRW50ZXJcbiAgICAgICAgICAgIGd1YXJkcyA9IGV4dHJhY3RDb21wb25lbnRzR3VhcmRzKGVudGVyaW5nUmVjb3JkcywgJ2JlZm9yZVJvdXRlRW50ZXInLCB0bywgZnJvbSwgcnVuV2l0aENvbnRleHQpO1xuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xuICAgICAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlRW50ZXIgZ3VhcmRzXG4gICAgICAgICAgICByZXR1cm4gcnVuR3VhcmRRdWV1ZShndWFyZHMpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gY2hlY2sgZ2xvYmFsIGd1YXJkcyBiZWZvcmVSZXNvbHZlXG4gICAgICAgICAgICBndWFyZHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ3VhcmQgb2YgYmVmb3JlUmVzb2x2ZUd1YXJkcy5saXN0KCkpIHtcbiAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIGNhdGNoIGFueSBuYXZpZ2F0aW9uIGNhbmNlbGVkXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyLCA4IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9DQU5DRUxMRUQgKi8pXG4gICAgICAgICAgICA/IGVyclxuICAgICAgICAgICAgOiBQcm9taXNlLnJlamVjdChlcnIpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyaWdnZXJBZnRlckVhY2godG8sIGZyb20sIGZhaWx1cmUpIHtcbiAgICAgICAgLy8gbmF2aWdhdGlvbiBpcyBjb25maXJtZWQsIGNhbGwgYWZ0ZXJHdWFyZHNcbiAgICAgICAgLy8gVE9ETzogd3JhcCB3aXRoIGVycm9yIGhhbmRsZXJzXG4gICAgICAgIGFmdGVyR3VhcmRzXG4gICAgICAgICAgICAubGlzdCgpXG4gICAgICAgICAgICAuZm9yRWFjaChndWFyZCA9PiBydW5XaXRoQ29udGV4dCgoKSA9PiBndWFyZCh0bywgZnJvbSwgZmFpbHVyZSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogLSBDbGVhbnMgdXAgYW55IG5hdmlnYXRpb24gZ3VhcmRzXG4gICAgICogLSBDaGFuZ2VzIHRoZSB1cmwgaWYgbmVjZXNzYXJ5XG4gICAgICogLSBDYWxscyB0aGUgc2Nyb2xsQmVoYXZpb3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5hbGl6ZU5hdmlnYXRpb24odG9Mb2NhdGlvbiwgZnJvbSwgaXNQdXNoLCByZXBsYWNlLCBkYXRhKSB7XG4gICAgICAgIC8vIGEgbW9yZSByZWNlbnQgbmF2aWdhdGlvbiB0b29rIHBsYWNlXG4gICAgICAgIGNvbnN0IGVycm9yID0gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb24odG9Mb2NhdGlvbiwgZnJvbSk7XG4gICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgLy8gb25seSBjb25zaWRlciBhcyBwdXNoIGlmIGl0J3Mgbm90IHRoZSBmaXJzdCBuYXZpZ2F0aW9uXG4gICAgICAgIGNvbnN0IGlzRmlyc3ROYXZpZ2F0aW9uID0gZnJvbSA9PT0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRDtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSAhaXNCcm93c2VyID8ge30gOiBoaXN0b3J5LnN0YXRlO1xuICAgICAgICAvLyBjaGFuZ2UgVVJMIG9ubHkgaWYgdGhlIHVzZXIgZGlkIGEgcHVzaC9yZXBsYWNlIGFuZCBpZiBpdCdzIG5vdCB0aGUgaW5pdGlhbCBuYXZpZ2F0aW9uIGJlY2F1c2VcbiAgICAgICAgLy8gaXQncyBqdXN0IHJlZmxlY3RpbmcgdGhlIHVybFxuICAgICAgICBpZiAoaXNQdXNoKSB7XG4gICAgICAgICAgICAvLyBvbiB0aGUgaW5pdGlhbCBuYXZpZ2F0aW9uLCB3ZSB3YW50IHRvIHJldXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gZnJvbVxuICAgICAgICAgICAgLy8gaGlzdG9yeSBzdGF0ZSBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGlmIChyZXBsYWNlIHx8IGlzRmlyc3ROYXZpZ2F0aW9uKVxuICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkucmVwbGFjZSh0b0xvY2F0aW9uLmZ1bGxQYXRoLCBhc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGlzRmlyc3ROYXZpZ2F0aW9uICYmIHN0YXRlICYmIHN0YXRlLnNjcm9sbCxcbiAgICAgICAgICAgICAgICB9LCBkYXRhKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5wdXNoKHRvTG9jYXRpb24uZnVsbFBhdGgsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFjY2VwdCBjdXJyZW50IG5hdmlnYXRpb25cbiAgICAgICAgY3VycmVudFJvdXRlLnZhbHVlID0gdG9Mb2NhdGlvbjtcbiAgICAgICAgaGFuZGxlU2Nyb2xsKHRvTG9jYXRpb24sIGZyb20sIGlzUHVzaCwgaXNGaXJzdE5hdmlnYXRpb24pO1xuICAgICAgICBtYXJrQXNSZWFkeSgpO1xuICAgIH1cbiAgICBsZXQgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyO1xuICAgIC8vIGF0dGFjaCBsaXN0ZW5lciB0byBoaXN0b3J5IHRvIHRyaWdnZXIgbmF2aWdhdGlvbnNcbiAgICBmdW5jdGlvbiBzZXR1cExpc3RlbmVycygpIHtcbiAgICAgICAgLy8gYXZvaWQgc2V0dGluZyB1cCBsaXN0ZW5lcnMgdHdpY2UgZHVlIHRvIGFuIGludmFsaWQgZmlyc3QgbmF2aWdhdGlvblxuICAgICAgICBpZiAocmVtb3ZlSGlzdG9yeUxpc3RlbmVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByZW1vdmVIaXN0b3J5TGlzdGVuZXIgPSByb3V0ZXJIaXN0b3J5Lmxpc3RlbigodG8sIF9mcm9tLCBpbmZvKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJvdXRlci5saXN0ZW5pbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIGEgcmVkaXJlY3Qgcm91dGUgYmVjYXVzZSBpdCB3YXMgaW4gaGlzdG9yeVxuICAgICAgICAgICAgY29uc3QgdG9Mb2NhdGlvbiA9IHJlc29sdmUodG8pO1xuICAgICAgICAgICAgLy8gZHVlIHRvIGR5bmFtaWMgcm91dGluZywgYW5kIHRvIGhhc2ggaGlzdG9yeSB3aXRoIG1hbnVhbCBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAvLyAobWFudWFsbHkgY2hhbmdpbmcgdGhlIHVybCBvciBjYWxsaW5nIGhpc3RvcnkuaGFzaCA9ICcjL3NvbWV3aGVyZScpLFxuICAgICAgICAgICAgLy8gdGhlcmUgY291bGQgYmUgYSByZWRpcmVjdCByZWNvcmQgaW4gaGlzdG9yeVxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmVkaXJlY3QgPSBoYW5kbGVSZWRpcmVjdFJlY29yZCh0b0xvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgIHB1c2hXaXRoUmVkaXJlY3QoYXNzaWduKHNob3VsZFJlZGlyZWN0LCB7IHJlcGxhY2U6IHRydWUsIGZvcmNlOiB0cnVlIH0pLCB0b0xvY2F0aW9uKS5jYXRjaChub29wKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZW5kaW5nTG9jYXRpb24gPSB0b0xvY2F0aW9uO1xuICAgICAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRSb3V0ZS52YWx1ZTtcbiAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZCBiZSBtb3ZlZCB0byB3ZWIgaGlzdG9yeT9cbiAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgICAgICBzYXZlU2Nyb2xsUG9zaXRpb24oZ2V0U2Nyb2xsS2V5KGZyb20uZnVsbFBhdGgsIGluZm8uZGVsdGEpLCBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYXZpZ2F0ZSh0b0xvY2F0aW9uLCBmcm9tKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvciwgNCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQUJPUlRFRCAqLyB8IDggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvciwgMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhlcmUgd2UgY291bGQgY2FsbCBpZiAoaW5mby5kZWx0YSkgcm91dGVySGlzdG9yeS5nbygtaW5mby5kZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFsc2UpIGJ1dCB0aGlzIGlzIGJ1ZyBwcm9uZSBhcyB3ZSBoYXZlIG5vIHdheSB0byB3YWl0IHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBuYXZpZ2F0aW9uIHRvIGJlIGZpbmlzaGVkIGJlZm9yZSBjYWxsaW5nIHB1c2hXaXRoUmVkaXJlY3QuIFVzaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgc2V0VGltZW91dCBvZiAxNm1zIHNlZW1zIHRvIHdvcmsgYnV0IHRoZXJlIGlzIG5vIGd1YXJhbnRlZSBmb3JcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgdG8gd29yayBvbiBldmVyeSBicm93c2VyLiBTbyBpbnN0ZWFkIHdlIGRvIG5vdCByZXN0b3JlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBoaXN0b3J5IGVudHJ5IGFuZCB0cmlnZ2VyIGEgbmV3IG5hdmlnYXRpb24gYXMgcmVxdWVzdGVkIGJ5IHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBuYXZpZ2F0aW9uIGd1YXJkLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZXJyb3IgaXMgYWxyZWFkeSBoYW5kbGVkIGJ5IHJvdXRlci5wdXNoIHdlIGp1c3Qgd2FudCB0byBhdm9pZFxuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnaW5nIHRoZSBlcnJvclxuICAgICAgICAgICAgICAgICAgICBwdXNoV2l0aFJlZGlyZWN0KGFzc2lnbihsb2NhdGlvbkFzT2JqZWN0KGVycm9yLnRvKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pLCB0b0xvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIGF2b2lkIGFuIHVuY2F1Z2h0IHJlamVjdGlvbiwgbGV0IHB1c2ggY2FsbCB0cmlnZ2VyRXJyb3JcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZmFpbHVyZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWwgY2hhbmdlIGluIGhhc2ggaGlzdG9yeSAjOTE2IGVuZGluZyB1cCBpbiB0aGUgVVJMIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdpbmcsIGJ1dCBpdCB3YXMgY2hhbmdlZCBieSB0aGUgbWFudWFsIHVybCBjaGFuZ2UsIHNvIHdlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIG1hbnVhbGx5IGNoYW5nZSBpdCBvdXJzZWx2ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hdmlnYXRpb25GYWlsdXJlKGZhaWx1cmUsIDQgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0FCT1JURUQgKi8gfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE2IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9EVVBMSUNBVEVEICovKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpbmZvLmRlbHRhICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby50eXBlID09PSBOYXZpZ2F0aW9uVHlwZS5wb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC0xLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2gobm9vcCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGF2b2lkIHRoZSB0aGVuIGJyYW5jaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IHJlc3RvcmUgaGlzdG9yeSBvbiB1bmtub3duIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIGlmIChpbmZvLmRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkuZ28oLWluZm8uZGVsdGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdW5yZWNvZ25pemVkIGVycm9yLCB0cmFuc2ZlciB0byB0aGUgZ2xvYmFsIGhhbmRsZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlckVycm9yKGVycm9yLCB0b0xvY2F0aW9uLCBmcm9tKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKGZhaWx1cmUpID0+IHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlID1cbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxpemVOYXZpZ2F0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgbmF2aWdhdGlvbiwgYWxsIG1hdGNoZWQgY29tcG9uZW50cyBhcmUgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvTG9jYXRpb24sIGZyb20sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAvLyByZXZlcnQgdGhlIG5hdmlnYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoZmFpbHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5kZWx0YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBuZXcgbmF2aWdhdGlvbiBoYXMgYmVlbiB0cmlnZ2VyZWQsIHNvIHdlIGRvIG5vdCB3YW50IHRvIHJldmVydCwgdGhhdCB3aWxsIGNoYW5nZSB0aGUgY3VycmVudCBoaXN0b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRyeSB3aGlsZSBhIGRpZmZlcmVudCByb3V0ZSBpcyBkaXNwbGF5ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc05hdmlnYXRpb25GYWlsdXJlKGZhaWx1cmUsIDggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkuZ28oLWluZm8uZGVsdGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZvLnR5cGUgPT09IE5hdmlnYXRpb25UeXBlLnBvcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNOYXZpZ2F0aW9uRmFpbHVyZShmYWlsdXJlLCA0IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9BQk9SVEVEICovIHwgMTYgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0RVUExJQ0FURUQgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWwgY2hhbmdlIGluIGhhc2ggaGlzdG9yeSAjOTE2XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGxpa2UgYSBwdXNoIGJ1dCBsYWNrcyB0aGUgaW5mb3JtYXRpb24gb2YgdGhlIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5nbygtMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyaWdnZXJBZnRlckVhY2godG9Mb2NhdGlvbiwgZnJvbSwgZmFpbHVyZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHdhcm5pbmdzIGluIHRoZSBjb25zb2xlIGFib3V0IHVuY2F1Z2h0IHJlamVjdGlvbnMsIHRoZXkgYXJlIGxvZ2dlZCBieSB0cmlnZ2VyRXJyb3JzXG4gICAgICAgICAgICAgICAgLmNhdGNoKG5vb3ApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gSW5pdGlhbGl6YXRpb24gYW5kIEVycm9yc1xuICAgIGxldCByZWFkeUhhbmRsZXJzID0gdXNlQ2FsbGJhY2tzKCk7XG4gICAgbGV0IGVycm9yTGlzdGVuZXJzID0gdXNlQ2FsbGJhY2tzKCk7XG4gICAgbGV0IHJlYWR5O1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgZXJyb3JMaXN0ZW5lcnMgYWRkZWQgdmlhIG9uRXJyb3IgYW5kIHRocm93cyB0aGUgZXJyb3IgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHBhcmFtIGVycm9yIC0gZXJyb3IgdG8gdGhyb3dcbiAgICAgKiBAcGFyYW0gdG8gLSBsb2NhdGlvbiB3ZSB3ZXJlIG5hdmlnYXRpbmcgdG8gd2hlbiB0aGUgZXJyb3IgaGFwcGVuZWRcbiAgICAgKiBAcGFyYW0gZnJvbSAtIGxvY2F0aW9uIHdlIHdlcmUgbmF2aWdhdGluZyBmcm9tIHdoZW4gdGhlIGVycm9yIGhhcHBlbmVkXG4gICAgICogQHJldHVybnMgdGhlIGVycm9yIGFzIGEgcmVqZWN0ZWQgcHJvbWlzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaWdnZXJFcnJvcihlcnJvciwgdG8sIGZyb20pIHtcbiAgICAgICAgbWFya0FzUmVhZHkoZXJyb3IpO1xuICAgICAgICBjb25zdCBsaXN0ID0gZXJyb3JMaXN0ZW5lcnMubGlzdCgpO1xuICAgICAgICBpZiAobGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxpc3QuZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZXJyb3IsIHRvLCBmcm9tKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgd2FybigndW5jYXVnaHQgZXJyb3IgZHVyaW5nIHJvdXRlIG5hdmlnYXRpb246Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWplY3QgdGhlIGVycm9yIG5vIG1hdHRlciB0aGVyZSB3ZXJlIGVycm9yIGxpc3RlbmVycyBvciBub3RcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNSZWFkeSgpIHtcbiAgICAgICAgaWYgKHJlYWR5ICYmIGN1cnJlbnRSb3V0ZS52YWx1ZSAhPT0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlYWR5SGFuZGxlcnMuYWRkKFtyZXNvbHZlLCByZWplY3RdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtBc1JlYWR5KGVycikge1xuICAgICAgICBpZiAoIXJlYWR5KSB7XG4gICAgICAgICAgICAvLyBzdGlsbCBub3QgcmVhZHkgaWYgYW4gZXJyb3IgaGFwcGVuZWRcbiAgICAgICAgICAgIHJlYWR5ID0gIWVycjtcbiAgICAgICAgICAgIHNldHVwTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICByZWFkeUhhbmRsZXJzXG4gICAgICAgICAgICAgICAgLmxpc3QoKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChbcmVzb2x2ZSwgcmVqZWN0XSkgPT4gKGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSgpKSk7XG4gICAgICAgICAgICByZWFkeUhhbmRsZXJzLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gICAgLy8gU2Nyb2xsIGJlaGF2aW9yXG4gICAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKHRvLCBmcm9tLCBpc1B1c2gsIGlzRmlyc3ROYXZpZ2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsQmVoYXZpb3IgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmICghaXNCcm93c2VyIHx8ICFzY3JvbGxCZWhhdmlvcilcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsUG9zaXRpb24gPSAoIWlzUHVzaCAmJiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKGdldFNjcm9sbEtleSh0by5mdWxsUGF0aCwgMCkpKSB8fFxuICAgICAgICAgICAgKChpc0ZpcnN0TmF2aWdhdGlvbiB8fCAhaXNQdXNoKSAmJlxuICAgICAgICAgICAgICAgIGhpc3Rvcnkuc3RhdGUgJiZcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnN0YXRlLnNjcm9sbCkgfHxcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIHJldHVybiBuZXh0VGljaygpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBzY3JvbGxCZWhhdmlvcih0bywgZnJvbSwgc2Nyb2xsUG9zaXRpb24pKVxuICAgICAgICAgICAgLnRoZW4ocG9zaXRpb24gPT4gcG9zaXRpb24gJiYgc2Nyb2xsVG9Qb3NpdGlvbihwb3NpdGlvbikpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHRyaWdnZXJFcnJvcihlcnIsIHRvLCBmcm9tKSk7XG4gICAgfVxuICAgIGNvbnN0IGdvID0gKGRlbHRhKSA9PiByb3V0ZXJIaXN0b3J5LmdvKGRlbHRhKTtcbiAgICBsZXQgc3RhcnRlZDtcbiAgICBjb25zdCBpbnN0YWxsZWRBcHBzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHJvdXRlciA9IHtcbiAgICAgICAgY3VycmVudFJvdXRlLFxuICAgICAgICBsaXN0ZW5pbmc6IHRydWUsXG4gICAgICAgIGFkZFJvdXRlLFxuICAgICAgICByZW1vdmVSb3V0ZSxcbiAgICAgICAgY2xlYXJSb3V0ZXM6IG1hdGNoZXIuY2xlYXJSb3V0ZXMsXG4gICAgICAgIGhhc1JvdXRlLFxuICAgICAgICBnZXRSb3V0ZXMsXG4gICAgICAgIHJlc29sdmUsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHB1c2gsXG4gICAgICAgIHJlcGxhY2UsXG4gICAgICAgIGdvLFxuICAgICAgICBiYWNrOiAoKSA9PiBnbygtMSksXG4gICAgICAgIGZvcndhcmQ6ICgpID0+IGdvKDEpLFxuICAgICAgICBiZWZvcmVFYWNoOiBiZWZvcmVHdWFyZHMuYWRkLFxuICAgICAgICBiZWZvcmVSZXNvbHZlOiBiZWZvcmVSZXNvbHZlR3VhcmRzLmFkZCxcbiAgICAgICAgYWZ0ZXJFYWNoOiBhZnRlckd1YXJkcy5hZGQsXG4gICAgICAgIG9uRXJyb3I6IGVycm9yTGlzdGVuZXJzLmFkZCxcbiAgICAgICAgaXNSZWFkeSxcbiAgICAgICAgaW5zdGFsbChhcHApIHtcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlciA9IHRoaXM7XG4gICAgICAgICAgICBhcHAuY29tcG9uZW50KCdSb3V0ZXJMaW5rJywgUm91dGVyTGluayk7XG4gICAgICAgICAgICBhcHAuY29tcG9uZW50KCdSb3V0ZXJWaWV3JywgUm91dGVyVmlldyk7XG4gICAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsICckcm91dGUnLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHVucmVmKGN1cnJlbnRSb3V0ZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRoaXMgaW5pdGlhbCBuYXZpZ2F0aW9uIGlzIG9ubHkgbmVjZXNzYXJ5IG9uIGNsaWVudCwgb24gc2VydmVyIGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIG1ha2Ugc2Vuc2UgYmVjYXVzZSBpdCB3aWxsIGNyZWF0ZSBhbiBleHRyYSB1bm5lY2Vzc2FyeSBuYXZpZ2F0aW9uIGFuZCBjb3VsZFxuICAgICAgICAgICAgLy8gbGVhZCB0byBwcm9ibGVtc1xuICAgICAgICAgICAgaWYgKGlzQnJvd3NlciAmJlxuICAgICAgICAgICAgICAgIC8vIHVzZWQgZm9yIHRoZSBpbml0aWFsIG5hdmlnYXRpb24gY2xpZW50IHNpZGUgdG8gYXZvaWQgcHVzaGluZ1xuICAgICAgICAgICAgICAgIC8vIG11bHRpcGxlIHRpbWVzIHdoZW4gdGhlIHJvdXRlciBpcyB1c2VkIGluIG11bHRpcGxlIGFwcHNcbiAgICAgICAgICAgICAgICAhc3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRSb3V0ZS52YWx1ZSA9PT0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCkge1xuICAgICAgICAgICAgICAgIC8vIHNlZSBhYm92ZVxuICAgICAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHB1c2gocm91dGVySGlzdG9yeS5sb2NhdGlvbikuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ1VuZXhwZWN0ZWQgZXJyb3Igd2hlbiBzdGFydGluZyB0aGUgcm91dGVyOicsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWFjdGl2ZVJvdXRlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlYWN0aXZlUm91dGUsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGN1cnJlbnRSb3V0ZS52YWx1ZVtrZXldLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVyS2V5LCByb3V0ZXIpO1xuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVMb2NhdGlvbktleSwgc2hhbGxvd1JlYWN0aXZlKHJlYWN0aXZlUm91dGUpKTtcbiAgICAgICAgICAgIGFwcC5wcm92aWRlKHJvdXRlclZpZXdMb2NhdGlvbktleSwgY3VycmVudFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IHVubW91bnRBcHAgPSBhcHAudW5tb3VudDtcbiAgICAgICAgICAgIGluc3RhbGxlZEFwcHMuYWRkKGFwcCk7XG4gICAgICAgICAgICBhcHAudW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpbnN0YWxsZWRBcHBzLmRlbGV0ZShhcHApO1xuICAgICAgICAgICAgICAgIC8vIHRoZSByb3V0ZXIgaXMgbm90IGF0dGFjaGVkIHRvIGFuIGFwcCBhbnltb3JlXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbGxlZEFwcHMuc2l6ZSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW52YWxpZGF0ZSB0aGUgY3VycmVudCBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUhpc3RvcnlMaXN0ZW5lciAmJiByZW1vdmVIaXN0b3J5TGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJvdXRlLnZhbHVlID0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bm1vdW50QXBwKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBwcm9iYWJseSBuZWVkcyB0byBiZSB1cGRhdGVkIHNvIGl0IGNhbiBiZSB1c2VkIGJ5IHZ1ZS10ZXJtdWlcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiYgaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgYWRkRGV2dG9vbHMoYXBwLCByb3V0ZXIsIG1hdGNoZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgLy8gVE9ETzogdHlwZSB0aGlzIGFzIE5hdmlnYXRpb25HdWFyZFJldHVybiBvciBzaW1pbGFyIGluc3RlYWQgb2YgYW55XG4gICAgZnVuY3Rpb24gcnVuR3VhcmRRdWV1ZShndWFyZHMpIHtcbiAgICAgICAgcmV0dXJuIGd1YXJkcy5yZWR1Y2UoKHByb21pc2UsIGd1YXJkKSA9PiBwcm9taXNlLnRoZW4oKCkgPT4gcnVuV2l0aENvbnRleHQoZ3VhcmQpKSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVyO1xufVxuZnVuY3Rpb24gZXh0cmFjdENoYW5naW5nUmVjb3Jkcyh0bywgZnJvbSkge1xuICAgIGNvbnN0IGxlYXZpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgdXBkYXRpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgZW50ZXJpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgbGVuID0gTWF0aC5tYXgoZnJvbS5tYXRjaGVkLmxlbmd0aCwgdG8ubWF0Y2hlZC5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgcmVjb3JkRnJvbSA9IGZyb20ubWF0Y2hlZFtpXTtcbiAgICAgICAgaWYgKHJlY29yZEZyb20pIHtcbiAgICAgICAgICAgIGlmICh0by5tYXRjaGVkLmZpbmQocmVjb3JkID0+IGlzU2FtZVJvdXRlUmVjb3JkKHJlY29yZCwgcmVjb3JkRnJvbSkpKVxuICAgICAgICAgICAgICAgIHVwZGF0aW5nUmVjb3Jkcy5wdXNoKHJlY29yZEZyb20pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxlYXZpbmdSZWNvcmRzLnB1c2gocmVjb3JkRnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVjb3JkVG8gPSB0by5tYXRjaGVkW2ldO1xuICAgICAgICBpZiAocmVjb3JkVG8pIHtcbiAgICAgICAgICAgIC8vIHRoZSB0eXBlIGRvZXNuJ3QgbWF0dGVyIGJlY2F1c2Ugd2UgYXJlIGNvbXBhcmluZyBwZXIgcmVmZXJlbmNlXG4gICAgICAgICAgICBpZiAoIWZyb20ubWF0Y2hlZC5maW5kKHJlY29yZCA9PiBpc1NhbWVSb3V0ZVJlY29yZChyZWNvcmQsIHJlY29yZFRvKSkpIHtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1JlY29yZHMucHVzaChyZWNvcmRUbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtsZWF2aW5nUmVjb3JkcywgdXBkYXRpbmdSZWNvcmRzLCBlbnRlcmluZ1JlY29yZHNdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJvdXRlciBpbnN0YW5jZS4gRXF1aXZhbGVudCB0byB1c2luZyBgJHJvdXRlcmAgaW5zaWRlXG4gKiB0ZW1wbGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIHVzZVJvdXRlcigpIHtcbiAgICByZXR1cm4gaW5qZWN0KHJvdXRlcktleSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgcm91dGUgbG9jYXRpb24uIEVxdWl2YWxlbnQgdG8gdXNpbmcgYCRyb3V0ZWAgaW5zaWRlXG4gKiB0ZW1wbGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIHVzZVJvdXRlKF9uYW1lKSB7XG4gICAgcmV0dXJuIGluamVjdChyb3V0ZUxvY2F0aW9uS2V5KTtcbn1cblxuZXhwb3J0IHsgTmF2aWdhdGlvbkZhaWx1cmVUeXBlLCBSb3V0ZXJMaW5rLCBSb3V0ZXJWaWV3LCBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEIGFzIFNUQVJUX0xPQ0FUSU9OLCBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVJvdXRlck1hdGNoZXIsIGNyZWF0ZVdlYkhhc2hIaXN0b3J5LCBjcmVhdGVXZWJIaXN0b3J5LCBpc05hdmlnYXRpb25GYWlsdXJlLCBsb2FkUm91dGVMb2NhdGlvbiwgbWF0Y2hlZFJvdXRlS2V5LCBvbkJlZm9yZVJvdXRlTGVhdmUsIG9uQmVmb3JlUm91dGVVcGRhdGUsIHBhcnNlUXVlcnksIHJvdXRlTG9jYXRpb25LZXksIHJvdXRlcktleSwgcm91dGVyVmlld0xvY2F0aW9uS2V5LCBzdHJpbmdpZnlRdWVyeSwgdXNlTGluaywgdXNlUm91dGUsIHVzZVJvdXRlciwgdmlld0RlcHRoS2V5IH07XG4iLCJpbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcblxuZXhwb3J0IGNvbnN0IHVzZVNpemVEZWZhdWx0cyA9IHtcbiAgeHM6IDE4LFxuICBzbTogMjQsXG4gIG1kOiAzMixcbiAgbGc6IDM4LFxuICB4bDogNDZcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVNpemVQcm9wcyA9IHtcbiAgc2l6ZTogU3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwcm9wcywgc2l6ZXMgPSB1c2VTaXplRGVmYXVsdHMpIHtcbiAgLy8gcmV0dXJuIHNpemVTdHlsZVxuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gKFxuICAgIHByb3BzLnNpemUgIT09IHZvaWQgMFxuICAgICAgPyB7IGZvbnRTaXplOiBwcm9wcy5zaXplIGluIHNpemVzID8gYCR7IHNpemVzWyBwcm9wcy5zaXplIF0gfXB4YCA6IHByb3BzLnNpemUgfVxuICAgICAgOiBudWxsXG4gICkpXG59XG4iLCJpbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHVzZVNpemVEZWZhdWx0cyB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLXNpemUvdXNlLXNpemUuanMnXG5cbmV4cG9ydCBjb25zdCB1c2VTcGlubmVyUHJvcHMgPSB7XG4gIHNpemU6IHtcbiAgICB0eXBlOiBbIFN0cmluZywgTnVtYmVyIF0sXG4gICAgZGVmYXVsdDogJzFlbSdcbiAgfSxcbiAgY29sb3I6IFN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VTcGlubmVyIChwcm9wcykge1xuICByZXR1cm4ge1xuICAgIGNTaXplOiBjb21wdXRlZCgoKSA9PiAoXG4gICAgICBwcm9wcy5zaXplIGluIHVzZVNpemVEZWZhdWx0c1xuICAgICAgICA/IGAkeyB1c2VTaXplRGVmYXVsdHNbIHByb3BzLnNpemUgXSB9cHhgXG4gICAgICAgIDogcHJvcHMuc2l6ZVxuICAgICkpLFxuXG4gICAgY2xhc3NlczogY29tcHV0ZWQoKCkgPT5cbiAgICAgICdxLXNwaW5uZXInICsgKHByb3BzLmNvbG9yID8gYCB0ZXh0LSR7IHByb3BzLmNvbG9yIH1gIDogJycpXG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgeyBoIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgdXNlU3Bpbm5lciwgeyB1c2VTcGlubmVyUHJvcHMgfSBmcm9tICcuL3VzZS1zcGlubmVyLmpzJ1xuXG5pbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmNyZWF0ZS9jcmVhdGUuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRU3Bpbm5lcicsXG5cbiAgcHJvcHM6IHtcbiAgICAuLi51c2VTcGlubmVyUHJvcHMsXG5cbiAgICB0aGlja25lc3M6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDVcbiAgICB9XG4gIH0sXG5cbiAgc2V0dXAgKHByb3BzKSB7XG4gICAgY29uc3QgeyBjU2l6ZSwgY2xhc3NlcyB9ID0gdXNlU3Bpbm5lcihwcm9wcylcblxuICAgIHJldHVybiAoKSA9PiBoKCdzdmcnLCB7XG4gICAgICBjbGFzczogY2xhc3Nlcy52YWx1ZSArICcgcS1zcGlubmVyLW1hdCcsXG4gICAgICB3aWR0aDogY1NpemUudmFsdWUsXG4gICAgICBoZWlnaHQ6IGNTaXplLnZhbHVlLFxuICAgICAgdmlld0JveDogJzI1IDI1IDUwIDUwJ1xuICAgIH0sIFtcbiAgICAgIGgoJ2NpcmNsZScsIHtcbiAgICAgICAgY2xhc3M6ICdwYXRoJyxcbiAgICAgICAgY3g6ICc1MCcsXG4gICAgICAgIGN5OiAnNTAnLFxuICAgICAgICByOiAnMjAnLFxuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIHN0cm9rZTogJ2N1cnJlbnRDb2xvcicsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiBwcm9wcy50aGlja25lc3MsXG4gICAgICAgICdzdHJva2UtbWl0ZXJsaW1pdCc6ICcxMCdcbiAgICAgIH0pXG4gICAgXSlcbiAgfVxufSlcbiIsImltcG9ydCB7IGdsb2JhbENvbmZpZyB9IGZyb20gJy4uL3ByaXZhdGUuY29uZmlnL2luc3RhbmNlLWNvbmZpZy5qcydcblxuY29uc3Qgbm9kZXNMaXN0ID0gW11cbmNvbnN0IHBvcnRhbFR5cGVMaXN0ID0gW11cblxubGV0IHBvcnRhbEluZGV4ID0gMVxubGV0IHRhcmdldCA9IF9fUVVBU0FSX1NTUl9TRVJWRVJfX1xuICA/IHZvaWQgMFxuICA6IGRvY3VtZW50LmJvZHlcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdsb2JhbE5vZGUgKGlkLCBwb3J0YWxUeXBlKSB7XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICBlbC5pZCA9IHBvcnRhbFR5cGUgIT09IHZvaWQgMFxuICAgID8gYHEtcG9ydGFsLS0keyBwb3J0YWxUeXBlIH0tLSR7IHBvcnRhbEluZGV4KysgfWBcbiAgICA6IGlkXG5cbiAgaWYgKGdsb2JhbENvbmZpZy5nbG9iYWxOb2RlcyAhPT0gdm9pZCAwKSB7XG4gICAgY29uc3QgY2xzID0gZ2xvYmFsQ29uZmlnLmdsb2JhbE5vZGVzLmNsYXNzXG4gICAgaWYgKGNscyAhPT0gdm9pZCAwKSB7XG4gICAgICBlbC5jbGFzc05hbWUgPSBjbHNcbiAgICB9XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoZWwpXG4gIG5vZGVzTGlzdC5wdXNoKGVsKVxuICBwb3J0YWxUeXBlTGlzdC5wdXNoKHBvcnRhbFR5cGUpXG5cbiAgcmV0dXJuIGVsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVHbG9iYWxOb2RlIChlbCkge1xuICBjb25zdCBub2RlSW5kZXggPSBub2Rlc0xpc3QuaW5kZXhPZihlbClcblxuICBub2Rlc0xpc3Quc3BsaWNlKG5vZGVJbmRleCwgMSlcbiAgcG9ydGFsVHlwZUxpc3Quc3BsaWNlKG5vZGVJbmRleCwgMSlcblxuICBlbC5yZW1vdmUoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlR2xvYmFsTm9kZXNUYXJnZXQgKG5ld1RhcmdldCkge1xuICBpZiAobmV3VGFyZ2V0ID09PSB0YXJnZXQpIHJldHVyblxuXG4gIHRhcmdldCA9IG5ld1RhcmdldFxuXG4gIGlmIChcbiAgICB0YXJnZXQgPT09IGRvY3VtZW50LmJvZHlcbiAgICAvLyBvciB3ZSBoYXZlIGxlc3MgdGhhbiAyIGRpYWxvZ3M6XG4gICAgfHwgcG9ydGFsVHlwZUxpc3QucmVkdWNlKChhY2MsIHR5cGUpID0+ICh0eXBlID09PSAnZGlhbG9nJyA/IGFjYyArIDEgOiBhY2MpLCAwKSA8IDJcbiAgKSB7XG4gICAgbm9kZXNMaXN0LmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBpZiAobm9kZS5jb250YWlucyh0YXJnZXQpID09PSBmYWxzZSkge1xuICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBsYXN0RGlhbG9nSW5kZXggPSBwb3J0YWxUeXBlTGlzdC5sYXN0SW5kZXhPZignZGlhbG9nJylcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVsID0gbm9kZXNMaXN0WyBpIF1cblxuICAgIGlmIChcbiAgICAgIChpID09PSBsYXN0RGlhbG9nSW5kZXggfHwgcG9ydGFsVHlwZUxpc3RbIGkgXSAhPT0gJ2RpYWxvZycpXG4gICAgICAmJiBlbC5jb250YWlucyh0YXJnZXQpID09PSBmYWxzZVxuICAgICkge1xuICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGVsKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgdW5yZWYgfSBmcm9tICd2dWUnXG5cbmV4cG9ydCBmdW5jdGlvbiBvZmZzZXQgKGVsKSB7XG4gIGlmIChlbCA9PT0gd2luZG93KSB7XG4gICAgcmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH1cbiAgfVxuICBjb25zdCB7IHRvcCwgbGVmdCB9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgcmV0dXJuIHsgdG9wLCBsZWZ0IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlIChlbCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGVpZ2h0IChlbCkge1xuICByZXR1cm4gZWwgPT09IHdpbmRvd1xuICAgID8gd2luZG93LmlubmVySGVpZ2h0XG4gICAgOiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdpZHRoIChlbCkge1xuICByZXR1cm4gZWwgPT09IHdpbmRvd1xuICAgID8gd2luZG93LmlubmVyV2lkdGhcbiAgICA6IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjc3MgKGVsZW1lbnQsIGNzcykge1xuICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuc3R5bGVcblxuICBmb3IgKGNvbnN0IHByb3AgaW4gY3NzKSB7XG4gICAgc3R5bGVbIHByb3AgXSA9IGNzc1sgcHJvcCBdXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNzc0JhdGNoIChlbGVtZW50cywgc3R5bGUpIHtcbiAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiBjc3MoZWwsIHN0eWxlKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWR5IChmbikge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSByZXR1cm5cblxuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnKSB7XG4gICAgcmV0dXJuIGZuKClcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmbiwgZmFsc2UpXG59XG5cbi8vIGludGVybmFsXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudCAoZWwpIHtcbiAgaWYgKGVsID09PSB2b2lkIDAgfHwgZWwgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdm9pZCAwXG4gIH1cblxuICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCkgfHwgdm9pZCAwXG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB2b2lkIDBcbiAgICB9XG4gIH1cblxuICBjb25zdCB0YXJnZXQgPSB1bnJlZihlbClcbiAgaWYgKHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQuJGVsIHx8IHRhcmdldFxuICB9XG59XG5cbi8vIGludGVybmFsXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRIYXNGb2N1cyAoZWwsIGZvY3VzZWRFbCkge1xuICBpZiAoZWwgPT09IHZvaWQgMCB8fCBlbCA9PT0gbnVsbCB8fCBlbC5jb250YWlucyhmb2N1c2VkRWwpID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGZvciAobGV0IG5leHQgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmc7IG5leHQgIT09IG51bGw7IG5leHQgPSBuZXh0Lm5leHRFbGVtZW50U2libGluZykge1xuICAgIGlmIChuZXh0LmNvbnRhaW5zKGZvY3VzZWRFbCkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgb2Zmc2V0LFxuICBzdHlsZSxcbiAgaGVpZ2h0LFxuICB3aWR0aCxcbiAgY3NzLFxuICBjc3NCYXRjaCxcbiAgcmVhZHlcbn1cbiIsImltcG9ydCB7IGNzcywgZ2V0RWxlbWVudCB9IGZyb20gJy4uL2RvbS9kb20uanMnXG5cbmV4cG9ydCBjb25zdCBzY3JvbGxUYXJnZXRQcm9wID0gX19RVUFTQVJfU1NSX1NFUlZFUl9fXG4gID8ge30gLyogU1NSIGRvZXMgbm90IGtub3cgYWJvdXQgRWxlbWVudCAqL1xuICA6IFsgRWxlbWVudCwgU3RyaW5nIF1cblxuY29uc3Qgc2Nyb2xsVGFyZ2V0cyA9IF9fUVVBU0FSX1NTUl9TRVJWRVJfX1xuICA/IFtdXG4gIDogWyBudWxsLCBkb2N1bWVudCwgZG9jdW1lbnQuYm9keSwgZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IF1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFRhcmdldCAoZWwsIHRhcmdldEVsKSB7XG4gIGxldCB0YXJnZXQgPSBnZXRFbGVtZW50KHRhcmdldEVsKVxuXG4gIGlmICh0YXJnZXQgPT09IHZvaWQgMCkge1xuICAgIGlmIChlbCA9PT0gdm9pZCAwIHx8IGVsID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gd2luZG93XG4gICAgfVxuXG4gICAgdGFyZ2V0ID0gZWwuY2xvc2VzdCgnLnNjcm9sbCwuc2Nyb2xsLXksLm92ZXJmbG93LWF1dG8nKVxuICB9XG5cbiAgcmV0dXJuIHNjcm9sbFRhcmdldHMuaW5jbHVkZXModGFyZ2V0KVxuICAgID8gd2luZG93XG4gICAgOiB0YXJnZXRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbEhlaWdodCAoZWwpIHtcbiAgcmV0dXJuIChlbCA9PT0gd2luZG93ID8gZG9jdW1lbnQuYm9keSA6IGVsKS5zY3JvbGxIZWlnaHRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFdpZHRoIChlbCkge1xuICByZXR1cm4gKGVsID09PSB3aW5kb3cgPyBkb2N1bWVudC5ib2R5IDogZWwpLnNjcm9sbFdpZHRoXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uIChzY3JvbGxUYXJnZXQpIHtcbiAgcmV0dXJuIHNjcm9sbFRhcmdldCA9PT0gd2luZG93XG4gICAgPyB3aW5kb3cucGFnZVlPZmZzZXQgfHwgd2luZG93LnNjcm9sbFkgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgMFxuICAgIDogc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uIChzY3JvbGxUYXJnZXQpIHtcbiAgcmV0dXJuIHNjcm9sbFRhcmdldCA9PT0gd2luZG93XG4gICAgPyB3aW5kb3cucGFnZVhPZmZzZXQgfHwgd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IDBcbiAgICA6IHNjcm9sbFRhcmdldC5zY3JvbGxMZWZ0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmltVmVydGljYWxTY3JvbGxUbyAoZWwsIHRvLCBkdXJhdGlvbiA9IDAgLyogLCBwcmV2VGltZSAqLykge1xuICBjb25zdCBwcmV2VGltZSA9IGFyZ3VtZW50c1sgMyBdID09PSB2b2lkIDAgPyBwZXJmb3JtYW5jZS5ub3coKSA6IGFyZ3VtZW50c1sgMyBdXG4gIGNvbnN0IHBvcyA9IGdldFZlcnRpY2FsU2Nyb2xsUG9zaXRpb24oZWwpXG5cbiAgaWYgKGR1cmF0aW9uIDw9IDApIHtcbiAgICBpZiAocG9zICE9PSB0bykge1xuICAgICAgc2V0U2Nyb2xsKGVsLCB0bylcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobm93VGltZSA9PiB7XG4gICAgY29uc3QgZnJhbWVUaW1lID0gbm93VGltZSAtIHByZXZUaW1lXG4gICAgY29uc3QgbmV3UG9zID0gcG9zICsgKHRvIC0gcG9zKSAvIE1hdGgubWF4KGZyYW1lVGltZSwgZHVyYXRpb24pICogZnJhbWVUaW1lXG4gICAgc2V0U2Nyb2xsKGVsLCBuZXdQb3MpXG4gICAgaWYgKG5ld1BvcyAhPT0gdG8pIHtcbiAgICAgIGFuaW1WZXJ0aWNhbFNjcm9sbFRvKGVsLCB0bywgZHVyYXRpb24gLSBmcmFtZVRpbWUsIG5vd1RpbWUpXG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYW5pbUhvcml6b250YWxTY3JvbGxUbyAoZWwsIHRvLCBkdXJhdGlvbiA9IDAgLyogLCBwcmV2VGltZSAqLykge1xuICBjb25zdCBwcmV2VGltZSA9IGFyZ3VtZW50c1sgMyBdID09PSB2b2lkIDAgPyBwZXJmb3JtYW5jZS5ub3coKSA6IGFyZ3VtZW50c1sgMyBdXG4gIGNvbnN0IHBvcyA9IGdldEhvcml6b250YWxTY3JvbGxQb3NpdGlvbihlbClcblxuICBpZiAoZHVyYXRpb24gPD0gMCkge1xuICAgIGlmIChwb3MgIT09IHRvKSB7XG4gICAgICBzZXRIb3Jpem9udGFsU2Nyb2xsKGVsLCB0bylcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobm93VGltZSA9PiB7XG4gICAgY29uc3QgZnJhbWVUaW1lID0gbm93VGltZSAtIHByZXZUaW1lXG4gICAgY29uc3QgbmV3UG9zID0gcG9zICsgKHRvIC0gcG9zKSAvIE1hdGgubWF4KGZyYW1lVGltZSwgZHVyYXRpb24pICogZnJhbWVUaW1lXG4gICAgc2V0SG9yaXpvbnRhbFNjcm9sbChlbCwgbmV3UG9zKVxuICAgIGlmIChuZXdQb3MgIT09IHRvKSB7XG4gICAgICBhbmltSG9yaXpvbnRhbFNjcm9sbFRvKGVsLCB0bywgZHVyYXRpb24gLSBmcmFtZVRpbWUsIG5vd1RpbWUpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBzZXRTY3JvbGwgKHNjcm9sbFRhcmdldCwgb2Zmc2V0KSB7XG4gIGlmIChzY3JvbGxUYXJnZXQgPT09IHdpbmRvdykge1xuICAgIHdpbmRvdy5zY3JvbGxUbyh3aW5kb3cucGFnZVhPZmZzZXQgfHwgd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IDAsIG9mZnNldClcbiAgICByZXR1cm5cbiAgfVxuICBzY3JvbGxUYXJnZXQuc2Nyb2xsVG9wID0gb2Zmc2V0XG59XG5cbmZ1bmN0aW9uIHNldEhvcml6b250YWxTY3JvbGwgKHNjcm9sbFRhcmdldCwgb2Zmc2V0KSB7XG4gIGlmIChzY3JvbGxUYXJnZXQgPT09IHdpbmRvdykge1xuICAgIHdpbmRvdy5zY3JvbGxUbyhvZmZzZXQsIHdpbmRvdy5wYWdlWU9mZnNldCB8fCB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwKVxuICAgIHJldHVyblxuICB9XG4gIHNjcm9sbFRhcmdldC5zY3JvbGxMZWZ0ID0gb2Zmc2V0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uIChzY3JvbGxUYXJnZXQsIG9mZnNldCwgZHVyYXRpb24pIHtcbiAgaWYgKGR1cmF0aW9uKSB7XG4gICAgYW5pbVZlcnRpY2FsU2Nyb2xsVG8oc2Nyb2xsVGFyZ2V0LCBvZmZzZXQsIGR1cmF0aW9uKVxuICAgIHJldHVyblxuICB9XG4gIHNldFNjcm9sbChzY3JvbGxUYXJnZXQsIG9mZnNldClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEhvcml6b250YWxTY3JvbGxQb3NpdGlvbiAoc2Nyb2xsVGFyZ2V0LCBvZmZzZXQsIGR1cmF0aW9uKSB7XG4gIGlmIChkdXJhdGlvbikge1xuICAgIGFuaW1Ib3Jpem9udGFsU2Nyb2xsVG8oc2Nyb2xsVGFyZ2V0LCBvZmZzZXQsIGR1cmF0aW9uKVxuICAgIHJldHVyblxuICB9XG4gIHNldEhvcml6b250YWxTY3JvbGwoc2Nyb2xsVGFyZ2V0LCBvZmZzZXQpXG59XG5cbmxldCBzaXplXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsYmFyV2lkdGggKCkge1xuICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHNpemVcbiAgfVxuXG4gIGNvbnN0XG4gICAgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuXG4gIGNzcyhpbm5lciwge1xuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgaGVpZ2h0OiAnMjAwcHgnXG4gIH0pXG4gIGNzcyhvdXRlciwge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogJzBweCcsXG4gICAgbGVmdDogJzBweCcsXG4gICAgdmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgd2lkdGg6ICcyMDBweCcsXG4gICAgaGVpZ2h0OiAnMTUwcHgnLFxuICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICB9KVxuXG4gIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKVxuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpXG5cbiAgY29uc3QgdzEgPSBpbm5lci5vZmZzZXRXaWR0aFxuICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnXG4gIGxldCB3MiA9IGlubmVyLm9mZnNldFdpZHRoXG5cbiAgaWYgKHcxID09PSB3Mikge1xuICAgIHcyID0gb3V0ZXIuY2xpZW50V2lkdGhcbiAgfVxuXG4gIG91dGVyLnJlbW92ZSgpXG4gIHNpemUgPSB3MSAtIHcyXG5cbiAgcmV0dXJuIHNpemVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Njcm9sbGJhciAoZWwsIG9uWSA9IHRydWUpIHtcbiAgaWYgKCFlbCB8fCBlbC5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBvbllcbiAgICA/IChcbiAgICAgICAgZWwuc2Nyb2xsSGVpZ2h0ID4gZWwuY2xpZW50SGVpZ2h0ICYmIChcbiAgICAgICAgICBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Njcm9sbCcpXG4gICAgICAgICAgfHwgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdvdmVyZmxvdy1hdXRvJylcbiAgICAgICAgICB8fCBbICdhdXRvJywgJ3Njcm9sbCcgXS5pbmNsdWRlcyh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbICdvdmVyZmxvdy15JyBdKVxuICAgICAgICApXG4gICAgICApXG4gICAgOiAoXG4gICAgICAgIGVsLnNjcm9sbFdpZHRoID4gZWwuY2xpZW50V2lkdGggJiYgKFxuICAgICAgICAgIGVsLmNsYXNzTGlzdC5jb250YWlucygnc2Nyb2xsJylcbiAgICAgICAgICB8fCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ292ZXJmbG93LWF1dG8nKVxuICAgICAgICAgIHx8IFsgJ2F1dG8nLCAnc2Nyb2xsJyBdLmluY2x1ZGVzKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKVsgJ292ZXJmbG93LXgnIF0pXG4gICAgICAgIClcbiAgICAgIClcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRTY3JvbGxUYXJnZXQsXG5cbiAgZ2V0U2Nyb2xsSGVpZ2h0LFxuICBnZXRTY3JvbGxXaWR0aCxcblxuICBnZXRWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uLFxuICBnZXRIb3Jpem9udGFsU2Nyb2xsUG9zaXRpb24sXG5cbiAgYW5pbVZlcnRpY2FsU2Nyb2xsVG8sXG4gIGFuaW1Ib3Jpem9udGFsU2Nyb2xsVG8sXG5cbiAgc2V0VmVydGljYWxTY3JvbGxQb3NpdGlvbixcbiAgc2V0SG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uLFxuXG4gIGdldFNjcm9sbGJhcldpZHRoLFxuICBoYXNTY3JvbGxiYXJcbn1cbiIsImltcG9ydCB7IGhhc1Njcm9sbGJhciwgZ2V0VmVydGljYWxTY3JvbGxQb3NpdGlvbiwgZ2V0SG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uIH0gZnJvbSAnLi9zY3JvbGwuanMnXG5pbXBvcnQgeyBnZXRFdmVudFBhdGgsIGxpc3Rlbk9wdHMsIHN0b3BBbmRQcmV2ZW50IH0gZnJvbSAnLi4vZXZlbnQvZXZlbnQuanMnXG5pbXBvcnQgeyBjbGllbnQgfSBmcm9tICcuLi8uLi9wbHVnaW5zL3BsYXRmb3JtL1BsYXRmb3JtLmpzJ1xuXG5sZXRcbiAgcmVnaXN0ZXJlZCA9IDAsXG4gIHNjcm9sbFBvc2l0aW9uWCxcbiAgc2Nyb2xsUG9zaXRpb25ZLFxuICBtYXhTY3JvbGxUb3AsXG4gIHZwUGVuZGluZ1VwZGF0ZSA9IGZhbHNlLFxuICBib2R5TGVmdCxcbiAgYm9keVRvcCxcbiAgaHJlZixcbiAgY2xvc2VUaW1lciA9IG51bGxcblxuZnVuY3Rpb24gb25XaGVlbCAoZSkge1xuICBpZiAoc2hvdWxkUHJldmVudFNjcm9sbChlKSkge1xuICAgIHN0b3BBbmRQcmV2ZW50KGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkUHJldmVudFNjcm9sbCAoZSkge1xuICBpZiAoZS50YXJnZXQgPT09IGRvY3VtZW50LmJvZHkgfHwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdxLWxheW91dF9fYmFja2Ryb3AnKSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBjb25zdFxuICAgIHBhdGggPSBnZXRFdmVudFBhdGgoZSksXG4gICAgc2hpZnQgPSBlLnNoaWZ0S2V5ICYmICFlLmRlbHRhWCxcbiAgICBzY3JvbGxZID0gIXNoaWZ0ICYmIE1hdGguYWJzKGUuZGVsdGFYKSA8PSBNYXRoLmFicyhlLmRlbHRhWSksXG4gICAgZGVsdGEgPSBzaGlmdCB8fCBzY3JvbGxZID8gZS5kZWx0YVkgOiBlLmRlbHRhWFxuXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYXRoLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IGVsID0gcGF0aFsgaW5kZXggXVxuXG4gICAgaWYgKGhhc1Njcm9sbGJhcihlbCwgc2Nyb2xsWSkpIHtcbiAgICAgIHJldHVybiBzY3JvbGxZXG4gICAgICAgID8gKFxuICAgICAgICAgICAgZGVsdGEgPCAwICYmIGVsLnNjcm9sbFRvcCA9PT0gMFxuICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgOiBkZWx0YSA+IDAgJiYgZWwuc2Nyb2xsVG9wICsgZWwuY2xpZW50SGVpZ2h0ID09PSBlbC5zY3JvbGxIZWlnaHRcbiAgICAgICAgICApXG4gICAgICAgIDogKFxuICAgICAgICAgICAgZGVsdGEgPCAwICYmIGVsLnNjcm9sbExlZnQgPT09IDBcbiAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgIDogZGVsdGEgPiAwICYmIGVsLnNjcm9sbExlZnQgKyBlbC5jbGllbnRXaWR0aCA9PT0gZWwuc2Nyb2xsV2lkdGhcbiAgICAgICAgICApXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gb25BcHBsZVNjcm9sbCAoZSkge1xuICBpZiAoZS50YXJnZXQgPT09IGRvY3VtZW50KSB7XG4gICAgLy8gcmVxdWlyZWQsIG90aGVyd2lzZSBpT1MgYmxvY2tzIGZ1cnRoZXIgc2Nyb2xsaW5nXG4gICAgLy8gdW50aWwgdGhlIG1vYmlsZSBzY3JvbGxiYXIgZGlzc2FwcGVhcnNcbiAgICBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcCA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsVG9wIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkFwcGxlUmVzaXplIChldnQpIHtcbiAgaWYgKHZwUGVuZGluZ1VwZGF0ZSA9PT0gdHJ1ZSkgcmV0dXJuXG5cbiAgdnBQZW5kaW5nVXBkYXRlID0gdHJ1ZVxuXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgdnBQZW5kaW5nVXBkYXRlID0gZmFsc2VcblxuICAgIGNvbnN0XG4gICAgICB7IGhlaWdodCB9ID0gZXZ0LnRhcmdldCxcbiAgICAgIHsgY2xpZW50SGVpZ2h0LCBzY3JvbGxUb3AgfSA9IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnRcblxuICAgIGlmIChtYXhTY3JvbGxUb3AgPT09IHZvaWQgMCB8fCBoZWlnaHQgIT09IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgbWF4U2Nyb2xsVG9wID0gY2xpZW50SGVpZ2h0IC0gaGVpZ2h0XG4gICAgICBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcCA9IHNjcm9sbFRvcFxuICAgIH1cblxuICAgIGlmIChzY3JvbGxUb3AgPiBtYXhTY3JvbGxUb3ApIHtcbiAgICAgIGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsVG9wIC09IE1hdGguY2VpbCgoc2Nyb2xsVG9wIC0gbWF4U2Nyb2xsVG9wKSAvIDgpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBhcHBseSAoYWN0aW9uKSB7XG4gIGNvbnN0XG4gICAgYm9keSA9IGRvY3VtZW50LmJvZHksXG4gICAgaGFzVmlld3BvcnQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQgIT09IHZvaWQgMFxuXG4gIGlmIChhY3Rpb24gPT09ICdhZGQnKSB7XG4gICAgY29uc3QgeyBvdmVyZmxvd1ksIG92ZXJmbG93WCB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoYm9keSlcblxuICAgIHNjcm9sbFBvc2l0aW9uWCA9IGdldEhvcml6b250YWxTY3JvbGxQb3NpdGlvbih3aW5kb3cpXG4gICAgc2Nyb2xsUG9zaXRpb25ZID0gZ2V0VmVydGljYWxTY3JvbGxQb3NpdGlvbih3aW5kb3cpXG4gICAgYm9keUxlZnQgPSBib2R5LnN0eWxlLmxlZnRcbiAgICBib2R5VG9wID0gYm9keS5zdHlsZS50b3BcblxuICAgIGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuXG4gICAgYm9keS5zdHlsZS5sZWZ0ID0gYC0keyBzY3JvbGxQb3NpdGlvblggfXB4YFxuICAgIGJvZHkuc3R5bGUudG9wID0gYC0keyBzY3JvbGxQb3NpdGlvblkgfXB4YFxuXG4gICAgaWYgKG92ZXJmbG93WCAhPT0gJ2hpZGRlbicgJiYgKG92ZXJmbG93WCA9PT0gJ3Njcm9sbCcgfHwgYm9keS5zY3JvbGxXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoKSkge1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdxLWJvZHktLWZvcmNlLXNjcm9sbGJhci14JylcbiAgICB9XG4gICAgaWYgKG92ZXJmbG93WSAhPT0gJ2hpZGRlbicgJiYgKG92ZXJmbG93WSA9PT0gJ3Njcm9sbCcgfHwgYm9keS5zY3JvbGxIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpKSB7XG4gICAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ3EtYm9keS0tZm9yY2Utc2Nyb2xsYmFyLXknKVxuICAgIH1cblxuICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgncS1ib2R5LS1wcmV2ZW50LXNjcm9sbCcpXG4gICAgZG9jdW1lbnQucVNjcm9sbFByZXZlbnRlZCA9IHRydWVcblxuICAgIGlmIChjbGllbnQuaXMuaW9zID09PSB0cnVlKSB7XG4gICAgICBpZiAoaGFzVmlld3BvcnQgPT09IHRydWUpIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApXG4gICAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbkFwcGxlUmVzaXplLCBsaXN0ZW5PcHRzLnBhc3NpdmVDYXB0dXJlKVxuICAgICAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25BcHBsZVJlc2l6ZSwgbGlzdGVuT3B0cy5wYXNzaXZlQ2FwdHVyZSlcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uQXBwbGVTY3JvbGwsIGxpc3Rlbk9wdHMucGFzc2l2ZUNhcHR1cmUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGNsaWVudC5pcy5kZXNrdG9wID09PSB0cnVlICYmIGNsaWVudC5pcy5tYWMgPT09IHRydWUpIHtcbiAgICAvLyByZWYuIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTcvMDEvc2Nyb2xsaW5nLWludGVydmVudGlvblxuICAgIHdpbmRvd1sgYCR7IGFjdGlvbiB9RXZlbnRMaXN0ZW5lcmAgXSgnd2hlZWwnLCBvbldoZWVsLCBsaXN0ZW5PcHRzLm5vdFBhc3NpdmUpXG4gIH1cblxuICBpZiAoYWN0aW9uID09PSAncmVtb3ZlJykge1xuICAgIGlmIChjbGllbnQuaXMuaW9zID09PSB0cnVlKSB7XG4gICAgICBpZiAoaGFzVmlld3BvcnQgPT09IHRydWUpIHtcbiAgICAgICAgd2luZG93LnZpc3VhbFZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uQXBwbGVSZXNpemUsIGxpc3Rlbk9wdHMucGFzc2l2ZUNhcHR1cmUpXG4gICAgICAgIHdpbmRvdy52aXN1YWxWaWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvbkFwcGxlUmVzaXplLCBsaXN0ZW5PcHRzLnBhc3NpdmVDYXB0dXJlKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvbkFwcGxlU2Nyb2xsLCBsaXN0ZW5PcHRzLnBhc3NpdmVDYXB0dXJlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncS1ib2R5LS1wcmV2ZW50LXNjcm9sbCcpXG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdxLWJvZHktLWZvcmNlLXNjcm9sbGJhci14JylcbiAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3EtYm9keS0tZm9yY2Utc2Nyb2xsYmFyLXknKVxuXG4gICAgZG9jdW1lbnQucVNjcm9sbFByZXZlbnRlZCA9IGZhbHNlXG5cbiAgICBib2R5LnN0eWxlLmxlZnQgPSBib2R5TGVmdFxuICAgIGJvZHkuc3R5bGUudG9wID0gYm9keVRvcFxuXG4gICAgLy8gc2Nyb2xsIGJhY2sgb25seSBpZiByb3V0ZSBoYXMgbm90IGNoYW5nZWRcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYgPT09IGhyZWYpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxQb3NpdGlvblgsIHNjcm9sbFBvc2l0aW9uWSlcbiAgICB9XG5cbiAgICBtYXhTY3JvbGxUb3AgPSB2b2lkIDBcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgbGV0IGFjdGlvbiA9ICdhZGQnXG5cbiAgaWYgKHN0YXRlID09PSB0cnVlKSB7XG4gICAgcmVnaXN0ZXJlZCsrXG5cbiAgICBpZiAoY2xvc2VUaW1lciAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGNsb3NlVGltZXIpXG4gICAgICBjbG9zZVRpbWVyID0gbnVsbFxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHJlZ2lzdGVyZWQgPiAxKSByZXR1cm5cbiAgfVxuICBlbHNlIHtcbiAgICBpZiAocmVnaXN0ZXJlZCA9PT0gMCkgcmV0dXJuXG5cbiAgICByZWdpc3RlcmVkLS1cblxuICAgIGlmIChyZWdpc3RlcmVkID4gMCkgcmV0dXJuXG5cbiAgICBhY3Rpb24gPSAncmVtb3ZlJ1xuXG4gICAgaWYgKGNsaWVudC5pcy5pb3MgPT09IHRydWUgJiYgY2xpZW50LmlzLm5hdGl2ZU1vYmlsZSA9PT0gdHJ1ZSkge1xuICAgICAgY2xvc2VUaW1lciAhPT0gbnVsbCAmJiBjbGVhclRpbWVvdXQoY2xvc2VUaW1lcilcbiAgICAgIGNsb3NlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYXBwbHkoYWN0aW9uKVxuICAgICAgICBjbG9zZVRpbWVyID0gbnVsbFxuICAgICAgfSwgMTAwKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG5cbiAgYXBwbHkoYWN0aW9uKVxufVxuIiwiaW1wb3J0IHsgaCwgVHJhbnNpdGlvbiwgb25Nb3VudGVkIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgUVNwaW5uZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zcGlubmVyL1FTcGlubmVyLmpzJ1xuXG5pbXBvcnQgeyBjcmVhdGVDaGlsZEFwcCB9IGZyb20gJy4uLy4uL2luc3RhbGwtcXVhc2FyLmpzJ1xuXG5pbXBvcnQgeyBjcmVhdGVSZWFjdGl2ZVBsdWdpbiB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcbmltcG9ydCB7IGNyZWF0ZUdsb2JhbE5vZGUsIHJlbW92ZUdsb2JhbE5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmNvbmZpZy9ub2Rlcy5qcydcbmltcG9ydCBwcmV2ZW50U2Nyb2xsIGZyb20gJy4uLy4uL3V0aWxzL3Njcm9sbC9wcmV2ZW50LXNjcm9sbC5qcydcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMvaXMuanMnXG5cbmxldFxuICBhcHAsXG4gIHZtLFxuICB1aWQgPSAwLFxuICB0aW1lb3V0ID0gbnVsbCxcbiAgcHJvcHMgPSB7fSxcbiAgYWN0aXZlR3JvdXBzID0ge31cblxuY29uc3Qgb3JpZ2luYWxEZWZhdWx0cyA9IHtcbiAgZ3JvdXA6ICdfX2RlZmF1bHRfcXVhc2FyX2dyb3VwX18nLFxuICBkZWxheTogMCxcbiAgbWVzc2FnZTogZmFsc2UsXG4gIGh0bWw6IGZhbHNlLFxuICBzcGlubmVyU2l6ZTogODAsXG4gIHNwaW5uZXJDb2xvcjogJycsXG4gIG1lc3NhZ2VDb2xvcjogJycsXG4gIGJhY2tncm91bmRDb2xvcjogJycsXG4gIGJveENsYXNzOiAnJyxcbiAgc3Bpbm5lcjogUVNwaW5uZXIsXG4gIGN1c3RvbUNsYXNzOiAnJ1xufVxuXG5jb25zdCBkZWZhdWx0cyA9IHsgLi4ub3JpZ2luYWxEZWZhdWx0cyB9XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyUHJvcHMgKG9wdHMpIHtcbiAgaWYgKG9wdHM/Lmdyb3VwICE9PSB2b2lkIDAgJiYgYWN0aXZlR3JvdXBzWyBvcHRzLmdyb3VwIF0gIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGFjdGl2ZUdyb3Vwc1sgb3B0cy5ncm91cCBdLCBvcHRzKVxuICB9XG5cbiAgY29uc3QgbmV3UHJvcHMgPSBpc09iamVjdChvcHRzKSA9PT0gdHJ1ZSAmJiBvcHRzLmlnbm9yZURlZmF1bHRzID09PSB0cnVlXG4gICAgPyB7IC4uLm9yaWdpbmFsRGVmYXVsdHMsIC4uLm9wdHMgfVxuICAgIDogeyAuLi5kZWZhdWx0cywgLi4ub3B0cyB9XG5cbiAgYWN0aXZlR3JvdXBzWyBuZXdQcm9wcy5ncm91cCBdID0gbmV3UHJvcHNcbiAgcmV0dXJuIG5ld1Byb3BzXG59XG5cbmNvbnN0IFBsdWdpbiA9IGNyZWF0ZVJlYWN0aXZlUGx1Z2luKHtcbiAgaXNBY3RpdmU6IGZhbHNlXG59LCB7XG4gIHNob3cgKG9wdHMpIHtcbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fKSByZXR1cm5cblxuICAgIHByb3BzID0gcmVnaXN0ZXJQcm9wcyhvcHRzKVxuICAgIGNvbnN0IHsgZ3JvdXAgfSA9IHByb3BzXG5cbiAgICBQbHVnaW4uaXNBY3RpdmUgPSB0cnVlXG5cbiAgICBpZiAoYXBwICE9PSB2b2lkIDApIHtcbiAgICAgIHByb3BzLnVpZCA9IHVpZFxuICAgICAgdm0uJGZvcmNlVXBkYXRlKClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBwcm9wcy51aWQgPSArK3VpZFxuICAgICAgdGltZW91dCAhPT0gbnVsbCAmJiBjbGVhclRpbWVvdXQodGltZW91dClcblxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbFxuXG4gICAgICAgIGNvbnN0IGVsID0gY3JlYXRlR2xvYmFsTm9kZSgncS1sb2FkaW5nJylcblxuICAgICAgICBhcHAgPSBjcmVhdGVDaGlsZEFwcCh7XG4gICAgICAgICAgbmFtZTogJ1FMb2FkaW5nJyxcblxuICAgICAgICAgIHNldHVwICgpIHtcbiAgICAgICAgICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgIHByZXZlbnRTY3JvbGwodHJ1ZSlcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uQWZ0ZXJMZWF2ZSAoKSB7XG4gICAgICAgICAgICAgIC8vIG1pZ2h0IGJlIGNhbGxlZCB0byBmaW5hbGl6ZVxuICAgICAgICAgICAgICAvLyBwcmV2aW91cyBsZWF2ZSwgZXZlbiBpZiBpdCB3YXMgY2FuY2VsbGVkXG4gICAgICAgICAgICAgIGlmIChQbHVnaW4uaXNBY3RpdmUgIT09IHRydWUgJiYgYXBwICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50U2Nyb2xsKGZhbHNlKVxuICAgICAgICAgICAgICAgIGFwcC51bm1vdW50KGVsKVxuICAgICAgICAgICAgICAgIHJlbW92ZUdsb2JhbE5vZGUoZWwpXG4gICAgICAgICAgICAgICAgYXBwID0gdm9pZCAwXG4gICAgICAgICAgICAgICAgdm0gPSB2b2lkIDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDb250ZW50ICgpIHtcbiAgICAgICAgICAgICAgaWYgKFBsdWdpbi5pc0FjdGl2ZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gW1xuICAgICAgICAgICAgICAgIGgocHJvcHMuc3Bpbm5lciwge1xuICAgICAgICAgICAgICAgICAgY2xhc3M6ICdxLWxvYWRpbmdfX3NwaW5uZXInLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IHByb3BzLnNwaW5uZXJDb2xvcixcbiAgICAgICAgICAgICAgICAgIHNpemU6IHByb3BzLnNwaW5uZXJTaXplXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgXVxuXG4gICAgICAgICAgICAgIHByb3BzLm1lc3NhZ2UgJiYgY29udGVudC5wdXNoKFxuICAgICAgICAgICAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiAncS1sb2FkaW5nX19tZXNzYWdlJ1xuICAgICAgICAgICAgICAgICAgICArIChwcm9wcy5tZXNzYWdlQ29sb3IgPyBgIHRleHQtJHsgcHJvcHMubWVzc2FnZUNvbG9yIH1gIDogJycpLFxuICAgICAgICAgICAgICAgICAgWyBwcm9wcy5odG1sID09PSB0cnVlID8gJ2lubmVySFRNTCcgOiAndGV4dENvbnRlbnQnIF06IHByb3BzLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBjbGFzczogJ3EtbG9hZGluZyBmdWxsc2NyZWVuIGZsZXggZmxleC1jZW50ZXIgei1tYXggJyArIHByb3BzLmN1c3RvbUNsYXNzLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBrZXk6IHByb3BzLnVpZFxuICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgaCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgY2xhc3M6ICdxLWxvYWRpbmdfX2JhY2tkcm9wJ1xuICAgICAgICAgICAgICAgICAgICArIChwcm9wcy5iYWNrZ3JvdW5kQ29sb3IgPyBgIGJnLSR7IHByb3BzLmJhY2tncm91bmRDb2xvciB9YCA6ICcnKVxuICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAgICAgaCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgY2xhc3M6ICdxLWxvYWRpbmdfX2JveCBjb2x1bW4gaXRlbXMtY2VudGVyICcgKyBwcm9wcy5ib3hDbGFzc1xuICAgICAgICAgICAgICAgIH0sIGNvbnRlbnQpXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBoKFRyYW5zaXRpb24sIHtcbiAgICAgICAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tZmFkZScsXG4gICAgICAgICAgICAgIGFwcGVhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgb25BZnRlckxlYXZlXG4gICAgICAgICAgICB9LCBnZXRDb250ZW50KVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgUGx1Z2luLl9fcGFyZW50QXBwKVxuXG4gICAgICAgIHZtID0gYXBwLm1vdW50KGVsKVxuICAgICAgfSwgcHJvcHMuZGVsYXkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtUHJvcHMgPT4ge1xuICAgICAgLy8gaWYgd2UgZG9uJ3QgaGF2ZSBwYXJhbXMgKG9yIG5vdCBhbiBPYmplY3QgcGFyYW0pIHRoZW4gd2UgbmVlZCB0byBoaWRlIHRoaXMgZ3JvdXBcbiAgICAgIGlmIChwYXJhbVByb3BzID09PSB2b2lkIDAgfHwgT2JqZWN0KHBhcmFtUHJvcHMpICE9PSBwYXJhbVByb3BzKSB7XG4gICAgICAgIFBsdWdpbi5oaWRlKGdyb3VwKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gZWxzZSB3ZSBoYXZlIHBhcmFtcyBzbyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGlzIGdyb3VwXG4gICAgICBQbHVnaW4uc2hvdyh7IC4uLnBhcmFtUHJvcHMsIGdyb3VwIH0pXG4gICAgfVxuICB9LFxuXG4gIGhpZGUgKGdyb3VwKSB7XG4gICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXyAhPT0gdHJ1ZSAmJiBQbHVnaW4uaXNBY3RpdmUgPT09IHRydWUpIHtcbiAgICAgIGlmIChncm91cCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIC8vIGNsZWFyIG91dCBhbnkgYWN0aXZlIGdyb3Vwc1xuICAgICAgICBhY3RpdmVHcm91cHMgPSB7fVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYWN0aXZlR3JvdXBzWyBncm91cCBdID09PSB2b2lkIDApIHtcbiAgICAgICAgLy8gd2UndmUgYWxyZWFkeSBoaWRkZW4gaXQgc28gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyByZW1vdmUgYWN0aXZlIGdyb3VwXG4gICAgICAgIGRlbGV0ZSBhY3RpdmVHcm91cHNbIGdyb3VwIF1cblxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYWN0aXZlR3JvdXBzKVxuXG4gICAgICAgIC8vIGlmIHRoZXJlIGFyZSBvdGhlciBncm91cHMgcmVnaXN0ZXJlZCB0aGVuXG4gICAgICAgIC8vIHNob3cgbGFzdCByZWdpc3RlcmVkIG9uZSBzaW5jZSB0aGF0IG9uZSBpcyBzdGlsbCBhY3RpdmVcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgLy8gZ2V0IGxhc3QgcmVnaXN0ZXJlZCBncm91cFxuICAgICAgICAgIGNvbnN0IGxhc3RHcm91cCA9IGtleXNbIGtleXMubGVuZ3RoIC0gMSBdXG4gICAgICAgICAgUGx1Z2luLnNob3coeyBncm91cDogbGFzdEdyb3VwIH0pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICAgIHRpbWVvdXQgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIFBsdWdpbi5pc0FjdGl2ZSA9IGZhbHNlXG4gICAgfVxuICB9LFxuXG4gIHNldERlZmF1bHRzIChvcHRzKSB7XG4gICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXyAhPT0gdHJ1ZSkge1xuICAgICAgaXNPYmplY3Qob3B0cykgPT09IHRydWUgJiYgT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgb3B0cylcbiAgICB9XG4gIH0sXG5cbiAgaW5zdGFsbCAoeyAkcSwgcGFyZW50QXBwIH0pIHtcbiAgICAkcS5sb2FkaW5nID0gdGhpc1xuXG4gICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXyAhPT0gdHJ1ZSkge1xuICAgICAgUGx1Z2luLl9fcGFyZW50QXBwID0gcGFyZW50QXBwXG5cbiAgICAgIGlmICgkcS5jb25maWcubG9hZGluZyAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdHMoJHEuY29uZmlnLmxvYWRpbmcpXG4gICAgICB9XG4gICAgfVxuICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBQbHVnaW5cbiIsImltcG9ydCB7IGggfSBmcm9tICd2dWUnXG5cbmltcG9ydCB1c2VTcGlubmVyLCB7IHVzZVNwaW5uZXJQcm9wcyB9IGZyb20gJy4vdXNlLXNwaW5uZXIuanMnXG5pbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmNyZWF0ZS9jcmVhdGUuanMnXG5cbmNvbnN0IGlubmVySFRNTCA9ICc8Zz48cGF0aCBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjVcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgZD1cIk01OC40LDUxLjdjLTAuOS0wLjktMS40LTItMS40LTIuM3MwLjUtMC40LDEuNC0xLjQgQzcwLjgsNDMuOCw3OS44LDMwLjUsODAsMTUuNUg3MEgzMEgyMGMwLjIsMTUsOS4yLDI4LjEsMjEuNiwzMi4zYzAuOSwwLjksMS40LDEuMiwxLjQsMS41cy0wLjUsMS42LTEuNCwyLjUgQzI5LjIsNTYuMSwyMC4yLDY5LjUsMjAsODUuNWgxMGg0MGgxMEM3OS44LDY5LjUsNzAuOCw1NS45LDU4LjQsNTEuN3pcIj48L3BhdGg+PGNsaXBQYXRoIGlkPVwidWlsLWhvdXJnbGFzcy1jbGlwMVwiPjxyZWN0IHg9XCIxNVwiIHk9XCIyMFwiIHdpZHRoPVwiNzBcIiBoZWlnaHQ9XCIyNVwiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJoZWlnaHRcIiBmcm9tPVwiMjVcIiB0bz1cIjBcIiBkdXI9XCIxc1wiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIHZhbHVlcz1cIjI1OzA7MFwiIGtleVRpbWVzPVwiMDswLjU7MVwiPjwvYW5pbWF0ZT48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwieVwiIGZyb209XCIyMFwiIHRvPVwiNDVcIiBkdXI9XCIxc1wiIHJlcGVhdENvdW50PVwiaW5kZWZpbml0ZVwiIHZhbHVlcz1cIjIwOzQ1OzQ1XCIga2V5VGltZXM9XCIwOzAuNTsxXCI+PC9hbmltYXRlPjwvcmVjdD48L2NsaXBQYXRoPjxjbGlwUGF0aCBpZD1cInVpbC1ob3VyZ2xhc3MtY2xpcDJcIj48cmVjdCB4PVwiMTVcIiB5PVwiNTVcIiB3aWR0aD1cIjcwXCIgaGVpZ2h0PVwiMjVcIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwiaGVpZ2h0XCIgZnJvbT1cIjBcIiB0bz1cIjI1XCIgZHVyPVwiMXNcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiB2YWx1ZXM9XCIwOzI1OzI1XCIga2V5VGltZXM9XCIwOzAuNTsxXCI+PC9hbmltYXRlPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XCJ5XCIgZnJvbT1cIjgwXCIgdG89XCI1NVwiIGR1cj1cIjFzXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgdmFsdWVzPVwiODA7NTU7NTVcIiBrZXlUaW1lcz1cIjA7MC41OzFcIj48L2FuaW1hdGU+PC9yZWN0PjwvY2xpcFBhdGg+PHBhdGggZD1cIk0yOSwyM2MzLjEsMTEuNCwxMS4zLDE5LjUsMjEsMTkuNVM2Ny45LDM0LjQsNzEsMjNIMjl6XCIgY2xpcC1wYXRoPVwidXJsKCN1aWwtaG91cmdsYXNzLWNsaXAxKVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48L3BhdGg+PHBhdGggZD1cIk03MS42LDc4Yy0zLTExLjYtMTEuNS0yMC0yMS41LTIwcy0xOC41LDguNC0yMS41LDIwSDcxLjZ6XCIgY2xpcC1wYXRoPVwidXJsKCN1aWwtaG91cmdsYXNzLWNsaXAyKVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48L3BhdGg+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT1cInRyYW5zZm9ybVwiIHR5cGU9XCJyb3RhdGVcIiBmcm9tPVwiMCA1MCA1MFwiIHRvPVwiMTgwIDUwIDUwXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgZHVyPVwiMXNcIiB2YWx1ZXM9XCIwIDUwIDUwOzAgNTAgNTA7MTgwIDUwIDUwXCIga2V5VGltZXM9XCIwOzAuNzsxXCI+PC9hbmltYXRlVHJhbnNmb3JtPjwvZz4nXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRU3Bpbm5lckhvdXJnbGFzcycsXG5cbiAgcHJvcHM6IHVzZVNwaW5uZXJQcm9wcyxcblxuICBzZXR1cCAocHJvcHMpIHtcbiAgICBjb25zdCB7IGNTaXplLCBjbGFzc2VzIH0gPSB1c2VTcGlubmVyKHByb3BzKVxuICAgIHJldHVybiAoKSA9PiBoKCdzdmcnLCB7XG4gICAgICBjbGFzczogY2xhc3Nlcy52YWx1ZSxcbiAgICAgIHdpZHRoOiBjU2l6ZS52YWx1ZSxcbiAgICAgIGhlaWdodDogY1NpemUudmFsdWUsXG4gICAgICB2aWV3Qm94OiAnMCAwIDEwMCAxMDAnLFxuICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbzogJ3hNaWRZTWlkJyxcbiAgICAgIHhtbG5zOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLFxuICAgICAgaW5uZXJIVE1MXG4gICAgfSlcbiAgfVxufSlcbiIsImltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi8uLi91dGlscy9ldmVudC9ldmVudC5qcydcbmltcG9ydCB7IGlzRGF0ZSwgaXNSZWdleHAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9pcy9pcy5qcydcblxuZnVuY3Rpb24gZW5jb2RlICh2YWx1ZSkge1xuICBpZiAoaXNEYXRlKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiAnX19xX2RhdGV8JyArIHZhbHVlLmdldFRpbWUoKVxuICB9XG4gIGlmIChpc1JlZ2V4cCh2YWx1ZSkgPT09IHRydWUpIHtcbiAgICByZXR1cm4gJ19fcV9leHByfCcgKyB2YWx1ZS5zb3VyY2VcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiAnX19xX251bWJ8JyArIHZhbHVlXG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuICdfX3FfYm9vbHwnICsgKHZhbHVlID8gJzEnIDogJzAnKVxuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICdfX3Ffc3RybnwnICsgdmFsdWVcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuICdfX3Ffc3RybnwnICsgdmFsdWUudG9TdHJpbmcoKVxuICB9XG4gIGlmICh2YWx1ZSA9PT0gT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiAnX19xX29ianR8JyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICB9XG5cbiAgLy8gaG1tLCB3ZSBkb24ndCBrbm93IHdoYXQgdG8gZG8gd2l0aCBpdCxcbiAgLy8gc28ganVzdCByZXR1cm4gaXQgYXMgaXNcbiAgcmV0dXJuIHZhbHVlXG59XG5cbmZ1bmN0aW9uIGRlY29kZSAodmFsdWUpIHtcbiAgY29uc3QgbGVuZ3RoID0gdmFsdWUubGVuZ3RoXG4gIGlmIChsZW5ndGggPCA5KSB7XG4gICAgLy8gdGhlbiBpdCB3YXNuJ3QgZW5jb2RlZCBieSB1c1xuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgY29uc3QgdHlwZSA9IHZhbHVlLnN1YnN0cmluZygwLCA4KVxuICBjb25zdCBzb3VyY2UgPSB2YWx1ZS5zdWJzdHJpbmcoOSlcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdfX3FfZGF0ZSc6XG4gICAgICBjb25zdCBudW1iZXIgPSBOdW1iZXIoc291cmNlKVxuICAgICAgcmV0dXJuIG5ldyBEYXRlKE51bWJlci5pc05hTihudW1iZXIpID09PSB0cnVlID8gc291cmNlIDogbnVtYmVyKVxuXG4gICAgY2FzZSAnX19xX2V4cHInOlxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc291cmNlKVxuXG4gICAgY2FzZSAnX19xX251bWInOlxuICAgICAgcmV0dXJuIE51bWJlcihzb3VyY2UpXG5cbiAgICBjYXNlICdfX3FfYm9vbCc6XG4gICAgICByZXR1cm4gQm9vbGVhbihzb3VyY2UgPT09ICcxJylcblxuICAgIGNhc2UgJ19fcV9zdHJuJzpcbiAgICAgIHJldHVybiAnJyArIHNvdXJjZVxuXG4gICAgY2FzZSAnX19xX29ianQnOlxuICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc291cmNlKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGhtbSwgd2UgcmVhY2hlZCBoZXJlLCB3ZSBkb24ndCBrbm93IHRoZSB0eXBlLFxuICAgICAgLy8gdGhlbiBpdCBtZWFucyBpdCB3YXNuJ3QgZW5jb2RlZCBieSB1cywgc28ganVzdFxuICAgICAgLy8gcmV0dXJuIHdoYXRldmVyIHZhbHVlIGl0IGlzXG4gICAgICByZXR1cm4gdmFsdWVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW1wdHlTdG9yYWdlICgpIHtcbiAgY29uc3QgZ2V0VmFsID0gKCkgPT4gbnVsbFxuXG4gIHJldHVybiB7XG4gICAgaGFzOiAoKSA9PiBmYWxzZSwgLy8gYWxpYXMgZm9yIGhhc0l0ZW07IFRPRE86IHJlbW92ZSBpbiBRdjNcbiAgICBoYXNJdGVtOiAoKSA9PiBmYWxzZSxcbiAgICBnZXRMZW5ndGg6ICgpID0+IDAsXG4gICAgZ2V0SXRlbTogZ2V0VmFsLFxuICAgIGdldEluZGV4OiBnZXRWYWwsXG4gICAgZ2V0S2V5OiBnZXRWYWwsXG4gICAgZ2V0QWxsOiAoKSA9PiB7fSxcbiAgICBnZXRBbGxLZXlzOiAoKSA9PiBbXSxcbiAgICBzZXQ6IG5vb3AsIC8vIGFsaWFzIGZvciBzZXRJdGVtOyBUT0RPOiByZW1vdmUgaW4gUXYzXG4gICAgc2V0SXRlbTogbm9vcCxcbiAgICByZW1vdmU6IG5vb3AsIC8vIGFsaWFzIGZvciByZW1vdmVJdGVtOyBUT0RPOiByZW1vdmUgaW4gUXYzXG4gICAgcmVtb3ZlSXRlbTogbm9vcCxcbiAgICBjbGVhcjogbm9vcCxcbiAgICBpc0VtcHR5OiAoKSA9PiB0cnVlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JhZ2UgKHR5cGUpIHtcbiAgY29uc3RcbiAgICB3ZWJTdG9yYWdlID0gd2luZG93WyB0eXBlICsgJ1N0b3JhZ2UnIF0sXG4gICAgZ2V0ID0ga2V5ID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB3ZWJTdG9yYWdlLmdldEl0ZW0oa2V5KVxuICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgICAgPyBkZWNvZGUoaXRlbSlcbiAgICAgICAgOiBudWxsXG4gICAgfVxuXG4gIGNvbnN0IGhhc0l0ZW0gPSBrZXkgPT4gd2ViU3RvcmFnZS5nZXRJdGVtKGtleSkgIT09IG51bGxcbiAgY29uc3Qgc2V0SXRlbSA9IChrZXksIHZhbHVlKSA9PiB7IHdlYlN0b3JhZ2Uuc2V0SXRlbShrZXksIGVuY29kZSh2YWx1ZSkpIH1cbiAgY29uc3QgcmVtb3ZlSXRlbSA9IGtleSA9PiB7IHdlYlN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpIH1cblxuICByZXR1cm4ge1xuICAgIGhhczogaGFzSXRlbSwgLy8gVE9ETzogcmVtb3ZlIGluIFF2M1xuICAgIGhhc0l0ZW0sXG4gICAgZ2V0TGVuZ3RoOiAoKSA9PiB3ZWJTdG9yYWdlLmxlbmd0aCxcbiAgICBnZXRJdGVtOiBnZXQsXG4gICAgZ2V0SW5kZXg6IGluZGV4ID0+IHtcbiAgICAgIHJldHVybiBpbmRleCA8IHdlYlN0b3JhZ2UubGVuZ3RoXG4gICAgICAgID8gZ2V0KHdlYlN0b3JhZ2Uua2V5KGluZGV4KSlcbiAgICAgICAgOiBudWxsXG4gICAgfSxcbiAgICBnZXRLZXk6IGluZGV4ID0+IHtcbiAgICAgIHJldHVybiBpbmRleCA8IHdlYlN0b3JhZ2UubGVuZ3RoXG4gICAgICAgID8gd2ViU3RvcmFnZS5rZXkoaW5kZXgpXG4gICAgICAgIDogbnVsbFxuICAgIH0sXG4gICAgZ2V0QWxsOiAoKSA9PiB7XG4gICAgICBsZXQga2V5XG4gICAgICBjb25zdCByZXN1bHQgPSB7fSwgbGVuID0gd2ViU3RvcmFnZS5sZW5ndGhcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBrZXkgPSB3ZWJTdG9yYWdlLmtleShpKVxuICAgICAgICByZXN1bHRbIGtleSBdID0gZ2V0KGtleSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0sXG4gICAgZ2V0QWxsS2V5czogKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gW10sIGxlbiA9IHdlYlN0b3JhZ2UubGVuZ3RoXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2god2ViU3RvcmFnZS5rZXkoaSkpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9LFxuICAgIHNldDogc2V0SXRlbSwgLy8gVE9ETzogcmVtb3ZlIGluIFF2M1xuICAgIHNldEl0ZW0sXG4gICAgcmVtb3ZlOiByZW1vdmVJdGVtLCAvLyBUT0RPOiByZW1vdmUgaW4gUXYzXG4gICAgcmVtb3ZlSXRlbSxcbiAgICBjbGVhcjogKCkgPT4geyB3ZWJTdG9yYWdlLmNsZWFyKCkgfSxcbiAgICBpc0VtcHR5OiAoKSA9PiB3ZWJTdG9yYWdlLmxlbmd0aCA9PT0gMFxuICB9XG59XG4iLCJpbXBvcnQgeyBjbGllbnQgfSBmcm9tICcuLi9wbGF0Zm9ybS9QbGF0Zm9ybS5qcydcbmltcG9ydCB7IGdldEVtcHR5U3RvcmFnZSwgZ2V0U3RvcmFnZSB9IGZyb20gJy4vZW5naW5lL3dlYi1zdG9yYWdlLmpzJ1xuXG5jb25zdCBzdG9yYWdlID0gX19RVUFTQVJfU1NSX1NFUlZFUl9fIHx8IGNsaWVudC5oYXMud2ViU3RvcmFnZSA9PT0gZmFsc2VcbiAgPyBnZXRFbXB0eVN0b3JhZ2UoKVxuICA6IGdldFN0b3JhZ2UoJ2xvY2FsJylcblxuY29uc3QgUGx1Z2luID0ge1xuICBpbnN0YWxsICh7ICRxIH0pIHtcbiAgICAkcS5sb2NhbFN0b3JhZ2UgPSBzdG9yYWdlXG4gIH1cbn1cblxuT2JqZWN0LmFzc2lnbihQbHVnaW4sIHN0b3JhZ2UpXG5cbmV4cG9ydCBkZWZhdWx0IFBsdWdpblxuIiwiaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSAncXVhc2FyJ1xyXG5cclxuY29uc3QgYmdBdWRpbyA9IG5ldyBBdWRpbygnL2Fzc2V0cy9hdWRpby9hcHAtbXVzaWMubXAzJylcclxuYmdBdWRpby5sb29wID0gdHJ1ZVxyXG5iZ0F1ZGlvLnZvbHVtZSA9IDAuNVxyXG5cclxuY29uc3QgY2xpY2tBdWRpbyA9IG5ldyBBdWRpbygnL2Fzc2V0cy9zZngvY2xpY2subXAzJylcclxuY2xpY2tBdWRpby52b2x1bWUgPSAwLjdcclxuXHJcbmNvbnN0IE5PUk1BTF9CR01fVk9MVU1FID0gMC41XHJcbmNvbnN0IERJTU1FRF9CR01fVk9MVU1FID0gMFxyXG5cclxuZnVuY3Rpb24gZ2V0U2V0dGluZ3MoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGJnTXVzaWNFbmFibGVkOiBMb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmdNdXNpY0VuYWJsZWQnKSA/PyB0cnVlLFxyXG4gICAgICAgIHNmeEVuYWJsZWQ6IExvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZnhFbmFibGVkJykgPz8gdHJ1ZSxcclxuICAgICAgICBiZ011c2ljVGltZTogTG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JnTXVzaWNUaW1lJykgPz8gMFxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlU2V0dGluZ3Moc2V0dGluZ3MpIHtcclxuICAgIExvY2FsU3RvcmFnZS5zZXQoJ2JnTXVzaWNFbmFibGVkJywgc2V0dGluZ3MuYmdNdXNpY0VuYWJsZWQpXHJcbiAgICBMb2NhbFN0b3JhZ2Uuc2V0KCdzZnhFbmFibGVkJywgc2V0dGluZ3Muc2Z4RW5hYmxlZClcclxuICAgIExvY2FsU3RvcmFnZS5zZXQoJ2JnTXVzaWNUaW1lJywgc2V0dGluZ3MuYmdNdXNpY1RpbWUgPz8gMClcclxufVxyXG5cclxuZnVuY3Rpb24gZmFkZVRvKHRhcmdldFZvbCwgc3RlcCA9IDAuMDUsIGludGVydmFsID0gODApIHtcclxuICAgIGNsZWFySW50ZXJ2YWwoZmFkZVRvLl90aW1lcilcclxuICAgIGZhZGVUby5fdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGJnQXVkaW8udm9sdW1lIC0gdGFyZ2V0Vm9sKSA8IHN0ZXApIHtcclxuICAgICAgICAgICAgYmdBdWRpby52b2x1bWUgPSB0YXJnZXRWb2xcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChmYWRlVG8uX3RpbWVyKVxyXG4gICAgICAgIH0gZWxzZSBpZiAoYmdBdWRpby52b2x1bWUgPCB0YXJnZXRWb2wpIHtcclxuICAgICAgICAgICAgYmdBdWRpby52b2x1bWUgPSBNYXRoLm1pbihiZ0F1ZGlvLnZvbHVtZSArIHN0ZXAsIHRhcmdldFZvbClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBiZ0F1ZGlvLnZvbHVtZSA9IE1hdGgubWF4KGJnQXVkaW8udm9sdW1lIC0gc3RlcCwgdGFyZ2V0Vm9sKVxyXG4gICAgICAgIH1cclxuICAgIH0sIGludGVydmFsKVxyXG59XHJcblxyXG4vKiDinIUgVklERU8gRFVDS0lORyAoc2FtZSBiZWhhdmlvciBhcyBUVFMpICovXHJcbmZ1bmN0aW9uIGJpbmRWaWRlb0R1Y2tpbmcoKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICdwbGF5JyxcclxuICAgICAgICAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gJ1ZJREVPJykge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLmR1Y2tCZygpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRydWVcclxuICAgIClcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICdwYXVzZScsXHJcbiAgICAgICAgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdWSURFTycpIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5yZXN0b3JlQmcoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0cnVlXHJcbiAgICApXHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAnZW5kZWQnLFxyXG4gICAgICAgIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnVklERU8nKSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucmVzdG9yZUJnKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXVkaW9NYW5hZ2VyID0ge1xyXG4gICAgcGxheUJnKCkge1xyXG4gICAgICAgIGNvbnN0IHsgYmdNdXNpY0VuYWJsZWQgfSA9IGdldFNldHRpbmdzKClcclxuICAgICAgICBpZiAoYmdNdXNpY0VuYWJsZWQpIGJnQXVkaW8ucGxheSgpLmNhdGNoKCgpID0+IHsgfSlcclxuICAgIH0sXHJcblxyXG4gICAgc3RvcEJnKCkge1xyXG4gICAgICAgIGJnQXVkaW8ucGF1c2UoKVxyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgIHNldHRpbmdzLmJnTXVzaWNUaW1lID0gYmdBdWRpby5jdXJyZW50VGltZVxyXG4gICAgICAgIHNhdmVTZXR0aW5ncyhzZXR0aW5ncylcclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlQmcoZW5hYmxlZCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgIHNldHRpbmdzLmJnTXVzaWNFbmFibGVkID0gZW5hYmxlZFxyXG4gICAgICAgIHNhdmVTZXR0aW5ncyhzZXR0aW5ncylcclxuXHJcbiAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgYmdBdWRpby5wbGF5KCkuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgICAgICAnY2xpY2snLFxyXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJnQXVkaW8ucGF1c2VkKSBiZ0F1ZGlvLnBsYXkoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBvbmNlOiB0cnVlIH1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBiZ0F1ZGlvLnBhdXNlKClcclxuICAgICAgICAgICAgc2V0dGluZ3MuYmdNdXNpY1RpbWUgPSBiZ0F1ZGlvLmN1cnJlbnRUaW1lXHJcbiAgICAgICAgICAgIHNhdmVTZXR0aW5ncyhzZXR0aW5ncylcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHBsYXlDbGljaygpIHtcclxuICAgICAgICBjb25zdCB7IHNmeEVuYWJsZWQgfSA9IGdldFNldHRpbmdzKClcclxuICAgICAgICBpZiAoc2Z4RW5hYmxlZCkge1xyXG4gICAgICAgICAgICBjbGlja0F1ZGlvLmN1cnJlbnRUaW1lID0gMFxyXG4gICAgICAgICAgICBjbGlja0F1ZGlvLnBsYXkoKVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlU2Z4KGVuYWJsZWQpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGdldFNldHRpbmdzKClcclxuICAgICAgICBzZXR0aW5ncy5zZnhFbmFibGVkID0gZW5hYmxlZFxyXG4gICAgICAgIHNhdmVTZXR0aW5ncyhzZXR0aW5ncylcclxuICAgIH0sXHJcblxyXG4gICAgLyog4pyFIFVzZWQgYnkgQk9USCBUVFMgYW5kIFZJREVPICovXHJcbiAgICBkdWNrQmcoKSB7XHJcbiAgICAgICAgaWYgKCFiZ0F1ZGlvLnBhdXNlZCkgZmFkZVRvKERJTU1FRF9CR01fVk9MVU1FKVxyXG4gICAgfSxcclxuXHJcbiAgICByZXN0b3JlQmcoKSB7XHJcbiAgICAgICAgaWYgKCFiZ0F1ZGlvLnBhdXNlZCkgZmFkZVRvKE5PUk1BTF9CR01fVk9MVU1FKVxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgIGJnQXVkaW8uY3VycmVudFRpbWUgPSBzZXR0aW5ncy5iZ011c2ljVGltZSB8fCAwXHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5iZ011c2ljRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBiZ0F1ZGlvLnBsYXkoKS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGljaycsXHJcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdBdWRpby5wYXVzZWQpIGJnQXVkaW8ucGxheSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG9uY2U6IHRydWUgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmdBdWRpby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzID0gZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgICAgICBzLmJnTXVzaWNUaW1lID0gYmdBdWRpby5jdXJyZW50VGltZVxyXG4gICAgICAgICAgICBzYXZlU2V0dGluZ3MocylcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvKiDinIUgRU5BQkxFIFZJREVPIEFVRElPIENPTlRST0wgKi9cclxuICAgICAgICBiaW5kVmlkZW9EdWNraW5nKClcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0U2V0dGluZ3NcclxufVxyXG5cclxuLyogaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSAncXVhc2FyJ1xyXG5cclxuY29uc3QgYmdBdWRpbyA9IG5ldyBBdWRpbygnL2Fzc2V0cy9hdWRpby9hcHAtbXVzaWMubXAzJylcclxuYmdBdWRpby5sb29wID0gdHJ1ZVxyXG5iZ0F1ZGlvLnZvbHVtZSA9IDAuNSAgICAgICAgLy8gQ0hBTkdFRDogZm9yY2Ugc2lsZW50IEJHTVxyXG5cclxuY29uc3QgY2xpY2tBdWRpbyA9IG5ldyBBdWRpbygnL2Fzc2V0cy9zZngvY2xpY2subXAzJylcclxuY2xpY2tBdWRpby52b2x1bWUgPSAwLjdcclxuXHJcbmNvbnN0IE5PUk1BTF9CR01fVk9MVU1FID0gMC41ICAgIC8vIENIQU5HRURcclxuY29uc3QgRElNTUVEX0JHTV9WT0xVTUUgPSAwICAgIC8vIENIQU5HRURcclxuXHJcbmZ1bmN0aW9uIGdldFNldHRpbmdzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBiZ011c2ljRW5hYmxlZDogTG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JnTXVzaWNFbmFibGVkJykgPz8gdHJ1ZSxcclxuICAgICAgICBzZnhFbmFibGVkOiBMb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Z4RW5hYmxlZCcpID8/IHRydWUsXHJcbiAgICAgICAgYmdNdXNpY1RpbWU6IExvY2FsU3RvcmFnZS5nZXRJdGVtKCdiZ011c2ljVGltZScpID8/IDBcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZVNldHRpbmdzKHNldHRpbmdzKSB7XHJcbiAgICBMb2NhbFN0b3JhZ2Uuc2V0KCdiZ011c2ljRW5hYmxlZCcsIHNldHRpbmdzLmJnTXVzaWNFbmFibGVkKVxyXG4gICAgTG9jYWxTdG9yYWdlLnNldCgnc2Z4RW5hYmxlZCcsIHNldHRpbmdzLnNmeEVuYWJsZWQpXHJcbiAgICBMb2NhbFN0b3JhZ2Uuc2V0KCdiZ011c2ljVGltZScsIHNldHRpbmdzLmJnTXVzaWNUaW1lID8/IDApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZhZGVUbyh0YXJnZXRWb2wsIHN0ZXAgPSAwLjA1LCBpbnRlcnZhbCA9IDgwKSB7XHJcbiAgICBjbGVhckludGVydmFsKGZhZGVUby5fdGltZXIpXHJcbiAgICBmYWRlVG8uX3RpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIGlmIChNYXRoLmFicyhiZ0F1ZGlvLnZvbHVtZSAtIHRhcmdldFZvbCkgPCBzdGVwKSB7XHJcbiAgICAgICAgICAgIGJnQXVkaW8udm9sdW1lID0gdGFyZ2V0Vm9sXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZmFkZVRvLl90aW1lcilcclxuICAgICAgICB9IGVsc2UgaWYgKGJnQXVkaW8udm9sdW1lIDwgdGFyZ2V0Vm9sKSB7XHJcbiAgICAgICAgICAgIGJnQXVkaW8udm9sdW1lID0gTWF0aC5taW4oYmdBdWRpby52b2x1bWUgKyBzdGVwLCB0YXJnZXRWb2wpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYmdBdWRpby52b2x1bWUgPSBNYXRoLm1heChiZ0F1ZGlvLnZvbHVtZSAtIHN0ZXAsIHRhcmdldFZvbClcclxuICAgICAgICB9XHJcbiAgICB9LCBpbnRlcnZhbClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGF1ZGlvTWFuYWdlciA9IHtcclxuICAgIHBsYXlCZygpIHtcclxuICAgICAgICBjb25zdCB7IGJnTXVzaWNFbmFibGVkIH0gPSBnZXRTZXR0aW5ncygpXHJcbiAgICAgICAgaWYgKGJnTXVzaWNFbmFibGVkKSBiZ0F1ZGlvLnBsYXkoKS5jYXRjaCgoKSA9PiB7IH0pXHJcbiAgICB9LFxyXG5cclxuICAgIHN0b3BCZygpIHtcclxuICAgICAgICBiZ0F1ZGlvLnBhdXNlKClcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGdldFNldHRpbmdzKClcclxuICAgICAgICBzZXR0aW5ncy5iZ011c2ljVGltZSA9IGJnQXVkaW8uY3VycmVudFRpbWVcclxuICAgICAgICBzYXZlU2V0dGluZ3Moc2V0dGluZ3MpXHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZUJnKGVuYWJsZWQpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGdldFNldHRpbmdzKClcclxuICAgICAgICBzZXR0aW5ncy5iZ011c2ljRW5hYmxlZCA9IGVuYWJsZWRcclxuICAgICAgICBzYXZlU2V0dGluZ3Moc2V0dGluZ3MpXHJcblxyXG4gICAgICAgIGlmIChlbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGJnQXVkaW8ucGxheSgpLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJyxcclxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZ0F1ZGlvLnBhdXNlZCkgYmdBdWRpby5wbGF5KClcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc3RvcCBtdXNpYyBzYWZlbHlcclxuICAgICAgICAgICAgYmdBdWRpby5wYXVzZSgpXHJcbiAgICAgICAgICAgIHNldHRpbmdzLmJnTXVzaWNUaW1lID0gYmdBdWRpby5jdXJyZW50VGltZVxyXG4gICAgICAgICAgICBzYXZlU2V0dGluZ3Moc2V0dGluZ3MpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcblxyXG4gICAgcGxheUNsaWNrKCkge1xyXG4gICAgICAgIGNvbnN0IHsgc2Z4RW5hYmxlZCB9ID0gZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgIGlmIChzZnhFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGNsaWNrQXVkaW8uY3VycmVudFRpbWUgPSAwXHJcbiAgICAgICAgICAgIGNsaWNrQXVkaW8ucGxheSgpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB0b2dnbGVTZngoZW5hYmxlZCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgIHNldHRpbmdzLnNmeEVuYWJsZWQgPSBlbmFibGVkXHJcbiAgICAgICAgc2F2ZVNldHRpbmdzKHNldHRpbmdzKVxyXG4gICAgfSxcclxuXHJcbiAgICBkdWNrQmcoKSB7XHJcbiAgICAgICAgaWYgKCFiZ0F1ZGlvLnBhdXNlZCkgZmFkZVRvKERJTU1FRF9CR01fVk9MVU1FKVxyXG4gICAgfSxcclxuXHJcbiAgICByZXN0b3JlQmcoKSB7XHJcbiAgICAgICAgaWYgKCFiZ0F1ZGlvLnBhdXNlZCkgZmFkZVRvKE5PUk1BTF9CR01fVk9MVU1FKVxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgIGJnQXVkaW8uY3VycmVudFRpbWUgPSBzZXR0aW5ncy5iZ011c2ljVGltZSB8fCAwXHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5iZ011c2ljRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBiZ0F1ZGlvLnBsYXkoKS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGljaycsXHJcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmdBdWRpby5wYXVzZWQpIGJnQXVkaW8ucGxheSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG9uY2U6IHRydWUgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmdBdWRpby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzID0gZ2V0U2V0dGluZ3MoKVxyXG4gICAgICAgICAgICBzLmJnTXVzaWNUaW1lID0gYmdBdWRpby5jdXJyZW50VGltZVxyXG4gICAgICAgICAgICBzYXZlU2V0dGluZ3MocylcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuXHJcbiAgICBnZXRTZXR0aW5nc1xyXG59XHJcbiAqLyIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cInNhZmUtZnVsbHNjcmVlbiBxLXNhZmUtYXJlYVwiPlxuICAgIDxyb3V0ZXItdmlldyAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXA+XG5pbXBvcnQgeyBvbk1vdW50ZWQsIG9uQmVmb3JlVW5tb3VudCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInXG5pbXBvcnQgeyBMb2FkaW5nLCBRU3Bpbm5lckhvdXJnbGFzcyB9IGZyb20gJ3F1YXNhcidcbmltcG9ydCB7IGF1ZGlvTWFuYWdlciB9IGZyb20gJ3NyYy91dGlscy9hdWRpb01hbmFnZXInXG5pbXBvcnQgeyBBcHAgfSBmcm9tICdAY2FwYWNpdG9yL2FwcCcgICAvLyDinIUgQURERURcblxuY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcblxub25Nb3VudGVkKCgpID0+IHtcbiAgLy8gTG9hZGluZyBzcGlubmVyIGxvZ2ljXG4gIExvYWRpbmcuc2hvdyh7XG4gICAgc3Bpbm5lcjogUVNwaW5uZXJIb3VyZ2xhc3MsXG4gICAgbWVzc2FnZTogJ0xvYWRpbmcuLi4nLFxuICAgIHNwaW5uZXJDb2xvcjogJ3ByaW1hcnknLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgfSlcblxuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4gTG9hZGluZy5oaWRlKCksIDQwMClcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gTG9hZGluZy5oaWRlKCksIDQwMClcbiAgICB9KVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBnbG9iYWwgYmFja2dyb3VuZCBtdXNpY1xuICBhdWRpb01hbmFnZXIuaW5pdCgpXG5cbiAgLy8gR2xvYmFsIGNsaWNrIHNvdW5kXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCdidXR0b24sIC5xLWJ0biwgLnEtaXRlbSwgYSwgLmNsaWNrLXNvdW5kJykpIHtcbiAgICAgIGF1ZGlvTWFuYWdlci5wbGF5Q2xpY2soKVxuICAgIH1cbiAgfSlcblxuICAvLyBSZXN0b3JlIGJhY2tncm91bmQgbXVzaWMgd2hlbiBjaGFuZ2luZyBwYWdlc1xuICByb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHtcbiAgICBpZiAoJ3NwZWVjaFN5bnRoZXNpcycgaW4gd2luZG93KSB7XG4gICAgICB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpXG4gICAgfVxuICAgIGF1ZGlvTWFuYWdlci5yZXN0b3JlQmcoKVxuICAgIG5leHQoKVxuICB9KVxuXG4gIC8vIOKchSBBRERFRDogU3RvcCBhbGwgc291bmRzIHdoZW4gYXBwIGlzIGJhY2tncm91bmRlZCBvciBleGl0ZWRcbiAgQXBwLmFkZExpc3RlbmVyKCdhcHBTdGF0ZUNoYW5nZScsICh7IGlzQWN0aXZlIH0pID0+IHtcbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBhdWRpb01hbmFnZXIuc3RvcEFsbD8uKCkgfHwgYXVkaW9NYW5hZ2VyLnN0b3BCZz8uKClcbiAgICB9XG4gIH0pXG5cbiAgQXBwLmFkZExpc3RlbmVyKCdwYXVzZScsICgpID0+IHtcbiAgICBhdWRpb01hbmFnZXIuc3RvcEFsbD8uKCkgfHwgYXVkaW9NYW5hZ2VyLnN0b3BCZz8uKClcbiAgfSlcbn0pXG5cbi8vIOKchSBBRERFRDogY2xlYW51cCBsaXN0ZW5lcnMgKGdvb2QgcHJhY3RpY2UpXG5vbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICBBcHAucmVtb3ZlQWxsTGlzdGVuZXJzKClcbn0pXG48L3NjcmlwdD5cblxuPCEtLSA8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJzYWZlLWZ1bGxzY3JlZW4gcS1zYWZlLWFyZWFcIj5cbiAgICA8cm91dGVyLXZpZXcgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwPlxuaW1wb3J0IHsgb25Nb3VudGVkIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcidcbmltcG9ydCB7IExvYWRpbmcsIFFTcGlubmVySG91cmdsYXNzIH0gZnJvbSAncXVhc2FyJ1xuaW1wb3J0IHsgYXVkaW9NYW5hZ2VyIH0gZnJvbSAnc3JjL3V0aWxzL2F1ZGlvTWFuYWdlcidcblxuY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcblxub25Nb3VudGVkKCgpID0+IHtcbiAgLy8gTG9hZGluZyBzcGlubmVyIGxvZ2ljXG4gIExvYWRpbmcuc2hvdyh7XG4gICAgc3Bpbm5lcjogUVNwaW5uZXJIb3VyZ2xhc3MsXG4gICAgbWVzc2FnZTogJ0xvYWRpbmcuLi4nLFxuICAgIHNwaW5uZXJDb2xvcjogJ3ByaW1hcnknLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgfSlcblxuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4gTG9hZGluZy5oaWRlKCksIDQwMClcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gTG9hZGluZy5oaWRlKCksIDQwMClcbiAgICB9KVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBnbG9iYWwgYmFja2dyb3VuZCBtdXNpY1xuICBhdWRpb01hbmFnZXIuaW5pdCgpXG5cbiAgLy8gR2xvYmFsIGNsaWNrIHNvdW5kXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCdidXR0b24sIC5xLWJ0biwgLnEtaXRlbSwgYSwgLmNsaWNrLXNvdW5kJykpIHtcbiAgICAgIGF1ZGlvTWFuYWdlci5wbGF5Q2xpY2soKVxuICAgIH1cbiAgfSlcblxuICAvLyBSZXN0b3JlIGJhY2tncm91bmQgbXVzaWMgd2hlbiBjaGFuZ2luZyBwYWdlc1xuICByb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHtcbiAgICBpZiAoJ3NwZWVjaFN5bnRoZXNpcycgaW4gd2luZG93KSB7XG4gICAgICB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpXG4gICAgfVxuICAgIGF1ZGlvTWFuYWdlci5yZXN0b3JlQmcoKVxuICAgIG5leHQoKVxuICB9KVxufSlcbjwvc2NyaXB0PlxuIC0tPiIsIi8vIEZ1bmN0aW9ucyBpbiB0aGlzIGZpbGUgYXJlIG5vLW9wLFxuLy8gIHRoZXkganVzdCB0YWtlIGEgY2FsbGJhY2sgZnVuY3Rpb24gYW5kIHJldHVybiBpdFxuLy8gVGhleSdyZSB1c2VkIHRvIGFwcGx5IHR5cGluZ3MgdG8gdGhlIGNhbGxiYWNrXG4vLyAgcGFyYW1ldGVycyBhbmQgcmV0dXJuIHZhbHVlIHdoZW4gdXNpbmcgUXVhc2FyIHdpdGggVHlwZVNjcmlwdFxuXG5jb25zdCB3cmFwcGVyID0gY2FsbGJhY2sgPT4gY2FsbGJhY2tcblxuZXhwb3J0IGNvbnN0IGRlZmluZUNvbmZpZyA9IHdyYXBwZXJcblxuZXhwb3J0IGNvbnN0IGRlZmluZUJvb3QgPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lUHJlRmV0Y2ggPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lUm91dGVyID0gd3JhcHBlclxuZXhwb3J0IGNvbnN0IGRlZmluZVN0b3JlID0gd3JhcHBlclxuXG5leHBvcnQgY29uc3QgZGVmaW5lU3NyTWlkZGxld2FyZSA9IHdyYXBwZXJcbmV4cG9ydCBjb25zdCBkZWZpbmVTc3JDcmVhdGUgPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lU3NySW5qZWN0RGV2TWlkZGxld2FyZSA9IHdyYXBwZXJcbmV4cG9ydCBjb25zdCBkZWZpbmVTc3JMaXN0ZW4gPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lU3NyQ2xvc2UgPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lU3NyU2VydmVTdGF0aWNDb250ZW50ID0gd3JhcHBlclxuZXhwb3J0IGNvbnN0IGRlZmluZVNzclJlbmRlclByZWxvYWRUYWcgPSB3cmFwcGVyXG4iLCJjb25zdCByb3V0ZXMgPSBbXG4gIHtcbiAgICBwYXRoOiAnLycsXG4gICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ2xheW91dHMvTWFpbkxheW91dC52dWUnKSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAgeyBwYXRoOiAnJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL0luZGV4UGFnZS52dWUnKSwgbmFtZTogJ2hvbWUnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLW9uZScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEvQ2hhcHRlci0xLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci1vbmUnIH0sXG4gICAgICB7IHBhdGg6ICdsZXNzb24tdGVzdCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9MZXNzb25QYWdlLnZ1ZScpLCBuYW1lOiAnbGVzc29uLXRlc3QnIH0sXG4gICAgICB7IHBhdGg6ICdsZXNzb24tdHJ5JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL0xlc3NvblRyeS52dWUnKSwgbmFtZTogJ2xlc3Nvbi10cnknIH0sXG4gICAgICB7IHBhdGg6ICdsb2dpbi1wYWdlJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL0xvZ2luUGFnZS52dWUnKSwgbmFtZTogJ2xvZ2luLXBhZ2UnIH0sXG4gICAgICB7IHBhdGg6ICd0ZXN0LXBhZ2UnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvVW5pdC0xLnZ1ZScpLCBuYW1lOiAndGVzdC1wYWdlJyB9LFxuICAgICAgeyBwYXRoOiAnYm9va21hcmstcGFnZScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9Cb29rTWFyay52dWUnKSwgbmFtZTogJ2Jvb2ttYXJrLXBhZ2UnIH0sXG4gICAgICB7IHBhdGg6ICdxdWl6LXN0YXRzJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL1F1aXpTdGF0cy52dWUnKSwgbmFtZTogJ3F1aXotc3RhdHMnIH0sXG4gICAgICAvL1VuaXQgQ2hhcHRlcnNcbiAgICAgIHsgcGF0aDogJ3VuaXQtMScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9saXN0LW9mLXVuaXRzL1VuaXRPbmUudnVlJyksIG5hbWU6ICd1bml0LTEnIH0sXG4gICAgICB7IHBhdGg6ICd1bml0LTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvbGlzdC1vZi11bml0cy9Vbml0VHdvLnZ1ZScpLCBuYW1lOiAndW5pdC0yJyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0zJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2xpc3Qtb2YtdW5pdHMvVW5pdFRocmVlLnZ1ZScpLCBuYW1lOiAndW5pdC0zJyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC00JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2xpc3Qtb2YtdW5pdHMvVW5pdEZvdXIudnVlJyksIG5hbWU6ICd1bml0LTQnIH0sXG5cbiAgICAgIC8vQ2hhcHRlciAxXG4gICAgICB7IHBhdGg6ICd1bml0LTEtY2hhcHRlci0xLWxlc3Nvbi0xJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMS9MZXNzb25PbmUudnVlJyksIG5hbWU6ICd1bml0LTEtY2hhcHRlci0xLWxlc3Nvbi0xJyB9LFxuICAgICAgLy9UZXN0c1xuICAgICAgeyBwYXRoOiAnbWluaS10ZXN0LTEtMScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEvTWluaVRlc3QxLTEudnVlJyksIG5hbWU6ICdtaW5pLXRlc3QtMS0xJyB9LFxuICAgICAgeyBwYXRoOiAnbWluaS10ZXN0LTEtMicsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEvTWluaVRlc3QxLTIudnVlJyksIG5hbWU6ICdtaW5pLXRlc3QtMS0yJyB9LFxuICAgICAgeyBwYXRoOiAnbWluaS1sYWItMS0xJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMS9NaW5pTGFiMS0xLnZ1ZScpLCBuYW1lOiAnbWluaS1sYWItMS0xJyB9LFxuICAgICAgeyBwYXRoOiAnbWluaS10ZXN0LTEtMycsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEvTWluaVRlc3QxLTMudnVlJyksIG5hbWU6ICdtaW5pLXRlc3QtMS0zJyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0xLWNoYXB0ZXItMS1sZXNzb24tMicsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEvTGVzc29uVHdvLnZ1ZScpLCBuYW1lOiAndW5pdC0xLWNoYXB0ZXItMS1sZXNzb24tMicgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMS1jaGFwdGVyLTEtbGVzc29uLTMnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xL0xlc3NvblRocmVlLnZ1ZScpLCBuYW1lOiAndW5pdC0xLWNoYXB0ZXItMS1sZXNzb24tMycgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMS1jaGFwdGVyLTEtbGVzc29uLTQnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xL0xlc3NvbkZvdXIudnVlJyksIG5hbWU6ICd1bml0LTEtY2hhcHRlci0xLWxlc3Nvbi00JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0xJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMS9DaGFwdGVyLTEudnVlJyksIG5hbWU6ICdjaGFwdGVyLTEnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTEtdGVjaG5vbG9neScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEvVGVjaG5vbG9neUZvY3VzLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0xLXRlY2hub2xvZ3knIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTEtcmV2aWV3JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMS9DaGFwdGVyUmV2aWV3LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0xLXJldmlldycgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMS1hY3Rpdml0eScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEvQWN0aXZpdHktMS52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMS1hY3Rpdml0eScgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMS10ZXN0JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMS9DaGFwdGVyVGVzdC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMS10ZXN0JyB9LFxuXG4gICAgICAvL0NoYXB0ZXIgMlxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0yJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMi9DaGFwdGVyLTIudnVlJyksIG5hbWU6ICdjaGFwdGVyLTInIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLWxhYi0yLTEnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0yL01pbmlMYWIyLTEudnVlJyksIG5hbWU6ICdtaW5pLWxhYi0yLTEnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLWxhYi0yLTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0yL01pbmlMYWIyLTIudnVlJyksIG5hbWU6ICdtaW5pLWxhYi0yLTInIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLXRlc3QtMi0zJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMi9NaW5pVGVzdDItMy52dWUnKSwgbmFtZTogJ21pbmktdGVzdC0yLTMnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLXRlc3QtMi00JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMi9NaW5pVGVzdDItNC52dWUnKSwgbmFtZTogJ21pbmktdGVzdC0yLTQnIH0sXG4gICAgICB7IHBhdGg6ICd1bml0LTEtY2hhcHRlci0yLWxlc3Nvbi0xJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMi9MZXNzb25PbmUudnVlJyksIG5hbWU6ICd1bml0LTEtY2hhcHRlci0yLWxlc3Nvbi0xJyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0xLWNoYXB0ZXItMi1sZXNzb24tMicsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTIvTGVzc29uVHdvLnZ1ZScpLCBuYW1lOiAndW5pdC0xLWNoYXB0ZXItMi1sZXNzb24tMicgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMi10ZWNobm9sb2d5JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMi9UZWNobm9sb2d5Rm9jdXMudnVlJyksIG5hbWU6ICdjaGFwdGVyLTItdGVjaG5vbG9neScgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMi1yZXZpZXcnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0yL0NoYXB0ZXJSZXZpZXcudnVlJyksIG5hbWU6ICdjaGFwdGVyLTItcmV2aWV3JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0yLWFjdGl2aXR5JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMi9BY3Rpdml0eS0yLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0yLWFjdGl2aXR5JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0yLXRlc3QnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0yL0NoYXB0ZXJUZXN0LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0yLXRlc3QnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTItc3RlbScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTIvU3RlbUNoYWxsZW5nZS52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMi1zdGVtJyB9LFxuXG4gICAgICAvL0NoYXB0ZXIgM1xuICAgICAgeyBwYXRoOiAnY2hhcHRlci0zJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMy9DaGFwdGVyLTMudnVlJyksIG5hbWU6ICdjaGFwdGVyLTMnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLXRlc3QtMy0xJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMy9NaW5pVGVzdDMtMS52dWUnKSwgbmFtZTogJ21pbmktdGVzdC0zLTEnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLXRlc3QtMy0yJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMy9NaW5pVGVzdDMtMi52dWUnKSwgbmFtZTogJ21pbmktdGVzdC0zLTInIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLWxhYi0zLTEnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0zL01pbmlMYWIzLTEudnVlJyksIG5hbWU6ICdtaW5pLWxhYi0zLTEnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLWxhYi0zLTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0zL01pbmlMYWIzLTIudnVlJyksIG5hbWU6ICdtaW5pLWxhYi0zLTInIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLWxhYi0zLTMnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0zL01pbmlMYWIzLTMudnVlJyksIG5hbWU6ICdtaW5pLWxhYi0zLTMnIH0sXG4gICAgICB7IHBhdGg6ICd1bml0LTEtY2hhcHRlci0zLWxlc3Nvbi0xJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMy9MZXNzb25PbmUudnVlJyksIG5hbWU6ICd1bml0LTEtY2hhcHRlci0zLWxlc3Nvbi0xJyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0xLWNoYXB0ZXItMy1sZXNzb24tMicsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTMvTGVzc29uVHdvLnZ1ZScpLCBuYW1lOiAndW5pdC0xLWNoYXB0ZXItMy1sZXNzb24tMicgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMS1jaGFwdGVyLTMtbGVzc29uLTMnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0zL0xlc3NvblRocmVlLnZ1ZScpLCBuYW1lOiAndW5pdC0xLWNoYXB0ZXItMy1sZXNzb24tMycgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMS1jaGFwdGVyLTMtbGVzc29uLTQnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0zL0xlc3NvbkZvdXIudnVlJyksIG5hbWU6ICd1bml0LTEtY2hhcHRlci0zLWxlc3Nvbi00JyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0xLWNoYXB0ZXItMy1sZXNzb24tNScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTMvTGVzc29uRml2ZS52dWUnKSwgbmFtZTogJ3VuaXQtMS1jaGFwdGVyLTMtbGVzc29uLTUnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTMtdGVjaG5vbG9neScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTMvVGVjaG5vbG9neUZvY3VzLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0zLXRlY2hub2xvZ3knIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTMtcmV2aWV3JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMy9DaGFwdGVyUmV2aWV3LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0zLXJldmlldycgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMy1hY3Rpdml0eS0zJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMy9BY3Rpdml0eS0zLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0zLWFjdGl2aXR5LTMnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTMtYWN0aXZpdHktNCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTMvQWN0aXZpdHktNC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMy1hY3Rpdml0eS00JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0zLWFjdGl2aXR5LTUnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0zL0FjdGl2aXR5LTUudnVlJyksIG5hbWU6ICdjaGFwdGVyLTMtYWN0aXZpdHktNScgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMy10ZXN0JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMy9DaGFwdGVyVGVzdC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMy10ZXN0JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0zLXN0ZW0nLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0zL1N0ZW1DaGFsbGVuZ2UudnVlJyksIG5hbWU6ICdjaGFwdGVyLTMtc3RlbScgfSxcblxuICAgICAgLy9Vbml0IDJcblxuICAgICAgLy9DaGFwdGVyIDRcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItNCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTQvQ2hhcHRlci00LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci00JyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0yLWNoYXB0ZXItNC1sZXNzb24tMScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTQvTGVzc29uT25lLnZ1ZScpLCBuYW1lOiAndW5pdC0yLWNoYXB0ZXItNC1sZXNzb24tMScgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMi1jaGFwdGVyLTQtbGVzc29uLTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci00L0xlc3NvblR3by52dWUnKSwgbmFtZTogJ3VuaXQtMi1jaGFwdGVyLTQtbGVzc29uLTInIH0sXG4gICAgICB7IHBhdGg6ICd1bml0LTItY2hhcHRlci00LXRlY2hub2xvZ3knLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci00L1RlY2hub2xvZ3lGb2N1cy52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNC10ZWNobm9sb2d5JyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0yLWNoYXB0ZXItNC1yZXZpZXcnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci00L0NoYXB0ZXJSZXZpZXcudnVlJyksIG5hbWU6ICd1bml0LTItY2hhcHRlci00LXJldmlldycgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMi1jaGFwdGVyLTQtYWN0aXZpdHktNicsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTQvQWN0aXZpdHktNi52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNC1hY3Rpdml0eS02JyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0yLWNoYXB0ZXItNC1hY3Rpdml0eS03JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNC9BY3Rpdml0eS03LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci00LWFjdGl2aXR5LTcnIH0sXG4gICAgICB7IHBhdGg6ICd1bml0LTItY2hhcHRlci00LXRlc3QnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci00L0NoYXB0ZXJUZXN0LnZ1ZScpLCBuYW1lOiAndW5pdC0yLWNoYXB0ZXItNC10ZXN0JyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0yLWNoYXB0ZXItNC1zdGVtLWNoYWxsZW5nZScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTQvU3RlbUNoYWxsZW5nZS52dWUnKSwgbmFtZTogJ3VuaXQtMi1jaGFwdGVyLTQtc3RlbS1jaGFsbGVuZ2UnIH0sXG5cbiAgICAgIC8vQ2hhcHRlciA1XG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTUnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci01L0NoYXB0ZXItNS52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNScgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMi1jaGFwdGVyLTUtbGVzc29uLTEnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci01L0xlc3Nvbk9uZS52dWUnKSwgbmFtZTogJ3VuaXQtMi1jaGFwdGVyLTUtbGVzc29uLTEnIH0sXG4gICAgICB7IHBhdGg6ICd1bml0LTItY2hhcHRlci01LWxlc3Nvbi0yJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNS9MZXNzb25Ud28udnVlJyksIG5hbWU6ICd1bml0LTItY2hhcHRlci01LWxlc3Nvbi0yJyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci01LXRlY2hub2xvZ3knLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci01L1RlY2hub2xvZ3lGb2N1cy52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNS10ZWNobm9sb2d5JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci01LXJldmlldycsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTUvQ2hhcHRlclJldmlldy52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNS1yZXZpZXcnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTUtYWN0aXZpdHktOCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTUvQWN0aXZpdHktOC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNS1hY3Rpdml0eS04JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci01LWFjdGl2aXR5LTknLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci01L0FjdGl2aXR5LTkudnVlJyksIG5hbWU6ICdjaGFwdGVyLTUtYWN0aXZpdHktOScgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItNS10ZXN0JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNS9DaGFwdGVyVGVzdC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNS10ZXN0JyB9LFxuXG4gICAgICAvL0NoYXB0ZXIgNlxuICAgICAgeyBwYXRoOiAnY2hhcHRlci02JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNi9DaGFwdGVyLTYudnVlJyksIG5hbWU6ICdjaGFwdGVyLTYnIH0sXG4gICAgICB7IHBhdGg6ICd1bml0LTItY2hhcHRlci02LWxlc3Nvbi0xJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNi9MZXNzb25PbmUudnVlJyksIG5hbWU6ICd1bml0LTItY2hhcHRlci02LWxlc3Nvbi0xJyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0yLWNoYXB0ZXItNi1sZXNzb24tMicsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTYvTGVzc29uVHdvLnZ1ZScpLCBuYW1lOiAndW5pdC0yLWNoYXB0ZXItNi1sZXNzb24tMicgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItNi10ZWNobm9sb2d5JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNi9UZWNobm9sb2d5Rm9jdXMudnVlJyksIG5hbWU6ICdjaGFwdGVyLTYtdGVjaG5vbG9neScgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItNi1yZXZpZXcnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci02L0NoYXB0ZXJSZXZpZXcudnVlJyksIG5hbWU6ICdjaGFwdGVyLTYtcmV2aWV3JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci02LWFjdGl2aXR5LTEwJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNi9BY3Rpdml0eS0xMC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNi1hY3Rpdml0eS0xMCcgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItNi10ZXN0JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNi9DaGFwdGVyVGVzdC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItNi10ZXN0JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci02LXN0ZW0tY2hhbGxlbmdlJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNi9TdGVtQ2hhbGxlbmdlLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci02LXN0ZW0tY2hhbGxlbmdlJyB9LFxuXG4gICAgICAvL1VuaXRlIDNcblxuICAgICAgLy9DaGFwdGVyIDdcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItNycsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTcvQ2hhcHRlci03LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci03JyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0zLWNoYXB0ZXItNy1sZXNzb24tMScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTcvTGVzc29uT25lLnZ1ZScpLCBuYW1lOiAndW5pdC0zLWNoYXB0ZXItNy1sZXNzb24tMScgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMy1jaGFwdGVyLTctbGVzc29uLTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci03L0xlc3NvblR3by52dWUnKSwgbmFtZTogJ3VuaXQtMy1jaGFwdGVyLTctbGVzc29uLTInIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTctdGVjaG5vbG9neScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTcvVGVjaG5vbG9neUZvY3VzLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci03LXRlY2hub2xvZ3knIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTctcmV2aWV3JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItNy9DaGFwdGVyUmV2aWV3LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci03LXJldmlldycgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItNy1hY3Rpdml0eS0xMScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTcvQWN0aXZpdHktMTEudnVlJyksIG5hbWU6ICdjaGFwdGVyLTctYWN0aXZpdHktMTEnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTctdGVzdCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTcvQ2hhcHRlclRlc3QudnVlJyksIG5hbWU6ICdjaGFwdGVyLTctdGVzdCcgfSxcblxuICAgICAgLy9DaGFwdGVyIDhcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItOCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTgvQ2hhcHRlci04LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci04JyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC0zLWNoYXB0ZXItOC1sZXNzb24tMScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTgvTGVzc29uT25lLnZ1ZScpLCBuYW1lOiAndW5pdC0zLWNoYXB0ZXItOC1sZXNzb24tMScgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtMy1jaGFwdGVyLTgtbGVzc29uLTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci04L0xlc3NvblR3by52dWUnKSwgbmFtZTogJ3VuaXQtMy1jaGFwdGVyLTgtbGVzc29uLTInIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTgtdGVjaG5vbG9neScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTgvVGVjaG5vbG9neUZvY3VzLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci04LXRlY2hub2xvZ3knIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTgtcmV2aWV3JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItOC9DaGFwdGVyUmV2aWV3LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci04LXJldmlldycgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItOC1hY3Rpdml0eS0xMicsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTgvQWN0aXZpdHktMTIudnVlJyksIG5hbWU6ICdjaGFwdGVyLTgtYWN0aXZpdHktMTInIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTgtdGVzdCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTgvQ2hhcHRlclRlc3QudnVlJyksIG5hbWU6ICdjaGFwdGVyLTgtdGVzdCcgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItOC1zdGVtLWNoYWxsZW5nZScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTgvU3RlbUNoYWxsZW5nZS52dWUnKSwgbmFtZTogJ2NoYXB0ZXItOC1zdGVtLWNoYWxsZW5nZScgfSxcblxuICAgICAgLy9DaGFwdGVyIDlcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItOScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTkvQ2hhcHRlci05LnZ1ZScpLCBuYW1lOiAnY2hhcHRlci05JyB9LFxuXG4gICAgICAvL1VuaXQgNFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0xMCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEwL0NoYXB0ZXItMTAudnVlJyksIG5hbWU6ICdjaGFwdGVyLTEwJyB9LFxuXG5cbiAgICAgIC8vQ2hhcHRlciAxMFxuICAgICAgeyBwYXRoOiAndW5pdC00LWNoYXB0ZXItMTAtbGVzc29uLTEnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMC9MZXNzb25PbmUudnVlJyksIG5hbWU6ICd1bml0LTQtY2hhcHRlci0xMC1sZXNzb24tMScgfSxcbiAgICAgIHsgcGF0aDogJ21pbmktbGFiLTEwLTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMC9NaW5pTGFiMTAtMi52dWUnKSwgbmFtZTogJ21pbmktbGFiLTEwLTEnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLWxhYi0xMC0zJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTAvTWluaUxhYjEwLTMudnVlJyksIG5hbWU6ICdtaW5pLWxhYi0xMC0zJyB9LFxuICAgICAgeyBwYXRoOiAnbWluaS10ZXN0LTEwLTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMC9NaW5pVGVzdDEwLTIudnVlJyksIG5hbWU6ICdtaW5pLXRlc3QtMTAtMicgfSxcbiAgICAgIHsgcGF0aDogJ21pbmktdGVzdC0xMC0zJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTAvTWluaVRlc3QxMC0zLnZ1ZScpLCBuYW1lOiAnbWluaS10ZXN0LTEwLTMnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLXRlc3QtMTAtNCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEwL01pbmlUZXN0MTAtNC52dWUnKSwgbmFtZTogJ21pbmktdGVzdC0xMC00JyB9LFxuICAgICAgeyBwYXRoOiAnbWluaS10ZXN0LTEwLTUnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMC9NaW5pVGVzdDEwLTUudnVlJyksIG5hbWU6ICdtaW5pLXRlc3QtMTAtNScgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtNC1jaGFwdGVyLTEwLWxlc3Nvbi0yJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTAvTGVzc29uVHdvLnZ1ZScpLCBuYW1lOiAndW5pdC00LWNoYXB0ZXItMTAtbGVzc29uLTInIH0sXG4gICAgICB7IHBhdGg6ICd1bml0LTQtY2hhcHRlci0xMC1sZXNzb24tMycsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEwL0xlc3NvblRocmVlLnZ1ZScpLCBuYW1lOiAndW5pdC00LWNoYXB0ZXItMTAtbGVzc29uLTMnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTEwLXRlY2hub2xvZ3knLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMC9UZWNobm9sb2d5Rm9jdXMudnVlJyksIG5hbWU6ICdjaGFwdGVyLTEwLXRlY2hub2xvZ3knIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTEwLXJldmlldycsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEwL0NoYXB0ZXJSZXZpZXcudnVlJyksIG5hbWU6ICdjaGFwdGVyLTEwLXJldmlldycgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMTAtYWN0aXZpdHknLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMC9BY3Rpdml0eS0xNC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMTAtYWN0aXZpdHknIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTEwLXRlc3QnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMC9DaGFwdGVyVGVzdC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMTAtdGVzdCcgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMTAtc3RlbScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEwL1N0ZW1DaGFsbGVuZ2UudnVlJyksIG5hbWU6ICdjaGFwdGVyLTEwLXN0ZW0nIH0sXG5cbiAgICAgIC8vQ2hhcHRlciAxMVxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0xMScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTExL0NoYXB0ZXItMTEudnVlJyksIG5hbWU6ICdjaGFwdGVyLTExJyB9LFxuICAgICAgeyBwYXRoOiAnbWluaS10ZXN0LTExLTEnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMS9NaW5pVGVzdDExLTEudnVlJyksIG5hbWU6ICdtaW5pLXRlc3QtMTEtMScgfSxcbiAgICAgIHsgcGF0aDogJ21pbmktdGVzdC0xMS0zJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTEvTWluaVRlc3QxMS0zLnZ1ZScpLCBuYW1lOiAnbWluaS10ZXN0LTExLTMnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLXRlc3QtMTEtNCcsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTExL01pbmlUZXN0MTEtNC52dWUnKSwgbmFtZTogJ21pbmktdGVzdC0xMS00JyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC00LWNoYXB0ZXItMTEtbGVzc29uLTEnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMS9MZXNzb25PbmUudnVlJyksIG5hbWU6ICd1bml0LTQtY2hhcHRlci0xMS1sZXNzb24tMScgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtNC1jaGFwdGVyLTExLWxlc3Nvbi0yJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTEvTGVzc29uVHdvLnZ1ZScpLCBuYW1lOiAndW5pdC00LWNoYXB0ZXItMTEtbGVzc29uLTInIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTExLXRlY2hub2xvZ3knLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMS9UZWNobm9sb2d5Rm9jdXMudnVlJyksIG5hbWU6ICdjaGFwdGVyLTExLXRlY2hub2xvZ3knIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTExLXJldmlldycsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTExL0NoYXB0ZXJSZXZpZXcudnVlJyksIG5hbWU6ICdjaGFwdGVyLTExLXJldmlldycgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMTEtYWN0aXZpdHktMTUnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMS9BY3Rpdml0eS0xNS52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMTEtYWN0aXZpdHktMTUnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTExLWFjdGl2aXR5LTE2JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTEvQWN0aXZpdHktMTYudnVlJyksIG5hbWU6ICdjaGFwdGVyLTExLWFjdGl2aXR5LTE2JyB9LFxuICAgICAgeyBwYXRoOiAnY2hhcHRlci0xMS10ZXN0JywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTEvQ2hhcHRlclRlc3QudnVlJyksIG5hbWU6ICdjaGFwdGVyLTExLXRlc3QnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTExLXN0ZW0nLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMS9TdGVtQ2hhbGxlbmdlLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0xMS1zdGVtJyB9LFxuXG4gICAgICAvL0NoYXB0ZXIgMTJcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMTInLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMi9DaGFwdGVyLTEyLnZ1ZScpLCBuYW1lOiAnY2hhcHRlci0xMicgfSxcbiAgICAgIHsgcGF0aDogJ21pbmktdGVzdC0xMi0xJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTIvTWluaVRlc3QxMi0xLnZ1ZScpLCBuYW1lOiAnbWluaS10ZXN0LTEyLTEnIH0sXG4gICAgICB7IHBhdGg6ICdtaW5pLXRlc3QtMTItMicsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEyL01pbmlUZXN0MTItMi52dWUnKSwgbmFtZTogJ21pbmktdGVzdC0xMi0yJyB9LFxuICAgICAgeyBwYXRoOiAndW5pdC00LWNoYXB0ZXItMTItbGVzc29uLTEnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMi9MZXNzb25PbmUudnVlJyksIG5hbWU6ICd1bml0LTQtY2hhcHRlci0xMi1sZXNzb24tMScgfSxcbiAgICAgIHsgcGF0aDogJ3VuaXQtNC1jaGFwdGVyLTEyLWxlc3Nvbi0yJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJ3BhZ2VzL2NoYXB0ZXItMTIvTGVzc29uVHdvLnZ1ZScpLCBuYW1lOiAndW5pdC00LWNoYXB0ZXItMTItbGVzc29uLTInIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTEyLXRlY2hub2xvZ3knLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMi9UZWNobm9sb2d5Rm9jdXMudnVlJyksIG5hbWU6ICdjaGFwdGVyLTEyLXRlY2hub2xvZ3knIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTEyLXJldmlldycsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCdwYWdlcy9jaGFwdGVyLTEyL0NoYXB0ZXJSZXZpZXcudnVlJyksIG5hbWU6ICdjaGFwdGVyLTEyLXJldmlldycgfSxcbiAgICAgIHsgcGF0aDogJ2NoYXB0ZXItMTItYWN0aXZpdHktMTcnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMi9BY3Rpdml0eS0xNy52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMTItYWN0aXZpdHktMTcnIH0sXG4gICAgICB7IHBhdGg6ICdjaGFwdGVyLTEyLXRlc3QnLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvY2hhcHRlci0xMi9DaGFwdGVyVGVzdC52dWUnKSwgbmFtZTogJ2NoYXB0ZXItMTItdGVzdCcgfSxcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBwYXRoOiAnLzpjYXRjaEFsbCguKikqJyxcbiAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgncGFnZXMvRXJyb3JOb3RGb3VuZC52dWUnKVxuICB9XG5dXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlc1xuIiwiaW1wb3J0IHsgZGVmaW5lUm91dGVyIH0gZnJvbSAnI3EtYXBwL3dyYXBwZXJzJ1xuaW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVXZWJIaXN0b3J5LCBjcmVhdGVXZWJIYXNoSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInXG5pbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJ1xuXG4vKlxuICogSWYgbm90IGJ1aWxkaW5nIHdpdGggU1NSIG1vZGUsIHlvdSBjYW5cbiAqIGRpcmVjdGx5IGV4cG9ydCB0aGUgUm91dGVyIGluc3RhbnRpYXRpb247XG4gKlxuICogVGhlIGZ1bmN0aW9uIGJlbG93IGNhbiBiZSBhc3luYyB0b287IGVpdGhlciB1c2VcbiAqIGFzeW5jL2F3YWl0IG9yIHJldHVybiBhIFByb21pc2Ugd2hpY2ggcmVzb2x2ZXNcbiAqIHdpdGggdGhlIFJvdXRlciBpbnN0YW5jZS5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVSb3V0ZXIoZnVuY3Rpb24gKC8qIHsgc3RvcmUsIHNzckNvbnRleHQgfSAqLykge1xuICBjb25zdCBjcmVhdGVIaXN0b3J5ID0gcHJvY2Vzcy5lbnYuU0VSVkVSXG4gICAgPyBjcmVhdGVNZW1vcnlIaXN0b3J5XG4gICAgOiAocHJvY2Vzcy5lbnYuVlVFX1JPVVRFUl9NT0RFID09PSAnaGlzdG9yeScgPyBjcmVhdGVXZWJIaXN0b3J5IDogY3JlYXRlV2ViSGFzaEhpc3RvcnkpXG5cbiAgY29uc3QgUm91dGVyID0gY3JlYXRlUm91dGVyKHtcbiAgICBzY3JvbGxCZWhhdmlvcjogKCkgPT4gKHsgbGVmdDogMCwgdG9wOiAwIH0pLFxuICAgIHJvdXRlcyxcblxuICAgIC8vIExlYXZlIHRoaXMgYXMgaXMgYW5kIG1ha2UgY2hhbmdlcyBpbiBxdWFzYXIuY29uZi5qcyBpbnN0ZWFkIVxuICAgIC8vIHF1YXNhci5jb25mLmpzIC0+IGJ1aWxkIC0+IHZ1ZVJvdXRlck1vZGVcbiAgICAvLyBxdWFzYXIuY29uZi5qcyAtPiBidWlsZCAtPiBwdWJsaWNQYXRoXG4gICAgaGlzdG9yeTogY3JlYXRlSGlzdG9yeShwcm9jZXNzLmVudi5WVUVfUk9VVEVSX0JBU0UpXG4gIH0pXG5cbiAgcmV0dXJuIFJvdXRlclxufSlcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIFRISVMgRklMRSBJUyBHRU5FUkFURUQgQVVUT01BVElDQUxMWS5cbiAqIERPIE5PVCBFRElULlxuICpcbiAqIFlvdSBhcmUgcHJvYmFibHkgbG9va2luZyBvbiBhZGRpbmcgc3RhcnR1cC9pbml0aWFsaXphdGlvbiBjb2RlLlxuICogVXNlIFwicXVhc2FyIG5ldyBib290IDxuYW1lPlwiIGFuZCBhZGQgaXQgdGhlcmUuXG4gKiBPbmUgYm9vdCBmaWxlIHBlciBjb25jZXJuLiBUaGVuIHJlZmVyZW5jZSB0aGUgZmlsZShzKSBpbiBxdWFzYXIuY29uZmlnIGZpbGUgPiBib290OlxuICogYm9vdDogWydmaWxlJywgLi4uXSAvLyBkbyBub3QgYWRkIFwiLmpzXCIgZXh0ZW5zaW9uIHRvIGl0LlxuICpcbiAqIEJvb3QgZmlsZXMgYXJlIHlvdXIgXCJtYWluLmpzXCJcbiAqKi9cblxuXG5cblxuICBcbiAgaW1wb3J0ICdAY2FwYWNpdG9yL2NvcmUnXG4gICAgXG4gICAgLy8gaW1wb3J0aW5nIGl0IHNvIGl0IGNhbiBpbnN0YWxsIGl0c2VsZiAodXNlZCBieSBRdWFzYXIgVUkpXG4gICAgaW1wb3J0IHsgQXBwIGFzIENhcEFwcCB9IGZyb20gJ0BjYXBhY2l0b3IvYXBwJ1xuICAgIFxuICAgIFxuICBcblxuXG5pbXBvcnQgeyBRdWFzYXIgfSBmcm9tICdxdWFzYXInXG5pbXBvcnQgeyBtYXJrUmF3IH0gZnJvbSAndnVlJ1xuaW1wb3J0IFJvb3RDb21wb25lbnQgZnJvbSAnYXBwL3NyYy9BcHAudnVlJ1xuXG5cbmltcG9ydCBjcmVhdGVSb3V0ZXIgZnJvbSAnYXBwL3NyYy9yb3V0ZXIvaW5kZXgnXG5cblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKGNyZWF0ZUFwcEZuLCBxdWFzYXJVc2VyT3B0aW9ucykge1xuICBcblxuICAvLyBDcmVhdGUgdGhlIGFwcCBpbnN0YW5jZS5cbiAgLy8gSGVyZSB3ZSBpbmplY3QgaW50byBpdCB0aGUgUXVhc2FyIFVJLCB0aGUgcm91dGVyICYgcG9zc2libHkgdGhlIHN0b3JlLlxuICBjb25zdCBhcHAgPSBjcmVhdGVBcHBGbihSb290Q29tcG9uZW50KVxuXG4gIFxuXG4gIGFwcC51c2UoUXVhc2FyLCBxdWFzYXJVc2VyT3B0aW9ucylcblxuICBcbiAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHEuY2FwYWNpdG9yID0gd2luZG93LkNhcGFjaXRvclxuICBcblxuICBcblxuICBjb25zdCByb3V0ZXIgPSBtYXJrUmF3KFxuICAgIHR5cGVvZiBjcmVhdGVSb3V0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgID8gYXdhaXQgY3JlYXRlUm91dGVyKHt9KVxuICAgICAgOiBjcmVhdGVSb3V0ZXJcbiAgKVxuXG4gIFxuXG4gIC8vIEV4cG9zZSB0aGUgYXBwLCB0aGUgcm91dGVyIGFuZCB0aGUgc3RvcmUuXG4gIC8vIE5vdGUgdGhhdCB3ZSBhcmUgbm90IG1vdW50aW5nIHRoZSBhcHAgaGVyZSwgc2luY2UgYm9vdHN0cmFwcGluZyB3aWxsIGJlXG4gIC8vIGRpZmZlcmVudCBkZXBlbmRpbmcgb24gd2hldGhlciB3ZSBhcmUgaW4gYSBicm93c2VyIG9yIG9uIHRoZSBzZXJ2ZXIuXG4gIHJldHVybiB7XG4gICAgYXBwLFxuICAgIFxuICAgIHJvdXRlclxuICB9XG59XG4iLCJpbXBvcnQgeyBvbkJlZm9yZVVubW91bnQgfSBmcm9tICd2dWUnXG5cbmltcG9ydCBIaXN0b3J5IGZyb20gJy4uLy4uL3BsdWdpbnMvcHJpdmF0ZS5oaXN0b3J5L0hpc3RvcnkuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzaG93aW5nLCBoaWRlLCBoaWRlT25Sb3V0ZUNoYW5nZSkge1xuICBsZXQgaGlzdG9yeUVudHJ5XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRnJvbUhpc3RvcnkgKCkge1xuICAgIGlmIChoaXN0b3J5RW50cnkgIT09IHZvaWQgMCkge1xuICAgICAgSGlzdG9yeS5yZW1vdmUoaGlzdG9yeUVudHJ5KVxuICAgICAgaGlzdG9yeUVudHJ5ID0gdm9pZCAwXG4gICAgfVxuICB9XG5cbiAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBzaG93aW5nLnZhbHVlID09PSB0cnVlICYmIHJlbW92ZUZyb21IaXN0b3J5KClcbiAgfSlcblxuICByZXR1cm4ge1xuICAgIHJlbW92ZUZyb21IaXN0b3J5LFxuXG4gICAgYWRkVG9IaXN0b3J5ICgpIHtcbiAgICAgIGhpc3RvcnlFbnRyeSA9IHtcbiAgICAgICAgY29uZGl0aW9uOiAoKSA9PiBoaWRlT25Sb3V0ZUNoYW5nZS52YWx1ZSA9PT0gdHJ1ZSxcbiAgICAgICAgaGFuZGxlcjogaGlkZVxuICAgICAgfVxuXG4gICAgICBIaXN0b3J5LmFkZChoaXN0b3J5RW50cnkpXG4gICAgfVxuICB9XG59XG4iLCIvLyBjb3BpZWQgdG8gZG9jcyB0b29cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRQcm94eSAocHJveHkpIHtcbiAgaWYgKE9iamVjdChwcm94eS4kcGFyZW50KSA9PT0gcHJveHkuJHBhcmVudCkge1xuICAgIHJldHVybiBwcm94eS4kcGFyZW50XG4gIH1cblxuICBsZXQgeyBwYXJlbnQgfSA9IHByb3h5LiRcblxuICB3aGlsZSAoT2JqZWN0KHBhcmVudCkgPT09IHBhcmVudCkge1xuICAgIGlmIChPYmplY3QocGFyZW50LnByb3h5KSA9PT0gcGFyZW50LnByb3h5KSB7XG4gICAgICByZXR1cm4gcGFyZW50LnByb3h5XG4gICAgfVxuXG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudFxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbGxOb3JtYWxpemVkVk5vZGVzIChjaGlsZHJlbiwgdm5vZGUpIHtcbiAgaWYgKHR5cGVvZiB2bm9kZS50eXBlID09PSAnc3ltYm9sJykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZub2RlLmNoaWxkcmVuKSA9PT0gdHJ1ZSkge1xuICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgIGZpbGxOb3JtYWxpemVkVk5vZGVzKGNoaWxkcmVuLCBjaGlsZClcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGNoaWxkcmVuLmFkZCh2bm9kZSlcbiAgfVxufVxuXG4vLyB2bm9kZXMgZnJvbSByZW5kZXJlZCBpbiBhZHZhbmNlZCBzbG90c1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRWTm9kZXMgKHZub2Rlcykge1xuICBjb25zdCBjaGlsZHJlbiA9IG5ldyBTZXQoKVxuXG4gIHZub2Rlcy5mb3JFYWNoKHZub2RlID0+IHtcbiAgICBmaWxsTm9ybWFsaXplZFZOb2RlcyhjaGlsZHJlbiwgdm5vZGUpXG4gIH0pXG5cbiAgcmV0dXJuIEFycmF5LmZyb20oY2hpbGRyZW4pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2bUhhc1JvdXRlciAodm0pIHtcbiAgcmV0dXJuIHZtLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHJvdXRlciAhPT0gdm9pZCAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2bUlzRGVzdHJveWVkICh2bSkge1xuICByZXR1cm4gdm0uaXNVbm1vdW50ZWQgPT09IHRydWUgfHwgdm0uaXNEZWFjdGl2YXRlZCA9PT0gdHJ1ZVxufVxuIiwiaW1wb3J0IHsgb25EZWFjdGl2YXRlZCwgb25CZWZvcmVVbm1vdW50LCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCB7IHZtSXNEZXN0cm95ZWQgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLnZtL3ZtLmpzJ1xuXG4vKlxuICogVXNhZ2U6XG4gKiAgICByZWdpc3RlclRpbWVvdXQoZm5bLCBkZWxheV0pXG4gKiAgICByZW1vdmVUaW1lb3V0KClcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gIGxldCB0aW1lciA9IG51bGxcbiAgY29uc3Qgdm0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVRpbWVvdXQgKCkge1xuICAgIGlmICh0aW1lciAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICAgICAgdGltZXIgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgb25EZWFjdGl2YXRlZChyZW1vdmVUaW1lb3V0KVxuICBvbkJlZm9yZVVubW91bnQocmVtb3ZlVGltZW91dClcblxuICByZXR1cm4ge1xuICAgIHJlbW92ZVRpbWVvdXQsXG5cbiAgICByZWdpc3RlclRpbWVvdXQgKGZuLCBkZWxheSkge1xuICAgICAgcmVtb3ZlVGltZW91dCgpXG5cbiAgICAgIGlmICh2bUlzRGVzdHJveWVkKHZtKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aW1lciA9IG51bGxcbiAgICAgICAgICBmbigpXG4gICAgICAgIH0sIGRlbGF5KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgbmV4dFRpY2ssIG9uRGVhY3RpdmF0ZWQsIG9uQmVmb3JlVW5tb3VudCwgZ2V0Q3VycmVudEluc3RhbmNlIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgeyB2bUlzRGVzdHJveWVkIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS52bS92bS5qcydcblxuLypcbiAqIFVzYWdlOlxuICogICAgcmVnaXN0ZXJUaWNrKGZuKVxuICogICAgcmVtb3ZlVGljaygpXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICBsZXQgdGlja0ZuXG4gIGNvbnN0IHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKClcblxuICBmdW5jdGlvbiByZW1vdmVUaWNrICgpIHtcbiAgICB0aWNrRm4gPSB2b2lkIDBcbiAgfVxuXG4gIG9uRGVhY3RpdmF0ZWQocmVtb3ZlVGljaylcbiAgb25CZWZvcmVVbm1vdW50KHJlbW92ZVRpY2spXG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmVUaWNrLFxuXG4gICAgcmVnaXN0ZXJUaWNrIChmbikge1xuICAgICAgdGlja0ZuID0gZm5cblxuICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBpZiAodGlja0ZuID09PSBmbikge1xuICAgICAgICAgIC8vIHdlIGFsc28gY2hlY2sgaWYgVk0gaXMgZGVzdHJveWVkLCBzaW5jZSBpZiBpdFxuICAgICAgICAgIC8vIGdvdCB0byB0cmlnZ2VyIG9uZSBuZXh0VGljaygpIHdlIGNhbm5vdCBzdG9wIGl0XG4gICAgICAgICAgdm1Jc0Rlc3Ryb3llZCh2bSkgPT09IGZhbHNlICYmIHRpY2tGbigpXG4gICAgICAgICAgdGlja0ZuID0gdm9pZCAwXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyB3YXRjaCwgbmV4dFRpY2ssIG9uTW91bnRlZCwgZ2V0Q3VycmVudEluc3RhbmNlIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgeyB2bUhhc1JvdXRlciB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUudm0vdm0uanMnXG5cbmV4cG9ydCBjb25zdCB1c2VNb2RlbFRvZ2dsZVByb3BzID0ge1xuICBtb2RlbFZhbHVlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG5cbiAgJ29uVXBkYXRlOm1vZGVsVmFsdWUnOiBbIEZ1bmN0aW9uLCBBcnJheSBdXG59XG5cbmV4cG9ydCBjb25zdCB1c2VNb2RlbFRvZ2dsZUVtaXRzID0gW1xuICAnYmVmb3JlU2hvdycsICdzaG93JywgJ2JlZm9yZUhpZGUnLCAnaGlkZSdcbl1cblxuLy8gaGFuZGxlU2hvdy9oYW5kbGVIaWRlIC0+IHJlbW92ZVRpY2soKSwgc2VsZiAoJiBlbWl0IHNob3cpXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh7XG4gIHNob3dpbmcsXG4gIGNhblNob3csIC8vIG9wdGlvbmFsXG4gIGhpZGVPblJvdXRlQ2hhbmdlLCAvLyBvcHRpb25hbFxuICBoYW5kbGVTaG93LCAvLyBvcHRpb25hbFxuICBoYW5kbGVIaWRlLCAvLyBvcHRpb25hbFxuICBwcm9jZXNzT25Nb3VudCAvLyBvcHRpb25hbFxufSkge1xuICBjb25zdCB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG4gIGNvbnN0IHsgcHJvcHMsIGVtaXQsIHByb3h5IH0gPSB2bVxuXG4gIGxldCBwYXlsb2FkXG5cbiAgZnVuY3Rpb24gdG9nZ2xlIChldnQpIHtcbiAgICBpZiAoc2hvd2luZy52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgaGlkZShldnQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc2hvdyhldnQpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvdyAoZXZ0KSB7XG4gICAgaWYgKFxuICAgICAgKHByb3BzLmRpc2FibGUgPT09IHRydWUpXG4gICAgICB8fCAoZXZ0Py5xQW5jaG9ySGFuZGxlZCA9PT0gdHJ1ZSlcbiAgICAgIHx8IChjYW5TaG93ICE9PSB2b2lkIDAgJiYgY2FuU2hvdyhldnQpICE9PSB0cnVlKVxuICAgICkgcmV0dXJuXG5cbiAgICBjb25zdCBsaXN0ZW5lciA9IHByb3BzWyAnb25VcGRhdGU6bW9kZWxWYWx1ZScgXSAhPT0gdm9pZCAwXG5cbiAgICBpZiAobGlzdGVuZXIgPT09IHRydWUgJiYgX19RVUFTQVJfU1NSX1NFUlZFUl9fICE9PSB0cnVlKSB7XG4gICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIHRydWUpXG4gICAgICBwYXlsb2FkID0gZXZ0XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGlmIChwYXlsb2FkID09PSBldnQpIHtcbiAgICAgICAgICBwYXlsb2FkID0gdm9pZCAwXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm1vZGVsVmFsdWUgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IGZhbHNlIHx8IF9fUVVBU0FSX1NTUl9TRVJWRVJfXykge1xuICAgICAgcHJvY2Vzc1Nob3coZXZ0KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NTaG93IChldnQpIHtcbiAgICBpZiAoc2hvd2luZy52YWx1ZSA9PT0gdHJ1ZSkgcmV0dXJuXG5cbiAgICBzaG93aW5nLnZhbHVlID0gdHJ1ZVxuXG4gICAgZW1pdCgnYmVmb3JlU2hvdycsIGV2dClcblxuICAgIGlmIChoYW5kbGVTaG93ICE9PSB2b2lkIDApIHtcbiAgICAgIGhhbmRsZVNob3coZXZ0KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGVtaXQoJ3Nob3cnLCBldnQpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGlkZSAoZXZ0KSB7XG4gICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXyB8fCBwcm9wcy5kaXNhYmxlID09PSB0cnVlKSByZXR1cm5cblxuICAgIGNvbnN0IGxpc3RlbmVyID0gcHJvcHNbICdvblVwZGF0ZTptb2RlbFZhbHVlJyBdICE9PSB2b2lkIDBcblxuICAgIGlmIChsaXN0ZW5lciA9PT0gdHJ1ZSAmJiBfX1FVQVNBUl9TU1JfU0VSVkVSX18gIT09IHRydWUpIHtcbiAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZmFsc2UpXG4gICAgICBwYXlsb2FkID0gZXZ0XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGlmIChwYXlsb2FkID09PSBldnQpIHtcbiAgICAgICAgICBwYXlsb2FkID0gdm9pZCAwXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm1vZGVsVmFsdWUgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IGZhbHNlIHx8IF9fUVVBU0FSX1NTUl9TRVJWRVJfXykge1xuICAgICAgcHJvY2Vzc0hpZGUoZXZ0KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NIaWRlIChldnQpIHtcbiAgICBpZiAoc2hvd2luZy52YWx1ZSA9PT0gZmFsc2UpIHJldHVyblxuXG4gICAgc2hvd2luZy52YWx1ZSA9IGZhbHNlXG5cbiAgICBlbWl0KCdiZWZvcmVIaWRlJywgZXZ0KVxuXG4gICAgaWYgKGhhbmRsZUhpZGUgIT09IHZvaWQgMCkge1xuICAgICAgaGFuZGxlSGlkZShldnQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZW1pdCgnaGlkZScsIGV2dClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzTW9kZWxDaGFuZ2UgKHZhbCkge1xuICAgIGlmIChwcm9wcy5kaXNhYmxlID09PSB0cnVlICYmIHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKHByb3BzWyAnb25VcGRhdGU6bW9kZWxWYWx1ZScgXSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZmFsc2UpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCh2YWwgPT09IHRydWUpICE9PSBzaG93aW5nLnZhbHVlKSB7XG4gICAgICBjb25zdCBmbiA9IHZhbCA9PT0gdHJ1ZSA/IHByb2Nlc3NTaG93IDogcHJvY2Vzc0hpZGVcbiAgICAgIGZuKHBheWxvYWQpXG4gICAgfVxuICB9XG5cbiAgd2F0Y2goKCkgPT4gcHJvcHMubW9kZWxWYWx1ZSwgcHJvY2Vzc01vZGVsQ2hhbmdlKVxuXG4gIGlmIChoaWRlT25Sb3V0ZUNoYW5nZSAhPT0gdm9pZCAwICYmIHZtSGFzUm91dGVyKHZtKSA9PT0gdHJ1ZSkge1xuICAgIHdhdGNoKCgpID0+IHByb3h5LiRyb3V0ZS5mdWxsUGF0aCwgKCkgPT4ge1xuICAgICAgaWYgKGhpZGVPblJvdXRlQ2hhbmdlLnZhbHVlID09PSB0cnVlICYmIHNob3dpbmcudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgaGlkZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHByb2Nlc3NPbk1vdW50ID09PSB0cnVlICYmIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgcHJvY2Vzc01vZGVsQ2hhbmdlKHByb3BzLm1vZGVsVmFsdWUpXG4gIH0pXG5cbiAgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzXG4gIGNvbnN0IHB1YmxpY01ldGhvZHMgPSB7IHNob3csIGhpZGUsIHRvZ2dsZSB9XG4gIE9iamVjdC5hc3NpZ24ocHJveHksIHB1YmxpY01ldGhvZHMpXG5cbiAgcmV0dXJuIHB1YmxpY01ldGhvZHNcbn1cbiIsImltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSAndnVlJ1xuXG5leHBvcnQgY29uc3QgdXNlVHJhbnNpdGlvblByb3BzID0ge1xuICB0cmFuc2l0aW9uU2hvdzoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnZmFkZSdcbiAgfSxcblxuICB0cmFuc2l0aW9uSGlkZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnZmFkZSdcbiAgfSxcblxuICB0cmFuc2l0aW9uRHVyYXRpb246IHtcbiAgICB0eXBlOiBbIFN0cmluZywgTnVtYmVyIF0sXG4gICAgZGVmYXVsdDogMzAwXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHByb3BzLCBkZWZhdWx0U2hvd0ZuID0gKCkgPT4ge30sIGRlZmF1bHRIaWRlRm4gPSAoKSA9PiB7fSkge1xuICByZXR1cm4ge1xuICAgIHRyYW5zaXRpb25Qcm9wczogY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgY29uc3Qgc2hvdyA9IGBxLXRyYW5zaXRpb24tLSR7IHByb3BzLnRyYW5zaXRpb25TaG93IHx8IGRlZmF1bHRTaG93Rm4oKSB9YFxuICAgICAgY29uc3QgaGlkZSA9IGBxLXRyYW5zaXRpb24tLSR7IHByb3BzLnRyYW5zaXRpb25IaWRlIHx8IGRlZmF1bHRIaWRlRm4oKSB9YFxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhcHBlYXI6IHRydWUsXG5cbiAgICAgICAgZW50ZXJGcm9tQ2xhc3M6IGAkeyBzaG93IH0tZW50ZXItZnJvbWAsXG4gICAgICAgIGVudGVyQWN0aXZlQ2xhc3M6IGAkeyBzaG93IH0tZW50ZXItYWN0aXZlYCxcbiAgICAgICAgZW50ZXJUb0NsYXNzOiBgJHsgc2hvdyB9LWVudGVyLXRvYCxcblxuICAgICAgICBsZWF2ZUZyb21DbGFzczogYCR7IGhpZGUgfS1sZWF2ZS1mcm9tYCxcbiAgICAgICAgbGVhdmVBY3RpdmVDbGFzczogYCR7IGhpZGUgfS1sZWF2ZS1hY3RpdmVgLFxuICAgICAgICBsZWF2ZVRvQ2xhc3M6IGAkeyBoaWRlIH0tbGVhdmUtdG9gXG4gICAgICB9XG4gICAgfSksXG5cbiAgICB0cmFuc2l0aW9uU3R5bGU6IGNvbXB1dGVkKCgpID0+IGAtLXEtdHJhbnNpdGlvbi1kdXJhdGlvbjogJHsgcHJvcHMudHJhbnNpdGlvbkR1cmF0aW9uIH1tc2ApXG4gIH1cbn1cbiIsImxldCBxdWV1ZSA9IFtdXG5sZXQgd2FpdEZsYWdzID0gW11cblxuZnVuY3Rpb24gY2xlYXJGbGFnIChmbGFnKSB7XG4gIHdhaXRGbGFncyA9IHdhaXRGbGFncy5maWx0ZXIoZW50cnkgPT4gZW50cnkgIT09IGZsYWcpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRGb2N1c1dhaXRGbGFnIChmbGFnKSB7XG4gIGNsZWFyRmxhZyhmbGFnKVxuICB3YWl0RmxhZ3MucHVzaChmbGFnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRm9jdXNXYWl0RmxhZyAoZmxhZykge1xuICBjbGVhckZsYWcoZmxhZylcblxuICBpZiAod2FpdEZsYWdzLmxlbmd0aCA9PT0gMCAmJiBxdWV1ZS5sZW5ndGggIT09IDApIHtcbiAgICAvLyBvbmx5IGNhbGwgbGFzdCBmb2N1cyBoYW5kbGVyIChjYW4ndCBmb2N1cyBtdWx0aXBsZSB0aGluZ3MgYXQgb25jZSlcbiAgICBxdWV1ZVsgcXVldWUubGVuZ3RoIC0gMSBdKClcbiAgICBxdWV1ZSA9IFtdXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZvY3VzRm4gKGZuKSB7XG4gIGlmICh3YWl0RmxhZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgZm4oKVxuICB9XG4gIGVsc2Uge1xuICAgIHF1ZXVlLnB1c2goZm4pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZvY3VzRm4gKGZuKSB7XG4gIHF1ZXVlID0gcXVldWUuZmlsdGVyKGVudHJ5ID0+IGVudHJ5ICE9PSBmbilcbn1cbiIsImltcG9ydCB7IGdldFBhcmVudFByb3h5IH0gZnJvbSAnLi4vcHJpdmF0ZS52bS92bS5qcydcblxuZXhwb3J0IGNvbnN0IHBvcnRhbFByb3h5TGlzdCA9IFtdXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3J0YWxQcm94eSAoZWwpIHtcbiAgcmV0dXJuIHBvcnRhbFByb3h5TGlzdC5maW5kKHByb3h5ID0+XG4gICAgcHJveHkuY29udGVudEVsICE9PSBudWxsXG4gICAgJiYgcHJveHkuY29udGVudEVsLmNvbnRhaW5zKGVsKVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZVBvcnRhbE1lbnVzIChwcm94eSwgZXZ0KSB7XG4gIGRvIHtcbiAgICBpZiAocHJveHkuJG9wdGlvbnMubmFtZSA9PT0gJ1FNZW51Jykge1xuICAgICAgcHJveHkuaGlkZShldnQpXG5cbiAgICAgIC8vIGlzIHRoaXMgYSBwb2ludCBvZiBzZXBhcmF0aW9uP1xuICAgICAgaWYgKHByb3h5LiRwcm9wcy5zZXBhcmF0ZUNsb3NlUG9wdXAgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhcmVudFByb3h5KHByb3h5KVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChwcm94eS5fX3FQb3J0YWwgPT09IHRydWUpIHtcbiAgICAgIC8vIHRyZWF0IGl0IGFzIHBvaW50IG9mIHNlcGFyYXRpb24gaWYgcGFyZW50IGlzIFFQb3B1cFByb3h5XG4gICAgICAvLyAoc28gbW9iaWxlIG1hdGNoZXMgZGVza3RvcCBiZWhhdmlvcilcbiAgICAgIC8vIGFuZCBoaWRlIGl0IHRvb1xuICAgICAgY29uc3QgcGFyZW50ID0gZ2V0UGFyZW50UHJveHkocHJveHkpXG5cbiAgICAgIGlmIChwYXJlbnQ/LiRvcHRpb25zLm5hbWUgPT09ICdRUG9wdXBQcm94eScpIHtcbiAgICAgICAgcHJveHkuaGlkZShldnQpXG4gICAgICAgIHJldHVybiBwYXJlbnRcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcHJveHlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm94eSA9IGdldFBhcmVudFByb3h5KHByb3h5KVxuICB9IHdoaWxlIChwcm94eSAhPT0gdm9pZCAwICYmIHByb3h5ICE9PSBudWxsKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VQb3J0YWxzIChwcm94eSwgZXZ0LCBkZXB0aCkge1xuICB3aGlsZSAoZGVwdGggIT09IDAgJiYgcHJveHkgIT09IHZvaWQgMCAmJiBwcm94eSAhPT0gbnVsbCkge1xuICAgIGlmIChwcm94eS5fX3FQb3J0YWwgPT09IHRydWUpIHtcbiAgICAgIGRlcHRoLS1cblxuICAgICAgaWYgKHByb3h5LiRvcHRpb25zLm5hbWUgPT09ICdRTWVudScpIHtcbiAgICAgICAgcHJveHkgPSBjbG9zZVBvcnRhbE1lbnVzKHByb3h5LCBldnQpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHByb3h5LmhpZGUoZXZ0KVxuICAgIH1cblxuICAgIHByb3h5ID0gZ2V0UGFyZW50UHJveHkocHJveHkpXG4gIH1cbn1cbiIsImltcG9ydCB7IGgsIHJlZiwgb25Vbm1vdW50ZWQsIFRlbGVwb3J0IH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmNyZWF0ZS9jcmVhdGUuanMnXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQvZXZlbnQuanMnXG5pbXBvcnQgeyBhZGRGb2N1c1dhaXRGbGFnLCByZW1vdmVGb2N1c1dhaXRGbGFnIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5mb2N1cy9mb2N1cy1tYW5hZ2VyLmpzJ1xuaW1wb3J0IHsgY3JlYXRlR2xvYmFsTm9kZSwgcmVtb3ZlR2xvYmFsTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY29uZmlnL25vZGVzLmpzJ1xuaW1wb3J0IHsgcG9ydGFsUHJveHlMaXN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5wb3J0YWwvcG9ydGFsLmpzJ1xuaW1wb3J0IHsgaW5qZWN0UHJvcCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuaW5qZWN0LW9iai1wcm9wL2luamVjdC1vYmotcHJvcC5qcydcblxuLyoqXG4gKiBOb29wIGludGVybmFsIGNvbXBvbmVudCB0byBlYXNlIHRlc3RpbmdcbiAqIG9mIHRoZSB0ZWxlcG9ydGVkIGNvbnRlbnQuXG4gKlxuICogY29uc3Qgd3JhcHBlciA9IG1vdW50KFFEaWFsb2csIHsgLi4uIH0pXG4gKiBjb25zdCB0ZWxlcG9ydGVkV3JhcHBlciA9IHdyYXBwZXIuZmluZENvbXBvbmVudCh7IG5hbWU6ICdRUG9ydGFsJyB9KVxuICovXG5jb25zdCBRUG9ydGFsID0gY3JlYXRlQ29tcG9uZW50KHtcbiAgbmFtZTogJ1FQb3J0YWwnLFxuICBzZXR1cCAoXywgeyBzbG90cyB9KSB7XG4gICAgcmV0dXJuICgpID0+IHNsb3RzLmRlZmF1bHQoKVxuICB9XG59KVxuXG5mdW5jdGlvbiBpc09uR2xvYmFsRGlhbG9nICh2bSkge1xuICB2bSA9IHZtLnBhcmVudFxuXG4gIHdoaWxlICh2bSAhPT0gdm9pZCAwICYmIHZtICE9PSBudWxsKSB7XG4gICAgaWYgKHZtLnR5cGUubmFtZSA9PT0gJ1FHbG9iYWxEaWFsb2cnKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBpZiAodm0udHlwZS5uYW1lID09PSAnUURpYWxvZycgfHwgdm0udHlwZS5uYW1lID09PSAnUU1lbnUnKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB2bSA9IHZtLnBhcmVudFxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIFdhcm5pbmchXG4vLyBZb3UgTVVTVCBzcGVjaWZ5IFwiaW5oZXJpdEF0dHJzOiBmYWxzZVwiIGluIHlvdXIgY29tcG9uZW50XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh2bSwgaW5uZXJSZWYsIHJlbmRlclBvcnRhbENvbnRlbnQsIHR5cGUpIHtcbiAgLy8gc2hvd2luZywgaW5jbHVkaW5nIHdoaWxlIGluIHNob3cvaGlkZSB0cmFuc2l0aW9uXG4gIGNvbnN0IHBvcnRhbElzQWN0aXZlID0gcmVmKGZhbHNlKVxuXG4gIC8vIHNob3dpbmcgJiBub3QgaW4gYW55IHNob3cvaGlkZSB0cmFuc2l0aW9uXG4gIGNvbnN0IHBvcnRhbElzQWNjZXNzaWJsZSA9IHJlZihmYWxzZSlcblxuICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvcnRhbElzQWN0aXZlLFxuICAgICAgcG9ydGFsSXNBY2Nlc3NpYmxlLFxuXG4gICAgICBzaG93UG9ydGFsOiBub29wLFxuICAgICAgaGlkZVBvcnRhbDogbm9vcCxcbiAgICAgIHJlbmRlclBvcnRhbDogbm9vcFxuICAgIH1cbiAgfVxuXG4gIGxldCBwb3J0YWxFbCA9IG51bGxcbiAgY29uc3QgZm9jdXNPYmogPSB7fVxuICBjb25zdCBvbkdsb2JhbERpYWxvZyA9IHR5cGUgPT09ICdkaWFsb2cnICYmIGlzT25HbG9iYWxEaWFsb2codm0pXG5cbiAgZnVuY3Rpb24gc2hvd1BvcnRhbCAoaXNSZWFkeSkge1xuICAgIGlmIChpc1JlYWR5ID09PSB0cnVlKSB7XG4gICAgICByZW1vdmVGb2N1c1dhaXRGbGFnKGZvY3VzT2JqKVxuICAgICAgcG9ydGFsSXNBY2Nlc3NpYmxlLnZhbHVlID0gdHJ1ZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgcG9ydGFsSXNBY2Nlc3NpYmxlLnZhbHVlID0gZmFsc2VcblxuICAgIGlmIChwb3J0YWxJc0FjdGl2ZS52YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIGlmIChvbkdsb2JhbERpYWxvZyA9PT0gZmFsc2UgJiYgcG9ydGFsRWwgPT09IG51bGwpIHtcbiAgICAgICAgcG9ydGFsRWwgPSBjcmVhdGVHbG9iYWxOb2RlKGZhbHNlLCB0eXBlKVxuICAgICAgfVxuXG4gICAgICBwb3J0YWxJc0FjdGl2ZS52YWx1ZSA9IHRydWVcblxuICAgICAgLy8gcmVnaXN0ZXIgcG9ydGFsXG4gICAgICBwb3J0YWxQcm94eUxpc3QucHVzaCh2bS5wcm94eSlcblxuICAgICAgYWRkRm9jdXNXYWl0RmxhZyhmb2N1c09iailcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoaWRlUG9ydGFsIChpc1JlYWR5KSB7XG4gICAgcG9ydGFsSXNBY2Nlc3NpYmxlLnZhbHVlID0gZmFsc2VcblxuICAgIGlmIChpc1JlYWR5ICE9PSB0cnVlKSByZXR1cm5cblxuICAgIHJlbW92ZUZvY3VzV2FpdEZsYWcoZm9jdXNPYmopXG4gICAgcG9ydGFsSXNBY3RpdmUudmFsdWUgPSBmYWxzZVxuXG4gICAgLy8gdW5yZWdpc3RlciBwb3J0YWxcbiAgICBjb25zdCBpbmRleCA9IHBvcnRhbFByb3h5TGlzdC5pbmRleE9mKHZtLnByb3h5KVxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHBvcnRhbFByb3h5TGlzdC5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfVxuXG4gICAgaWYgKHBvcnRhbEVsICE9PSBudWxsKSB7XG4gICAgICByZW1vdmVHbG9iYWxOb2RlKHBvcnRhbEVsKVxuICAgICAgcG9ydGFsRWwgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgb25Vbm1vdW50ZWQoKCkgPT4geyBoaWRlUG9ydGFsKHRydWUpIH0pXG5cbiAgLy8gbmVlZGVkIGZvciBwb3J0YWwgdm0gZGV0ZWN0aW9uXG4gIHZtLnByb3h5Ll9fcVBvcnRhbCA9IHRydWVcblxuICAvLyBwdWJsaWMgd2F5IG9mIGFjY2Vzc2luZyB0aGUgcmVuZGVyZWQgY29udGVudFxuICBpbmplY3RQcm9wKHZtLnByb3h5LCAnY29udGVudEVsJywgKCkgPT4gaW5uZXJSZWYudmFsdWUpXG5cbiAgcmV0dXJuIHtcbiAgICBzaG93UG9ydGFsLFxuICAgIGhpZGVQb3J0YWwsXG5cbiAgICBwb3J0YWxJc0FjdGl2ZSxcbiAgICBwb3J0YWxJc0FjY2Vzc2libGUsXG5cbiAgICByZW5kZXJQb3J0YWw6ICgpID0+IChcbiAgICAgIG9uR2xvYmFsRGlhbG9nID09PSB0cnVlXG4gICAgICAgID8gcmVuZGVyUG9ydGFsQ29udGVudCgpXG4gICAgICAgIDogKFxuICAgICAgICAgICAgcG9ydGFsSXNBY3RpdmUudmFsdWUgPT09IHRydWVcbiAgICAgICAgICAgICAgPyBbIGgoVGVsZXBvcnQsIHsgdG86IHBvcnRhbEVsIH0sIGgoUVBvcnRhbCwgcmVuZGVyUG9ydGFsQ29udGVudCkpIF1cbiAgICAgICAgICAgICAgOiB2b2lkIDBcbiAgICAgICAgICApXG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgcHJldmVudFNjcm9sbCBmcm9tICcuLi8uLi91dGlscy9zY3JvbGwvcHJldmVudC1zY3JvbGwuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGN1cnJlbnRTdGF0ZVxuXG4gIHJldHVybiB7XG4gICAgcHJldmVudEJvZHlTY3JvbGwgKHN0YXRlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHN0YXRlICE9PSBjdXJyZW50U3RhdGVcbiAgICAgICAgJiYgKGN1cnJlbnRTdGF0ZSAhPT0gdm9pZCAwIHx8IHN0YXRlID09PSB0cnVlKVxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRTdGF0ZSA9IHN0YXRlXG4gICAgICAgIHByZXZlbnRTY3JvbGwoc3RhdGUpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBoLCB3aXRoRGlyZWN0aXZlcyB9IGZyb20gJ3Z1ZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGhTbG90IChzbG90LCBvdGhlcndpc2UpIHtcbiAgcmV0dXJuIHNsb3QgIT09IHZvaWQgMFxuICAgID8gc2xvdCgpIHx8IG90aGVyd2lzZVxuICAgIDogb3RoZXJ3aXNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoVW5pcXVlU2xvdCAoc2xvdCwgb3RoZXJ3aXNlKSB7XG4gIGlmIChzbG90ICE9PSB2b2lkIDApIHtcbiAgICBjb25zdCB2bm9kZSA9IHNsb3QoKVxuICAgIGlmICh2bm9kZSAhPT0gdm9pZCAwICYmIHZub2RlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdm5vZGUuc2xpY2UoKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdGhlcndpc2Vcbn1cblxuLyoqXG4gKiBTb3VyY2UgZGVmaW5pdGVseSBleGlzdHMsXG4gKiBzbyBpdCdzIG1lcmdlZCB3aXRoIHRoZSBwb3NzaWJsZSBzbG90XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoTWVyZ2VTbG90IChzbG90LCBzb3VyY2UpIHtcbiAgcmV0dXJuIHNsb3QgIT09IHZvaWQgMFxuICAgID8gc291cmNlLmNvbmNhdChzbG90KCkpXG4gICAgOiBzb3VyY2Vcbn1cblxuLyoqXG4gKiBNZXJnZSB3aXRoIHBvc3NpYmxlIHNsb3QsXG4gKiBldmVuIGlmIHNvdXJjZSBtaWdodCBub3QgZXhpc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhNZXJnZVNsb3RTYWZlbHkgKHNsb3QsIHNvdXJjZSkge1xuICBpZiAoc2xvdCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHNvdXJjZVxuICB9XG5cbiAgcmV0dXJuIHNvdXJjZSAhPT0gdm9pZCAwXG4gICAgPyBzb3VyY2UuY29uY2F0KHNsb3QoKSlcbiAgICA6IHNsb3QoKVxufVxuXG4vKlxuICogKFN0cmluZykgIGtleSAgICAgICAtIHVuaXF1ZSB2bm9kZSBrZXlcbiAqIChCb29sZWFuKSBjb25kaXRpb24gLSBzaG91bGQgY2hhbmdlIE9OTFkgd2hlbiBhZGRpbmcvcmVtb3ZpbmcgZGlyZWN0aXZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoRGlyIChcbiAgdGFnLFxuICBkYXRhLFxuICBjaGlsZHJlbixcbiAga2V5LFxuICBjb25kaXRpb24sXG4gIGdldERpcnNGblxuKSB7XG4gIGRhdGEua2V5ID0ga2V5ICsgY29uZGl0aW9uXG5cbiAgY29uc3Qgdm5vZGUgPSBoKHRhZywgZGF0YSwgY2hpbGRyZW4pXG5cbiAgcmV0dXJuIGNvbmRpdGlvbiA9PT0gdHJ1ZVxuICAgID8gd2l0aERpcmVjdGl2ZXModm5vZGUsIGdldERpcnNGbigpKVxuICAgIDogdm5vZGVcbn1cbiIsImltcG9ydCB7IGNsaWVudCB9IGZyb20gJy4uLy4uL3BsdWdpbnMvcGxhdGZvcm0vUGxhdGZvcm0uanMnXG5pbXBvcnQgeyBpc0tleUNvZGUgfSBmcm9tICcuLi9wcml2YXRlLmtleWJvYXJkL2tleS1jb21wb3NpdGlvbi5qcydcblxuY29uc3QgaGFuZGxlcnMgPSBbXVxubGV0IGVzY0Rvd25cblxuZnVuY3Rpb24gb25LZXlkb3duIChldnQpIHtcbiAgZXNjRG93biA9IGV2dC5rZXlDb2RlID09PSAyN1xufVxuXG5mdW5jdGlvbiBvbkJsdXIgKCkge1xuICBpZiAoZXNjRG93biA9PT0gdHJ1ZSkge1xuICAgIGVzY0Rvd24gPSBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uS2V5dXAgKGV2dCkge1xuICBpZiAoZXNjRG93biA9PT0gdHJ1ZSkge1xuICAgIGVzY0Rvd24gPSBmYWxzZVxuXG4gICAgaWYgKGlzS2V5Q29kZShldnQsIDI3KSA9PT0gdHJ1ZSkge1xuICAgICAgaGFuZGxlcnNbIGhhbmRsZXJzLmxlbmd0aCAtIDEgXShldnQpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSAoYWN0aW9uKSB7XG4gIHdpbmRvd1sgYWN0aW9uIF0oJ2tleWRvd24nLCBvbktleWRvd24pXG4gIHdpbmRvd1sgYWN0aW9uIF0oJ2JsdXInLCBvbkJsdXIpXG4gIHdpbmRvd1sgYWN0aW9uIF0oJ2tleXVwJywgb25LZXl1cClcbiAgZXNjRG93biA9IGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFc2NhcGVLZXkgKGZuKSB7XG4gIGlmIChjbGllbnQuaXMuZGVza3RvcCA9PT0gdHJ1ZSkge1xuICAgIGhhbmRsZXJzLnB1c2goZm4pXG5cbiAgICBpZiAoaGFuZGxlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICB1cGRhdGUoJ2FkZEV2ZW50TGlzdGVuZXInKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRXNjYXBlS2V5IChmbikge1xuICBjb25zdCBpbmRleCA9IGhhbmRsZXJzLmluZGV4T2YoZm4pXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBoYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICBpZiAoaGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB1cGRhdGUoJ3JlbW92ZUV2ZW50TGlzdGVuZXInKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgY2xpZW50IH0gZnJvbSAnLi4vLi4vcGx1Z2lucy9wbGF0Zm9ybS9QbGF0Zm9ybS5qcydcblxuY29uc3QgaGFuZGxlcnMgPSBbXVxuXG5mdW5jdGlvbiB0cmlnZ2VyIChlKSB7XG4gIGhhbmRsZXJzWyBoYW5kbGVycy5sZW5ndGggLSAxIF0oZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZvY3Vzb3V0IChmbikge1xuICBpZiAoY2xpZW50LmlzLmRlc2t0b3AgPT09IHRydWUpIHtcbiAgICBoYW5kbGVycy5wdXNoKGZuKVxuXG4gICAgaWYgKGhhbmRsZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdHJpZ2dlcilcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZvY3Vzb3V0IChmbikge1xuICBjb25zdCBpbmRleCA9IGhhbmRsZXJzLmluZGV4T2YoZm4pXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBoYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICBpZiAoaGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0cmlnZ2VyKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgaCwgcmVmLCBjb21wdXRlZCwgd2F0Y2gsIG9uQmVmb3JlVW5tb3VudCwgVHJhbnNpdGlvbiwgZ2V0Q3VycmVudEluc3RhbmNlIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgdXNlSGlzdG9yeSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1oaXN0b3J5L3VzZS1oaXN0b3J5LmpzJ1xuaW1wb3J0IHVzZVRpbWVvdXQgZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvdXNlLXRpbWVvdXQvdXNlLXRpbWVvdXQuanMnXG5pbXBvcnQgdXNlVGljayBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy91c2UtdGljay91c2UtdGljay5qcydcbmltcG9ydCB1c2VNb2RlbFRvZ2dsZSwgeyB1c2VNb2RlbFRvZ2dsZVByb3BzLCB1c2VNb2RlbFRvZ2dsZUVtaXRzIH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS51c2UtbW9kZWwtdG9nZ2xlL3VzZS1tb2RlbC10b2dnbGUuanMnXG5pbXBvcnQgdXNlVHJhbnNpdGlvbiwgeyB1c2VUcmFuc2l0aW9uUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS10cmFuc2l0aW9uL3VzZS10cmFuc2l0aW9uLmpzJ1xuaW1wb3J0IHVzZVBvcnRhbCBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1wb3J0YWwvdXNlLXBvcnRhbC5qcydcbmltcG9ydCB1c2VQcmV2ZW50U2Nyb2xsIGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLXByZXZlbnQtc2Nyb2xsL3VzZS1wcmV2ZW50LXNjcm9sbC5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IHsgY2hpbGRIYXNGb2N1cyB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbS9kb20uanMnXG5pbXBvcnQgeyBoU2xvdCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUucmVuZGVyL3JlbmRlci5qcydcbmltcG9ydCB7IGFkZEVzY2FwZUtleSwgcmVtb3ZlRXNjYXBlS2V5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5rZXlib2FyZC9lc2NhcGUta2V5LmpzJ1xuaW1wb3J0IHsgYWRkRm9jdXNvdXQsIHJlbW92ZUZvY3Vzb3V0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5mb2N1cy9mb2N1c291dC5qcydcbmltcG9ydCB7IGFkZEZvY3VzRm4gfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmZvY3VzL2ZvY3VzLW1hbmFnZXIuanMnXG5cbmxldCBtYXhpbWl6ZWRNb2RhbHMgPSAwXG5cbmNvbnN0IHBvc2l0aW9uQ2xhc3MgPSB7XG4gIHN0YW5kYXJkOiAnZml4ZWQtZnVsbCBmbGV4LWNlbnRlcicsXG4gIHRvcDogJ2ZpeGVkLXRvcCBqdXN0aWZ5LWNlbnRlcicsXG4gIGJvdHRvbTogJ2ZpeGVkLWJvdHRvbSBqdXN0aWZ5LWNlbnRlcicsXG4gIHJpZ2h0OiAnZml4ZWQtcmlnaHQgaXRlbXMtY2VudGVyJyxcbiAgbGVmdDogJ2ZpeGVkLWxlZnQgaXRlbXMtY2VudGVyJ1xufVxuXG5jb25zdCBkZWZhdWx0VHJhbnNpdGlvbnMgPSB7XG4gIHN0YW5kYXJkOiBbICdzY2FsZScsICdzY2FsZScgXSxcbiAgdG9wOiBbICdzbGlkZS1kb3duJywgJ3NsaWRlLXVwJyBdLFxuICBib3R0b206IFsgJ3NsaWRlLXVwJywgJ3NsaWRlLWRvd24nIF0sXG4gIHJpZ2h0OiBbICdzbGlkZS1sZWZ0JywgJ3NsaWRlLXJpZ2h0JyBdLFxuICBsZWZ0OiBbICdzbGlkZS1yaWdodCcsICdzbGlkZS1sZWZ0JyBdXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRRGlhbG9nJyxcblxuICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuXG4gIHByb3BzOiB7XG4gICAgLi4udXNlTW9kZWxUb2dnbGVQcm9wcyxcbiAgICAuLi51c2VUcmFuc2l0aW9uUHJvcHMsXG5cbiAgICB0cmFuc2l0aW9uU2hvdzogU3RyaW5nLCAvLyBvdmVycmlkZSB1c2VUcmFuc2l0aW9uUHJvcHNcbiAgICB0cmFuc2l0aW9uSGlkZTogU3RyaW5nLCAvLyBvdmVycmlkZSB1c2VUcmFuc2l0aW9uUHJvcHNcblxuICAgIHBlcnNpc3RlbnQ6IEJvb2xlYW4sXG4gICAgYXV0b0Nsb3NlOiBCb29sZWFuLFxuICAgIGFsbG93Rm9jdXNPdXRzaWRlOiBCb29sZWFuLFxuXG4gICAgbm9Fc2NEaXNtaXNzOiBCb29sZWFuLFxuICAgIG5vQmFja2Ryb3BEaXNtaXNzOiBCb29sZWFuLFxuICAgIG5vUm91dGVEaXNtaXNzOiBCb29sZWFuLFxuICAgIG5vUmVmb2N1czogQm9vbGVhbixcbiAgICBub0ZvY3VzOiBCb29sZWFuLFxuICAgIG5vU2hha2U6IEJvb2xlYW4sXG5cbiAgICBzZWFtbGVzczogQm9vbGVhbixcblxuICAgIG1heGltaXplZDogQm9vbGVhbixcbiAgICBmdWxsV2lkdGg6IEJvb2xlYW4sXG4gICAgZnVsbEhlaWdodDogQm9vbGVhbixcblxuICAgIHNxdWFyZTogQm9vbGVhbixcblxuICAgIGJhY2tkcm9wRmlsdGVyOiBTdHJpbmcsXG5cbiAgICBwb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3N0YW5kYXJkJyxcbiAgICAgIHZhbGlkYXRvcjogdmFsID0+IFsgJ3N0YW5kYXJkJywgJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcgXS5pbmNsdWRlcyh2YWwpXG4gICAgfVxuICB9LFxuXG4gIGVtaXRzOiBbXG4gICAgLi4udXNlTW9kZWxUb2dnbGVFbWl0cyxcbiAgICAnc2hha2UnLCAnY2xpY2snLCAnZXNjYXBlS2V5J1xuICBdLFxuXG4gIHNldHVwIChwcm9wcywgeyBzbG90cywgZW1pdCwgYXR0cnMgfSkge1xuICAgIGNvbnN0IHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKClcblxuICAgIGNvbnN0IGlubmVyUmVmID0gcmVmKG51bGwpXG4gICAgY29uc3Qgc2hvd2luZyA9IHJlZihmYWxzZSlcbiAgICBjb25zdCBhbmltYXRpbmcgPSByZWYoZmFsc2UpXG5cbiAgICBsZXQgc2hha2VUaW1lb3V0ID0gbnVsbCwgcmVmb2N1c1RhcmdldCA9IG51bGwsIGlzTWF4aW1pemVkLCBhdm9pZEF1dG9DbG9zZVxuXG4gICAgY29uc3QgaGlkZU9uUm91dGVDaGFuZ2UgPSBjb21wdXRlZCgoKSA9PlxuICAgICAgcHJvcHMucGVyc2lzdGVudCAhPT0gdHJ1ZVxuICAgICAgJiYgcHJvcHMubm9Sb3V0ZURpc21pc3MgIT09IHRydWVcbiAgICAgICYmIHByb3BzLnNlYW1sZXNzICE9PSB0cnVlXG4gICAgKVxuXG4gICAgY29uc3QgeyBwcmV2ZW50Qm9keVNjcm9sbCB9ID0gdXNlUHJldmVudFNjcm9sbCgpXG4gICAgY29uc3QgeyByZWdpc3RlclRpbWVvdXQgfSA9IHVzZVRpbWVvdXQoKVxuICAgIGNvbnN0IHsgcmVnaXN0ZXJUaWNrLCByZW1vdmVUaWNrIH0gPSB1c2VUaWNrKClcblxuICAgIGNvbnN0IHsgdHJhbnNpdGlvblByb3BzLCB0cmFuc2l0aW9uU3R5bGUgfSA9IHVzZVRyYW5zaXRpb24oXG4gICAgICBwcm9wcyxcbiAgICAgICgpID0+IGRlZmF1bHRUcmFuc2l0aW9uc1sgcHJvcHMucG9zaXRpb24gXVsgMCBdLFxuICAgICAgKCkgPT4gZGVmYXVsdFRyYW5zaXRpb25zWyBwcm9wcy5wb3NpdGlvbiBdWyAxIF1cbiAgICApXG5cbiAgICBjb25zdCBiYWNrZHJvcFN0eWxlID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgdHJhbnNpdGlvblN0eWxlLnZhbHVlXG4gICAgICArIChcbiAgICAgICAgcHJvcHMuYmFja2Ryb3BGaWx0ZXIgIT09IHZvaWQgMFxuICAgICAgICAgIC8vIFNhZmFyaSByZXF1aXJlcyB0aGUgLXdlYmtpdCBwcmVmaXhcbiAgICAgICAgICA/IGA7YmFja2Ryb3AtZmlsdGVyOiR7IHByb3BzLmJhY2tkcm9wRmlsdGVyIH07LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6JHsgcHJvcHMuYmFja2Ryb3BGaWx0ZXIgfWBcbiAgICAgICAgICA6ICcnXG4gICAgICApXG4gICAgKSlcblxuICAgIGNvbnN0IHsgc2hvd1BvcnRhbCwgaGlkZVBvcnRhbCwgcG9ydGFsSXNBY2Nlc3NpYmxlLCByZW5kZXJQb3J0YWwgfSA9IHVzZVBvcnRhbChcbiAgICAgIHZtLCBpbm5lclJlZiwgcmVuZGVyUG9ydGFsQ29udGVudCwgJ2RpYWxvZydcbiAgICApXG5cbiAgICBjb25zdCB7IGhpZGUgfSA9IHVzZU1vZGVsVG9nZ2xlKHtcbiAgICAgIHNob3dpbmcsXG4gICAgICBoaWRlT25Sb3V0ZUNoYW5nZSxcbiAgICAgIGhhbmRsZVNob3csXG4gICAgICBoYW5kbGVIaWRlLFxuICAgICAgcHJvY2Vzc09uTW91bnQ6IHRydWVcbiAgICB9KVxuXG4gICAgY29uc3QgeyBhZGRUb0hpc3RvcnksIHJlbW92ZUZyb21IaXN0b3J5IH0gPSB1c2VIaXN0b3J5KHNob3dpbmcsIGhpZGUsIGhpZGVPblJvdXRlQ2hhbmdlKVxuXG4gICAgY29uc3QgY2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+XG4gICAgICAncS1kaWFsb2dfX2lubmVyIGZsZXggbm8tcG9pbnRlci1ldmVudHMnXG4gICAgICArIGAgcS1kaWFsb2dfX2lubmVyLS0keyBwcm9wcy5tYXhpbWl6ZWQgPT09IHRydWUgPyAnbWF4aW1pemVkJyA6ICdtaW5pbWl6ZWQnIH1gXG4gICAgICArIGAgcS1kaWFsb2dfX2lubmVyLS0keyBwcm9wcy5wb3NpdGlvbiB9ICR7IHBvc2l0aW9uQ2xhc3NbIHByb3BzLnBvc2l0aW9uIF0gfWBcbiAgICAgICsgKGFuaW1hdGluZy52YWx1ZSA9PT0gdHJ1ZSA/ICcgcS1kaWFsb2dfX2lubmVyLS1hbmltYXRpbmcnIDogJycpXG4gICAgICArIChwcm9wcy5mdWxsV2lkdGggPT09IHRydWUgPyAnIHEtZGlhbG9nX19pbm5lci0tZnVsbHdpZHRoJyA6ICcnKVxuICAgICAgKyAocHJvcHMuZnVsbEhlaWdodCA9PT0gdHJ1ZSA/ICcgcS1kaWFsb2dfX2lubmVyLS1mdWxsaGVpZ2h0JyA6ICcnKVxuICAgICAgKyAocHJvcHMuc3F1YXJlID09PSB0cnVlID8gJyBxLWRpYWxvZ19faW5uZXItLXNxdWFyZScgOiAnJylcbiAgICApXG5cbiAgICBjb25zdCB1c2VCYWNrZHJvcCA9IGNvbXB1dGVkKCgpID0+IHNob3dpbmcudmFsdWUgPT09IHRydWUgJiYgcHJvcHMuc2VhbWxlc3MgIT09IHRydWUpXG5cbiAgICBjb25zdCBvbkV2ZW50cyA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIHByb3BzLmF1dG9DbG9zZSA9PT0gdHJ1ZVxuICAgICAgICA/IHsgb25DbGljazogb25BdXRvQ2xvc2UgfVxuICAgICAgICA6IHt9XG4gICAgKSlcblxuICAgIGNvbnN0IHJvb3RDbGFzc2VzID0gY29tcHV0ZWQoKCkgPT4gW1xuICAgICAgJ3EtZGlhbG9nIGZ1bGxzY3JlZW4gbm8tcG9pbnRlci1ldmVudHMgJ1xuICAgICAgICArIGBxLWRpYWxvZy0tJHsgdXNlQmFja2Ryb3AudmFsdWUgPT09IHRydWUgPyAnbW9kYWwnIDogJ3NlYW1sZXNzJyB9YCxcbiAgICAgIGF0dHJzLmNsYXNzXG4gICAgXSlcblxuICAgIHdhdGNoKCgpID0+IHByb3BzLm1heGltaXplZCwgc3RhdGUgPT4ge1xuICAgICAgc2hvd2luZy52YWx1ZSA9PT0gdHJ1ZSAmJiB1cGRhdGVNYXhpbWl6ZWQoc3RhdGUpXG4gICAgfSlcblxuICAgIHdhdGNoKHVzZUJhY2tkcm9wLCB2YWwgPT4ge1xuICAgICAgcHJldmVudEJvZHlTY3JvbGwodmFsKVxuXG4gICAgICBpZiAodmFsID09PSB0cnVlKSB7XG4gICAgICAgIGFkZEZvY3Vzb3V0KG9uRm9jdXNDaGFuZ2UpXG4gICAgICAgIGFkZEVzY2FwZUtleShvbkVzY2FwZUtleSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVGb2N1c291dChvbkZvY3VzQ2hhbmdlKVxuICAgICAgICByZW1vdmVFc2NhcGVLZXkob25Fc2NhcGVLZXkpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNob3cgKGV2dCkge1xuICAgICAgYWRkVG9IaXN0b3J5KClcblxuICAgICAgcmVmb2N1c1RhcmdldCA9IHByb3BzLm5vUmVmb2N1cyA9PT0gZmFsc2UgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gbnVsbFxuICAgICAgICA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRcbiAgICAgICAgOiBudWxsXG5cbiAgICAgIHVwZGF0ZU1heGltaXplZChwcm9wcy5tYXhpbWl6ZWQpXG4gICAgICBzaG93UG9ydGFsKClcbiAgICAgIGFuaW1hdGluZy52YWx1ZSA9IHRydWVcblxuICAgICAgaWYgKHByb3BzLm5vRm9jdXMgIT09IHRydWUpIHtcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudD8uYmx1cigpXG4gICAgICAgIHJlZ2lzdGVyVGljayhmb2N1cylcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVUaWNrKClcbiAgICAgIH1cblxuICAgICAgLy8gc2hvdWxkIHJlbW92ZVRpbWVvdXQoKSBpZiB0aGlzIGdldHMgcmVtb3ZlZFxuICAgICAgcmVnaXN0ZXJUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHZtLnByb3h5LiRxLnBsYXRmb3JtLmlzLmlvcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGlmIChwcm9wcy5zZWFtbGVzcyAhPT0gdHJ1ZSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICB7IHRvcCwgYm90dG9tIH0gPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICB7IGlubmVySGVpZ2h0IH0gPSB3aW5kb3csXG4gICAgICAgICAgICAgIGhlaWdodCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydCAhPT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgPyB3aW5kb3cudmlzdWFsVmlld3BvcnQuaGVpZ2h0XG4gICAgICAgICAgICAgICAgOiBpbm5lckhlaWdodFxuXG4gICAgICAgICAgICBpZiAodG9wID4gMCAmJiBib3R0b20gPiBoZWlnaHQgLyAyKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsVG9wID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudC5zY3JvbGxIZWlnaHQgLSBoZWlnaHQsXG4gICAgICAgICAgICAgICAgYm90dG9tID49IGlubmVySGVpZ2h0XG4gICAgICAgICAgICAgICAgICA/IEluZmluaXR5XG4gICAgICAgICAgICAgICAgICA6IE1hdGguY2VpbChkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcCArIGJvdHRvbSAtIGhlaWdodCAvIDIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5zY3JvbGxJbnRvVmlldygpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVxdWlyZWQgaW4gb3JkZXIgdG8gYXZvaWQgdGhlIFwiZG91YmxlLXRhcCBuZWVkZWRcIiBpc3N1ZVxuICAgICAgICAgIGF2b2lkQXV0b0Nsb3NlID0gdHJ1ZVxuICAgICAgICAgIGlubmVyUmVmLnZhbHVlLmNsaWNrKClcbiAgICAgICAgICBhdm9pZEF1dG9DbG9zZSA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBzaG93UG9ydGFsKHRydWUpIC8vIGRvbmUgc2hvd2luZyBwb3J0YWxcbiAgICAgICAgYW5pbWF0aW5nLnZhbHVlID0gZmFsc2VcbiAgICAgICAgZW1pdCgnc2hvdycsIGV2dClcbiAgICAgIH0sIHByb3BzLnRyYW5zaXRpb25EdXJhdGlvbilcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVIaWRlIChldnQpIHtcbiAgICAgIHJlbW92ZVRpY2soKVxuICAgICAgcmVtb3ZlRnJvbUhpc3RvcnkoKVxuICAgICAgY2xlYW51cCh0cnVlKVxuICAgICAgYW5pbWF0aW5nLnZhbHVlID0gdHJ1ZVxuICAgICAgaGlkZVBvcnRhbCgpXG5cbiAgICAgIGlmIChyZWZvY3VzVGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICAgICgoZXZ0Py50eXBlLmluZGV4T2YoJ2tleScpID09PSAwXG4gICAgICAgICAgPyByZWZvY3VzVGFyZ2V0LmNsb3Nlc3QoJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleF49XCItXCJdKScpXG4gICAgICAgICAgOiB2b2lkIDBcbiAgICAgICAgKSB8fCByZWZvY3VzVGFyZ2V0KS5mb2N1cygpXG5cbiAgICAgICAgcmVmb2N1c1RhcmdldCA9IG51bGxcbiAgICAgIH1cblxuICAgICAgLy8gc2hvdWxkIHJlbW92ZVRpbWVvdXQoKSBpZiB0aGlzIGdldHMgcmVtb3ZlZFxuICAgICAgcmVnaXN0ZXJUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaGlkZVBvcnRhbCh0cnVlKSAvLyBkb25lIGhpZGluZywgbm93IGRlc3Ryb3lcbiAgICAgICAgYW5pbWF0aW5nLnZhbHVlID0gZmFsc2VcbiAgICAgICAgZW1pdCgnaGlkZScsIGV2dClcbiAgICAgIH0sIHByb3BzLnRyYW5zaXRpb25EdXJhdGlvbilcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb2N1cyAoc2VsZWN0b3IpIHtcbiAgICAgIGFkZEZvY3VzRm4oKCkgPT4ge1xuICAgICAgICBsZXQgbm9kZSA9IGlubmVyUmVmLnZhbHVlXG5cbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHJldHVyblxuXG4gICAgICAgIGlmIChzZWxlY3RvciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gbm9kZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICAgICAgICAgIGlmICh0YXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRhcmdldC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpICE9PSB0cnVlKSB7XG4gICAgICAgICAgbm9kZSA9IChcbiAgICAgICAgICAgIG5vZGUucXVlcnlTZWxlY3RvcignW2F1dG9mb2N1c11bdGFiaW5kZXhdLCBbZGF0YS1hdXRvZm9jdXNdW3RhYmluZGV4XScpXG4gICAgICAgICAgICB8fCBub2RlLnF1ZXJ5U2VsZWN0b3IoJ1thdXRvZm9jdXNdIFt0YWJpbmRleF0sIFtkYXRhLWF1dG9mb2N1c10gW3RhYmluZGV4XScpXG4gICAgICAgICAgICB8fCBub2RlLnF1ZXJ5U2VsZWN0b3IoJ1thdXRvZm9jdXNdLCBbZGF0YS1hdXRvZm9jdXNdJylcbiAgICAgICAgICAgIHx8IG5vZGVcbiAgICAgICAgICApXG5cbiAgICAgICAgICBub2RlLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNoYWtlIChmb2N1c1RhcmdldCkge1xuICAgICAgaWYgKGZvY3VzVGFyZ2V0ICYmIHR5cGVvZiBmb2N1c1RhcmdldC5mb2N1cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmb2N1c1RhcmdldC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmb2N1cygpXG4gICAgICB9XG5cbiAgICAgIGVtaXQoJ3NoYWtlJylcblxuICAgICAgY29uc3Qgbm9kZSA9IGlubmVyUmVmLnZhbHVlXG5cbiAgICAgIGlmIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgncS1hbmltYXRlLS1zY2FsZScpXG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgncS1hbmltYXRlLS1zY2FsZScpXG4gICAgICAgIHNoYWtlVGltZW91dCAhPT0gbnVsbCAmJiBjbGVhclRpbWVvdXQoc2hha2VUaW1lb3V0KVxuICAgICAgICBzaGFrZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzaGFrZVRpbWVvdXQgPSBudWxsXG4gICAgICAgICAgaWYgKGlubmVyUmVmLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3EtYW5pbWF0ZS0tc2NhbGUnKVxuICAgICAgICAgICAgLy8gc29tZSBwbGF0Zm9ybXMgKGxpa2UgZGVza3RvcCBDaHJvbWUpXG4gICAgICAgICAgICAvLyByZXF1aXJlIGNhbGxpbmcgZm9jdXMoKSBhZ2FpblxuICAgICAgICAgICAgZm9jdXMoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTcwKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRXNjYXBlS2V5ICgpIHtcbiAgICAgIGlmIChwcm9wcy5zZWFtbGVzcyAhPT0gdHJ1ZSkge1xuICAgICAgICBpZiAocHJvcHMucGVyc2lzdGVudCA9PT0gdHJ1ZSB8fCBwcm9wcy5ub0VzY0Rpc21pc3MgPT09IHRydWUpIHtcbiAgICAgICAgICBwcm9wcy5tYXhpbWl6ZWQgIT09IHRydWUgJiYgcHJvcHMubm9TaGFrZSAhPT0gdHJ1ZSAmJiBzaGFrZSgpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZW1pdCgnZXNjYXBlS2V5JylcbiAgICAgICAgICBoaWRlKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFudXAgKGhpZGluZykge1xuICAgICAgaWYgKHNoYWtlVGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoc2hha2VUaW1lb3V0KVxuICAgICAgICBzaGFrZVRpbWVvdXQgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIGlmIChoaWRpbmcgPT09IHRydWUgfHwgc2hvd2luZy52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICB1cGRhdGVNYXhpbWl6ZWQoZmFsc2UpXG5cbiAgICAgICAgaWYgKHByb3BzLnNlYW1sZXNzICE9PSB0cnVlKSB7XG4gICAgICAgICAgcHJldmVudEJvZHlTY3JvbGwoZmFsc2UpXG4gICAgICAgICAgcmVtb3ZlRm9jdXNvdXQob25Gb2N1c0NoYW5nZSlcbiAgICAgICAgICByZW1vdmVFc2NhcGVLZXkob25Fc2NhcGVLZXkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGhpZGluZyAhPT0gdHJ1ZSkge1xuICAgICAgICByZWZvY3VzVGFyZ2V0ID0gbnVsbFxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1heGltaXplZCAoYWN0aXZlKSB7XG4gICAgICBpZiAoYWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgIGlmIChpc01heGltaXplZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIG1heGltaXplZE1vZGFscyA8IDEgJiYgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdxLWJvZHktLWRpYWxvZycpXG4gICAgICAgICAgbWF4aW1pemVkTW9kYWxzKytcblxuICAgICAgICAgIGlzTWF4aW1pemVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc01heGltaXplZCA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAobWF4aW1pemVkTW9kYWxzIDwgMikge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncS1ib2R5LS1kaWFsb2cnKVxuICAgICAgICB9XG5cbiAgICAgICAgbWF4aW1pemVkTW9kYWxzLS1cbiAgICAgICAgaXNNYXhpbWl6ZWQgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQXV0b0Nsb3NlIChlKSB7XG4gICAgICBpZiAoYXZvaWRBdXRvQ2xvc2UgIT09IHRydWUpIHtcbiAgICAgICAgaGlkZShlKVxuICAgICAgICBlbWl0KCdjbGljaycsIGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25CYWNrZHJvcENsaWNrIChlKSB7XG4gICAgICBpZiAocHJvcHMucGVyc2lzdGVudCAhPT0gdHJ1ZSAmJiBwcm9wcy5ub0JhY2tkcm9wRGlzbWlzcyAhPT0gdHJ1ZSkge1xuICAgICAgICBoaWRlKGUpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwcm9wcy5ub1NoYWtlICE9PSB0cnVlKSB7XG4gICAgICAgIHNoYWtlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkZvY3VzQ2hhbmdlIChldnQpIHtcbiAgICAgIC8vIHRoZSBmb2N1cyBpcyBub3QgaW4gYSB2dWUgY2hpbGQgY29tcG9uZW50XG4gICAgICBpZiAoXG4gICAgICAgIHByb3BzLmFsbG93Rm9jdXNPdXRzaWRlICE9PSB0cnVlXG4gICAgICAgICYmIHBvcnRhbElzQWNjZXNzaWJsZS52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgICAmJiBjaGlsZEhhc0ZvY3VzKGlubmVyUmVmLnZhbHVlLCBldnQudGFyZ2V0KSAhPT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIGZvY3VzKCdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknKVxuICAgICAgfVxuICAgIH1cblxuICAgIE9iamVjdC5hc3NpZ24odm0ucHJveHksIHtcbiAgICAgIC8vIGV4cG9zZSBwdWJsaWMgbWV0aG9kc1xuICAgICAgZm9jdXMsIHNoYWtlLFxuXG4gICAgICAvLyBwcml2YXRlIGJ1dCBuZWVkZWQgYnkgUVNlbGVjdFxuICAgICAgX191cGRhdGVSZWZvY3VzVGFyZ2V0ICh0YXJnZXQpIHtcbiAgICAgICAgcmVmb2N1c1RhcmdldCA9IHRhcmdldCB8fCBudWxsXG4gICAgICB9XG4gICAgfSlcblxuICAgIG9uQmVmb3JlVW5tb3VudChjbGVhbnVwKVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyUG9ydGFsQ29udGVudCAoKSB7XG4gICAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICByb2xlOiAnZGlhbG9nJyxcbiAgICAgICAgJ2FyaWEtbW9kYWwnOiB1c2VCYWNrZHJvcC52YWx1ZSA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZScsXG4gICAgICAgIC4uLmF0dHJzLFxuICAgICAgICBjbGFzczogcm9vdENsYXNzZXMudmFsdWVcbiAgICAgIH0sIFtcbiAgICAgICAgaChUcmFuc2l0aW9uLCB7XG4gICAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tZmFkZScsXG4gICAgICAgICAgYXBwZWFyOiB0cnVlXG4gICAgICAgIH0sICgpID0+IChcbiAgICAgICAgICB1c2VCYWNrZHJvcC52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgICAgICAgPyBoKCdkaXYnLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiAncS1kaWFsb2dfX2JhY2tkcm9wIGZpeGVkLWZ1bGwnLFxuICAgICAgICAgICAgICBzdHlsZTogYmFja2Ryb3BTdHlsZS52YWx1ZSxcbiAgICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICAgICAgICAgICB0YWJpbmRleDogLTEsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IG9uQmFja2Ryb3BDbGlja1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogbnVsbFxuICAgICAgICApKSxcblxuICAgICAgICBoKFxuICAgICAgICAgIFRyYW5zaXRpb24sXG4gICAgICAgICAgdHJhbnNpdGlvblByb3BzLnZhbHVlLFxuICAgICAgICAgICgpID0+IChcbiAgICAgICAgICAgIHNob3dpbmcudmFsdWUgPT09IHRydWVcbiAgICAgICAgICAgICAgPyBoKCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgcmVmOiBpbm5lclJlZixcbiAgICAgICAgICAgICAgICBjbGFzczogY2xhc3Nlcy52YWx1ZSxcbiAgICAgICAgICAgICAgICBzdHlsZTogdHJhbnNpdGlvblN0eWxlLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRhYmluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAuLi5vbkV2ZW50cy52YWx1ZVxuICAgICAgICAgICAgICB9LCBoU2xvdChzbG90cy5kZWZhdWx0KSlcbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICBdKVxuICAgIH1cblxuICAgIHJldHVybiByZW5kZXJQb3J0YWxcbiAgfVxufSlcbiIsImltcG9ydCB7IGgsIGNvbXB1dGVkLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCB1c2VTaXplLCB7IHVzZVNpemVQcm9wcyB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLXNpemUvdXNlLXNpemUuanMnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcbmltcG9ydCB7IGhTbG90LCBoTWVyZ2VTbG90IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5yZW5kZXIvcmVuZGVyLmpzJ1xuXG5jb25zdCBkZWZhdWx0Vmlld0JveCA9ICcwIDAgMjQgMjQnXG5cbmNvbnN0IHNhbWVGbiA9IGkgPT4gaVxuY29uc3QgaW9uRm4gPSBpID0+IGBpb25pY29ucyAkeyBpIH1gXG5cbmNvbnN0IGxpYk1hcCA9IHtcbiAgJ21kaS0nOiBpID0+IGBtZGkgJHsgaSB9YCxcbiAgJ2ljb24tJzogc2FtZUZuLCAvLyBmb250YXdlc29tZSBlcXVpdlxuICAnYnQtJzogaSA9PiBgYnQgJHsgaSB9YCxcbiAgJ2V2YS0nOiBpID0+IGBldmEgJHsgaSB9YCxcbiAgJ2lvbi1tZCc6IGlvbkZuLFxuICAnaW9uLWlvcyc6IGlvbkZuLFxuICAnaW9uLWxvZ28nOiBpb25GbixcbiAgJ2ljb25mb250ICc6IHNhbWVGbixcbiAgJ3RpLSc6IGkgPT4gYHRoZW1pZnktaWNvbiAkeyBpIH1gLFxuICAnYmktJzogaSA9PiBgYm9vdHN0cmFwLWljb25zICR7IGkgfWAsXG4gICdpLSc6IHNhbWVGbiAvLyBVbm9DU1MgcHVyZSBpY29uc1xufVxuXG5jb25zdCBtYXRNYXAgPSB7XG4gIG9fOiAnLW91dGxpbmVkJyxcbiAgcl86ICctcm91bmQnLFxuICBzXzogJy1zaGFycCdcbn1cblxuY29uc3Qgc3ltTWFwID0ge1xuICBzeW1fb186ICctb3V0bGluZWQnLFxuICBzeW1fcl86ICctcm91bmRlZCcsXG4gIHN5bV9zXzogJy1zaGFycCdcbn1cblxuY29uc3QgbGliUkUgPSBuZXcgUmVnRXhwKCdeKCcgKyBPYmplY3Qua2V5cyhsaWJNYXApLmpvaW4oJ3wnKSArICcpJylcbmNvbnN0IG1hdFJFID0gbmV3IFJlZ0V4cCgnXignICsgT2JqZWN0LmtleXMobWF0TWFwKS5qb2luKCd8JykgKyAnKScpXG5jb25zdCBzeW1SRSA9IG5ldyBSZWdFeHAoJ14oJyArIE9iamVjdC5rZXlzKHN5bU1hcCkuam9pbignfCcpICsgJyknKVxuY29uc3QgbVJFID0gL15bTW1dXFxzP1stK10/XFwuP1xcZC9cbmNvbnN0IGltZ1JFID0gL15pbWc6L1xuY29uc3Qgc3ZnVXNlUkUgPSAvXnN2Z3VzZTovXG5jb25zdCBpb25SRSA9IC9eaW9uLS9cbmNvbnN0IGZhUkUgPSAvXihmYS0oY2xhc3NpY3xzaGFycHxzb2xpZHxyZWd1bGFyfGxpZ2h0fGJyYW5kc3xkdW90b25lfHRoaW4pfFtsZl1hW3NybGJka10/KSAvXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRSWNvbicsXG5cbiAgcHJvcHM6IHtcbiAgICAuLi51c2VTaXplUHJvcHMsXG5cbiAgICB0YWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdpJ1xuICAgIH0sXG5cbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgY29sb3I6IFN0cmluZyxcbiAgICBsZWZ0OiBCb29sZWFuLFxuICAgIHJpZ2h0OiBCb29sZWFuXG4gIH0sXG5cbiAgc2V0dXAgKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCB7IHByb3h5OiB7ICRxIH0gfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG4gICAgY29uc3Qgc2l6ZVN0eWxlID0gdXNlU2l6ZShwcm9wcylcblxuICAgIGNvbnN0IGNsYXNzZXMgPSBjb21wdXRlZCgoKSA9PlxuICAgICAgJ3EtaWNvbidcbiAgICAgICsgKHByb3BzLmxlZnQgPT09IHRydWUgPyAnIG9uLWxlZnQnIDogJycpIC8vIFRPRE8gUXYzOiBkcm9wIHRoaXNcbiAgICAgICsgKHByb3BzLnJpZ2h0ID09PSB0cnVlID8gJyBvbi1yaWdodCcgOiAnJylcbiAgICAgICsgKHByb3BzLmNvbG9yICE9PSB2b2lkIDAgPyBgIHRleHQtJHsgcHJvcHMuY29sb3IgfWAgOiAnJylcbiAgICApXG5cbiAgICBjb25zdCB0eXBlID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgbGV0IGNsc1xuICAgICAgbGV0IGljb24gPSBwcm9wcy5uYW1lXG5cbiAgICAgIGlmIChpY29uID09PSAnbm9uZScgfHwgIWljb24pIHtcbiAgICAgICAgcmV0dXJuIHsgbm9uZTogdHJ1ZSB9XG4gICAgICB9XG5cbiAgICAgIGlmICgkcS5pY29uTWFwRm4gIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcmVzID0gJHEuaWNvbk1hcEZuKGljb24pXG4gICAgICAgIGlmIChyZXMgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGlmIChyZXMuaWNvbiAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpY29uID0gcmVzLmljb25cbiAgICAgICAgICAgIGlmIChpY29uID09PSAnbm9uZScgfHwgIWljb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgbm9uZTogdHJ1ZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgY2xzOiByZXMuY2xzLFxuICAgICAgICAgICAgICBjb250ZW50OiByZXMuY29udGVudCAhPT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgPyByZXMuY29udGVudFxuICAgICAgICAgICAgICAgIDogJyAnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtUkUudGVzdChpY29uKSA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBbIGRlZiwgdmlld0JveCA9IGRlZmF1bHRWaWV3Qm94IF0gPSBpY29uLnNwbGl0KCd8JylcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN2ZzogdHJ1ZSxcbiAgICAgICAgICB2aWV3Qm94LFxuICAgICAgICAgIG5vZGVzOiBkZWYuc3BsaXQoJyYmJykubWFwKHBhdGggPT4ge1xuICAgICAgICAgICAgY29uc3QgWyBkLCBzdHlsZSwgdHJhbnNmb3JtIF0gPSBwYXRoLnNwbGl0KCdAQCcpXG4gICAgICAgICAgICByZXR1cm4gaCgncGF0aCcsIHsgc3R5bGUsIGQsIHRyYW5zZm9ybSB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGltZ1JFLnRlc3QoaWNvbikgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbWc6IHRydWUsXG4gICAgICAgICAgc3JjOiBpY29uLnN1YnN0cmluZyg0KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdmdVc2VSRS50ZXN0KGljb24pID09PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IFsgZGVmLCB2aWV3Qm94ID0gZGVmYXVsdFZpZXdCb3ggXSA9IGljb24uc3BsaXQoJ3wnKVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3ZndXNlOiB0cnVlLFxuICAgICAgICAgIHNyYzogZGVmLnN1YnN0cmluZyg3KSxcbiAgICAgICAgICB2aWV3Qm94XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IGNvbnRlbnQgPSAnICdcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBpY29uLm1hdGNoKGxpYlJFKVxuXG4gICAgICBpZiAobWF0Y2hlcyAhPT0gbnVsbCkge1xuICAgICAgICBjbHMgPSBsaWJNYXBbIG1hdGNoZXNbIDEgXSBdKGljb24pXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChmYVJFLnRlc3QoaWNvbikgPT09IHRydWUpIHtcbiAgICAgICAgY2xzID0gaWNvblxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaW9uUkUudGVzdChpY29uKSA9PT0gdHJ1ZSkge1xuICAgICAgICBjbHMgPSBgaW9uaWNvbnMgaW9uLSR7ICRxLnBsYXRmb3JtLmlzLmlvcyA9PT0gdHJ1ZSA/ICdpb3MnIDogJ21kJyB9JHsgaWNvbi5zdWJzdHJpbmcoMykgfWBcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN5bVJFLnRlc3QoaWNvbikgPT09IHRydWUpIHtcbiAgICAgICAgLy8gXCJub3RyYW5zbGF0ZVwiIGNsYXNzIGlzIGZvciBHb29nbGUgVHJhbnNsYXRlXG4gICAgICAgIC8vIHRvIGF2b2lkIHRhbXBlcmluZyB3aXRoIE1hdGVyaWFsIFN5bWJvbHMgbGlnYXR1cmUgZm9udFxuICAgICAgICAvL1xuICAgICAgICAvLyBDYXV0aW9uOiBUbyBiZSBhYmxlIHRvIGFkZCBzdWZmaXggdG8gdGhlIGNsYXNzIG5hbWUsXG4gICAgICAgIC8vIGtlZXAgdGhlICdtYXRlcmlhbC1zeW1ib2xzJyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcuXG4gICAgICAgIGNscyA9ICdub3RyYW5zbGF0ZSBtYXRlcmlhbC1zeW1ib2xzJ1xuXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBpY29uLm1hdGNoKHN5bVJFKVxuICAgICAgICBpZiAobWF0Y2hlcyAhPT0gbnVsbCkge1xuICAgICAgICAgIGljb24gPSBpY29uLnN1YnN0cmluZyg2KVxuICAgICAgICAgIGNscyArPSBzeW1NYXBbIG1hdGNoZXNbIDEgXSBdXG4gICAgICAgIH1cblxuICAgICAgICBjb250ZW50ID0gaWNvblxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFwibm90cmFuc2xhdGVcIiBjbGFzcyBpcyBmb3IgR29vZ2xlIFRyYW5zbGF0ZVxuICAgICAgICAvLyB0byBhdm9pZCB0YW1wZXJpbmcgd2l0aCBNYXRlcmlhbCBJY29ucyBsaWdhdHVyZSBmb250XG4gICAgICAgIC8vXG4gICAgICAgIC8vIENhdXRpb246IFRvIGJlIGFibGUgdG8gYWRkIHN1ZmZpeCB0byB0aGUgY2xhc3MgbmFtZSxcbiAgICAgICAgLy8ga2VlcCB0aGUgJ21hdGVyaWFsLWljb25zJyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcuXG4gICAgICAgIGNscyA9ICdub3RyYW5zbGF0ZSBtYXRlcmlhbC1pY29ucydcblxuICAgICAgICBjb25zdCBtYXRjaGVzID0gaWNvbi5tYXRjaChtYXRSRSlcbiAgICAgICAgaWYgKG1hdGNoZXMgIT09IG51bGwpIHtcbiAgICAgICAgICBpY29uID0gaWNvbi5zdWJzdHJpbmcoMilcbiAgICAgICAgICBjbHMgKz0gbWF0TWFwWyBtYXRjaGVzWyAxIF0gXVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGVudCA9IGljb25cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2xzLFxuICAgICAgICBjb250ZW50XG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBjbGFzczogY2xhc3Nlcy52YWx1ZSxcbiAgICAgICAgc3R5bGU6IHNpemVTdHlsZS52YWx1ZSxcbiAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZS52YWx1ZS5ub25lID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBoKHByb3BzLnRhZywgZGF0YSwgaFNsb3Qoc2xvdHMuZGVmYXVsdCkpXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlLnZhbHVlLmltZyA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGRhdGEsIGhNZXJnZVNsb3Qoc2xvdHMuZGVmYXVsdCwgW1xuICAgICAgICAgIGgoJ2ltZycsIHsgc3JjOiB0eXBlLnZhbHVlLnNyYyB9KVxuICAgICAgICBdKSlcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGUudmFsdWUuc3ZnID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBoKHByb3BzLnRhZywgZGF0YSwgaE1lcmdlU2xvdChzbG90cy5kZWZhdWx0LCBbXG4gICAgICAgICAgaCgnc3ZnJywge1xuICAgICAgICAgICAgdmlld0JveDogdHlwZS52YWx1ZS52aWV3Qm94IHx8ICcwIDAgMjQgMjQnXG4gICAgICAgICAgfSwgdHlwZS52YWx1ZS5ub2RlcylcbiAgICAgICAgXSkpXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlLnZhbHVlLnN2Z3VzZSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGRhdGEsIGhNZXJnZVNsb3Qoc2xvdHMuZGVmYXVsdCwgW1xuICAgICAgICAgIGgoJ3N2ZycsIHtcbiAgICAgICAgICAgIHZpZXdCb3g6IHR5cGUudmFsdWUudmlld0JveFxuICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgIGgoJ3VzZScsIHsgJ3hsaW5rOmhyZWYnOiB0eXBlLnZhbHVlLnNyYyB9KVxuICAgICAgICAgIF0pXG4gICAgICAgIF0pKVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZS52YWx1ZS5jbHMgIT09IHZvaWQgMCkge1xuICAgICAgICBkYXRhLmNsYXNzICs9ICcgJyArIHR5cGUudmFsdWUuY2xzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoKHByb3BzLnRhZywgZGF0YSwgaE1lcmdlU2xvdChzbG90cy5kZWZhdWx0LCBbXG4gICAgICAgIHR5cGUudmFsdWUuY29udGVudFxuICAgICAgXSkpXG4gICAgfVxuICB9XG59KVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGZuLCBsaW1pdCA9IDI1MCkge1xuICBsZXQgd2FpdCA9IGZhbHNlLCByZXN1bHRcblxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICBpZiAod2FpdCA9PT0gZmFsc2UpIHtcbiAgICAgIHdhaXQgPSB0cnVlXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHsgd2FpdCA9IGZhbHNlIH0sIGxpbWl0KVxuICAgICAgcmVzdWx0ID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZG9tL2RvbS5qcydcbmltcG9ydCB7IHBvc2l0aW9uLCBzdG9wLCBhZGRFdnQsIGNsZWFuRXZ0IH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQvZXZlbnQuanMnXG5pbXBvcnQgeyBpc0tleUNvZGUgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmtleWJvYXJkL2tleS1jb21wb3NpdGlvbi5qcydcbmltcG9ydCB0aHJvdHRsZSBmcm9tICcuLi8uLi91dGlscy90aHJvdHRsZS90aHJvdHRsZS5qcydcbmltcG9ydCBnZXRTU1JQcm9wcyBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLm5vb3Atc3NyLWRpcmVjdGl2ZS10cmFuc2Zvcm0vbm9vcC1zc3ItZGlyZWN0aXZlLXRyYW5zZm9ybS5qcydcblxuZnVuY3Rpb24gc2hvd1JpcHBsZSAoZXZ0LCBlbCwgY3R4LCBmb3JjZUNlbnRlcikge1xuICBjdHgubW9kaWZpZXJzLnN0b3AgPT09IHRydWUgJiYgc3RvcChldnQpXG5cbiAgY29uc3QgY29sb3IgPSBjdHgubW9kaWZpZXJzLmNvbG9yXG4gIGxldCBjZW50ZXIgPSBjdHgubW9kaWZpZXJzLmNlbnRlclxuICBjZW50ZXIgPSBjZW50ZXIgPT09IHRydWUgfHwgZm9yY2VDZW50ZXIgPT09IHRydWVcblxuICBjb25zdFxuICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksXG4gICAgaW5uZXJOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLFxuICAgIHBvcyA9IHBvc2l0aW9uKGV2dCksXG4gICAgeyBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgfSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgIGRpYW1ldGVyID0gTWF0aC5zcXJ0KHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQpLFxuICAgIHJhZGl1cyA9IGRpYW1ldGVyIC8gMixcbiAgICBjZW50ZXJYID0gYCR7ICh3aWR0aCAtIGRpYW1ldGVyKSAvIDIgfXB4YCxcbiAgICB4ID0gY2VudGVyID8gY2VudGVyWCA6IGAkeyBwb3MubGVmdCAtIGxlZnQgLSByYWRpdXMgfXB4YCxcbiAgICBjZW50ZXJZID0gYCR7IChoZWlnaHQgLSBkaWFtZXRlcikgLyAyIH1weGAsXG4gICAgeSA9IGNlbnRlciA/IGNlbnRlclkgOiBgJHsgcG9zLnRvcCAtIHRvcCAtIHJhZGl1cyB9cHhgXG5cbiAgaW5uZXJOb2RlLmNsYXNzTmFtZSA9ICdxLXJpcHBsZV9faW5uZXInXG4gIGNzcyhpbm5lck5vZGUsIHtcbiAgICBoZWlnaHQ6IGAkeyBkaWFtZXRlciB9cHhgLFxuICAgIHdpZHRoOiBgJHsgZGlhbWV0ZXIgfXB4YCxcbiAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgkeyB4IH0sJHsgeSB9LDApIHNjYWxlM2QoLjIsLjIsMSlgLFxuICAgIG9wYWNpdHk6IDBcbiAgfSlcblxuICBub2RlLmNsYXNzTmFtZSA9IGBxLXJpcHBsZSR7IGNvbG9yID8gJyB0ZXh0LScgKyBjb2xvciA6ICcnIH1gXG4gIG5vZGUuc2V0QXR0cmlidXRlKCdkaXInLCAnbHRyJylcbiAgbm9kZS5hcHBlbmRDaGlsZChpbm5lck5vZGUpXG4gIGVsLmFwcGVuZENoaWxkKG5vZGUpXG5cbiAgY29uc3QgYWJvcnQgPSAoKSA9PiB7XG4gICAgbm9kZS5yZW1vdmUoKVxuICAgIGNsZWFyVGltZW91dCh0aW1lcilcbiAgfVxuICBjdHguYWJvcnQucHVzaChhYm9ydClcblxuICBsZXQgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpbm5lck5vZGUuY2xhc3NMaXN0LmFkZCgncS1yaXBwbGVfX2lubmVyLS1lbnRlcicpXG4gICAgaW5uZXJOb2RlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgkeyBjZW50ZXJYIH0sJHsgY2VudGVyWSB9LDApIHNjYWxlM2QoMSwxLDEpYFxuICAgIGlubmVyTm9kZS5zdHlsZS5vcGFjaXR5ID0gMC4yXG5cbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaW5uZXJOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3EtcmlwcGxlX19pbm5lci0tZW50ZXInKVxuICAgICAgaW5uZXJOb2RlLmNsYXNzTGlzdC5hZGQoJ3EtcmlwcGxlX19pbm5lci0tbGVhdmUnKVxuICAgICAgaW5uZXJOb2RlLnN0eWxlLm9wYWNpdHkgPSAwXG5cbiAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG5vZGUucmVtb3ZlKClcbiAgICAgICAgY3R4LmFib3J0LnNwbGljZShjdHguYWJvcnQuaW5kZXhPZihhYm9ydCksIDEpXG4gICAgICB9LCAyNzUpXG4gICAgfSwgMjUwKVxuICB9LCA1MClcbn1cblxuZnVuY3Rpb24gdXBkYXRlTW9kaWZpZXJzIChjdHgsIHsgbW9kaWZpZXJzLCB2YWx1ZSwgYXJnIH0pIHtcbiAgY29uc3QgY2ZnID0gT2JqZWN0LmFzc2lnbih7fSwgY3R4LmNmZy5yaXBwbGUsIG1vZGlmaWVycywgdmFsdWUpXG4gIGN0eC5tb2RpZmllcnMgPSB7XG4gICAgZWFybHk6IGNmZy5lYXJseSA9PT0gdHJ1ZSxcbiAgICBzdG9wOiBjZmcuc3RvcCA9PT0gdHJ1ZSxcbiAgICBjZW50ZXI6IGNmZy5jZW50ZXIgPT09IHRydWUsXG4gICAgY29sb3I6IGNmZy5jb2xvciB8fCBhcmcsXG4gICAga2V5Q29kZXM6IFtdLmNvbmNhdChjZmcua2V5Q29kZXMgfHwgMTMpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlRGlyZWN0aXZlKF9fUVVBU0FSX1NTUl9TRVJWRVJfX1xuICA/IHsgbmFtZTogJ3JpcHBsZScsIGdldFNTUlByb3BzIH1cbiAgOiB7XG4gICAgICBuYW1lOiAncmlwcGxlJyxcblxuICAgICAgYmVmb3JlTW91bnQgKGVsLCBiaW5kaW5nKSB7XG4gICAgICAgIGNvbnN0IGNmZyA9IGJpbmRpbmcuaW5zdGFuY2UuJC5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRxLmNvbmZpZyB8fCB7fVxuXG4gICAgICAgIGlmIChjZmcucmlwcGxlID09PSBmYWxzZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgIGNmZyxcbiAgICAgICAgICBlbmFibGVkOiBiaW5kaW5nLnZhbHVlICE9PSBmYWxzZSxcbiAgICAgICAgICBtb2RpZmllcnM6IHt9LFxuICAgICAgICAgIGFib3J0OiBbXSxcblxuICAgICAgICAgIHN0YXJ0IChldnQpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY3R4LmVuYWJsZWQgPT09IHRydWVcbiAgICAgICAgICAgICAgJiYgZXZ0LnFTa2lwUmlwcGxlICE9PSB0cnVlXG4gICAgICAgICAgICAgICYmIGV2dC50eXBlID09PSAoY3R4Lm1vZGlmaWVycy5lYXJseSA9PT0gdHJ1ZSA/ICdwb2ludGVyZG93bicgOiAnY2xpY2snKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHNob3dSaXBwbGUoZXZ0LCBlbCwgY3R4LCBldnQucUtleUV2ZW50ID09PSB0cnVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBrZXlzdGFydDogdGhyb3R0bGUoZXZ0ID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY3R4LmVuYWJsZWQgPT09IHRydWVcbiAgICAgICAgICAgICAgJiYgZXZ0LnFTa2lwUmlwcGxlICE9PSB0cnVlXG4gICAgICAgICAgICAgICYmIGlzS2V5Q29kZShldnQsIGN0eC5tb2RpZmllcnMua2V5Q29kZXMpID09PSB0cnVlXG4gICAgICAgICAgICAgICYmIGV2dC50eXBlID09PSBga2V5JHsgY3R4Lm1vZGlmaWVycy5lYXJseSA9PT0gdHJ1ZSA/ICdkb3duJyA6ICd1cCcgfWBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBzaG93UmlwcGxlKGV2dCwgZWwsIGN0eCwgdHJ1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAzMDApXG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVNb2RpZmllcnMoY3R4LCBiaW5kaW5nKVxuXG4gICAgICAgIGVsLl9fcXJpcHBsZSA9IGN0eFxuXG4gICAgICAgIGFkZEV2dChjdHgsICdtYWluJywgW1xuICAgICAgICAgIFsgZWwsICdwb2ludGVyZG93bicsICdzdGFydCcsICdwYXNzaXZlJyBdLFxuICAgICAgICAgIFsgZWwsICdjbGljaycsICdzdGFydCcsICdwYXNzaXZlJyBdLFxuICAgICAgICAgIFsgZWwsICdrZXlkb3duJywgJ2tleXN0YXJ0JywgJ3Bhc3NpdmUnIF0sXG4gICAgICAgICAgWyBlbCwgJ2tleXVwJywgJ2tleXN0YXJ0JywgJ3Bhc3NpdmUnIF1cbiAgICAgICAgXSlcbiAgICAgIH0sXG5cbiAgICAgIHVwZGF0ZWQgKGVsLCBiaW5kaW5nKSB7XG4gICAgICAgIGlmIChiaW5kaW5nLm9sZFZhbHVlICE9PSBiaW5kaW5nLnZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgY3R4ID0gZWwuX19xcmlwcGxlXG4gICAgICAgICAgaWYgKGN0eCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjdHguZW5hYmxlZCA9IGJpbmRpbmcudmFsdWUgIT09IGZhbHNlXG5cbiAgICAgICAgICAgIGlmIChjdHguZW5hYmxlZCA9PT0gdHJ1ZSAmJiBPYmplY3QoYmluZGluZy52YWx1ZSkgPT09IGJpbmRpbmcudmFsdWUpIHtcbiAgICAgICAgICAgICAgdXBkYXRlTW9kaWZpZXJzKGN0eCwgYmluZGluZylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGJlZm9yZVVubW91bnQgKGVsKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IGVsLl9fcXJpcHBsZVxuICAgICAgICBpZiAoY3R4ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjdHguYWJvcnQuZm9yRWFjaChmbiA9PiB7IGZuKCkgfSlcbiAgICAgICAgICBjbGVhbkV2dChjdHgsICdtYWluJylcbiAgICAgICAgICBkZWxldGUgZWwuX3FyaXBwbGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbilcbiIsImltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSAndnVlJ1xuXG5leHBvcnQgY29uc3QgYWxpZ25NYXAgPSB7XG4gIGxlZnQ6ICdzdGFydCcsXG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gIHJpZ2h0OiAnZW5kJyxcbiAgYmV0d2VlbjogJ2JldHdlZW4nLFxuICBhcm91bmQ6ICdhcm91bmQnLFxuICBldmVubHk6ICdldmVubHknLFxuICBzdHJldGNoOiAnc3RyZXRjaCdcbn1cblxuZXhwb3J0IGNvbnN0IGFsaWduVmFsdWVzID0gT2JqZWN0LmtleXMoYWxpZ25NYXApXG5cbmV4cG9ydCBjb25zdCB1c2VBbGlnblByb3BzID0ge1xuICBhbGlnbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB2YWxpZGF0b3I6IHYgPT4gYWxpZ25WYWx1ZXMuaW5jbHVkZXModilcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgLy8gcmV0dXJuIGFsaWduQ2xhc3NcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCBhbGlnbiA9IHByb3BzLmFsaWduID09PSB2b2lkIDBcbiAgICAgID8gcHJvcHMudmVydGljYWwgPT09IHRydWUgPyAnc3RyZXRjaCcgOiAnbGVmdCdcbiAgICAgIDogcHJvcHMuYWxpZ25cblxuICAgIHJldHVybiBgJHsgcHJvcHMudmVydGljYWwgPT09IHRydWUgPyAnaXRlbXMnIDogJ2p1c3RpZnknIH0tJHsgYWxpZ25NYXBbIGFsaWduIF0gfWBcbiAgfSlcbn1cbiIsIi8qXG4gKiBJbnNwaXJlZCBieSBSb3V0ZXJMaW5rIGZyb20gVnVlIFJvdXRlclxuICogIC0tPiBBUEkgc2hvdWxkIG1hdGNoIVxuICovXG5cbmltcG9ydCB7IGNvbXB1dGVkLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCB7IHZtSGFzUm91dGVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS52bS92bS5qcydcblxuLy8gR2V0IHRoZSBvcmlnaW5hbCBwYXRoIHZhbHVlIG9mIGEgcmVjb3JkIGJ5IGZvbGxvd2luZyBpdHMgYWxpYXNPZlxuZnVuY3Rpb24gZ2V0T3JpZ2luYWxQYXRoIChyZWNvcmQpIHtcbiAgcmV0dXJuIHJlY29yZFxuICAgID8gKFxuICAgICAgICByZWNvcmQuYWxpYXNPZlxuICAgICAgICAgID8gcmVjb3JkLmFsaWFzT2YucGF0aFxuICAgICAgICAgIDogcmVjb3JkLnBhdGhcbiAgICAgICkgOiAnJ1xufVxuXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZVJlY29yZCAoYSwgYikge1xuICAvLyBzaW5jZSB0aGUgb3JpZ2luYWwgcmVjb3JkIGhhcyBhbiB1bmRlZmluZWQgdmFsdWUgZm9yIGFsaWFzT2ZcbiAgLy8gYnV0IGFsbCBhbGlhc2VzIHBvaW50IHRvIHRoZSBvcmlnaW5hbCByZWNvcmQsIHRoaXMgd2lsbCBhbHdheXMgY29tcGFyZVxuICAvLyB0aGUgb3JpZ2luYWwgcmVjb3JkXG4gIHJldHVybiAoYS5hbGlhc09mIHx8IGEpID09PSAoYi5hbGlhc09mIHx8IGIpXG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzUGFyYW1zIChvdXRlciwgaW5uZXIpIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gaW5uZXIpIHtcbiAgICBjb25zdFxuICAgICAgaW5uZXJWYWx1ZSA9IGlubmVyWyBrZXkgXSxcbiAgICAgIG91dGVyVmFsdWUgPSBvdXRlclsga2V5IF1cblxuICAgIGlmICh0eXBlb2YgaW5uZXJWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChpbm5lclZhbHVlICE9PSBvdXRlclZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChcbiAgICAgIEFycmF5LmlzQXJyYXkob3V0ZXJWYWx1ZSkgPT09IGZhbHNlXG4gICAgICB8fCBvdXRlclZhbHVlLmxlbmd0aCAhPT0gaW5uZXJWYWx1ZS5sZW5ndGhcbiAgICAgIHx8IGlubmVyVmFsdWUuc29tZSgodmFsdWUsIGkpID0+IHZhbHVlICE9PSBvdXRlclZhbHVlWyBpIF0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBpc0VxdWl2YWxlbnRBcnJheSAoYSwgYikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShiKSA9PT0gdHJ1ZVxuICAgID8gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoKHZhbHVlLCBpKSA9PiB2YWx1ZSA9PT0gYlsgaSBdKVxuICAgIDogYS5sZW5ndGggPT09IDEgJiYgYVsgMCBdID09PSBiXG59XG5cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXNWYWx1ZSAoYSwgYikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA9PT0gdHJ1ZVxuICAgID8gaXNFcXVpdmFsZW50QXJyYXkoYSwgYilcbiAgICA6IChcbiAgICAgICAgQXJyYXkuaXNBcnJheShiKSA9PT0gdHJ1ZVxuICAgICAgICAgID8gaXNFcXVpdmFsZW50QXJyYXkoYiwgYSlcbiAgICAgICAgICA6IGEgPT09IGJcbiAgICAgIClcbn1cblxuZnVuY3Rpb24gaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyAoYSwgYikge1xuICBpZiAoT2JqZWN0LmtleXMoYSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICBpZiAoaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtc1ZhbHVlKGFbIGtleSBdLCBiWyBrZXkgXSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgY29uc3QgdXNlUm91dGVyTGlua05vbk1hdGNoaW5nUHJvcHMgPSB7XG4gIC8vIHJvdXRlci1saW5rXG4gIHRvOiBbIFN0cmluZywgT2JqZWN0IF0sXG4gIHJlcGxhY2U6IEJvb2xlYW4sXG5cbiAgLy8gcmVndWxhciA8YT4gbGlua1xuICBocmVmOiBTdHJpbmcsXG4gIHRhcmdldDogU3RyaW5nLFxuXG4gIC8vIHN0YXRlXG4gIGRpc2FibGU6IEJvb2xlYW5cbn1cblxuZXhwb3J0IGNvbnN0IHVzZVJvdXRlckxpbmtQcm9wcyA9IHtcbiAgLi4udXNlUm91dGVyTGlua05vbk1hdGNoaW5nUHJvcHMsXG5cbiAgLy8gcm91dGVyLWxpbmtcbiAgZXhhY3Q6IEJvb2xlYW4sXG4gIGFjdGl2ZUNsYXNzOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdxLXJvdXRlci1saW5rLS1hY3RpdmUnXG4gIH0sXG4gIGV4YWN0QWN0aXZlQ2xhc3M6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogJ3Etcm91dGVyLWxpbmstLWV4YWN0LWFjdGl2ZSdcbiAgfVxufVxuXG4vLyBleHRlcm5hbCBwcm9wczogdHlwZSwgdGFnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh7IGZhbGxiYWNrVGFnLCB1c2VEaXNhYmxlRm9yUm91dGVyTGlua1Byb3BzID0gdHJ1ZSB9ID0ge30pIHtcbiAgY29uc3Qgdm0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKVxuICBjb25zdCB7IHByb3BzLCBwcm94eSwgZW1pdCB9ID0gdm1cblxuICBjb25zdCBoYXNSb3V0ZXIgPSB2bUhhc1JvdXRlcih2bSlcbiAgY29uc3QgaGFzSHJlZkxpbmsgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy5kaXNhYmxlICE9PSB0cnVlICYmIHByb3BzLmhyZWYgIT09IHZvaWQgMClcblxuICAvLyBmb3IgcGVyZiByZWFzb25zLCB3ZSB1c2UgbWluaW11bSBhbW91bnQgb2YgcnVudGltZSB3b3JrXG4gIGNvbnN0IGhhc1JvdXRlckxpbmtQcm9wcyA9IHVzZURpc2FibGVGb3JSb3V0ZXJMaW5rUHJvcHMgPT09IHRydWVcbiAgICA/IGNvbXB1dGVkKCgpID0+XG4gICAgICBoYXNSb3V0ZXIgPT09IHRydWVcbiAgICAgICYmIHByb3BzLmRpc2FibGUgIT09IHRydWVcbiAgICAgICYmIGhhc0hyZWZMaW5rLnZhbHVlICE9PSB0cnVlXG4gICAgICAmJiBwcm9wcy50byAhPT0gdm9pZCAwICYmIHByb3BzLnRvICE9PSBudWxsICYmIHByb3BzLnRvICE9PSAnJ1xuICAgIClcbiAgICA6IGNvbXB1dGVkKCgpID0+XG4gICAgICBoYXNSb3V0ZXIgPT09IHRydWVcbiAgICAgICYmIGhhc0hyZWZMaW5rLnZhbHVlICE9PSB0cnVlXG4gICAgICAmJiBwcm9wcy50byAhPT0gdm9pZCAwICYmIHByb3BzLnRvICE9PSBudWxsICYmIHByb3BzLnRvICE9PSAnJ1xuICAgIClcblxuICBjb25zdCByZXNvbHZlZExpbmsgPSBjb21wdXRlZCgoKSA9PiAoXG4gICAgaGFzUm91dGVyTGlua1Byb3BzLnZhbHVlID09PSB0cnVlXG4gICAgICA/IGdldExpbmsocHJvcHMudG8pXG4gICAgICA6IG51bGxcbiAgKSlcblxuICBjb25zdCBoYXNSb3V0ZXJMaW5rID0gY29tcHV0ZWQoKCkgPT4gcmVzb2x2ZWRMaW5rLnZhbHVlICE9PSBudWxsKVxuICBjb25zdCBoYXNMaW5rID0gY29tcHV0ZWQoKCkgPT4gaGFzSHJlZkxpbmsudmFsdWUgPT09IHRydWUgfHwgaGFzUm91dGVyTGluay52YWx1ZSA9PT0gdHJ1ZSlcblxuICBjb25zdCBsaW5rVGFnID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgIHByb3BzLnR5cGUgPT09ICdhJyB8fCBoYXNMaW5rLnZhbHVlID09PSB0cnVlXG4gICAgICA/ICdhJ1xuICAgICAgOiAocHJvcHMudGFnIHx8IGZhbGxiYWNrVGFnIHx8ICdkaXYnKVxuICApKVxuXG4gIGNvbnN0IGxpbmtBdHRycyA9IGNvbXB1dGVkKCgpID0+IChcbiAgICBoYXNIcmVmTGluay52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgPyB7XG4gICAgICAgICAgaHJlZjogcHJvcHMuaHJlZixcbiAgICAgICAgICB0YXJnZXQ6IHByb3BzLnRhcmdldFxuICAgICAgICB9XG4gICAgICA6IChcbiAgICAgICAgICBoYXNSb3V0ZXJMaW5rLnZhbHVlID09PSB0cnVlXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBocmVmOiByZXNvbHZlZExpbmsudmFsdWUuaHJlZixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHByb3BzLnRhcmdldFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHt9XG4gICAgICAgIClcbiAgKSlcblxuICBjb25zdCBsaW5rQWN0aXZlSW5kZXggPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKGhhc1JvdXRlckxpbmsudmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG5cbiAgICBjb25zdFxuICAgICAgeyBtYXRjaGVkIH0gPSByZXNvbHZlZExpbmsudmFsdWUsXG4gICAgICB7IGxlbmd0aCB9ID0gbWF0Y2hlZCxcbiAgICAgIHJvdXRlTWF0Y2hlZCA9IG1hdGNoZWRbIGxlbmd0aCAtIDEgXVxuXG4gICAgaWYgKHJvdXRlTWF0Y2hlZCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50TWF0Y2hlZCA9IHByb3h5LiRyb3V0ZS5tYXRjaGVkXG5cbiAgICBpZiAoY3VycmVudE1hdGNoZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IGN1cnJlbnRNYXRjaGVkLmZpbmRJbmRleChcbiAgICAgIGlzU2FtZVJvdXRlUmVjb3JkLmJpbmQobnVsbCwgcm91dGVNYXRjaGVkKVxuICAgIClcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBpbmRleFxuICAgIH1cblxuICAgIC8vIHBvc3NpYmxlIHBhcmVudCByZWNvcmRcbiAgICBjb25zdCBwYXJlbnRSZWNvcmRQYXRoID0gZ2V0T3JpZ2luYWxQYXRoKG1hdGNoZWRbIGxlbmd0aCAtIDIgXSlcblxuICAgIHJldHVybiAoXG4gICAgICAvLyB3ZSBhcmUgZGVhbGluZyB3aXRoIG5lc3RlZCByb3V0ZXNcbiAgICAgIGxlbmd0aCA+IDFcbiAgICAgIC8vIGlmIHRoZSBwYXJlbnQgYW5kIG1hdGNoZWQgcm91dGUgaGF2ZSB0aGUgc2FtZSBwYXRoLCB0aGlzIGxpbmsgaXNcbiAgICAgIC8vIHJlZmVycmluZyB0byB0aGUgZW1wdHkgY2hpbGQuIE9yIHdlIGN1cnJlbnRseSBhcmUgb24gYSBkaWZmZXJlbnRcbiAgICAgIC8vIGNoaWxkIG9mIHRoZSBzYW1lIHBhcmVudFxuICAgICAgJiYgZ2V0T3JpZ2luYWxQYXRoKHJvdXRlTWF0Y2hlZCkgPT09IHBhcmVudFJlY29yZFBhdGhcbiAgICAgIC8vIGF2b2lkIGNvbXBhcmluZyB0aGUgY2hpbGQgd2l0aCBpdHMgcGFyZW50XG4gICAgICAmJiBjdXJyZW50TWF0Y2hlZFsgY3VycmVudE1hdGNoZWQubGVuZ3RoIC0gMSBdLnBhdGggIT09IHBhcmVudFJlY29yZFBhdGhcbiAgICAgICAgPyBjdXJyZW50TWF0Y2hlZC5maW5kSW5kZXgoXG4gICAgICAgICAgaXNTYW1lUm91dGVSZWNvcmQuYmluZChudWxsLCBtYXRjaGVkWyBsZW5ndGggLSAyIF0pXG4gICAgICAgIClcbiAgICAgICAgOiBpbmRleFxuICAgIClcbiAgfSlcblxuICBjb25zdCBsaW5rSXNBY3RpdmUgPSBjb21wdXRlZCgoKSA9PlxuICAgIGhhc1JvdXRlckxpbmsudmFsdWUgPT09IHRydWVcbiAgICAmJiBsaW5rQWN0aXZlSW5kZXgudmFsdWUgIT09IC0xXG4gICAgJiYgaW5jbHVkZXNQYXJhbXMocHJveHkuJHJvdXRlLnBhcmFtcywgcmVzb2x2ZWRMaW5rLnZhbHVlLnBhcmFtcylcbiAgKVxuXG4gIGNvbnN0IGxpbmtJc0V4YWN0QWN0aXZlID0gY29tcHV0ZWQoKCkgPT5cbiAgICBsaW5rSXNBY3RpdmUudmFsdWUgPT09IHRydWVcbiAgICAgICYmIGxpbmtBY3RpdmVJbmRleC52YWx1ZSA9PT0gcHJveHkuJHJvdXRlLm1hdGNoZWQubGVuZ3RoIC0gMVxuICAgICAgJiYgaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyhwcm94eS4kcm91dGUucGFyYW1zLCByZXNvbHZlZExpbmsudmFsdWUucGFyYW1zKVxuICApXG5cbiAgY29uc3QgbGlua0NsYXNzID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgIGhhc1JvdXRlckxpbmsudmFsdWUgPT09IHRydWVcbiAgICAgID8gKFxuICAgICAgICAgIGxpbmtJc0V4YWN0QWN0aXZlLnZhbHVlID09PSB0cnVlXG4gICAgICAgICAgICA/IGAgJHsgcHJvcHMuZXhhY3RBY3RpdmVDbGFzcyB9ICR7IHByb3BzLmFjdGl2ZUNsYXNzIH1gXG4gICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICBwcm9wcy5leGFjdCA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgICAgICAgOiAobGlua0lzQWN0aXZlLnZhbHVlID09PSB0cnVlID8gYCAkeyBwcm9wcy5hY3RpdmVDbGFzcyB9YCA6ICcnKVxuICAgICAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIDogJydcbiAgKSlcblxuICBmdW5jdGlvbiBnZXRMaW5rICh0bykge1xuICAgIHRyeSB7IHJldHVybiBwcm94eS4kcm91dGVyLnJlc29sdmUodG8pIH1cbiAgICBjYXRjaCAoXykge31cblxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgUHJvbWlzZTxSb3V0ZXJFcnJvciB8IGZhbHNlIHwgdW5kZWZpbmVkPlxuICAgKi9cbiAgZnVuY3Rpb24gbmF2aWdhdGVUb1JvdXRlckxpbmsgKFxuICAgIGUsXG4gICAgeyByZXR1cm5Sb3V0ZXJFcnJvciwgdG8gPSBwcm9wcy50bywgcmVwbGFjZSA9IHByb3BzLnJlcGxhY2UgfSA9IHt9XG4gICkge1xuICAgIGlmIChwcm9wcy5kaXNhYmxlID09PSB0cnVlKSB7XG4gICAgICAvLyBlbnN1cmUgbmF0aXZlIG5hdmlnYXRpb24gaXMgcHJldmVudGVkIGluIGFsbCBjYXNlcyxcbiAgICAgIC8vIGxpa2Ugd2hlbiB1c2VEaXNhYmxlRm9yUm91dGVyTGlua1Byb3BzID09PSBmYWxzZSAoUVJvdXRlVGFiKVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIC8vIGRvbid0IHJlZGlyZWN0IHdpdGggY29udHJvbCBrZXlzO1xuICAgICAgLy8gc2hvdWxkIG1hdGNoIFJvdXRlckxpbmsgZnJvbSBWdWUgUm91dGVyXG4gICAgICBlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUuc2hpZnRLZXlcblxuICAgICAgLy8gZG9uJ3QgcmVkaXJlY3Qgb24gcmlnaHQgY2xpY2tcbiAgICAgIHx8IChlLmJ1dHRvbiAhPT0gdm9pZCAwICYmIGUuYnV0dG9uICE9PSAwKVxuXG4gICAgICAvLyBkb24ndCByZWRpcmVjdCBpZiBpdCBzaG91bGQgb3BlbiBpbiBhIG5ldyB3aW5kb3dcbiAgICAgIHx8IHByb3BzLnRhcmdldCA9PT0gJ19ibGFuaydcbiAgICApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpXG4gICAgfVxuXG4gICAgLy8gaGluZGVyIHRoZSBuYXRpdmUgbmF2aWdhdGlvblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgLy8gdGhlbigpIGNhbiBhbHNvIHJldHVybiBhIFwic29mdFwiIHJvdXRlciBlcnJvciAoVnVlIFJvdXRlciBiZWhhdmlvcilcbiAgICBjb25zdCBwcm9taXNlID0gcHJveHkuJHJvdXRlclsgcmVwbGFjZSA9PT0gdHJ1ZSA/ICdyZXBsYWNlJyA6ICdwdXNoJyBdKHRvKVxuXG4gICAgcmV0dXJuIHJldHVyblJvdXRlckVycm9yID09PSB0cnVlXG4gICAgICA/IHByb21pc2VcbiAgICAgIC8vIGVsc2UgY2F0Y2hpbmcgaGFyZCBlcnJvcnMgYW5kIGFsc28gXCJzb2Z0XCIgb25lcyAtIHRoZW4oZXJyID0+IC4uLilcbiAgICAgIDogcHJvbWlzZS50aGVuKCgpID0+IHt9KS5jYXRjaCgoKSA9PiB7fSlcbiAgfVxuXG4gIC8vIHdhcm5pbmchIGVuc3VyZSB0aGF0IHRoZSBjb21wb25lbnQgdXNpbmcgaXQgaGFzICdjbGljaycgaW5jbHVkZWQgaW4gaXRzICdlbWl0cycgZGVmaW5pdGlvbiBwcm9wXG4gIGZ1bmN0aW9uIG5hdmlnYXRlT25DbGljayAoZSkge1xuICAgIGlmIChoYXNSb3V0ZXJMaW5rLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBnbyA9IG9wdHMgPT4gbmF2aWdhdGVUb1JvdXRlckxpbmsoZSwgb3B0cylcblxuICAgICAgZW1pdCgnY2xpY2snLCBlLCBnbylcbiAgICAgIGUuZGVmYXVsdFByZXZlbnRlZCAhPT0gdHJ1ZSAmJiBnbygpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZW1pdCgnY2xpY2snLCBlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaGFzUm91dGVyTGluayxcbiAgICBoYXNIcmVmTGluayxcbiAgICBoYXNMaW5rLFxuXG4gICAgbGlua1RhZyxcbiAgICByZXNvbHZlZExpbmssXG4gICAgbGlua0lzQWN0aXZlLFxuICAgIGxpbmtJc0V4YWN0QWN0aXZlLFxuICAgIGxpbmtDbGFzcyxcbiAgICBsaW5rQXR0cnMsXG5cbiAgICBnZXRMaW5rLFxuICAgIG5hdmlnYXRlVG9Sb3V0ZXJMaW5rLFxuICAgIG5hdmlnYXRlT25DbGlja1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IHVzZUFsaWduLCB7IHVzZUFsaWduUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1hbGlnbi91c2UtYWxpZ24uanMnXG5pbXBvcnQgdXNlU2l6ZSwgeyB1c2VTaXplUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1zaXplL3VzZS1zaXplLmpzJ1xuaW1wb3J0IHVzZVJvdXRlckxpbmssIHsgdXNlUm91dGVyTGlua05vbk1hdGNoaW5nUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1yb3V0ZXItbGluay91c2Utcm91dGVyLWxpbmsuanMnXG5cbmV4cG9ydCBjb25zdCBidG5QYWRkaW5nID0ge1xuICBub25lOiAwLFxuICB4czogNCxcbiAgc206IDgsXG4gIG1kOiAxNixcbiAgbGc6IDI0LFxuICB4bDogMzJcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTaXplcyA9IHtcbiAgeHM6IDgsXG4gIHNtOiAxMCxcbiAgbWQ6IDE0LFxuICBsZzogMjAsXG4gIHhsOiAyNFxufVxuXG5jb25zdCBmb3JtVHlwZXMgPSBbICdidXR0b24nLCAnc3VibWl0JywgJ3Jlc2V0JyBdXG5jb25zdCBtZWRpYVR5cGVSRSA9IC9bXlxcc11cXC9bXlxcc10vXG5cbmV4cG9ydCBjb25zdCBidG5EZXNpZ25PcHRpb25zID0gWyAnZmxhdCcsICdvdXRsaW5lJywgJ3B1c2gnLCAndW5lbGV2YXRlZCcgXVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QnRuRGVzaWduIChwcm9wcywgZGVmYXVsdFZhbHVlKSB7XG4gIGlmIChwcm9wcy5mbGF0ID09PSB0cnVlKSByZXR1cm4gJ2ZsYXQnXG4gIGlmIChwcm9wcy5vdXRsaW5lID09PSB0cnVlKSByZXR1cm4gJ291dGxpbmUnXG4gIGlmIChwcm9wcy5wdXNoID09PSB0cnVlKSByZXR1cm4gJ3B1c2gnXG4gIGlmIChwcm9wcy51bmVsZXZhdGVkID09PSB0cnVlKSByZXR1cm4gJ3VuZWxldmF0ZWQnXG4gIHJldHVybiBkZWZhdWx0VmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ0bkRlc2lnbkF0dHIgKHByb3BzKSB7XG4gIGNvbnN0IGRlc2lnbiA9IGdldEJ0bkRlc2lnbihwcm9wcylcbiAgcmV0dXJuIGRlc2lnbiAhPT0gdm9pZCAwXG4gICAgPyB7IFsgZGVzaWduIF06IHRydWUgfVxuICAgIDoge31cbn1cblxuZXhwb3J0IGNvbnN0IG5vblJvdW5kQnRuUHJvcHMgPSB7XG4gIC4uLnVzZVNpemVQcm9wcyxcbiAgLi4udXNlUm91dGVyTGlua05vbk1hdGNoaW5nUHJvcHMsXG5cbiAgdHlwZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiAnYnV0dG9uJ1xuICB9LFxuXG4gIGxhYmVsOiBbIE51bWJlciwgU3RyaW5nIF0sXG4gIGljb246IFN0cmluZyxcbiAgaWNvblJpZ2h0OiBTdHJpbmcsXG5cbiAgLi4uYnRuRGVzaWduT3B0aW9ucy5yZWR1Y2UoXG4gICAgKGFjYywgdmFsKSA9PiAoYWNjWyB2YWwgXSA9IEJvb2xlYW4pICYmIGFjYyxcbiAgICB7fVxuICApLFxuXG4gIHNxdWFyZTogQm9vbGVhbixcbiAgcm91bmRlZDogQm9vbGVhbixcbiAgZ2xvc3N5OiBCb29sZWFuLFxuXG4gIHNpemU6IFN0cmluZyxcbiAgZmFiOiBCb29sZWFuLFxuICBmYWJNaW5pOiBCb29sZWFuLFxuICBwYWRkaW5nOiBTdHJpbmcsXG5cbiAgY29sb3I6IFN0cmluZyxcbiAgdGV4dENvbG9yOiBTdHJpbmcsXG4gIG5vQ2FwczogQm9vbGVhbixcbiAgbm9XcmFwOiBCb29sZWFuLFxuICBkZW5zZTogQm9vbGVhbixcblxuICB0YWJpbmRleDogWyBOdW1iZXIsIFN0cmluZyBdLFxuXG4gIHJpcHBsZToge1xuICAgIHR5cGU6IFsgQm9vbGVhbiwgT2JqZWN0IF0sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuXG4gIGFsaWduOiB7XG4gICAgLi4udXNlQWxpZ25Qcm9wcy5hbGlnbixcbiAgICBkZWZhdWx0OiAnY2VudGVyJ1xuICB9LFxuICBzdGFjazogQm9vbGVhbixcbiAgc3RyZXRjaDogQm9vbGVhbixcbiAgbG9hZGluZzoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogbnVsbFxuICB9LFxuICBkaXNhYmxlOiBCb29sZWFuXG59XG5cbmV4cG9ydCBjb25zdCB1c2VCdG5Qcm9wcyA9IHtcbiAgLi4ubm9uUm91bmRCdG5Qcm9wcyxcbiAgcm91bmQ6IEJvb2xlYW5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHByb3BzKSB7XG4gIGNvbnN0IHNpemVTdHlsZSA9IHVzZVNpemUocHJvcHMsIGRlZmF1bHRTaXplcylcbiAgY29uc3QgYWxpZ25DbGFzcyA9IHVzZUFsaWduKHByb3BzKVxuICBjb25zdCB7IGhhc1JvdXRlckxpbmssIGhhc0xpbmssIGxpbmtUYWcsIGxpbmtBdHRycywgbmF2aWdhdGVPbkNsaWNrIH0gPSB1c2VSb3V0ZXJMaW5rKHtcbiAgICBmYWxsYmFja1RhZzogJ2J1dHRvbidcbiAgfSlcblxuICBjb25zdCBzdHlsZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCBvYmogPSBwcm9wcy5mYWIgPT09IGZhbHNlICYmIHByb3BzLmZhYk1pbmkgPT09IGZhbHNlXG4gICAgICA/IHNpemVTdHlsZS52YWx1ZVxuICAgICAgOiB7fVxuXG4gICAgcmV0dXJuIHByb3BzLnBhZGRpbmcgIT09IHZvaWQgMFxuICAgICAgPyBPYmplY3QuYXNzaWduKHt9LCBvYmosIHtcbiAgICAgICAgcGFkZGluZzogcHJvcHMucGFkZGluZ1xuICAgICAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAgICAgLm1hcCh2ID0+ICh2IGluIGJ0blBhZGRpbmcgPyBidG5QYWRkaW5nWyB2IF0gKyAncHgnIDogdikpXG4gICAgICAgICAgLmpvaW4oJyAnKSxcbiAgICAgICAgbWluV2lkdGg6ICcwJyxcbiAgICAgICAgbWluSGVpZ2h0OiAnMCdcbiAgICAgIH0pXG4gICAgICA6IG9ialxuICB9KVxuXG4gIGNvbnN0IGlzUm91bmRlZCA9IGNvbXB1dGVkKCgpID0+XG4gICAgcHJvcHMucm91bmRlZCA9PT0gdHJ1ZSB8fCBwcm9wcy5mYWIgPT09IHRydWUgfHwgcHJvcHMuZmFiTWluaSA9PT0gdHJ1ZVxuICApXG5cbiAgY29uc3QgaXNBY3Rpb25hYmxlID0gY29tcHV0ZWQoKCkgPT5cbiAgICBwcm9wcy5kaXNhYmxlICE9PSB0cnVlICYmIHByb3BzLmxvYWRpbmcgIT09IHRydWVcbiAgKVxuXG4gIGNvbnN0IHRhYkluZGV4ID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgIGlzQWN0aW9uYWJsZS52YWx1ZSA9PT0gdHJ1ZSA/IHByb3BzLnRhYmluZGV4IHx8IDAgOiAtMVxuICApKVxuXG4gIGNvbnN0IGRlc2lnbiA9IGNvbXB1dGVkKCgpID0+IGdldEJ0bkRlc2lnbihwcm9wcywgJ3N0YW5kYXJkJykpXG5cbiAgY29uc3QgYXR0cmlidXRlcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCBhY2MgPSB7IHRhYmluZGV4OiB0YWJJbmRleC52YWx1ZSB9XG5cbiAgICBpZiAoaGFzTGluay52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgT2JqZWN0LmFzc2lnbihhY2MsIGxpbmtBdHRycy52YWx1ZSlcbiAgICB9XG4gICAgZWxzZSBpZiAoZm9ybVR5cGVzLmluY2x1ZGVzKHByb3BzLnR5cGUpID09PSB0cnVlKSB7XG4gICAgICBhY2MudHlwZSA9IHByb3BzLnR5cGVcbiAgICB9XG5cbiAgICBpZiAobGlua1RhZy52YWx1ZSA9PT0gJ2EnKSB7XG4gICAgICBpZiAocHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgICBhY2NbICdhcmlhLWRpc2FibGVkJyBdID0gJ3RydWUnXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhY2MuaHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGFjYy5yb2xlID0gJ2J1dHRvbidcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc1JvdXRlckxpbmsudmFsdWUgIT09IHRydWUgJiYgbWVkaWFUeXBlUkUudGVzdChwcm9wcy50eXBlKSA9PT0gdHJ1ZSkge1xuICAgICAgICBhY2MudHlwZSA9IHByb3BzLnR5cGVcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAocHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgYWNjLmRpc2FibGVkID0gJydcbiAgICAgIGFjY1sgJ2FyaWEtZGlzYWJsZWQnIF0gPSAndHJ1ZSdcbiAgICB9XG5cbiAgICBpZiAocHJvcHMubG9hZGluZyA9PT0gdHJ1ZSAmJiBwcm9wcy5wZXJjZW50YWdlICE9PSB2b2lkIDApIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oYWNjLCB7XG4gICAgICAgIHJvbGU6ICdwcm9ncmVzc2JhcicsXG4gICAgICAgICdhcmlhLXZhbHVlbWluJzogMCxcbiAgICAgICAgJ2FyaWEtdmFsdWVtYXgnOiAxMDAsXG4gICAgICAgICdhcmlhLXZhbHVlbm93JzogcHJvcHMucGVyY2VudGFnZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjXG4gIH0pXG5cbiAgY29uc3QgY2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBsZXQgY29sb3JzXG5cbiAgICBpZiAocHJvcHMuY29sb3IgIT09IHZvaWQgMCkge1xuICAgICAgaWYgKHByb3BzLmZsYXQgPT09IHRydWUgfHwgcHJvcHMub3V0bGluZSA9PT0gdHJ1ZSkge1xuICAgICAgICBjb2xvcnMgPSBgdGV4dC0keyBwcm9wcy50ZXh0Q29sb3IgfHwgcHJvcHMuY29sb3IgfWBcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb2xvcnMgPSBgYmctJHsgcHJvcHMuY29sb3IgfSB0ZXh0LSR7IHByb3BzLnRleHRDb2xvciB8fCAnd2hpdGUnIH1gXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3BzLnRleHRDb2xvcikge1xuICAgICAgY29sb3JzID0gYHRleHQtJHsgcHJvcHMudGV4dENvbG9yIH1gXG4gICAgfVxuXG4gICAgY29uc3Qgc2hhcGUgPSBwcm9wcy5yb3VuZCA9PT0gdHJ1ZVxuICAgICAgPyAncm91bmQnXG4gICAgICA6IGByZWN0YW5nbGUkeyBpc1JvdW5kZWQudmFsdWUgPT09IHRydWUgPyAnIHEtYnRuLS1yb3VuZGVkJyA6IChwcm9wcy5zcXVhcmUgPT09IHRydWUgPyAnIHEtYnRuLS1zcXVhcmUnIDogJycpIH1gXG5cbiAgICByZXR1cm4gYHEtYnRuLS0keyBkZXNpZ24udmFsdWUgfSBxLWJ0bi0tJHsgc2hhcGUgfWBcbiAgICAgICsgKGNvbG9ycyAhPT0gdm9pZCAwID8gJyAnICsgY29sb3JzIDogJycpXG4gICAgICArIChpc0FjdGlvbmFibGUudmFsdWUgPT09IHRydWUgPyAnIHEtYnRuLS1hY3Rpb25hYmxlIHEtZm9jdXNhYmxlIHEtaG92ZXJhYmxlJyA6IChwcm9wcy5kaXNhYmxlID09PSB0cnVlID8gJyBkaXNhYmxlZCcgOiAnJykpXG4gICAgICArIChwcm9wcy5mYWIgPT09IHRydWUgPyAnIHEtYnRuLS1mYWInIDogKHByb3BzLmZhYk1pbmkgPT09IHRydWUgPyAnIHEtYnRuLS1mYWItbWluaScgOiAnJykpXG4gICAgICArIChwcm9wcy5ub0NhcHMgPT09IHRydWUgPyAnIHEtYnRuLS1uby11cHBlcmNhc2UnIDogJycpXG4gICAgICArIChwcm9wcy5kZW5zZSA9PT0gdHJ1ZSA/ICcgcS1idG4tLWRlbnNlJyA6ICcnKVxuICAgICAgKyAocHJvcHMuc3RyZXRjaCA9PT0gdHJ1ZSA/ICcgbm8tYm9yZGVyLXJhZGl1cyBzZWxmLXN0cmV0Y2gnIDogJycpXG4gICAgICArIChwcm9wcy5nbG9zc3kgPT09IHRydWUgPyAnIGdsb3NzeScgOiAnJylcbiAgICAgICsgKHByb3BzLnNxdWFyZSA/ICcgcS1idG4tLXNxdWFyZScgOiAnJylcbiAgfSlcblxuICBjb25zdCBpbm5lckNsYXNzZXMgPSBjb21wdXRlZCgoKSA9PlxuICAgIGFsaWduQ2xhc3MudmFsdWUgKyAocHJvcHMuc3RhY2sgPT09IHRydWUgPyAnIGNvbHVtbicgOiAnIHJvdycpXG4gICAgKyAocHJvcHMubm9XcmFwID09PSB0cnVlID8gJyBuby13cmFwIHRleHQtbm8td3JhcCcgOiAnJylcbiAgICArIChwcm9wcy5sb2FkaW5nID09PSB0cnVlID8gJyBxLWJ0bl9fY29udGVudC0taGlkZGVuJyA6ICcnKVxuICApXG5cbiAgcmV0dXJuIHtcbiAgICBjbGFzc2VzLFxuICAgIHN0eWxlLFxuICAgIGlubmVyQ2xhc3NlcyxcbiAgICBhdHRyaWJ1dGVzLFxuICAgIGhhc0xpbmssXG4gICAgbGlua1RhZyxcbiAgICBuYXZpZ2F0ZU9uQ2xpY2ssXG4gICAgaXNBY3Rpb25hYmxlXG4gIH1cbn1cbiIsImltcG9ydCB7IGgsIHJlZiwgY29tcHV0ZWQsIFRyYW5zaXRpb24sIG9uQmVmb3JlVW5tb3VudCwgd2l0aERpcmVjdGl2ZXMsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IFFJY29uIGZyb20gJy4uL2ljb24vUUljb24uanMnXG5pbXBvcnQgUVNwaW5uZXIgZnJvbSAnLi4vc3Bpbm5lci9RU3Bpbm5lci5qcydcblxuaW1wb3J0IFJpcHBsZSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzL3JpcHBsZS9SaXBwbGUuanMnXG5cbmltcG9ydCB1c2VCdG4sIHsgdXNlQnRuUHJvcHMgfSBmcm9tICcuL3VzZS1idG4uanMnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcbmltcG9ydCB7IGhNZXJnZVNsb3QgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLnJlbmRlci9yZW5kZXIuanMnXG5pbXBvcnQgeyBzdG9wLCBwcmV2ZW50LCBzdG9wQW5kUHJldmVudCwgbGlzdGVuT3B0cyB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50L2V2ZW50LmpzJ1xuaW1wb3J0IHsgaXNLZXlDb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5rZXlib2FyZC9rZXktY29tcG9zaXRpb24uanMnXG5cbmNvbnN0IHsgcGFzc2l2ZUNhcHR1cmUgfSA9IGxpc3Rlbk9wdHNcblxubGV0XG4gIHRvdWNoVGFyZ2V0ID0gbnVsbCxcbiAga2V5Ym9hcmRUYXJnZXQgPSBudWxsLFxuICBtb3VzZVRhcmdldCA9IG51bGxcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KHtcbiAgbmFtZTogJ1FCdG4nLFxuXG4gIHByb3BzOiB7XG4gICAgLi4udXNlQnRuUHJvcHMsXG5cbiAgICBwZXJjZW50YWdlOiBOdW1iZXIsXG4gICAgZGFya1BlcmNlbnRhZ2U6IEJvb2xlYW4sXG5cbiAgICBvblRvdWNoc3RhcnQ6IFsgRnVuY3Rpb24sIEFycmF5IF1cbiAgfSxcblxuICBlbWl0czogWyAnY2xpY2snLCAna2V5ZG93bicsICdtb3VzZWRvd24nLCAna2V5dXAnIF0sXG5cbiAgc2V0dXAgKHByb3BzLCB7IHNsb3RzLCBlbWl0IH0pIHtcbiAgICBjb25zdCB7IHByb3h5IH0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKVxuXG4gICAgY29uc3Qge1xuICAgICAgY2xhc3Nlcywgc3R5bGUsIGlubmVyQ2xhc3NlcyxcbiAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICBoYXNMaW5rLCBsaW5rVGFnLCBuYXZpZ2F0ZU9uQ2xpY2ssXG4gICAgICBpc0FjdGlvbmFibGVcbiAgICB9ID0gdXNlQnRuKHByb3BzKVxuXG4gICAgY29uc3Qgcm9vdFJlZiA9IHJlZihudWxsKVxuICAgIGNvbnN0IGJsdXJUYXJnZXRSZWYgPSByZWYobnVsbClcblxuICAgIGxldCBsb2NhbFRvdWNoVGFyZ2V0RWwgPSBudWxsLCBhdm9pZE1vdXNlUmlwcGxlLCBtb3VzZVRpbWVyID0gbnVsbFxuXG4gICAgY29uc3QgaGFzTGFiZWwgPSBjb21wdXRlZCgoKSA9PlxuICAgICAgcHJvcHMubGFiZWwgIT09IHZvaWQgMCAmJiBwcm9wcy5sYWJlbCAhPT0gbnVsbCAmJiBwcm9wcy5sYWJlbCAhPT0gJydcbiAgICApXG5cbiAgICBjb25zdCByaXBwbGUgPSBjb21wdXRlZCgoKSA9PiAoXG4gICAgICBwcm9wcy5kaXNhYmxlID09PSB0cnVlIHx8IHByb3BzLnJpcHBsZSA9PT0gZmFsc2VcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIGtleUNvZGVzOiBoYXNMaW5rLnZhbHVlID09PSB0cnVlID8gWyAxMywgMzIgXSA6IFsgMTMgXSxcbiAgICAgICAgICAgIC4uLihwcm9wcy5yaXBwbGUgPT09IHRydWUgPyB7fSA6IHByb3BzLnJpcHBsZSlcbiAgICAgICAgICB9XG4gICAgKSlcblxuICAgIGNvbnN0IHJpcHBsZVByb3BzID0gY29tcHV0ZWQoKCkgPT4gKHsgY2VudGVyOiBwcm9wcy5yb3VuZCB9KSlcblxuICAgIGNvbnN0IHBlcmNlbnRhZ2VTdHlsZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHZhbCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcHJvcHMucGVyY2VudGFnZSkpXG4gICAgICByZXR1cm4gdmFsID4gMFxuICAgICAgICA/IHsgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjZzJywgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgkeyB2YWwgLSAxMDAgfSUpYCB9XG4gICAgICAgIDoge31cbiAgICB9KVxuXG4gICAgY29uc3Qgb25FdmVudHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAocHJvcHMubG9hZGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG9uTW91c2Vkb3duOiBvbkxvYWRpbmdFdnQsXG4gICAgICAgICAgb25Ub3VjaHN0YXJ0OiBvbkxvYWRpbmdFdnQsXG4gICAgICAgICAgb25DbGljazogb25Mb2FkaW5nRXZ0LFxuICAgICAgICAgIG9uS2V5ZG93bjogb25Mb2FkaW5nRXZ0LFxuICAgICAgICAgIG9uS2V5dXA6IG9uTG9hZGluZ0V2dFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FjdGlvbmFibGUudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgY29uc3QgYWNjID0ge1xuICAgICAgICAgIG9uQ2xpY2ssXG4gICAgICAgICAgb25LZXlkb3duLFxuICAgICAgICAgIG9uTW91c2Vkb3duXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJveHkuJHEucGxhdGZvcm0uaGFzLnRvdWNoID09PSB0cnVlKSB7XG4gICAgICAgICAgY29uc3Qgc3VmZml4ID0gcHJvcHMub25Ub3VjaHN0YXJ0ICE9PSB2b2lkIDBcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogJ1Bhc3NpdmUnXG5cbiAgICAgICAgICBhY2NbIGBvblRvdWNoc3RhcnQkeyBzdWZmaXggfWAgXSA9IG9uVG91Y2hzdGFydFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAvLyBuZWVkZWQ7IGVzcGVjaWFsbHkgZm9yIGRpc2FibGVkIDxhPiB0YWdzXG4gICAgICAgIG9uQ2xpY2s6IHN0b3BBbmRQcmV2ZW50XG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IG5vZGVQcm9wcyA9IGNvbXB1dGVkKCgpID0+ICh7XG4gICAgICByZWY6IHJvb3RSZWYsXG4gICAgICBjbGFzczogJ3EtYnRuIHEtYnRuLWl0ZW0gbm9uLXNlbGVjdGFibGUgbm8tb3V0bGluZSAnICsgY2xhc3Nlcy52YWx1ZSxcbiAgICAgIHN0eWxlOiBzdHlsZS52YWx1ZSxcbiAgICAgIC4uLmF0dHJpYnV0ZXMudmFsdWUsXG4gICAgICAuLi5vbkV2ZW50cy52YWx1ZVxuICAgIH0pKVxuXG4gICAgZnVuY3Rpb24gb25DbGljayAoZSkge1xuICAgICAgLy8gaXMgaXQgYWxyZWFkeSBkZXN0cm95ZWQ/XG4gICAgICBpZiAocm9vdFJlZi52YWx1ZSA9PT0gbnVsbCkgcmV0dXJuXG5cbiAgICAgIGlmIChlICE9PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZCA9PT0gdHJ1ZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gICAgICAgIC8vIGZvY3VzIGJ1dHRvbiBpZiBpdCBjYW1lIGZyb20gRU5URVIgb24gZm9ybVxuICAgICAgICAvLyBwcmV2ZW50IHRoZSBuZXcgc3VibWl0IChhbHJlYWR5IGRvbmUpXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcm9wcy50eXBlID09PSAnc3VibWl0J1xuICAgICAgICAgICYmIGVsICE9PSBkb2N1bWVudC5ib2R5XG4gICAgICAgICAgJiYgcm9vdFJlZi52YWx1ZS5jb250YWlucyhlbCkgPT09IGZhbHNlXG4gICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIGlPUyBhbmQgZGVza3RvcCBTYWZhcmlcbiAgICAgICAgICAmJiBlbC5jb250YWlucyhyb290UmVmLnZhbHVlKSA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgZS5xQXZvaWRGb2N1cyAhPT0gdHJ1ZSAmJiByb290UmVmLnZhbHVlLmZvY3VzKClcblxuICAgICAgICAgIGNvbnN0IG9uQ2xpY2tDbGVhbnVwID0gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHN0b3BBbmRQcmV2ZW50LCB0cnVlKVxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBvbkNsaWNrQ2xlYW51cCwgcGFzc2l2ZUNhcHR1cmUpXG4gICAgICAgICAgICByb290UmVmLnZhbHVlPy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgb25DbGlja0NsZWFudXAsIHBhc3NpdmVDYXB0dXJlKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBzdG9wQW5kUHJldmVudCwgdHJ1ZSlcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIG9uQ2xpY2tDbGVhbnVwLCBwYXNzaXZlQ2FwdHVyZSlcbiAgICAgICAgICByb290UmVmLnZhbHVlLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbkNsaWNrQ2xlYW51cCwgcGFzc2l2ZUNhcHR1cmUpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbmF2aWdhdGVPbkNsaWNrKGUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25LZXlkb3duIChlKSB7XG4gICAgICAvLyBpcyBpdCBhbHJlYWR5IGRlc3Ryb3llZD9cbiAgICAgIGlmIChyb290UmVmLnZhbHVlID09PSBudWxsKSByZXR1cm5cblxuICAgICAgZW1pdCgna2V5ZG93bicsIGUpXG5cbiAgICAgIGlmIChpc0tleUNvZGUoZSwgWyAxMywgMzIgXSkgPT09IHRydWUgJiYga2V5Ym9hcmRUYXJnZXQgIT09IHJvb3RSZWYudmFsdWUpIHtcbiAgICAgICAga2V5Ym9hcmRUYXJnZXQgIT09IG51bGwgJiYgY2xlYW51cCgpXG5cbiAgICAgICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIC8vIGZvY3VzIGV4dGVybmFsIGJ1dHRvbiBpZiB0aGUgZm9jdXMgaGVscGVyIHdhcyBmb2N1c2VkIGJlZm9yZVxuICAgICAgICAgIGUucUF2b2lkRm9jdXMgIT09IHRydWUgJiYgcm9vdFJlZi52YWx1ZS5mb2N1cygpXG5cbiAgICAgICAgICBrZXlib2FyZFRhcmdldCA9IHJvb3RSZWYudmFsdWVcbiAgICAgICAgICByb290UmVmLnZhbHVlLmNsYXNzTGlzdC5hZGQoJ3EtYnRuLS1hY3RpdmUnKVxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgb25QcmVzc0VuZCwgdHJ1ZSlcbiAgICAgICAgICByb290UmVmLnZhbHVlLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvblByZXNzRW5kLCBwYXNzaXZlQ2FwdHVyZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHN0b3BBbmRQcmV2ZW50KGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Ub3VjaHN0YXJ0IChlKSB7XG4gICAgICAvLyBpcyBpdCBhbHJlYWR5IGRlc3Ryb3llZD9cbiAgICAgIGlmIChyb290UmVmLnZhbHVlID09PSBudWxsKSByZXR1cm5cblxuICAgICAgZW1pdCgndG91Y2hzdGFydCcsIGUpXG5cbiAgICAgIGlmIChlLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHRydWUpIHJldHVyblxuXG4gICAgICBpZiAodG91Y2hUYXJnZXQgIT09IHJvb3RSZWYudmFsdWUpIHtcbiAgICAgICAgdG91Y2hUYXJnZXQgIT09IG51bGwgJiYgY2xlYW51cCgpXG4gICAgICAgIHRvdWNoVGFyZ2V0ID0gcm9vdFJlZi52YWx1ZVxuXG4gICAgICAgIGxvY2FsVG91Y2hUYXJnZXRFbCA9IGUudGFyZ2V0XG4gICAgICAgIGxvY2FsVG91Y2hUYXJnZXRFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIG9uUHJlc3NFbmQsIHBhc3NpdmVDYXB0dXJlKVxuICAgICAgICBsb2NhbFRvdWNoVGFyZ2V0RWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblByZXNzRW5kLCBwYXNzaXZlQ2FwdHVyZSlcbiAgICAgIH1cblxuICAgICAgLy8gYXZvaWQgZHVwbGljYXRlZCBtb3VzZWRvd24gZXZlbnRcbiAgICAgIC8vIHRyaWdnZXJpbmcgYW5vdGhlciBlYXJseSByaXBwbGVcbiAgICAgIGF2b2lkTW91c2VSaXBwbGUgPSB0cnVlXG4gICAgICBtb3VzZVRpbWVyICE9PSBudWxsICYmIGNsZWFyVGltZW91dChtb3VzZVRpbWVyKVxuICAgICAgbW91c2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBtb3VzZVRpbWVyID0gbnVsbFxuICAgICAgICBhdm9pZE1vdXNlUmlwcGxlID0gZmFsc2VcbiAgICAgIH0sIDIwMClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlZG93biAoZSkge1xuICAgICAgLy8gaXMgaXQgYWxyZWFkeSBkZXN0cm95ZWQ/XG4gICAgICBpZiAocm9vdFJlZi52YWx1ZSA9PT0gbnVsbCkgcmV0dXJuXG5cbiAgICAgIGUucVNraXBSaXBwbGUgPSBhdm9pZE1vdXNlUmlwcGxlID09PSB0cnVlXG4gICAgICBlbWl0KCdtb3VzZWRvd24nLCBlKVxuXG4gICAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkICE9PSB0cnVlICYmIG1vdXNlVGFyZ2V0ICE9PSByb290UmVmLnZhbHVlKSB7XG4gICAgICAgIG1vdXNlVGFyZ2V0ICE9PSBudWxsICYmIGNsZWFudXAoKVxuICAgICAgICBtb3VzZVRhcmdldCA9IHJvb3RSZWYudmFsdWVcbiAgICAgICAgcm9vdFJlZi52YWx1ZS5jbGFzc0xpc3QuYWRkKCdxLWJ0bi0tYWN0aXZlJylcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uUHJlc3NFbmQsIHBhc3NpdmVDYXB0dXJlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUHJlc3NFbmQgKGUpIHtcbiAgICAgIC8vIGlzIGl0IGFscmVhZHkgZGVzdHJveWVkP1xuICAgICAgaWYgKHJvb3RSZWYudmFsdWUgPT09IG51bGwpIHJldHVyblxuXG4gICAgICAvLyBuZWVkZWQgZm9yIElFIChiZWNhdXNlIGl0IGVtaXRzIGJsdXIgd2hlbiBmb2N1c2luZyBidXR0b24gZnJvbSBmb2N1cyBoZWxwZXIpXG4gICAgICBpZiAoXG4gICAgICAgIGU/LnR5cGUgPT09ICdibHVyJ1xuICAgICAgICAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSByb290UmVmLnZhbHVlXG4gICAgICApIHJldHVyblxuXG4gICAgICBpZiAoZT8udHlwZSA9PT0gJ2tleXVwJykge1xuICAgICAgICBpZiAoa2V5Ym9hcmRUYXJnZXQgPT09IHJvb3RSZWYudmFsdWUgJiYgaXNLZXlDb2RlKGUsIFsgMTMsIDMyIF0pID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gZm9yIGNsaWNrIHRyaWdnZXJcbiAgICAgICAgICBjb25zdCBldnQgPSBuZXcgTW91c2VFdmVudCgnY2xpY2snLCBlKVxuICAgICAgICAgIGV2dC5xS2V5RXZlbnQgPSB0cnVlXG4gICAgICAgICAgZS5kZWZhdWx0UHJldmVudGVkID09PSB0cnVlICYmIHByZXZlbnQoZXZ0KVxuICAgICAgICAgIGUuY2FuY2VsQnViYmxlID09PSB0cnVlICYmIHN0b3AoZXZ0KVxuICAgICAgICAgIHJvb3RSZWYudmFsdWUuZGlzcGF0Y2hFdmVudChldnQpXG5cbiAgICAgICAgICBzdG9wQW5kUHJldmVudChlKVxuXG4gICAgICAgICAgLy8gZm9yIHJpcHBsZVxuICAgICAgICAgIGUucUtleUV2ZW50ID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgZW1pdCgna2V5dXAnLCBlKVxuICAgICAgfVxuXG4gICAgICBjbGVhbnVwKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhbnVwIChkZXN0cm95aW5nKSB7XG4gICAgICBjb25zdCBibHVyVGFyZ2V0ID0gYmx1clRhcmdldFJlZi52YWx1ZVxuXG4gICAgICBpZiAoXG4gICAgICAgIGRlc3Ryb3lpbmcgIT09IHRydWVcbiAgICAgICAgJiYgKHRvdWNoVGFyZ2V0ID09PSByb290UmVmLnZhbHVlIHx8IG1vdXNlVGFyZ2V0ID09PSByb290UmVmLnZhbHVlKVxuICAgICAgICAmJiBibHVyVGFyZ2V0ICE9PSBudWxsXG4gICAgICAgICYmIGJsdXJUYXJnZXQgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRcbiAgICAgICkge1xuICAgICAgICBibHVyVGFyZ2V0LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAtMSlcbiAgICAgICAgYmx1clRhcmdldC5mb2N1cygpXG4gICAgICB9XG5cbiAgICAgIGlmICh0b3VjaFRhcmdldCA9PT0gcm9vdFJlZi52YWx1ZSkge1xuICAgICAgICBpZiAobG9jYWxUb3VjaFRhcmdldEVsICE9PSBudWxsKSB7XG4gICAgICAgICAgbG9jYWxUb3VjaFRhcmdldEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgb25QcmVzc0VuZCwgcGFzc2l2ZUNhcHR1cmUpXG4gICAgICAgICAgbG9jYWxUb3VjaFRhcmdldEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25QcmVzc0VuZCwgcGFzc2l2ZUNhcHR1cmUpXG4gICAgICAgIH1cbiAgICAgICAgdG91Y2hUYXJnZXQgPSBsb2NhbFRvdWNoVGFyZ2V0RWwgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIGlmIChtb3VzZVRhcmdldCA9PT0gcm9vdFJlZi52YWx1ZSkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25QcmVzc0VuZCwgcGFzc2l2ZUNhcHR1cmUpXG4gICAgICAgIG1vdXNlVGFyZ2V0ID0gbnVsbFxuICAgICAgfVxuXG4gICAgICBpZiAoa2V5Ym9hcmRUYXJnZXQgPT09IHJvb3RSZWYudmFsdWUpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBvblByZXNzRW5kLCB0cnVlKVxuICAgICAgICByb290UmVmLnZhbHVlPy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgb25QcmVzc0VuZCwgcGFzc2l2ZUNhcHR1cmUpXG4gICAgICAgIGtleWJvYXJkVGFyZ2V0ID0gbnVsbFxuICAgICAgfVxuXG4gICAgICByb290UmVmLnZhbHVlPy5jbGFzc0xpc3QucmVtb3ZlKCdxLWJ0bi0tYWN0aXZlJylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkxvYWRpbmdFdnQgKGV2dCkge1xuICAgICAgc3RvcEFuZFByZXZlbnQoZXZ0KVxuICAgICAgZXZ0LnFTa2lwUmlwcGxlID0gdHJ1ZVxuICAgIH1cblxuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICBjbGVhbnVwKHRydWUpXG4gICAgfSlcblxuICAgIC8vIGV4cG9zZSBwdWJsaWMgbWV0aG9kc1xuICAgIE9iamVjdC5hc3NpZ24ocHJveHksIHtcbiAgICAgIGNsaWNrOiBlID0+IHtcbiAgICAgICAgaWYgKGlzQWN0aW9uYWJsZS52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIG9uQ2xpY2soZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbGV0IGlubmVyID0gW11cblxuICAgICAgcHJvcHMuaWNvbiAhPT0gdm9pZCAwICYmIGlubmVyLnB1c2goXG4gICAgICAgIGgoUUljb24sIHtcbiAgICAgICAgICBuYW1lOiBwcm9wcy5pY29uLFxuICAgICAgICAgIGxlZnQ6IHByb3BzLnN0YWNrICE9PSB0cnVlICYmIGhhc0xhYmVsLnZhbHVlID09PSB0cnVlLFxuICAgICAgICAgIHJvbGU6ICdpbWcnXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGhhc0xhYmVsLnZhbHVlID09PSB0cnVlICYmIGlubmVyLnB1c2goXG4gICAgICAgIGgoJ3NwYW4nLCB7IGNsYXNzOiAnYmxvY2snIH0sIFsgcHJvcHMubGFiZWwgXSlcbiAgICAgIClcblxuICAgICAgaW5uZXIgPSBoTWVyZ2VTbG90KHNsb3RzLmRlZmF1bHQsIGlubmVyKVxuXG4gICAgICBpZiAocHJvcHMuaWNvblJpZ2h0ICE9PSB2b2lkIDAgJiYgcHJvcHMucm91bmQgPT09IGZhbHNlKSB7XG4gICAgICAgIGlubmVyLnB1c2goXG4gICAgICAgICAgaChRSWNvbiwge1xuICAgICAgICAgICAgbmFtZTogcHJvcHMuaWNvblJpZ2h0LFxuICAgICAgICAgICAgcmlnaHQ6IHByb3BzLnN0YWNrICE9PSB0cnVlICYmIGhhc0xhYmVsLnZhbHVlID09PSB0cnVlLFxuICAgICAgICAgICAgcm9sZTogJ2ltZydcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoaWxkID0gW1xuICAgICAgICBoKCdzcGFuJywge1xuICAgICAgICAgIGNsYXNzOiAncS1mb2N1cy1oZWxwZXInLFxuICAgICAgICAgIHJlZjogYmx1clRhcmdldFJlZlxuICAgICAgICB9KVxuICAgICAgXVxuXG4gICAgICBpZiAocHJvcHMubG9hZGluZyA9PT0gdHJ1ZSAmJiBwcm9wcy5wZXJjZW50YWdlICE9PSB2b2lkIDApIHtcbiAgICAgICAgY2hpbGQucHVzaChcbiAgICAgICAgICBoKCdzcGFuJywge1xuICAgICAgICAgICAgY2xhc3M6ICdxLWJ0bl9fcHJvZ3Jlc3MgYWJzb2x1dGUtZnVsbCBvdmVyZmxvdy1oaWRkZW4nICsgKHByb3BzLmRhcmtQZXJjZW50YWdlID09PSB0cnVlID8gJyBxLWJ0bl9fcHJvZ3Jlc3MtLWRhcmsnIDogJycpXG4gICAgICAgICAgfSwgW1xuICAgICAgICAgICAgaCgnc3BhbicsIHtcbiAgICAgICAgICAgICAgY2xhc3M6ICdxLWJ0bl9fcHJvZ3Jlc3MtaW5kaWNhdG9yIGZpdCBibG9jaycsXG4gICAgICAgICAgICAgIHN0eWxlOiBwZXJjZW50YWdlU3R5bGUudmFsdWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXSlcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBjaGlsZC5wdXNoKFxuICAgICAgICBoKCdzcGFuJywge1xuICAgICAgICAgIGNsYXNzOiAncS1idG5fX2NvbnRlbnQgdGV4dC1jZW50ZXIgY29sIGl0ZW1zLWNlbnRlciBxLWFuY2hvci0tc2tpcCAnICsgaW5uZXJDbGFzc2VzLnZhbHVlXG4gICAgICAgIH0sIGlubmVyKVxuICAgICAgKVxuXG4gICAgICBwcm9wcy5sb2FkaW5nICE9PSBudWxsICYmIGNoaWxkLnB1c2goXG4gICAgICAgIGgoVHJhbnNpdGlvbiwge1xuICAgICAgICAgIG5hbWU6ICdxLXRyYW5zaXRpb24tLWZhZGUnXG4gICAgICAgIH0sICgpID0+IChcbiAgICAgICAgICBwcm9wcy5sb2FkaW5nID09PSB0cnVlXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICBoKCdzcGFuJywge1xuICAgICAgICAgICAgICAgICAga2V5OiAnbG9hZGluZycsXG4gICAgICAgICAgICAgICAgICBjbGFzczogJ2Fic29sdXRlLWZ1bGwgZmxleCBmbGV4LWNlbnRlcidcbiAgICAgICAgICAgICAgICB9LCBzbG90cy5sb2FkaW5nICE9PSB2b2lkIDAgPyBzbG90cy5sb2FkaW5nKCkgOiBbIGgoUVNwaW5uZXIpIF0pXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogbnVsbFxuICAgICAgICApKVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gd2l0aERpcmVjdGl2ZXMoXG4gICAgICAgIGgoXG4gICAgICAgICAgbGlua1RhZy52YWx1ZSxcbiAgICAgICAgICBub2RlUHJvcHMudmFsdWUsXG4gICAgICAgICAgY2hpbGRcbiAgICAgICAgKSxcbiAgICAgICAgWyBbXG4gICAgICAgICAgUmlwcGxlLFxuICAgICAgICAgIHJpcHBsZS52YWx1ZSxcbiAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgcmlwcGxlUHJvcHMudmFsdWVcbiAgICAgICAgXSBdXG4gICAgICApXG4gICAgfVxuICB9XG59KVxuIiwiaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tICd2dWUnXG5cbmV4cG9ydCBjb25zdCB1c2VEYXJrUHJvcHMgPSB7XG4gIGRhcms6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocHJvcHMsICRxKSB7XG4gIC8vIHJldHVybiBpc0RhcmtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IChcbiAgICBwcm9wcy5kYXJrID09PSBudWxsXG4gICAgICA/ICRxLmRhcmsuaXNBY3RpdmVcbiAgICAgIDogcHJvcHMuZGFya1xuICApKVxufVxuIiwiaW1wb3J0IHsgaCwgY29tcHV0ZWQsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IHVzZURhcmssIHsgdXNlRGFya1Byb3BzIH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS51c2UtZGFyay91c2UtZGFyay5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IHsgaFNsb3QgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLnJlbmRlci9yZW5kZXIuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRQ2FyZCcsXG5cbiAgcHJvcHM6IHtcbiAgICAuLi51c2VEYXJrUHJvcHMsXG5cbiAgICB0YWc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdkaXYnXG4gICAgfSxcblxuICAgIHNxdWFyZTogQm9vbGVhbixcbiAgICBmbGF0OiBCb29sZWFuLFxuICAgIGJvcmRlcmVkOiBCb29sZWFuXG4gIH0sXG5cbiAgc2V0dXAgKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCB7IHByb3h5OiB7ICRxIH0gfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG4gICAgY29uc3QgaXNEYXJrID0gdXNlRGFyayhwcm9wcywgJHEpXG5cbiAgICBjb25zdCBjbGFzc2VzID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgICdxLWNhcmQnXG4gICAgICArIChpc0RhcmsudmFsdWUgPT09IHRydWUgPyAnIHEtY2FyZC0tZGFyayBxLWRhcmsnIDogJycpXG4gICAgICArIChwcm9wcy5ib3JkZXJlZCA9PT0gdHJ1ZSA/ICcgcS1jYXJkLS1ib3JkZXJlZCcgOiAnJylcbiAgICAgICsgKHByb3BzLnNxdWFyZSA9PT0gdHJ1ZSA/ICcgcS1jYXJkLS1zcXVhcmUgbm8tYm9yZGVyLXJhZGl1cycgOiAnJylcbiAgICAgICsgKHByb3BzLmZsYXQgPT09IHRydWUgPyAnIHEtY2FyZC0tZmxhdCBuby1zaGFkb3cnIDogJycpXG4gICAgKVxuXG4gICAgcmV0dXJuICgpID0+IGgocHJvcHMudGFnLCB7IGNsYXNzOiBjbGFzc2VzLnZhbHVlIH0sIGhTbG90KHNsb3RzLmRlZmF1bHQpKVxuICB9XG59KVxuIiwiaW1wb3J0IHsgaCwgY29tcHV0ZWQgfSBmcm9tICd2dWUnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcbmltcG9ydCB7IGhTbG90IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5yZW5kZXIvcmVuZGVyLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoe1xuICBuYW1lOiAnUUNhcmRTZWN0aW9uJyxcblxuICBwcm9wczoge1xuICAgIHRhZzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2RpdidcbiAgICB9LFxuXG4gICAgaG9yaXpvbnRhbDogQm9vbGVhblxuICB9LFxuXG4gIHNldHVwIChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+XG4gICAgICAncS1jYXJkX19zZWN0aW9uJ1xuICAgICAgKyBgIHEtY2FyZF9fc2VjdGlvbi0tJHsgcHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSA/ICdob3JpeiByb3cgbm8td3JhcCcgOiAndmVydCcgfWBcbiAgICApXG5cbiAgICByZXR1cm4gKCkgPT4gaChwcm9wcy50YWcsIHsgY2xhc3M6IGNsYXNzZXMudmFsdWUgfSwgaFNsb3Qoc2xvdHMuZGVmYXVsdCkpXG4gIH1cbn0pXG4iLCJpbXBvcnQgeyBoLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IHVzZUFsaWduLCB7IHVzZUFsaWduUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1hbGlnbi91c2UtYWxpZ24uanMnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcbmltcG9ydCB7IGhTbG90IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5yZW5kZXIvcmVuZGVyLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoe1xuICBuYW1lOiAnUUNhcmRBY3Rpb25zJyxcblxuICBwcm9wczoge1xuICAgIC4uLnVzZUFsaWduUHJvcHMsXG4gICAgdmVydGljYWw6IEJvb2xlYW5cbiAgfSxcblxuICBzZXR1cCAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGFsaWduQ2xhc3MgPSB1c2VBbGlnbihwcm9wcylcblxuICAgIGNvbnN0IGNsYXNzZXMgPSBjb21wdXRlZCgoKSA9PlxuICAgICAgYHEtY2FyZF9fYWN0aW9ucyAkeyBhbGlnbkNsYXNzLnZhbHVlIH1gXG4gICAgICArIGAgcS1jYXJkX19hY3Rpb25zLS0keyBwcm9wcy52ZXJ0aWNhbCA9PT0gdHJ1ZSA/ICd2ZXJ0IGNvbHVtbicgOiAnaG9yaXogcm93JyB9YFxuICAgIClcblxuICAgIHJldHVybiAoKSA9PiBoKCdkaXYnLCB7IGNsYXNzOiBjbGFzc2VzLnZhbHVlIH0sIGhTbG90KHNsb3RzLmRlZmF1bHQpKVxuICB9XG59KVxuIiwiaW1wb3J0IHsgaCwgY29tcHV0ZWQsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IHVzZURhcmssIHsgdXNlRGFya1Byb3BzIH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS51c2UtZGFyay91c2UtZGFyay5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuXG5jb25zdCBpbnNldE1hcCA9IHtcbiAgdHJ1ZTogJ2luc2V0JyxcbiAgaXRlbTogJ2l0ZW0taW5zZXQnLFxuICAnaXRlbS10aHVtYm5haWwnOiAnaXRlbS10aHVtYm5haWwtaW5zZXQnXG59XG5cbmV4cG9ydCBjb25zdCBtYXJnaW5zID0ge1xuICB4czogMixcbiAgc206IDQsXG4gIG1kOiA4LFxuICBsZzogMTYsXG4gIHhsOiAyNFxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoe1xuICBuYW1lOiAnUVNlcGFyYXRvcicsXG5cbiAgcHJvcHM6IHtcbiAgICAuLi51c2VEYXJrUHJvcHMsXG5cbiAgICBzcGFjZWQ6IFsgQm9vbGVhbiwgU3RyaW5nIF0sXG4gICAgaW5zZXQ6IFsgQm9vbGVhbiwgU3RyaW5nIF0sXG4gICAgdmVydGljYWw6IEJvb2xlYW4sXG4gICAgY29sb3I6IFN0cmluZyxcbiAgICBzaXplOiBTdHJpbmdcbiAgfSxcblxuICBzZXR1cCAocHJvcHMpIHtcbiAgICBjb25zdCB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG4gICAgY29uc3QgaXNEYXJrID0gdXNlRGFyayhwcm9wcywgdm0ucHJveHkuJHEpXG5cbiAgICBjb25zdCBvcmllbnRhdGlvbiA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIHByb3BzLnZlcnRpY2FsID09PSB0cnVlXG4gICAgICAgID8gJ3ZlcnRpY2FsJ1xuICAgICAgICA6ICdob3Jpem9udGFsJ1xuICAgICkpXG5cbiAgICBjb25zdCBvcmllbnRDbGFzcyA9IGNvbXB1dGVkKCgpID0+IGAgcS1zZXBhcmF0b3ItLSR7IG9yaWVudGF0aW9uLnZhbHVlIH1gKVxuXG4gICAgY29uc3QgaW5zZXRDbGFzcyA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIHByb3BzLmluc2V0ICE9PSBmYWxzZVxuICAgICAgICA/IGAkeyBvcmllbnRDbGFzcy52YWx1ZSB9LSR7IGluc2V0TWFwWyBwcm9wcy5pbnNldCBdIH1gXG4gICAgICAgIDogJydcbiAgICApKVxuXG4gICAgY29uc3QgY2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+XG4gICAgICBgcS1zZXBhcmF0b3IkeyBvcmllbnRDbGFzcy52YWx1ZSB9JHsgaW5zZXRDbGFzcy52YWx1ZSB9YFxuICAgICAgKyAocHJvcHMuY29sb3IgIT09IHZvaWQgMCA/IGAgYmctJHsgcHJvcHMuY29sb3IgfWAgOiAnJylcbiAgICAgICsgKGlzRGFyay52YWx1ZSA9PT0gdHJ1ZSA/ICcgcS1zZXBhcmF0b3ItLWRhcmsnIDogJycpXG4gICAgKVxuXG4gICAgY29uc3Qgc3R5bGUgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCBhY2MgPSB7fVxuXG4gICAgICBpZiAocHJvcHMuc2l6ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGFjY1sgcHJvcHMudmVydGljYWwgPT09IHRydWUgPyAnd2lkdGgnIDogJ2hlaWdodCcgXSA9IHByb3BzLnNpemVcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLnNwYWNlZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHByb3BzLnNwYWNlZCA9PT0gdHJ1ZVxuICAgICAgICAgID8gYCR7IG1hcmdpbnMubWQgfXB4YFxuICAgICAgICAgIDogcHJvcHMuc3BhY2VkIGluIG1hcmdpbnMgPyBgJHsgbWFyZ2luc1sgcHJvcHMuc3BhY2VkIF0gfXB4YCA6IHByb3BzLnNwYWNlZFxuXG4gICAgICAgIGNvbnN0IGRpciA9IHByb3BzLnZlcnRpY2FsID09PSB0cnVlXG4gICAgICAgICAgPyBbICdMZWZ0JywgJ1JpZ2h0JyBdXG4gICAgICAgICAgOiBbICdUb3AnLCAnQm90dG9tJyBdXG5cbiAgICAgICAgYWNjWyBgbWFyZ2luJHsgZGlyWyAwIF0gfWAgXSA9IGFjY1sgYG1hcmdpbiR7IGRpclsgMSBdIH1gIF0gPSBzaXplXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2NcbiAgICB9KVxuXG4gICAgcmV0dXJuICgpID0+IGgoJ2hyJywge1xuICAgICAgY2xhc3M6IGNsYXNzZXMudmFsdWUsXG4gICAgICBzdHlsZTogc3R5bGUudmFsdWUsXG4gICAgICAnYXJpYS1vcmllbnRhdGlvbic6IG9yaWVudGF0aW9uLnZhbHVlXG4gICAgfSlcbiAgfVxufSlcbiIsIi8qKlxuICogQmFzZWQgb24gdGhlIHdvcmsgb2YgaHR0cHM6Ly9naXRodWIuY29tL2pjaG9vay91dWlkLXJhbmRvbVxuICovXG5cbmxldFxuICBidWYsXG4gIGJ1ZklkeCA9IDBcbmNvbnN0IGhleEJ5dGVzID0gbmV3IEFycmF5KDI1NilcblxuLy8gUHJlLWNhbGN1bGF0ZSB0b1N0cmluZygxNikgZm9yIHNwZWVkXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gIGhleEJ5dGVzWyBpIF0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpXG59XG5cbi8vIFVzZSBiZXN0IGF2YWlsYWJsZSBQUk5HXG5jb25zdCByYW5kb21CeXRlcyA9ICgoKSA9PiB7XG4gIC8vIE5vZGUgJiBCcm93c2VyIHN1cHBvcnRcbiAgY29uc3QgbGliID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IGNyeXB0b1xuICAgIDogKFxuICAgICAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgID8gd2luZG93LmNyeXB0byB8fCB3aW5kb3cubXNDcnlwdG9cbiAgICAgICAgICA6IHZvaWQgMFxuICAgICAgKVxuXG4gIGlmIChsaWIgIT09IHZvaWQgMCkge1xuICAgIGlmIChsaWIucmFuZG9tQnl0ZXMgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGxpYi5yYW5kb21CeXRlc1xuICAgIH1cbiAgICBpZiAobGliLmdldFJhbmRvbVZhbHVlcyAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gbiA9PiB7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobilcbiAgICAgICAgbGliLmdldFJhbmRvbVZhbHVlcyhieXRlcylcbiAgICAgICAgcmV0dXJuIGJ5dGVzXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG4gPT4ge1xuICAgIGNvbnN0IHIgPSBbXVxuICAgIGZvciAobGV0IGkgPSBuOyBpID4gMDsgaS0tKSB7XG4gICAgICByLnB1c2goTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KSlcbiAgICB9XG4gICAgcmV0dXJuIHJcbiAgfVxufSkoKVxuXG4vLyBCdWZmZXIgcmFuZG9tIG51bWJlcnMgZm9yIHNwZWVkXG4vLyBSZWR1Y2UgbWVtb3J5IHVzYWdlIGJ5IGRlY3JlYXNpbmcgdGhpcyBudW1iZXIgKG1pbiAxNilcbi8vIG9yIGltcHJvdmUgc3BlZWQgYnkgaW5jcmVhc2luZyB0aGlzIG51bWJlciAodHJ5IDE2Mzg0KVxuY29uc3QgQlVGRkVSX1NJWkUgPSA0MDk2XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgLy8gQnVmZmVyIHNvbWUgcmFuZG9tIGJ5dGVzIGZvciBzcGVlZFxuICBpZiAoYnVmID09PSB2b2lkIDAgfHwgKGJ1ZklkeCArIDE2ID4gQlVGRkVSX1NJWkUpKSB7XG4gICAgYnVmSWR4ID0gMFxuICAgIGJ1ZiA9IHJhbmRvbUJ5dGVzKEJVRkZFUl9TSVpFKVxuICB9XG5cbiAgY29uc3QgYiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGJ1ZiwgYnVmSWR4LCAoYnVmSWR4ICs9IDE2KSlcbiAgYlsgNiBdID0gKGJbIDYgXSAmIDB4MGYpIHwgMHg0MFxuICBiWyA4IF0gPSAoYlsgOCBdICYgMHgzZikgfCAweDgwXG5cbiAgcmV0dXJuIGhleEJ5dGVzWyBiWyAwIF0gXSArIGhleEJ5dGVzWyBiWyAxIF0gXVxuICAgICsgaGV4Qnl0ZXNbIGJbIDIgXSBdICsgaGV4Qnl0ZXNbIGJbIDMgXSBdICsgJy0nXG4gICAgKyBoZXhCeXRlc1sgYlsgNCBdIF0gKyBoZXhCeXRlc1sgYlsgNSBdIF0gKyAnLSdcbiAgICArIGhleEJ5dGVzWyBiWyA2IF0gXSArIGhleEJ5dGVzWyBiWyA3IF0gXSArICctJ1xuICAgICsgaGV4Qnl0ZXNbIGJbIDggXSBdICsgaGV4Qnl0ZXNbIGJbIDkgXSBdICsgJy0nXG4gICAgKyBoZXhCeXRlc1sgYlsgMTAgXSBdICsgaGV4Qnl0ZXNbIGJbIDExIF0gXVxuICAgICsgaGV4Qnl0ZXNbIGJbIDEyIF0gXSArIGhleEJ5dGVzWyBiWyAxMyBdIF1cbiAgICArIGhleEJ5dGVzWyBiWyAxNCBdIF0gKyBoZXhCeXRlc1sgYlsgMTUgXSBdXG59XG4iLCJpbXBvcnQgeyByZWYsIGNvbXB1dGVkLCB3YXRjaCwgb25Nb3VudGVkIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgdWlkIGZyb20gJy4uLy4uL3V0aWxzL3VpZC91aWQuanMnXG5cbmltcG9ydCB7IGlzUnVudGltZVNzclByZUh5ZHJhdGlvbiB9IGZyb20gJy4uLy4uL3BsdWdpbnMvcGxhdGZvcm0vUGxhdGZvcm0uanMnXG5cbmZ1bmN0aW9uIHBhcnNlVmFsdWUgKHZhbCkge1xuICByZXR1cm4gdmFsID09PSB2b2lkIDAgfHwgdmFsID09PSBudWxsXG4gICAgPyBudWxsXG4gICAgOiB2YWxcbn1cblxuZnVuY3Rpb24gZ2V0SWQgKHZhbCwgcmVxdWlyZWQpIHtcbiAgcmV0dXJuIHZhbCA9PT0gdm9pZCAwIHx8IHZhbCA9PT0gbnVsbFxuICAgID8gKHJlcXVpcmVkID09PSB0cnVlID8gYGZfJHsgdWlkKCkgfWAgOiBudWxsKVxuICAgIDogdmFsXG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBcImlkXCIgd2hpY2ggaXMgYSByZWYoKSB0aGF0IGNhbiBiZSB1c2VkIGFzXG4gKiBhIHVuaXF1ZSBpZGVudGlmaWVyIHRvIGFwcGx5IHRvIGEgRE9NIG5vZGUgYXR0cmlidXRlLlxuICpcbiAqIE9uIFNTUiwgaXQgdGFrZXMgY2FyZSBvZiBnZW5lcmF0aW5nIHRoZSBpZCBvbiB0aGUgY2xpZW50IHNpZGUgKG9ubHkpIHRvXG4gKiBhdm9pZCBoeWRyYXRpb24gZXJyb3JzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoeyBnZXRWYWx1ZSwgcmVxdWlyZWQgPSB0cnVlIH0gPSB7fSkge1xuICBpZiAoaXNSdW50aW1lU3NyUHJlSHlkcmF0aW9uLnZhbHVlID09PSB0cnVlKSB7XG4gICAgY29uc3QgaWQgPSBnZXRWYWx1ZSAhPT0gdm9pZCAwXG4gICAgICA/IHJlZihwYXJzZVZhbHVlKGdldFZhbHVlKCkpKVxuICAgICAgOiByZWYobnVsbClcblxuICAgIGlmIChyZXF1aXJlZCA9PT0gdHJ1ZSAmJiBpZC52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgICAgaWQudmFsdWUgPSBgZl8keyB1aWQoKSB9YCAvLyBnZXRJZChudWxsLCB0cnVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoZ2V0VmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgd2F0Y2goZ2V0VmFsdWUsIG5ld0lkID0+IHtcbiAgICAgICAgaWQudmFsdWUgPSBnZXRJZChuZXdJZCwgcmVxdWlyZWQpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBpZFxuICB9XG5cbiAgcmV0dXJuIGdldFZhbHVlICE9PSB2b2lkIDBcbiAgICA/IGNvbXB1dGVkKCgpID0+IGdldElkKGdldFZhbHVlKCksIHJlcXVpcmVkKSlcbiAgICA6IHJlZihgZl8keyB1aWQoKSB9YCkgLy8gZ2V0SWQobnVsbCwgdHJ1ZSlcbn1cbiIsImltcG9ydCB7IHJlZiwgb25CZWZvcmVVcGRhdGUsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSdcblxuY29uc3QgbGlzdGVuZXJSRSA9IC9eb25bQS1aXS9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICBjb25zdCB7IGF0dHJzLCB2bm9kZSB9ID0gZ2V0Q3VycmVudEluc3RhbmNlKClcblxuICBjb25zdCBhY2MgPSB7XG4gICAgbGlzdGVuZXJzOiByZWYoe30pLFxuICAgIGF0dHJpYnV0ZXM6IHJlZih7fSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZSAoKSB7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IHt9XG4gICAgY29uc3QgbGlzdGVuZXJzID0ge31cblxuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICBpZiAoa2V5ICE9PSAnY2xhc3MnICYmIGtleSAhPT0gJ3N0eWxlJyAmJiBsaXN0ZW5lclJFLnRlc3Qoa2V5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYXR0cmlidXRlc1sga2V5IF0gPSBhdHRyc1sga2V5IF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2bm9kZS5wcm9wcykge1xuICAgICAgaWYgKGxpc3RlbmVyUkUudGVzdChrZXkpID09PSB0cnVlKSB7XG4gICAgICAgIGxpc3RlbmVyc1sga2V5IF0gPSB2bm9kZS5wcm9wc1sga2V5IF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhY2MuYXR0cmlidXRlcy52YWx1ZSA9IGF0dHJpYnV0ZXNcbiAgICBhY2MubGlzdGVuZXJzLnZhbHVlID0gbGlzdGVuZXJzXG4gIH1cblxuICBvbkJlZm9yZVVwZGF0ZSh1cGRhdGUpXG5cbiAgdXBkYXRlKClcblxuICByZXR1cm4gYWNjXG59XG4iLCJpbXBvcnQgeyBpbmplY3QsIHdhdGNoLCBnZXRDdXJyZW50SW5zdGFuY2UsIG9uTW91bnRlZCwgb25CZWZvcmVVbm1vdW50IH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgeyBmb3JtS2V5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5zeW1ib2xzL3N5bWJvbHMuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh7IHZhbGlkYXRlLCByZXNldFZhbGlkYXRpb24sIHJlcXVpcmVzUUZvcm0gfSkge1xuICBjb25zdCAkZm9ybSA9IGluamVjdChmb3JtS2V5LCBmYWxzZSlcblxuICBpZiAoJGZvcm0gIT09IGZhbHNlKSB7XG4gICAgY29uc3QgeyBwcm9wcywgcHJveHkgfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG5cbiAgICAvLyBleHBvcnQgcHVibGljIG1ldGhvZCAoc28gaXQgY2FuIGJlIHVzZWQgaW4gUUZvcm0pXG4gICAgT2JqZWN0LmFzc2lnbihwcm94eSwgeyB2YWxpZGF0ZSwgcmVzZXRWYWxpZGF0aW9uIH0pXG5cbiAgICB3YXRjaCgoKSA9PiBwcm9wcy5kaXNhYmxlLCB2YWwgPT4ge1xuICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICB0eXBlb2YgcmVzZXRWYWxpZGF0aW9uID09PSAnZnVuY3Rpb24nICYmIHJlc2V0VmFsaWRhdGlvbigpXG4gICAgICAgICRmb3JtLnVuYmluZENvbXBvbmVudChwcm94eSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAkZm9ybS5iaW5kQ29tcG9uZW50KHByb3h5KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgLy8gcmVnaXN0ZXIgdG8gcGFyZW50IFFGb3JtXG4gICAgICBwcm9wcy5kaXNhYmxlICE9PSB0cnVlICYmICRmb3JtLmJpbmRDb21wb25lbnQocHJveHkpXG4gICAgfSlcblxuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICAvLyB1bi1yZWdpc3RlciBmcm9tIHBhcmVudCBRRm9ybVxuICAgICAgcHJvcHMuZGlzYWJsZSAhPT0gdHJ1ZSAmJiAkZm9ybS51bmJpbmRDb21wb25lbnQocHJveHkpXG4gICAgfSlcbiAgfVxuICBlbHNlIGlmIChyZXF1aXJlc1FGb3JtID09PSB0cnVlKSB7XG4gICAgY29uc29sZS5lcnJvcignUGFyZW50IFFGb3JtIG5vdCBmb3VuZCBvbiB1c2VGb3JtQ2hpbGQoKSEnKVxuICB9XG59XG4iLCIvLyBmaWxlIHJlZmVyZW5jZWQgZnJvbSBkb2NzXG5cbmNvbnN0XG4gIGhleCA9IC9eI1swLTlhLWZBLUZdezN9KFswLTlhLWZBLUZdezN9KT8kLyxcbiAgaGV4YSA9IC9eI1swLTlhLWZBLUZdezR9KFswLTlhLWZBLUZdezR9KT8kLyxcbiAgaGV4T3JIZXhhID0gL14jKFswLTlhLWZBLUZdezN9fFswLTlhLWZBLUZdezR9fFswLTlhLWZBLUZdezZ9fFswLTlhLWZBLUZdezh9KSQvLFxuICByZ2IgPSAvXnJnYlxcKCgoMHxbMS05XVtcXGRdP3wxW1xcZF17MCwyfXwyW1xcZF0/fDJbMC00XVtcXGRdfDI1WzAtNV0pLCl7Mn0oMHxbMS05XVtcXGRdP3wxW1xcZF17MCwyfXwyW1xcZF0/fDJbMC00XVtcXGRdfDI1WzAtNV0pXFwpJC8sXG4gIHJnYmEgPSAvXnJnYmFcXCgoKDB8WzEtOV1bXFxkXT98MVtcXGRdezAsMn18MltcXGRdP3wyWzAtNF1bXFxkXXwyNVswLTVdKSwpezJ9KDB8WzEtOV1bXFxkXT98MVtcXGRdezAsMn18MltcXGRdP3wyWzAtNF1bXFxkXXwyNVswLTVdKSwoMHwwXFwuWzAtOV0rWzEtOV18MFxcLlsxLTldK3wxKVxcKSQvXG5cbi8vIEtlZXAgaW4gc3luYyB3aXRoIHVpL3R5cGVzL2FwaS92YWxpZGF0aW9uLmQudHNcbmV4cG9ydCBjb25zdCB0ZXN0UGF0dGVybiA9IHtcbiAgZGF0ZTogdiA9PiAvXi0/W1xcZF0rXFwvWzAtMV1cXGRcXC9bMC0zXVxcZCQvLnRlc3QodiksXG4gIHRpbWU6IHYgPT4gL14oWzAtMV0/XFxkfDJbMC0zXSk6WzAtNV1cXGQkLy50ZXN0KHYpLFxuICBmdWxsdGltZTogdiA9PiAvXihbMC0xXT9cXGR8MlswLTNdKTpbMC01XVxcZDpbMC01XVxcZCQvLnRlc3QodiksXG4gIHRpbWVPckZ1bGx0aW1lOiB2ID0+IC9eKFswLTFdP1xcZHwyWzAtM10pOlswLTVdXFxkKDpbMC01XVxcZCk/JC8udGVzdCh2KSxcblxuICAvLyAtLSBSRkMgNTMyMiAtLVxuICAvLyAtLSBBZGRlZCBpbiB2Mi42LjYgLS1cbiAgLy8gVGhpcyBpcyBhIGJhc2ljIGhlbHBlciB2YWxpZGF0aW9uLlxuICAvLyBGb3Igc29tZXRoaW5nIG1vcmUgY29tcGxleCAobGlrZSBSRkMgODIyKSB5b3Ugc2hvdWxkIHdyaXRlIGFuZCB1c2UgeW91ciBvd24gcnVsZS5cbiAgLy8gV2Ugd29uJ3QgYmUgYWNjZXB0aW5nIFBScyB0byBlbmhhbmNlIHRoZSBvbmUgYmVsb3cgYmVjYXVzZSBvZiB0aGUgcmVhc29uIGFib3ZlLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgZW1haWw6IHYgPT4gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC8udGVzdCh2KSxcblxuICBoZXhDb2xvcjogdiA9PiBoZXgudGVzdCh2KSxcbiAgaGV4YUNvbG9yOiB2ID0+IGhleGEudGVzdCh2KSxcbiAgaGV4T3JIZXhhQ29sb3I6IHYgPT4gaGV4T3JIZXhhLnRlc3QodiksXG5cbiAgcmdiQ29sb3I6IHYgPT4gcmdiLnRlc3QodiksXG4gIHJnYmFDb2xvcjogdiA9PiByZ2JhLnRlc3QodiksXG4gIHJnYk9yUmdiYUNvbG9yOiB2ID0+IHJnYi50ZXN0KHYpIHx8IHJnYmEudGVzdCh2KSxcblxuICBoZXhPclJnYkNvbG9yOiB2ID0+IGhleC50ZXN0KHYpIHx8IHJnYi50ZXN0KHYpLFxuICBoZXhhT3JSZ2JhQ29sb3I6IHYgPT4gaGV4YS50ZXN0KHYpIHx8IHJnYmEudGVzdCh2KSxcbiAgYW55Q29sb3I6IHYgPT4gaGV4T3JIZXhhLnRlc3QodikgfHwgcmdiLnRlc3QodikgfHwgcmdiYS50ZXN0KHYpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgdGVzdFBhdHRlcm5cbn1cbiIsImltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIHdhdGNoLCBvbkJlZm9yZVVubW91bnQsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IHVzZUZvcm1DaGlsZCBmcm9tICcuLi91c2UtZm9ybS91c2UtZm9ybS1jaGlsZC5qcydcbmltcG9ydCB7IHRlc3RQYXR0ZXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvcGF0dGVybnMvcGF0dGVybnMuanMnXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnLi4vLi4vdXRpbHMvZGVib3VuY2UvZGVib3VuY2UuanMnXG5pbXBvcnQgeyBpbmplY3RQcm9wIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5pbmplY3Qtb2JqLXByb3AvaW5qZWN0LW9iai1wcm9wLmpzJ1xuXG5jb25zdCBsYXp5UnVsZXNWYWx1ZXMgPSBbIHRydWUsIGZhbHNlLCAnb25kZW1hbmQnIF1cblxuZXhwb3J0IGNvbnN0IHVzZVZhbGlkYXRlUHJvcHMgPSB7XG4gIG1vZGVsVmFsdWU6IHt9LFxuXG4gIGVycm9yOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIGVycm9yTWVzc2FnZTogU3RyaW5nLFxuICBub0Vycm9ySWNvbjogQm9vbGVhbixcblxuICBydWxlczogQXJyYXksXG4gIHJlYWN0aXZlUnVsZXM6IEJvb2xlYW4sXG4gIGxhenlSdWxlczoge1xuICAgIHR5cGU6IFsgQm9vbGVhbiwgU3RyaW5nIF0sXG4gICAgZGVmYXVsdDogZmFsc2UsIC8vIHN0YXRlbWVudCB1bm5lZWRlZCBidXQgYXZvaWRzIGZ1dHVyZSB2dWUgaW1wbGVtZW50YXRpb24gY2hhbmdlc1xuICAgIHZhbGlkYXRvcjogdiA9PiBsYXp5UnVsZXNWYWx1ZXMuaW5jbHVkZXModilcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZm9jdXNlZCwgaW5uZXJMb2FkaW5nKSB7XG4gIGNvbnN0IHsgcHJvcHMsIHByb3h5IH0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKVxuXG4gIGNvbnN0IGlubmVyRXJyb3IgPSByZWYoZmFsc2UpXG4gIGNvbnN0IGlubmVyRXJyb3JNZXNzYWdlID0gcmVmKG51bGwpXG4gIGNvbnN0IGlzRGlydHlNb2RlbCA9IHJlZihmYWxzZSlcblxuICB1c2VGb3JtQ2hpbGQoeyB2YWxpZGF0ZSwgcmVzZXRWYWxpZGF0aW9uIH0pXG5cbiAgbGV0IHZhbGlkYXRlSW5kZXggPSAwLCB1bndhdGNoUnVsZXNcblxuICBjb25zdCBoYXNSdWxlcyA9IGNvbXB1dGVkKCgpID0+XG4gICAgcHJvcHMucnVsZXMgIT09IHZvaWQgMFxuICAgICYmIHByb3BzLnJ1bGVzICE9PSBudWxsXG4gICAgJiYgcHJvcHMucnVsZXMubGVuZ3RoICE9PSAwXG4gIClcblxuICBjb25zdCBjYW5EZWJvdW5jZVZhbGlkYXRlID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgIHByb3BzLmRpc2FibGUgIT09IHRydWVcbiAgICAmJiBoYXNSdWxlcy52YWx1ZSA9PT0gdHJ1ZVxuICAgIC8vIFNob3VsZCBub3QgaGF2ZSBhIHZhbGlkYXRpb24gaW4gcHJvZ3Jlc3MgYWxyZWFkeTtcbiAgICAvLyBJdCBtaWdodCBtZWFuIHRoYXQgZm9jdXMgc3dpdGNoZWQgdG8gc3VibWl0IGJ0biBhbmRcbiAgICAvLyBRRm9ybSdzIHN1Ym1pdCgpIGhhcyBiZWVuIGNhbGxlZCBhbHJlYWR5IChFTlRFUiBrZXkpXG4gICAgJiYgaW5uZXJMb2FkaW5nLnZhbHVlID09PSBmYWxzZVxuICApKVxuXG4gIGNvbnN0IGhhc0Vycm9yID0gY29tcHV0ZWQoKCkgPT5cbiAgICBwcm9wcy5lcnJvciA9PT0gdHJ1ZSB8fCBpbm5lckVycm9yLnZhbHVlID09PSB0cnVlXG4gIClcblxuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBjb21wdXRlZCgoKSA9PiAoXG4gICAgdHlwZW9mIHByb3BzLmVycm9yTWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgcHJvcHMuZXJyb3JNZXNzYWdlLmxlbmd0aCAhPT0gMFxuICAgICAgPyBwcm9wcy5lcnJvck1lc3NhZ2VcbiAgICAgIDogaW5uZXJFcnJvck1lc3NhZ2UudmFsdWVcbiAgKSlcblxuICB3YXRjaCgoKSA9PiBwcm9wcy5tb2RlbFZhbHVlLCAoKSA9PiB7XG4gICAgaXNEaXJ0eU1vZGVsLnZhbHVlID0gdHJ1ZVxuXG4gICAgaWYgKFxuICAgICAgY2FuRGVib3VuY2VWYWxpZGF0ZS52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgLy8gdHJpZ2dlciB2YWxpZGF0aW9uIGlmIG5vdCB1c2luZyBhbnkga2luZCBvZiBsYXp5LXJ1bGVzXG4gICAgICAmJiBwcm9wcy5sYXp5UnVsZXMgPT09IGZhbHNlXG4gICAgKSB7XG4gICAgICBkZWJvdW5jZWRWYWxpZGF0ZSgpXG4gICAgfVxuICB9KVxuXG4gIGZ1bmN0aW9uIG9uUnVsZXNDaGFuZ2UgKCkge1xuICAgIGlmIChcbiAgICAgIHByb3BzLmxhenlSdWxlcyAhPT0gJ29uZGVtYW5kJ1xuICAgICAgJiYgY2FuRGVib3VuY2VWYWxpZGF0ZS52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgJiYgaXNEaXJ0eU1vZGVsLnZhbHVlID09PSB0cnVlXG4gICAgKSB7XG4gICAgICBkZWJvdW5jZWRWYWxpZGF0ZSgpXG4gICAgfVxuICB9XG5cbiAgd2F0Y2goKCkgPT4gcHJvcHMucmVhY3RpdmVSdWxlcywgdmFsID0+IHtcbiAgICBpZiAodmFsID09PSB0cnVlKSB7XG4gICAgICBpZiAodW53YXRjaFJ1bGVzID09PSB2b2lkIDApIHtcbiAgICAgICAgdW53YXRjaFJ1bGVzID0gd2F0Y2goKCkgPT4gcHJvcHMucnVsZXMsIG9uUnVsZXNDaGFuZ2UsIHsgaW1tZWRpYXRlOiB0cnVlLCBkZWVwOiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHVud2F0Y2hSdWxlcyAhPT0gdm9pZCAwKSB7XG4gICAgICB1bndhdGNoUnVsZXMoKVxuICAgICAgdW53YXRjaFJ1bGVzID0gdm9pZCAwXG4gICAgfVxuICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KVxuXG4gIHdhdGNoKCgpID0+IHByb3BzLmxhenlSdWxlcywgb25SdWxlc0NoYW5nZSlcblxuICB3YXRjaChmb2N1c2VkLCB2YWwgPT4ge1xuICAgIGlmICh2YWwgPT09IHRydWUpIHtcbiAgICAgIGlzRGlydHlNb2RlbC52YWx1ZSA9IHRydWVcbiAgICB9XG4gICAgZWxzZSBpZiAoXG4gICAgICBjYW5EZWJvdW5jZVZhbGlkYXRlLnZhbHVlID09PSB0cnVlXG4gICAgICAmJiBwcm9wcy5sYXp5UnVsZXMgIT09ICdvbmRlbWFuZCdcbiAgICApIHtcbiAgICAgIGRlYm91bmNlZFZhbGlkYXRlKClcbiAgICB9XG4gIH0pXG5cbiAgZnVuY3Rpb24gcmVzZXRWYWxpZGF0aW9uICgpIHtcbiAgICB2YWxpZGF0ZUluZGV4KytcbiAgICBpbm5lckxvYWRpbmcudmFsdWUgPSBmYWxzZVxuICAgIGlzRGlydHlNb2RlbC52YWx1ZSA9IGZhbHNlXG4gICAgaW5uZXJFcnJvci52YWx1ZSA9IGZhbHNlXG4gICAgaW5uZXJFcnJvck1lc3NhZ2UudmFsdWUgPSBudWxsXG4gICAgZGVib3VuY2VkVmFsaWRhdGUuY2FuY2VsKClcbiAgfVxuXG4gIC8qXG4gICAqIFJldHVybiB2YWx1ZVxuICAgKiAgIC0gdHJ1ZSAodmFsaWRhdGlvbiBzdWNjZWVkZWQpXG4gICAqICAgLSBmYWxzZSAodmFsaWRhdGlvbiBmYWlsZWQpXG4gICAqICAgLSBQcm9taXNlIChwZW5kaW5nIGFzeW5jIHZhbGlkYXRpb24pXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZSAodmFsID0gcHJvcHMubW9kZWxWYWx1ZSkge1xuICAgIGlmIChcbiAgICAgIHByb3BzLmRpc2FibGUgPT09IHRydWVcbiAgICAgIHx8IGhhc1J1bGVzLnZhbHVlID09PSBmYWxzZVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9ICsrdmFsaWRhdGVJbmRleFxuXG4gICAgY29uc3Qgc2V0RGlydHkgPSBpbm5lckxvYWRpbmcudmFsdWUgIT09IHRydWVcbiAgICAgID8gKCkgPT4geyBpc0RpcnR5TW9kZWwudmFsdWUgPSB0cnVlIH1cbiAgICAgIDogKCkgPT4ge31cblxuICAgIGNvbnN0IHVwZGF0ZSA9IChlcnIsIG1zZykgPT4ge1xuICAgICAgZXJyID09PSB0cnVlICYmIHNldERpcnR5KClcblxuICAgICAgaW5uZXJFcnJvci52YWx1ZSA9IGVyclxuICAgICAgaW5uZXJFcnJvck1lc3NhZ2UudmFsdWUgPSBtc2cgfHwgbnVsbFxuICAgICAgaW5uZXJMb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLnJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBydWxlID0gcHJvcHMucnVsZXNbIGkgXVxuICAgICAgbGV0IHJlc1xuXG4gICAgICBpZiAodHlwZW9mIHJ1bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmVzID0gcnVsZSh2YWwsIHRlc3RQYXR0ZXJuKVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZW9mIHJ1bGUgPT09ICdzdHJpbmcnICYmIHRlc3RQYXR0ZXJuWyBydWxlIF0gIT09IHZvaWQgMCkge1xuICAgICAgICByZXMgPSB0ZXN0UGF0dGVyblsgcnVsZSBdKHZhbClcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcyA9PT0gZmFsc2UgfHwgdHlwZW9mIHJlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXBkYXRlKHRydWUsIHJlcylcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChyZXMgIT09IHRydWUgJiYgcmVzICE9PSB2b2lkIDApIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChyZXMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdXBkYXRlKGZhbHNlKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpbm5lckxvYWRpbmcudmFsdWUgPSB0cnVlXG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oXG4gICAgICByZXMgPT4ge1xuICAgICAgICBpZiAocmVzID09PSB2b2lkIDAgfHwgQXJyYXkuaXNBcnJheShyZXMpID09PSBmYWxzZSB8fCByZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgaW5kZXggPT09IHZhbGlkYXRlSW5kZXggJiYgdXBkYXRlKGZhbHNlKVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtc2cgPSByZXMuZmluZChyID0+IHIgPT09IGZhbHNlIHx8IHR5cGVvZiByID09PSAnc3RyaW5nJylcbiAgICAgICAgaW5kZXggPT09IHZhbGlkYXRlSW5kZXggJiYgdXBkYXRlKG1zZyAhPT0gdm9pZCAwLCBtc2cpXG4gICAgICAgIHJldHVybiBtc2cgPT09IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIGUgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPT09IHZhbGlkYXRlSW5kZXgpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGUpXG4gICAgICAgICAgdXBkYXRlKHRydWUpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBjb25zdCBkZWJvdW5jZWRWYWxpZGF0ZSA9IGRlYm91bmNlKHZhbGlkYXRlLCAwKVxuXG4gIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgdW53YXRjaFJ1bGVzPy4oKVxuICAgIGRlYm91bmNlZFZhbGlkYXRlLmNhbmNlbCgpXG4gIH0pXG5cbiAgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzICYgcHJvcHNcbiAgT2JqZWN0LmFzc2lnbihwcm94eSwgeyByZXNldFZhbGlkYXRpb24sIHZhbGlkYXRlIH0pXG4gIGluamVjdFByb3AocHJveHksICdoYXNFcnJvcicsICgpID0+IGhhc0Vycm9yLnZhbHVlKVxuXG4gIHJldHVybiB7XG4gICAgaXNEaXJ0eU1vZGVsLFxuICAgIGhhc1J1bGVzLFxuICAgIGhhc0Vycm9yLFxuICAgIGVycm9yTWVzc2FnZSxcblxuICAgIHZhbGlkYXRlLFxuICAgIHJlc2V0VmFsaWRhdGlvblxuICB9XG59XG4iLCJpbXBvcnQgeyBoLCByZWYsIGNvbXB1dGVkLCBUcmFuc2l0aW9uLCBuZXh0VGljaywgb25BY3RpdmF0ZWQsIG9uRGVhY3RpdmF0ZWQsIG9uQmVmb3JlVW5tb3VudCwgb25Nb3VudGVkLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCBRSWNvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL2ljb24vUUljb24uanMnXG5pbXBvcnQgUVNwaW5uZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zcGlubmVyL1FTcGlubmVyLmpzJ1xuXG5pbXBvcnQgdXNlSWQgZnJvbSAnLi4vdXNlLWlkL3VzZS1pZC5qcydcbmltcG9ydCB1c2VTcGxpdEF0dHJzIGZyb20gJy4uL3VzZS1zcGxpdC1hdHRycy91c2Utc3BsaXQtYXR0cnMuanMnXG5pbXBvcnQgdXNlRGFyaywgeyB1c2VEYXJrUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1kYXJrL3VzZS1kYXJrLmpzJ1xuaW1wb3J0IHVzZVZhbGlkYXRlLCB7IHVzZVZhbGlkYXRlUHJvcHMgfSBmcm9tICcuLi9wcml2YXRlLnVzZS12YWxpZGF0ZS91c2UtdmFsaWRhdGUuanMnXG5cbmltcG9ydCB7IGhTbG90IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5yZW5kZXIvcmVuZGVyLmpzJ1xuaW1wb3J0IHsgcHJldmVudCwgc3RvcEFuZFByZXZlbnQgfSBmcm9tICcuLi8uLi91dGlscy9ldmVudC9ldmVudC5qcydcbmltcG9ydCB7IGFkZEZvY3VzRm4sIHJlbW92ZUZvY3VzRm4gfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmZvY3VzL2ZvY3VzLW1hbmFnZXIuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWVsZFZhbHVlSXNGaWxsZWQgKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2b2lkIDBcbiAgICAmJiB2YWwgIT09IG51bGxcbiAgICAmJiAoJycgKyB2YWwpLmxlbmd0aCAhPT0gMFxufVxuXG5leHBvcnQgY29uc3QgdXNlTm9uSW5wdXRGaWVsZFByb3BzID0ge1xuICAuLi51c2VEYXJrUHJvcHMsXG4gIC4uLnVzZVZhbGlkYXRlUHJvcHMsXG5cbiAgbGFiZWw6IFN0cmluZyxcbiAgc3RhY2tMYWJlbDogQm9vbGVhbixcbiAgaGludDogU3RyaW5nLFxuICBoaWRlSGludDogQm9vbGVhbixcbiAgcHJlZml4OiBTdHJpbmcsXG4gIHN1ZmZpeDogU3RyaW5nLFxuXG4gIGxhYmVsQ29sb3I6IFN0cmluZyxcbiAgY29sb3I6IFN0cmluZyxcbiAgYmdDb2xvcjogU3RyaW5nLFxuXG4gIGZpbGxlZDogQm9vbGVhbixcbiAgb3V0bGluZWQ6IEJvb2xlYW4sXG4gIGJvcmRlcmxlc3M6IEJvb2xlYW4sXG4gIHN0YW5kb3V0OiBbIEJvb2xlYW4sIFN0cmluZyBdLFxuXG4gIHNxdWFyZTogQm9vbGVhbixcblxuICBsb2FkaW5nOiBCb29sZWFuLFxuXG4gIGxhYmVsU2xvdDogQm9vbGVhbixcblxuICBib3R0b21TbG90czogQm9vbGVhbixcbiAgaGlkZUJvdHRvbVNwYWNlOiBCb29sZWFuLFxuXG4gIHJvdW5kZWQ6IEJvb2xlYW4sXG4gIGRlbnNlOiBCb29sZWFuLFxuICBpdGVtQWxpZ25lZDogQm9vbGVhbixcblxuICBjb3VudGVyOiBCb29sZWFuLFxuXG4gIGNsZWFyYWJsZTogQm9vbGVhbixcbiAgY2xlYXJJY29uOiBTdHJpbmcsXG5cbiAgZGlzYWJsZTogQm9vbGVhbixcbiAgcmVhZG9ubHk6IEJvb2xlYW4sXG5cbiAgYXV0b2ZvY3VzOiBCb29sZWFuLFxuXG4gIGZvcjogU3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCB1c2VGaWVsZFByb3BzID0ge1xuICAuLi51c2VOb25JbnB1dEZpZWxkUHJvcHMsXG4gIG1heGxlbmd0aDogWyBOdW1iZXIsIFN0cmluZyBdXG59XG5cbmV4cG9ydCBjb25zdCB1c2VGaWVsZEVtaXRzID0gWyAndXBkYXRlOm1vZGVsVmFsdWUnLCAnY2xlYXInLCAnZm9jdXMnLCAnYmx1cicgXVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlRmllbGRTdGF0ZSAoeyByZXF1aXJlZEZvckF0dHIgPSB0cnVlLCB0YWdQcm9wLCBjaGFuZ2VFdmVudCA9IGZhbHNlIH0gPSB7fSkge1xuICBjb25zdCB7IHByb3BzLCBwcm94eSB9ID0gZ2V0Q3VycmVudEluc3RhbmNlKClcblxuICBjb25zdCBpc0RhcmsgPSB1c2VEYXJrKHByb3BzLCBwcm94eS4kcSlcbiAgY29uc3QgdGFyZ2V0VWlkID0gdXNlSWQoe1xuICAgIHJlcXVpcmVkOiByZXF1aXJlZEZvckF0dHIsXG4gICAgZ2V0VmFsdWU6ICgpID0+IHByb3BzLmZvclxuICB9KVxuXG4gIHJldHVybiB7XG4gICAgcmVxdWlyZWRGb3JBdHRyLFxuICAgIGNoYW5nZUV2ZW50LFxuICAgIHRhZzogdGFnUHJvcCA9PT0gdHJ1ZVxuICAgICAgPyBjb21wdXRlZCgoKSA9PiBwcm9wcy50YWcpXG4gICAgICA6IHsgdmFsdWU6ICdsYWJlbCcgfSxcblxuICAgIGlzRGFyayxcblxuICAgIGVkaXRhYmxlOiBjb21wdXRlZCgoKSA9PlxuICAgICAgcHJvcHMuZGlzYWJsZSAhPT0gdHJ1ZSAmJiBwcm9wcy5yZWFkb25seSAhPT0gdHJ1ZVxuICAgICksXG5cbiAgICBpbm5lckxvYWRpbmc6IHJlZihmYWxzZSksXG4gICAgZm9jdXNlZDogcmVmKGZhbHNlKSxcbiAgICBoYXNQb3B1cE9wZW46IGZhbHNlLFxuXG4gICAgc3BsaXRBdHRyczogdXNlU3BsaXRBdHRycygpLFxuICAgIHRhcmdldFVpZCxcblxuICAgIHJvb3RSZWY6IHJlZihudWxsKSxcbiAgICB0YXJnZXRSZWY6IHJlZihudWxsKSxcbiAgICBjb250cm9sUmVmOiByZWYobnVsbClcblxuICAgIC8qKlxuICAgICAqIHVzZXIgc3VwcGxpZWQgYWRkaXRpb25hbHM6XG5cbiAgICAgKiBpbm5lclZhbHVlIC0gY29tcHV0ZWRcbiAgICAgKiBmbG9hdGluZ0xhYmVsIC0gY29tcHV0ZWRcbiAgICAgKiBpbnB1dFJlZiAtIGNvbXB1dGVkXG5cbiAgICAgKiBmaWVsZENsYXNzIC0gY29tcHV0ZWRcbiAgICAgKiBoYXNTaGFkb3cgLSBjb21wdXRlZFxuXG4gICAgICogY29udHJvbEV2ZW50cyAtIE9iamVjdCB3aXRoIGZuKGUpXG5cbiAgICAgKiBnZXRDb250cm9sIC0gZm5cbiAgICAgKiBnZXRJbm5lckFwcGVuZCAtIGZuXG4gICAgICogZ2V0Q29udHJvbENoaWxkIC0gZm5cbiAgICAgKiBnZXRTaGFkb3dDb250cm9sIC0gZm5cbiAgICAgKiBzaG93UG9wdXAgLSBmblxuICAgICAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBjb25zdCB7IHByb3BzLCBlbWl0LCBzbG90cywgYXR0cnMsIHByb3h5IH0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKVxuICBjb25zdCB7ICRxIH0gPSBwcm94eVxuXG4gIGxldCBmb2N1c291dFRpbWVyID0gbnVsbFxuXG4gIGlmIChzdGF0ZS5oYXNWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgc3RhdGUuaGFzVmFsdWUgPSBjb21wdXRlZCgoKSA9PiBmaWVsZFZhbHVlSXNGaWxsZWQocHJvcHMubW9kZWxWYWx1ZSkpXG4gIH1cblxuICBpZiAoc3RhdGUuZW1pdFZhbHVlID09PSB2b2lkIDApIHtcbiAgICBzdGF0ZS5lbWl0VmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIHZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS5jb250cm9sRXZlbnRzID09PSB2b2lkIDApIHtcbiAgICBzdGF0ZS5jb250cm9sRXZlbnRzID0ge1xuICAgICAgb25Gb2N1c2luOiBvbkNvbnRyb2xGb2N1c2luLFxuICAgICAgb25Gb2N1c291dDogb25Db250cm9sRm9jdXNvdXRcbiAgICB9XG4gIH1cblxuICBPYmplY3QuYXNzaWduKHN0YXRlLCB7XG4gICAgY2xlYXJWYWx1ZSxcbiAgICBvbkNvbnRyb2xGb2N1c2luLFxuICAgIG9uQ29udHJvbEZvY3Vzb3V0LFxuICAgIGZvY3VzXG4gIH0pXG5cbiAgaWYgKHN0YXRlLmNvbXB1dGVkQ291bnRlciA9PT0gdm9pZCAwKSB7XG4gICAgc3RhdGUuY29tcHV0ZWRDb3VudGVyID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKHByb3BzLmNvdW50ZXIgIT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IHR5cGVvZiBwcm9wcy5tb2RlbFZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcHMubW9kZWxWYWx1ZSA9PT0gJ251bWJlcidcbiAgICAgICAgICA/ICgnJyArIHByb3BzLm1vZGVsVmFsdWUpLmxlbmd0aFxuICAgICAgICAgIDogKEFycmF5LmlzQXJyYXkocHJvcHMubW9kZWxWYWx1ZSkgPT09IHRydWUgPyBwcm9wcy5tb2RlbFZhbHVlLmxlbmd0aCA6IDApXG5cbiAgICAgICAgY29uc3QgbWF4ID0gcHJvcHMubWF4bGVuZ3RoICE9PSB2b2lkIDBcbiAgICAgICAgICA/IHByb3BzLm1heGxlbmd0aFxuICAgICAgICAgIDogcHJvcHMubWF4VmFsdWVzXG5cbiAgICAgICAgcmV0dXJuIGxlbiArIChtYXggIT09IHZvaWQgMCA/ICcgLyAnICsgbWF4IDogJycpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICBpc0RpcnR5TW9kZWwsXG4gICAgaGFzUnVsZXMsXG4gICAgaGFzRXJyb3IsXG4gICAgZXJyb3JNZXNzYWdlLFxuICAgIHJlc2V0VmFsaWRhdGlvblxuICB9ID0gdXNlVmFsaWRhdGUoc3RhdGUuZm9jdXNlZCwgc3RhdGUuaW5uZXJMb2FkaW5nKVxuXG4gIGNvbnN0IGZsb2F0aW5nTGFiZWwgPSBzdGF0ZS5mbG9hdGluZ0xhYmVsICE9PSB2b2lkIDBcbiAgICA/IGNvbXB1dGVkKCgpID0+IHByb3BzLnN0YWNrTGFiZWwgPT09IHRydWUgfHwgc3RhdGUuZm9jdXNlZC52YWx1ZSA9PT0gdHJ1ZSB8fCBzdGF0ZS5mbG9hdGluZ0xhYmVsLnZhbHVlID09PSB0cnVlKVxuICAgIDogY29tcHV0ZWQoKCkgPT4gcHJvcHMuc3RhY2tMYWJlbCA9PT0gdHJ1ZSB8fCBzdGF0ZS5mb2N1c2VkLnZhbHVlID09PSB0cnVlIHx8IHN0YXRlLmhhc1ZhbHVlLnZhbHVlID09PSB0cnVlKVxuXG4gIGNvbnN0IHNob3VsZFJlbmRlckJvdHRvbSA9IGNvbXB1dGVkKCgpID0+XG4gICAgcHJvcHMuYm90dG9tU2xvdHMgPT09IHRydWVcbiAgICB8fCBwcm9wcy5oaW50ICE9PSB2b2lkIDBcbiAgICB8fCBoYXNSdWxlcy52YWx1ZSA9PT0gdHJ1ZVxuICAgIHx8IHByb3BzLmNvdW50ZXIgPT09IHRydWVcbiAgICB8fCBwcm9wcy5lcnJvciAhPT0gbnVsbFxuICApXG5cbiAgY29uc3Qgc3R5bGVUeXBlID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChwcm9wcy5maWxsZWQgPT09IHRydWUpIHsgcmV0dXJuICdmaWxsZWQnIH1cbiAgICBpZiAocHJvcHMub3V0bGluZWQgPT09IHRydWUpIHsgcmV0dXJuICdvdXRsaW5lZCcgfVxuICAgIGlmIChwcm9wcy5ib3JkZXJsZXNzID09PSB0cnVlKSB7IHJldHVybiAnYm9yZGVybGVzcycgfVxuICAgIGlmIChwcm9wcy5zdGFuZG91dCkgeyByZXR1cm4gJ3N0YW5kb3V0JyB9XG4gICAgcmV0dXJuICdzdGFuZGFyZCdcbiAgfSlcblxuICBjb25zdCBjbGFzc2VzID0gY29tcHV0ZWQoKCkgPT5cbiAgICBgcS1maWVsZCByb3cgbm8td3JhcCBpdGVtcy1zdGFydCBxLWZpZWxkLS0keyBzdHlsZVR5cGUudmFsdWUgfWBcbiAgICArIChzdGF0ZS5maWVsZENsYXNzICE9PSB2b2lkIDAgPyBgICR7IHN0YXRlLmZpZWxkQ2xhc3MudmFsdWUgfWAgOiAnJylcbiAgICArIChwcm9wcy5yb3VuZGVkID09PSB0cnVlID8gJyBxLWZpZWxkLS1yb3VuZGVkJyA6ICcnKVxuICAgICsgKHByb3BzLnNxdWFyZSA9PT0gdHJ1ZSA/ICcgcS1maWVsZC0tc3F1YXJlJyA6ICcnKVxuICAgICsgKGZsb2F0aW5nTGFiZWwudmFsdWUgPT09IHRydWUgPyAnIHEtZmllbGQtLWZsb2F0JyA6ICcnKVxuICAgICsgKGhhc0xhYmVsLnZhbHVlID09PSB0cnVlID8gJyBxLWZpZWxkLS1sYWJlbGVkJyA6ICcnKVxuICAgICsgKHByb3BzLmRlbnNlID09PSB0cnVlID8gJyBxLWZpZWxkLS1kZW5zZScgOiAnJylcbiAgICArIChwcm9wcy5pdGVtQWxpZ25lZCA9PT0gdHJ1ZSA/ICcgcS1maWVsZC0taXRlbS1hbGlnbmVkIHEtaXRlbS10eXBlJyA6ICcnKVxuICAgICsgKHN0YXRlLmlzRGFyay52YWx1ZSA9PT0gdHJ1ZSA/ICcgcS1maWVsZC0tZGFyaycgOiAnJylcbiAgICArIChzdGF0ZS5nZXRDb250cm9sID09PSB2b2lkIDAgPyAnIHEtZmllbGQtLWF1dG8taGVpZ2h0JyA6ICcnKVxuICAgICsgKHN0YXRlLmZvY3VzZWQudmFsdWUgPT09IHRydWUgPyAnIHEtZmllbGQtLWZvY3VzZWQnIDogJycpXG4gICAgKyAoaGFzRXJyb3IudmFsdWUgPT09IHRydWUgPyAnIHEtZmllbGQtLWVycm9yJyA6ICcnKVxuICAgICsgKGhhc0Vycm9yLnZhbHVlID09PSB0cnVlIHx8IHN0YXRlLmZvY3VzZWQudmFsdWUgPT09IHRydWUgPyAnIHEtZmllbGQtLWhpZ2hsaWdodGVkJyA6ICcnKVxuICAgICsgKHByb3BzLmhpZGVCb3R0b21TcGFjZSAhPT0gdHJ1ZSAmJiBzaG91bGRSZW5kZXJCb3R0b20udmFsdWUgPT09IHRydWUgPyAnIHEtZmllbGQtLXdpdGgtYm90dG9tJyA6ICcnKVxuICAgICsgKHByb3BzLmRpc2FibGUgPT09IHRydWUgPyAnIHEtZmllbGQtLWRpc2FibGVkJyA6IChwcm9wcy5yZWFkb25seSA9PT0gdHJ1ZSA/ICcgcS1maWVsZC0tcmVhZG9ubHknIDogJycpKVxuICApXG5cbiAgY29uc3QgY29udGVudENsYXNzID0gY29tcHV0ZWQoKCkgPT5cbiAgICAncS1maWVsZF9fY29udHJvbCByZWxhdGl2ZS1wb3NpdGlvbiByb3cgbm8td3JhcCdcbiAgICArIChwcm9wcy5iZ0NvbG9yICE9PSB2b2lkIDAgPyBgIGJnLSR7IHByb3BzLmJnQ29sb3IgfWAgOiAnJylcbiAgICArIChcbiAgICAgIGhhc0Vycm9yLnZhbHVlID09PSB0cnVlXG4gICAgICAgID8gJyB0ZXh0LW5lZ2F0aXZlJ1xuICAgICAgICA6IChcbiAgICAgICAgICAgIHR5cGVvZiBwcm9wcy5zdGFuZG91dCA9PT0gJ3N0cmluZycgJiYgcHJvcHMuc3RhbmRvdXQubGVuZ3RoICE9PSAwICYmIHN0YXRlLmZvY3VzZWQudmFsdWUgPT09IHRydWVcbiAgICAgICAgICAgICAgPyBgICR7IHByb3BzLnN0YW5kb3V0IH1gXG4gICAgICAgICAgICAgIDogKHByb3BzLmNvbG9yICE9PSB2b2lkIDAgPyBgIHRleHQtJHsgcHJvcHMuY29sb3IgfWAgOiAnJylcbiAgICAgICAgICApXG4gICAgKVxuICApXG5cbiAgY29uc3QgaGFzTGFiZWwgPSBjb21wdXRlZCgoKSA9PlxuICAgIHByb3BzLmxhYmVsU2xvdCA9PT0gdHJ1ZSB8fCBwcm9wcy5sYWJlbCAhPT0gdm9pZCAwXG4gIClcblxuICBjb25zdCBsYWJlbENsYXNzID0gY29tcHV0ZWQoKCkgPT5cbiAgICAncS1maWVsZF9fbGFiZWwgbm8tcG9pbnRlci1ldmVudHMgYWJzb2x1dGUgZWxsaXBzaXMnXG4gICAgKyAocHJvcHMubGFiZWxDb2xvciAhPT0gdm9pZCAwICYmIGhhc0Vycm9yLnZhbHVlICE9PSB0cnVlID8gYCB0ZXh0LSR7IHByb3BzLmxhYmVsQ29sb3IgfWAgOiAnJylcbiAgKVxuXG4gIGNvbnN0IGNvbnRyb2xTbG90U2NvcGUgPSBjb21wdXRlZCgoKSA9PiAoe1xuICAgIGlkOiBzdGF0ZS50YXJnZXRVaWQudmFsdWUsXG4gICAgZWRpdGFibGU6IHN0YXRlLmVkaXRhYmxlLnZhbHVlLFxuICAgIGZvY3VzZWQ6IHN0YXRlLmZvY3VzZWQudmFsdWUsXG4gICAgZmxvYXRpbmdMYWJlbDogZmxvYXRpbmdMYWJlbC52YWx1ZSxcbiAgICBtb2RlbFZhbHVlOiBwcm9wcy5tb2RlbFZhbHVlLFxuICAgIGVtaXRWYWx1ZTogc3RhdGUuZW1pdFZhbHVlXG4gIH0pKVxuXG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgY29uc3QgYWNjID0ge31cblxuICAgIGlmIChzdGF0ZS50YXJnZXRVaWQudmFsdWUpIHtcbiAgICAgIGFjYy5mb3IgPSBzdGF0ZS50YXJnZXRVaWQudmFsdWVcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgYWNjWyAnYXJpYS1kaXNhYmxlZCcgXSA9ICd0cnVlJ1xuICAgIH1cblxuICAgIHJldHVybiBhY2NcbiAgfSlcblxuICBmdW5jdGlvbiBmb2N1c0hhbmRsZXIgKCkge1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgIGxldCB0YXJnZXQgPSBzdGF0ZS50YXJnZXRSZWY/LnZhbHVlXG5cbiAgICBpZiAodGFyZ2V0ICYmIChlbCA9PT0gbnVsbCB8fCBlbC5pZCAhPT0gc3RhdGUudGFyZ2V0VWlkLnZhbHVlKSkge1xuICAgICAgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSA9PT0gdHJ1ZSB8fCAodGFyZ2V0ID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ1t0YWJpbmRleF0nKSlcbiAgICAgIGlmICh0YXJnZXQgIT09IGVsKSB7XG4gICAgICAgIHRhcmdldD8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZm9jdXMgKCkge1xuICAgIGFkZEZvY3VzRm4oZm9jdXNIYW5kbGVyKVxuICB9XG5cbiAgZnVuY3Rpb24gYmx1ciAoKSB7XG4gICAgcmVtb3ZlRm9jdXNGbihmb2N1c0hhbmRsZXIpXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gICAgaWYgKGVsICE9PSBudWxsICYmIHN0YXRlLnJvb3RSZWYudmFsdWUuY29udGFpbnMoZWwpKSB7XG4gICAgICBlbC5ibHVyKClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNvbnRyb2xGb2N1c2luIChlKSB7XG4gICAgaWYgKGZvY3Vzb3V0VGltZXIgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dChmb2N1c291dFRpbWVyKVxuICAgICAgZm9jdXNvdXRUaW1lciA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuZWRpdGFibGUudmFsdWUgPT09IHRydWUgJiYgc3RhdGUuZm9jdXNlZC52YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHN0YXRlLmZvY3VzZWQudmFsdWUgPSB0cnVlXG4gICAgICBlbWl0KCdmb2N1cycsIGUpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25Db250cm9sRm9jdXNvdXQgKGUsIHRoZW4pIHtcbiAgICBmb2N1c291dFRpbWVyICE9PSBudWxsICYmIGNsZWFyVGltZW91dChmb2N1c291dFRpbWVyKVxuICAgIGZvY3Vzb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGZvY3Vzb3V0VGltZXIgPSBudWxsXG5cbiAgICAgIGlmIChcbiAgICAgICAgZG9jdW1lbnQuaGFzRm9jdXMoKSA9PT0gdHJ1ZSAmJiAoXG4gICAgICAgICAgc3RhdGUuaGFzUG9wdXBPcGVuID09PSB0cnVlXG4gICAgICAgICAgfHwgc3RhdGUuY29udHJvbFJlZiA9PT0gdm9pZCAwXG4gICAgICAgICAgfHwgc3RhdGUuY29udHJvbFJlZi52YWx1ZSA9PT0gbnVsbFxuICAgICAgICAgIHx8IHN0YXRlLmNvbnRyb2xSZWYudmFsdWUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgIT09IGZhbHNlXG4gICAgICAgIClcbiAgICAgICkgcmV0dXJuXG5cbiAgICAgIGlmIChzdGF0ZS5mb2N1c2VkLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgIHN0YXRlLmZvY3VzZWQudmFsdWUgPSBmYWxzZVxuICAgICAgICBlbWl0KCdibHVyJywgZSlcbiAgICAgIH1cblxuICAgICAgdGhlbj8uKClcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJWYWx1ZSAoZSkge1xuICAgIC8vIHByZXZlbnQgYWN0aXZhdGluZyB0aGUgZmllbGQgYnV0IGtlZXAgZm9jdXMgb24gZGVza3RvcFxuICAgIHN0b3BBbmRQcmV2ZW50KGUpXG5cbiAgICBpZiAoJHEucGxhdGZvcm0uaXMubW9iaWxlICE9PSB0cnVlKSB7XG4gICAgICBjb25zdCBlbCA9IHN0YXRlLnRhcmdldFJlZj8udmFsdWUgfHwgc3RhdGUucm9vdFJlZi52YWx1ZVxuICAgICAgZWwuZm9jdXMoKVxuICAgIH1cbiAgICBlbHNlIGlmIChzdGF0ZS5yb290UmVmLnZhbHVlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpID09PSB0cnVlKSB7XG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKVxuICAgIH1cblxuICAgIGlmIChwcm9wcy50eXBlID09PSAnZmlsZScpIHtcbiAgICAgIC8vIGRvIG5vdCBsZXQgZm9jdXMgYmUgdHJpZ2dlcmVkXG4gICAgICAvLyBhcyBpdCB3aWxsIG1ha2UgdGhlIG5hdGl2ZSBmaWxlIGRpYWxvZ1xuICAgICAgLy8gYXBwZWFyIGZvciBhbm90aGVyIHNlbGVjdGlvblxuICAgICAgc3RhdGUuaW5wdXRSZWYudmFsdWUudmFsdWUgPSBudWxsXG4gICAgfVxuXG4gICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBudWxsKVxuICAgIHN0YXRlLmNoYW5nZUV2ZW50ID09PSB0cnVlICYmIGVtaXQoJ2NoYW5nZScsIG51bGwpXG4gICAgZW1pdCgnY2xlYXInLCBwcm9wcy5tb2RlbFZhbHVlKVxuXG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgY29uc3QgaXNEaXJ0eSA9IGlzRGlydHlNb2RlbC52YWx1ZVxuICAgICAgcmVzZXRWYWxpZGF0aW9uKClcbiAgICAgIGlzRGlydHlNb2RlbC52YWx1ZSA9IGlzRGlydHlcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gb25DbGVhcmFibGVLZXl1cCAoZXZ0KSB7XG4gICAgWyAxMywgMzIgXS5pbmNsdWRlcyhldnQua2V5Q29kZSkgJiYgY2xlYXJWYWx1ZShldnQpXG4gIH1cblxuICBmdW5jdGlvbiBnZXRDb250ZW50ICgpIHtcbiAgICBjb25zdCBub2RlID0gW11cblxuICAgIHNsb3RzLnByZXBlbmQgIT09IHZvaWQgMCAmJiBub2RlLnB1c2goXG4gICAgICBoKCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiAncS1maWVsZF9fcHJlcGVuZCBxLWZpZWxkX19tYXJnaW5hbCByb3cgbm8td3JhcCBpdGVtcy1jZW50ZXInLFxuICAgICAgICBrZXk6ICdwcmVwZW5kJyxcbiAgICAgICAgb25DbGljazogcHJldmVudFxuICAgICAgfSwgc2xvdHMucHJlcGVuZCgpKVxuICAgIClcblxuICAgIG5vZGUucHVzaChcbiAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgY2xhc3M6ICdxLWZpZWxkX19jb250cm9sLWNvbnRhaW5lciBjb2wgcmVsYXRpdmUtcG9zaXRpb24gcm93IG5vLXdyYXAgcS1hbmNob3ItLXNraXAnXG4gICAgICB9LCBnZXRDb250cm9sQ29udGFpbmVyKCkpXG4gICAgKVxuXG4gICAgaGFzRXJyb3IudmFsdWUgPT09IHRydWUgJiYgcHJvcHMubm9FcnJvckljb24gPT09IGZhbHNlICYmIG5vZGUucHVzaChcbiAgICAgIGdldElubmVyQXBwZW5kTm9kZSgnZXJyb3InLCBbXG4gICAgICAgIGgoUUljb24sIHsgbmFtZTogJHEuaWNvblNldC5maWVsZC5lcnJvciwgY29sb3I6ICduZWdhdGl2ZScgfSlcbiAgICAgIF0pXG4gICAgKVxuXG4gICAgaWYgKHByb3BzLmxvYWRpbmcgPT09IHRydWUgfHwgc3RhdGUuaW5uZXJMb2FkaW5nLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICBub2RlLnB1c2goXG4gICAgICAgIGdldElubmVyQXBwZW5kTm9kZShcbiAgICAgICAgICAnaW5uZXItbG9hZGluZy1hcHBlbmQnLFxuICAgICAgICAgIHNsb3RzLmxvYWRpbmcgIT09IHZvaWQgMFxuICAgICAgICAgICAgPyBzbG90cy5sb2FkaW5nKClcbiAgICAgICAgICAgIDogWyBoKFFTcGlubmVyLCB7IGNvbG9yOiBwcm9wcy5jb2xvciB9KSBdXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvcHMuY2xlYXJhYmxlID09PSB0cnVlICYmIHN0YXRlLmhhc1ZhbHVlLnZhbHVlID09PSB0cnVlICYmIHN0YXRlLmVkaXRhYmxlLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICBub2RlLnB1c2goXG4gICAgICAgIGdldElubmVyQXBwZW5kTm9kZSgnaW5uZXItY2xlYXJhYmxlLWFwcGVuZCcsIFtcbiAgICAgICAgICBoKFFJY29uLCB7XG4gICAgICAgICAgICBjbGFzczogJ3EtZmllbGRfX2ZvY3VzYWJsZS1hY3Rpb24nLFxuICAgICAgICAgICAgbmFtZTogcHJvcHMuY2xlYXJJY29uIHx8ICRxLmljb25TZXQuZmllbGQuY2xlYXIsXG4gICAgICAgICAgICB0YWJpbmRleDogMCxcbiAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ2ZhbHNlJyxcbiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJHEubGFuZy5sYWJlbC5jbGVhcixcbiAgICAgICAgICAgIG9uS2V5dXA6IG9uQ2xlYXJhYmxlS2V5dXAsXG4gICAgICAgICAgICBvbkNsaWNrOiBjbGVhclZhbHVlXG4gICAgICAgICAgfSlcbiAgICAgICAgXSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBzbG90cy5hcHBlbmQgIT09IHZvaWQgMCAmJiBub2RlLnB1c2goXG4gICAgICBoKCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiAncS1maWVsZF9fYXBwZW5kIHEtZmllbGRfX21hcmdpbmFsIHJvdyBuby13cmFwIGl0ZW1zLWNlbnRlcicsXG4gICAgICAgIGtleTogJ2FwcGVuZCcsXG4gICAgICAgIG9uQ2xpY2s6IHByZXZlbnRcbiAgICAgIH0sIHNsb3RzLmFwcGVuZCgpKVxuICAgIClcblxuICAgIHN0YXRlLmdldElubmVyQXBwZW5kICE9PSB2b2lkIDAgJiYgbm9kZS5wdXNoKFxuICAgICAgZ2V0SW5uZXJBcHBlbmROb2RlKCdpbm5lci1hcHBlbmQnLCBzdGF0ZS5nZXRJbm5lckFwcGVuZCgpKVxuICAgIClcblxuICAgIHN0YXRlLmdldENvbnRyb2xDaGlsZCAhPT0gdm9pZCAwICYmIG5vZGUucHVzaChcbiAgICAgIHN0YXRlLmdldENvbnRyb2xDaGlsZCgpXG4gICAgKVxuXG4gICAgcmV0dXJuIG5vZGVcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbnRyb2xDb250YWluZXIgKCkge1xuICAgIGNvbnN0IG5vZGUgPSBbXVxuXG4gICAgcHJvcHMucHJlZml4ICE9PSB2b2lkIDAgJiYgcHJvcHMucHJlZml4ICE9PSBudWxsICYmIG5vZGUucHVzaChcbiAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgY2xhc3M6ICdxLWZpZWxkX19wcmVmaXggbm8tcG9pbnRlci1ldmVudHMgcm93IGl0ZW1zLWNlbnRlcidcbiAgICAgIH0sIHByb3BzLnByZWZpeClcbiAgICApXG5cbiAgICBpZiAoc3RhdGUuZ2V0U2hhZG93Q29udHJvbCAhPT0gdm9pZCAwICYmIHN0YXRlLmhhc1NoYWRvdy52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgbm9kZS5wdXNoKFxuICAgICAgICBzdGF0ZS5nZXRTaGFkb3dDb250cm9sKClcbiAgICAgIClcbiAgICB9XG5cbiAgICBoYXNMYWJlbC52YWx1ZSA9PT0gdHJ1ZSAmJiBub2RlLnB1c2goXG4gICAgICBoKCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiBsYWJlbENsYXNzLnZhbHVlXG4gICAgICB9LCBoU2xvdChzbG90cy5sYWJlbCwgcHJvcHMubGFiZWwpKVxuICAgIClcblxuICAgIGlmIChzdGF0ZS5nZXRDb250cm9sICE9PSB2b2lkIDApIHtcbiAgICAgIG5vZGUucHVzaChzdGF0ZS5nZXRDb250cm9sKCkpXG4gICAgfVxuICAgIC8vIGludGVybmFsIHVzYWdlIG9ubHk6XG4gICAgZWxzZSBpZiAoc2xvdHMucmF3Q29udHJvbCAhPT0gdm9pZCAwKSB7XG4gICAgICBub2RlLnB1c2goc2xvdHMucmF3Q29udHJvbCgpKVxuICAgIH1cbiAgICBlbHNlIGlmIChzbG90cy5jb250cm9sICE9PSB2b2lkIDApIHtcbiAgICAgIG5vZGUucHVzaChcbiAgICAgICAgaCgnZGl2Jywge1xuICAgICAgICAgIHJlZjogc3RhdGUudGFyZ2V0UmVmLFxuICAgICAgICAgIGNsYXNzOiAncS1maWVsZF9fbmF0aXZlIHJvdycsXG4gICAgICAgICAgdGFiaW5kZXg6IC0xLFxuICAgICAgICAgIC4uLnN0YXRlLnNwbGl0QXR0cnMuYXR0cmlidXRlcy52YWx1ZSxcbiAgICAgICAgICAnZGF0YS1hdXRvZm9jdXMnOiBwcm9wcy5hdXRvZm9jdXMgPT09IHRydWUgfHwgdm9pZCAwXG4gICAgICAgIH0sIHNsb3RzLmNvbnRyb2woY29udHJvbFNsb3RTY29wZS52YWx1ZSkpXG4gICAgICApXG4gICAgfVxuXG4gICAgcHJvcHMuc3VmZml4ICE9PSB2b2lkIDAgJiYgcHJvcHMuc3VmZml4ICE9PSBudWxsICYmIG5vZGUucHVzaChcbiAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgY2xhc3M6ICdxLWZpZWxkX19zdWZmaXggbm8tcG9pbnRlci1ldmVudHMgcm93IGl0ZW1zLWNlbnRlcidcbiAgICAgIH0sIHByb3BzLnN1ZmZpeClcbiAgICApXG5cbiAgICByZXR1cm4gbm9kZS5jb25jYXQoaFNsb3Qoc2xvdHMuZGVmYXVsdCkpXG4gIH1cblxuICBmdW5jdGlvbiBnZXRCb3R0b20gKCkge1xuICAgIGxldCBtc2csIGtleVxuXG4gICAgaWYgKGhhc0Vycm9yLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICBpZiAoZXJyb3JNZXNzYWdlLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIG1zZyA9IFsgaCgnZGl2JywgeyByb2xlOiAnYWxlcnQnIH0sIGVycm9yTWVzc2FnZS52YWx1ZSkgXVxuICAgICAgICBrZXkgPSBgcS0tc2xvdC1lcnJvci0keyBlcnJvck1lc3NhZ2UudmFsdWUgfWBcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtc2cgPSBoU2xvdChzbG90cy5lcnJvcilcbiAgICAgICAga2V5ID0gJ3EtLXNsb3QtZXJyb3InXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3BzLmhpZGVIaW50ICE9PSB0cnVlIHx8IHN0YXRlLmZvY3VzZWQudmFsdWUgPT09IHRydWUpIHtcbiAgICAgIGlmIChwcm9wcy5oaW50ICE9PSB2b2lkIDApIHtcbiAgICAgICAgbXNnID0gWyBoKCdkaXYnLCBwcm9wcy5oaW50KSBdXG4gICAgICAgIGtleSA9IGBxLS1zbG90LWhpbnQtJHsgcHJvcHMuaGludCB9YFxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1zZyA9IGhTbG90KHNsb3RzLmhpbnQpXG4gICAgICAgIGtleSA9ICdxLS1zbG90LWhpbnQnXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGFzQ291bnRlciA9IHByb3BzLmNvdW50ZXIgPT09IHRydWUgfHwgc2xvdHMuY291bnRlciAhPT0gdm9pZCAwXG5cbiAgICBpZiAoXG4gICAgICBwcm9wcy5oaWRlQm90dG9tU3BhY2UgPT09IHRydWVcbiAgICAgICYmIGhhc0NvdW50ZXIgPT09IGZhbHNlXG4gICAgICAmJiBtc2cgPT09IHZvaWQgMFxuICAgICkgcmV0dXJuXG5cbiAgICBjb25zdCBtYWluID0gaCgnZGl2Jywge1xuICAgICAga2V5LFxuICAgICAgY2xhc3M6ICdxLWZpZWxkX19tZXNzYWdlcyBjb2wnXG4gICAgfSwgbXNnKVxuXG4gICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgIGNsYXNzOiAncS1maWVsZF9fYm90dG9tIHJvdyBpdGVtcy1zdGFydCBxLWZpZWxkX19ib3R0b20tLSdcbiAgICAgICAgKyAocHJvcHMuaGlkZUJvdHRvbVNwYWNlICE9PSB0cnVlID8gJ2FuaW1hdGVkJyA6ICdzdGFsZScpLFxuICAgICAgb25DbGljazogcHJldmVudFxuICAgIH0sIFtcbiAgICAgIHByb3BzLmhpZGVCb3R0b21TcGFjZSA9PT0gdHJ1ZVxuICAgICAgICA/IG1haW5cbiAgICAgICAgOiBoKFRyYW5zaXRpb24sIHsgbmFtZTogJ3EtdHJhbnNpdGlvbi0tZmllbGQtbWVzc2FnZScgfSwgKCkgPT4gbWFpbiksXG5cbiAgICAgIGhhc0NvdW50ZXIgPT09IHRydWVcbiAgICAgICAgPyBoKCdkaXYnLCB7XG4gICAgICAgICAgY2xhc3M6ICdxLWZpZWxkX19jb3VudGVyJ1xuICAgICAgICB9LCBzbG90cy5jb3VudGVyICE9PSB2b2lkIDAgPyBzbG90cy5jb3VudGVyKCkgOiBzdGF0ZS5jb21wdXRlZENvdW50ZXIudmFsdWUpXG4gICAgICAgIDogbnVsbFxuICAgIF0pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbm5lckFwcGVuZE5vZGUgKGtleSwgY29udGVudCkge1xuICAgIHJldHVybiBjb250ZW50ID09PSBudWxsXG4gICAgICA/IG51bGxcbiAgICAgIDogaCgnZGl2Jywge1xuICAgICAgICBrZXksXG4gICAgICAgIGNsYXNzOiAncS1maWVsZF9fYXBwZW5kIHEtZmllbGRfX21hcmdpbmFsIHJvdyBuby13cmFwIGl0ZW1zLWNlbnRlciBxLWFuY2hvci0tc2tpcCdcbiAgICAgIH0sIGNvbnRlbnQpXG4gIH1cblxuICBsZXQgc2hvdWxkQWN0aXZhdGUgPSBmYWxzZVxuXG4gIG9uRGVhY3RpdmF0ZWQoKCkgPT4ge1xuICAgIHNob3VsZEFjdGl2YXRlID0gdHJ1ZVxuICB9KVxuXG4gIG9uQWN0aXZhdGVkKCgpID0+IHtcbiAgICBzaG91bGRBY3RpdmF0ZSA9PT0gdHJ1ZSAmJiBwcm9wcy5hdXRvZm9jdXMgPT09IHRydWUgJiYgcHJveHkuZm9jdXMoKVxuICB9KVxuXG4gIHByb3BzLmF1dG9mb2N1cyA9PT0gdHJ1ZSAmJiBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHByb3h5LmZvY3VzKClcbiAgfSlcblxuICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgIGZvY3Vzb3V0VGltZXIgIT09IG51bGwgJiYgY2xlYXJUaW1lb3V0KGZvY3Vzb3V0VGltZXIpXG4gIH0pXG5cbiAgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzXG4gIE9iamVjdC5hc3NpZ24ocHJveHksIHsgZm9jdXMsIGJsdXIgfSlcblxuICByZXR1cm4gZnVuY3Rpb24gcmVuZGVyRmllbGQgKCkge1xuICAgIGNvbnN0IGxhYmVsQXR0cnMgPSBzdGF0ZS5nZXRDb250cm9sID09PSB2b2lkIDAgJiYgc2xvdHMuY29udHJvbCA9PT0gdm9pZCAwXG4gICAgICA/IHtcbiAgICAgICAgICAuLi5zdGF0ZS5zcGxpdEF0dHJzLmF0dHJpYnV0ZXMudmFsdWUsXG4gICAgICAgICAgJ2RhdGEtYXV0b2ZvY3VzJzogcHJvcHMuYXV0b2ZvY3VzID09PSB0cnVlIHx8IHZvaWQgMCxcbiAgICAgICAgICAuLi5hdHRyaWJ1dGVzLnZhbHVlXG4gICAgICAgIH1cbiAgICAgIDogYXR0cmlidXRlcy52YWx1ZVxuXG4gICAgcmV0dXJuIGgoc3RhdGUudGFnLnZhbHVlLCB7XG4gICAgICByZWY6IHN0YXRlLnJvb3RSZWYsXG4gICAgICBjbGFzczogW1xuICAgICAgICBjbGFzc2VzLnZhbHVlLFxuICAgICAgICBhdHRycy5jbGFzc1xuICAgICAgXSxcbiAgICAgIHN0eWxlOiBhdHRycy5zdHlsZSxcbiAgICAgIC4uLmxhYmVsQXR0cnNcbiAgICB9LCBbXG4gICAgICBzbG90cy5iZWZvcmUgIT09IHZvaWQgMFxuICAgICAgICA/IGgoJ2RpdicsIHtcbiAgICAgICAgICBjbGFzczogJ3EtZmllbGRfX2JlZm9yZSBxLWZpZWxkX19tYXJnaW5hbCByb3cgbm8td3JhcCBpdGVtcy1jZW50ZXInLFxuICAgICAgICAgIG9uQ2xpY2s6IHByZXZlbnRcbiAgICAgICAgfSwgc2xvdHMuYmVmb3JlKCkpXG4gICAgICAgIDogbnVsbCxcblxuICAgICAgaCgnZGl2Jywge1xuICAgICAgICBjbGFzczogJ3EtZmllbGRfX2lubmVyIHJlbGF0aXZlLXBvc2l0aW9uIGNvbCBzZWxmLXN0cmV0Y2gnXG4gICAgICB9LCBbXG4gICAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgICByZWY6IHN0YXRlLmNvbnRyb2xSZWYsXG4gICAgICAgICAgY2xhc3M6IGNvbnRlbnRDbGFzcy52YWx1ZSxcbiAgICAgICAgICB0YWJpbmRleDogLTEsXG4gICAgICAgICAgLi4uc3RhdGUuY29udHJvbEV2ZW50c1xuICAgICAgICB9LCBnZXRDb250ZW50KCkpLFxuXG4gICAgICAgIHNob3VsZFJlbmRlckJvdHRvbS52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgICAgID8gZ2V0Qm90dG9tKClcbiAgICAgICAgICA6IG51bGxcbiAgICAgIF0pLFxuXG4gICAgICBzbG90cy5hZnRlciAhPT0gdm9pZCAwXG4gICAgICAgID8gaCgnZGl2Jywge1xuICAgICAgICAgIGNsYXNzOiAncS1maWVsZF9fYWZ0ZXIgcS1maWVsZF9fbWFyZ2luYWwgcm93IG5vLXdyYXAgaXRlbXMtY2VudGVyJyxcbiAgICAgICAgICBvbkNsaWNrOiBwcmV2ZW50XG4gICAgICAgIH0sIHNsb3RzLmFmdGVyKCkpXG4gICAgICAgIDogbnVsbFxuICAgIF0pXG4gIH1cbn1cbiIsImltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIHdhdGNoLCBuZXh0VGljayB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IHsgc2hvdWxkSWdub3JlS2V5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5rZXlib2FyZC9rZXktY29tcG9zaXRpb24uanMnXG5cbi8vIGxlYXZlIE5BTUVEX01BU0tTIGF0IHRvcCBvZiBmaWxlIChjb2RlIHJlZmVyZW5jZWQgZnJvbSBkb2NzKVxuY29uc3QgTkFNRURfTUFTS1MgPSB7XG4gIGRhdGU6ICcjIyMjLyMjLyMjJyxcbiAgZGF0ZXRpbWU6ICcjIyMjLyMjLyMjICMjOiMjJyxcbiAgdGltZTogJyMjOiMjJyxcbiAgZnVsbHRpbWU6ICcjIzojIzojIycsXG4gIHBob25lOiAnKCMjIykgIyMjIC0gIyMjIycsXG4gIGNhcmQ6ICcjIyMjICMjIyMgIyMjIyAjIyMjJ1xufVxuXG5jb25zdCB7IHRva2VuTWFwOiBERUZBVUxUX1RPS0VOX01BUCwgdG9rZW5LZXlzOiBERUZBVUxUX1RPS0VOX01BUF9LRVlTIH0gPSBnZXRUb2tlbk1hcCh7XG4gICcjJzogeyBwYXR0ZXJuOiAnW1xcXFxkXScsIG5lZ2F0ZTogJ1teXFxcXGRdJyB9LFxuXG4gIFM6IHsgcGF0dGVybjogJ1thLXpBLVpdJywgbmVnYXRlOiAnW15hLXpBLVpdJyB9LFxuICBOOiB7IHBhdHRlcm46ICdbMC05YS16QS1aXScsIG5lZ2F0ZTogJ1teMC05YS16QS1aXScgfSxcblxuICBBOiB7IHBhdHRlcm46ICdbYS16QS1aXScsIG5lZ2F0ZTogJ1teYS16QS1aXScsIHRyYW5zZm9ybTogdiA9PiB2LnRvTG9jYWxlVXBwZXJDYXNlKCkgfSxcbiAgYTogeyBwYXR0ZXJuOiAnW2EtekEtWl0nLCBuZWdhdGU6ICdbXmEtekEtWl0nLCB0cmFuc2Zvcm06IHYgPT4gdi50b0xvY2FsZUxvd2VyQ2FzZSgpIH0sXG5cbiAgWDogeyBwYXR0ZXJuOiAnWzAtOWEtekEtWl0nLCBuZWdhdGU6ICdbXjAtOWEtekEtWl0nLCB0cmFuc2Zvcm06IHYgPT4gdi50b0xvY2FsZVVwcGVyQ2FzZSgpIH0sXG4gIHg6IHsgcGF0dGVybjogJ1swLTlhLXpBLVpdJywgbmVnYXRlOiAnW14wLTlhLXpBLVpdJywgdHJhbnNmb3JtOiB2ID0+IHYudG9Mb2NhbGVMb3dlckNhc2UoKSB9XG59KVxuXG5mdW5jdGlvbiBnZXRUb2tlbk1hcCAodG9rZW5zKSB7XG4gIGNvbnN0IHRva2VuS2V5cyA9IE9iamVjdC5rZXlzKHRva2VucylcbiAgY29uc3QgdG9rZW5NYXAgPSB7fVxuXG4gIHRva2VuS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgY29uc3QgZW50cnkgPSB0b2tlbnNbIGtleSBdXG4gICAgdG9rZW5NYXBbIGtleSBdID0ge1xuICAgICAgLi4uZW50cnksXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChlbnRyeS5wYXR0ZXJuKVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4geyB0b2tlbk1hcCwgdG9rZW5LZXlzIH1cbn1cblxuZnVuY3Rpb24gZ2V0VG9rZW5SZWdleE1hc2sgKGtleXMpIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoJ1xcXFxcXFxcKFteLiorP14ke30oKXwoW1xcXFxdXSl8KFsuKis/XiR7fSgpfFtcXFxcXV0pfChbJyArIGtleXMuam9pbignJykgKyAnXSl8KC4pJywgJ2cnKVxufVxuXG5jb25zdCBlc2NSZWdleCA9IC9bLiorP14ke30oKXxbXFxdXFxcXF0vZ1xuY29uc3QgREVGQVVMVF9UT0tFTl9SRUdFWF9NQVNLID0gZ2V0VG9rZW5SZWdleE1hc2soREVGQVVMVF9UT0tFTl9NQVBfS0VZUylcbmNvbnN0IE1BUktFUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMSlcblxuZXhwb3J0IGNvbnN0IHVzZU1hc2tQcm9wcyA9IHtcbiAgbWFzazogU3RyaW5nLFxuICByZXZlcnNlRmlsbE1hc2s6IEJvb2xlYW4sXG4gIGZpbGxNYXNrOiBbIEJvb2xlYW4sIFN0cmluZyBdLFxuICB1bm1hc2tlZFZhbHVlOiBCb29sZWFuLFxuICBtYXNrVG9rZW5zOiBPYmplY3Rcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHByb3BzLCBlbWl0LCBlbWl0VmFsdWUsIGlucHV0UmVmKSB7XG4gIGxldCBtYXNrTWFya2VkLCBtYXNrUmVwbGFjZWQsIGNvbXB1dGVkTWFzaywgY29tcHV0ZWRVbm1hc2ssIHBhc3RlZFRleHRTdGFydCwgc2VsZWN0aW9uQW5jaG9yXG5cbiAgY29uc3QgdG9rZW5zID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChwcm9wcy5tYXNrVG9rZW5zID09PSB2b2lkIDAgfHwgcHJvcHMubWFza1Rva2VucyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW5NYXA6IERFRkFVTFRfVE9LRU5fTUFQLFxuICAgICAgICB0b2tlblJlZ2V4TWFzazogREVGQVVMVF9UT0tFTl9SRUdFWF9NQVNLXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyB0b2tlbk1hcDogY3VzdG9tVG9rZW5zIH0gPSBnZXRUb2tlbk1hcChwcm9wcy5tYXNrVG9rZW5zKVxuICAgIGNvbnN0IHRva2VuTWFwID0ge1xuICAgICAgLi4uREVGQVVMVF9UT0tFTl9NQVAsXG4gICAgICAuLi5jdXN0b21Ub2tlbnNcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW5NYXAsXG4gICAgICB0b2tlblJlZ2V4TWFzazogZ2V0VG9rZW5SZWdleE1hc2soT2JqZWN0LmtleXModG9rZW5NYXApKVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBoYXNNYXNrID0gcmVmKG51bGwpXG4gIGNvbnN0IGlubmVyVmFsdWUgPSByZWYoZ2V0SW5pdGlhbE1hc2tlZFZhbHVlKCkpXG5cbiAgZnVuY3Rpb24gZ2V0SXNUeXBlVGV4dCAoKSB7XG4gICAgcmV0dXJuIHByb3BzLmF1dG9ncm93ID09PSB0cnVlXG4gICAgICB8fCBbICd0ZXh0YXJlYScsICd0ZXh0JywgJ3NlYXJjaCcsICd1cmwnLCAndGVsJywgJ3Bhc3N3b3JkJyBdLmluY2x1ZGVzKHByb3BzLnR5cGUpXG4gIH1cblxuICB3YXRjaCgoKSA9PiBwcm9wcy50eXBlICsgcHJvcHMuYXV0b2dyb3csIHVwZGF0ZU1hc2tJbnRlcm5hbHMpXG5cbiAgd2F0Y2goKCkgPT4gcHJvcHMubWFzaywgdiA9PiB7XG4gICAgaWYgKHYgIT09IHZvaWQgMCkge1xuICAgICAgdXBkYXRlTWFza1ZhbHVlKGlubmVyVmFsdWUudmFsdWUsIHRydWUpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgdmFsID0gdW5tYXNrVmFsdWUoaW5uZXJWYWx1ZS52YWx1ZSlcbiAgICAgIHVwZGF0ZU1hc2tJbnRlcm5hbHMoKVxuICAgICAgcHJvcHMubW9kZWxWYWx1ZSAhPT0gdmFsICYmIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgdmFsKVxuICAgIH1cbiAgfSlcblxuICB3YXRjaCgoKSA9PiBwcm9wcy5maWxsTWFzayArIHByb3BzLnJldmVyc2VGaWxsTWFzaywgKCkgPT4ge1xuICAgIGhhc01hc2sudmFsdWUgPT09IHRydWUgJiYgdXBkYXRlTWFza1ZhbHVlKGlubmVyVmFsdWUudmFsdWUsIHRydWUpXG4gIH0pXG5cbiAgd2F0Y2goKCkgPT4gcHJvcHMudW5tYXNrZWRWYWx1ZSwgKCkgPT4ge1xuICAgIGhhc01hc2sudmFsdWUgPT09IHRydWUgJiYgdXBkYXRlTWFza1ZhbHVlKGlubmVyVmFsdWUudmFsdWUpXG4gIH0pXG5cbiAgZnVuY3Rpb24gZ2V0SW5pdGlhbE1hc2tlZFZhbHVlICgpIHtcbiAgICB1cGRhdGVNYXNrSW50ZXJuYWxzKClcblxuICAgIGlmIChoYXNNYXNrLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBtYXNrZWQgPSBtYXNrVmFsdWUodW5tYXNrVmFsdWUocHJvcHMubW9kZWxWYWx1ZSkpXG5cbiAgICAgIHJldHVybiBwcm9wcy5maWxsTWFzayAhPT0gZmFsc2VcbiAgICAgICAgPyBmaWxsV2l0aE1hc2sobWFza2VkKVxuICAgICAgICA6IG1hc2tlZFxuICAgIH1cblxuICAgIHJldHVybiBwcm9wcy5tb2RlbFZhbHVlXG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYWRkZWRNYXNrTWFya2VkIChzaXplKSB7XG4gICAgaWYgKHNpemUgPCBtYXNrTWFya2VkLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG1hc2tNYXJrZWQuc2xpY2UoLXNpemUpXG4gICAgfVxuXG4gICAgbGV0IHBhZCA9ICcnLCBsb2NhbE1hc2tNYXJrZWQgPSBtYXNrTWFya2VkXG4gICAgY29uc3QgcGFkUG9zID0gbG9jYWxNYXNrTWFya2VkLmluZGV4T2YoTUFSS0VSKVxuXG4gICAgaWYgKHBhZFBvcyAhPT0gLTEpIHtcbiAgICAgIGZvciAobGV0IGkgPSBzaXplIC0gbG9jYWxNYXNrTWFya2VkLmxlbmd0aDsgaSA+IDA7IGktLSkge1xuICAgICAgICBwYWQgKz0gTUFSS0VSXG4gICAgICB9XG5cbiAgICAgIGxvY2FsTWFza01hcmtlZCA9IGxvY2FsTWFza01hcmtlZC5zbGljZSgwLCBwYWRQb3MpICsgcGFkICsgbG9jYWxNYXNrTWFya2VkLnNsaWNlKHBhZFBvcylcbiAgICB9XG5cbiAgICByZXR1cm4gbG9jYWxNYXNrTWFya2VkXG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNYXNrSW50ZXJuYWxzICgpIHtcbiAgICBoYXNNYXNrLnZhbHVlID0gcHJvcHMubWFzayAhPT0gdm9pZCAwXG4gICAgICAmJiBwcm9wcy5tYXNrLmxlbmd0aCAhPT0gMFxuICAgICAgJiYgZ2V0SXNUeXBlVGV4dCgpXG5cbiAgICBpZiAoaGFzTWFzay52YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIGNvbXB1dGVkVW5tYXNrID0gdm9pZCAwXG4gICAgICBtYXNrTWFya2VkID0gJydcbiAgICAgIG1hc2tSZXBsYWNlZCA9ICcnXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdFxuICAgICAgbG9jYWxDb21wdXRlZE1hc2sgPSBOQU1FRF9NQVNLU1sgcHJvcHMubWFzayBdID09PSB2b2lkIDBcbiAgICAgICAgPyBwcm9wcy5tYXNrXG4gICAgICAgIDogTkFNRURfTUFTS1NbIHByb3BzLm1hc2sgXSxcbiAgICAgIGZpbGxDaGFyID0gdHlwZW9mIHByb3BzLmZpbGxNYXNrID09PSAnc3RyaW5nJyAmJiBwcm9wcy5maWxsTWFzay5sZW5ndGggIT09IDBcbiAgICAgICAgPyBwcm9wcy5maWxsTWFzay5zbGljZSgwLCAxKVxuICAgICAgICA6ICdfJyxcbiAgICAgIGZpbGxDaGFyRXNjYXBlZCA9IGZpbGxDaGFyLnJlcGxhY2UoZXNjUmVnZXgsICdcXFxcJCYnKSxcbiAgICAgIHVubWFzayA9IFtdLFxuICAgICAgZXh0cmFjdCA9IFtdLFxuICAgICAgbWFzayA9IFtdXG5cbiAgICBsZXRcbiAgICAgIGZpcnN0TWF0Y2ggPSBwcm9wcy5yZXZlcnNlRmlsbE1hc2sgPT09IHRydWUsXG4gICAgICB1bm1hc2tDaGFyID0gJycsXG4gICAgICBuZWdhdGVDaGFyID0gJydcblxuICAgIGxvY2FsQ29tcHV0ZWRNYXNrLnJlcGxhY2UodG9rZW5zLnZhbHVlLnRva2VuUmVnZXhNYXNrLCAoXywgY2hhcjEsIGVzYywgdG9rZW4sIGNoYXIyKSA9PiB7XG4gICAgICBpZiAodG9rZW4gIT09IHZvaWQgMCkge1xuICAgICAgICBjb25zdCBjID0gdG9rZW5zLnZhbHVlLnRva2VuTWFwWyB0b2tlbiBdXG4gICAgICAgIG1hc2sucHVzaChjKVxuICAgICAgICBuZWdhdGVDaGFyID0gYy5uZWdhdGVcbiAgICAgICAgaWYgKGZpcnN0TWF0Y2ggPT09IHRydWUpIHtcbiAgICAgICAgICBleHRyYWN0LnB1c2goJyg/OicgKyBuZWdhdGVDaGFyICsgJyspPygnICsgYy5wYXR0ZXJuICsgJyspPyg/OicgKyBuZWdhdGVDaGFyICsgJyspPygnICsgYy5wYXR0ZXJuICsgJyspPycpXG4gICAgICAgICAgZmlyc3RNYXRjaCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgZXh0cmFjdC5wdXNoKCcoPzonICsgbmVnYXRlQ2hhciArICcrKT8oJyArIGMucGF0dGVybiArICcpPycpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlc2MgIT09IHZvaWQgMCkge1xuICAgICAgICB1bm1hc2tDaGFyID0gJ1xcXFwnICsgKGVzYyA9PT0gJ1xcXFwnID8gJycgOiBlc2MpXG4gICAgICAgIG1hc2sucHVzaChlc2MpXG4gICAgICAgIHVubWFzay5wdXNoKCcoW14nICsgdW5tYXNrQ2hhciArICddKyk/JyArIHVubWFza0NoYXIgKyAnPycpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgYyA9IGNoYXIxICE9PSB2b2lkIDAgPyBjaGFyMSA6IGNoYXIyXG4gICAgICAgIHVubWFza0NoYXIgPSBjID09PSAnXFxcXCcgPyAnXFxcXFxcXFxcXFxcXFxcXCcgOiBjLnJlcGxhY2UoZXNjUmVnZXgsICdcXFxcXFxcXCQmJylcbiAgICAgICAgbWFzay5wdXNoKGMpXG4gICAgICAgIHVubWFzay5wdXNoKCcoW14nICsgdW5tYXNrQ2hhciArICddKyk/JyArIHVubWFza0NoYXIgKyAnPycpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0XG4gICAgICB1bm1hc2tNYXRjaGVyID0gbmV3IFJlZ0V4cChcbiAgICAgICAgJ14nXG4gICAgICAgICsgdW5tYXNrLmpvaW4oJycpXG4gICAgICAgICsgJygnICsgKHVubWFza0NoYXIgPT09ICcnID8gJy4nIDogJ1teJyArIHVubWFza0NoYXIgKyAnXScpICsgJyspPydcbiAgICAgICAgKyAodW5tYXNrQ2hhciA9PT0gJycgPyAnJyA6ICdbJyArIHVubWFza0NoYXIgKyAnXSonKSArICckJ1xuICAgICAgKSxcbiAgICAgIGV4dHJhY3RMYXN0ID0gZXh0cmFjdC5sZW5ndGggLSAxLFxuICAgICAgZXh0cmFjdE1hdGNoZXIgPSBleHRyYWN0Lm1hcCgocmUsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCAmJiBwcm9wcy5yZXZlcnNlRmlsbE1hc2sgPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBmaWxsQ2hhckVzY2FwZWQgKyAnKicgKyByZSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbmRleCA9PT0gZXh0cmFjdExhc3QpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICdeJyArIHJlXG4gICAgICAgICAgICArICcoJyArIChuZWdhdGVDaGFyID09PSAnJyA/ICcuJyA6IG5lZ2F0ZUNoYXIpICsgJyspPydcbiAgICAgICAgICAgICsgKHByb3BzLnJldmVyc2VGaWxsTWFzayA9PT0gdHJ1ZSA/ICckJyA6IGZpbGxDaGFyRXNjYXBlZCArICcqJylcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyByZSlcbiAgICAgIH0pXG5cbiAgICBjb21wdXRlZE1hc2sgPSBtYXNrXG4gICAgY29tcHV0ZWRVbm1hc2sgPSB2YWwgPT4ge1xuICAgICAgY29uc3QgdW5tYXNrTWF0Y2ggPSB1bm1hc2tNYXRjaGVyLmV4ZWMocHJvcHMucmV2ZXJzZUZpbGxNYXNrID09PSB0cnVlID8gdmFsIDogdmFsLnNsaWNlKDAsIG1hc2subGVuZ3RoICsgMSkpXG4gICAgICBpZiAodW5tYXNrTWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgdmFsID0gdW5tYXNrTWF0Y2guc2xpY2UoMSkuam9pbignJylcbiAgICAgIH1cblxuICAgICAgY29uc3RcbiAgICAgICAgZXh0cmFjdE1hdGNoID0gW10sXG4gICAgICAgIGV4dHJhY3RNYXRjaGVyTGVuZ3RoID0gZXh0cmFjdE1hdGNoZXIubGVuZ3RoXG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBzdHIgPSB2YWw7IGkgPCBleHRyYWN0TWF0Y2hlckxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG0gPSBleHRyYWN0TWF0Y2hlclsgaSBdLmV4ZWMoc3RyKVxuXG4gICAgICAgIGlmIChtID09PSBudWxsKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciA9IHN0ci5zbGljZShtLnNoaWZ0KCkubGVuZ3RoKVxuICAgICAgICBleHRyYWN0TWF0Y2gucHVzaCguLi5tKVxuICAgICAgfVxuICAgICAgaWYgKGV4dHJhY3RNYXRjaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RNYXRjaC5qb2luKCcnKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsXG4gICAgfVxuICAgIG1hc2tNYXJrZWQgPSBtYXNrLm1hcCh2ID0+ICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgPyB2IDogTUFSS0VSKSkuam9pbignJylcbiAgICBtYXNrUmVwbGFjZWQgPSBtYXNrTWFya2VkLnNwbGl0KE1BUktFUikuam9pbihmaWxsQ2hhcilcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1hc2tWYWx1ZSAocmF3VmFsLCB1cGRhdGVNYXNrSW50ZXJuYWxzRmxhZywgaW5wdXRUeXBlKSB7XG4gICAgY29uc3RcbiAgICAgIGlucCA9IGlucHV0UmVmLnZhbHVlLFxuICAgICAgZW5kID0gaW5wLnNlbGVjdGlvbkVuZCxcbiAgICAgIGVuZFJldmVyc2UgPSBpbnAudmFsdWUubGVuZ3RoIC0gZW5kLFxuICAgICAgdW5tYXNrZWQgPSB1bm1hc2tWYWx1ZShyYXdWYWwpXG5cbiAgICAvLyBVcGRhdGUgaGVyZSBzbyB1bm1hc2sgdXNlcyB0aGUgb3JpZ2luYWwgZmlsbENoYXJcbiAgICB1cGRhdGVNYXNrSW50ZXJuYWxzRmxhZyA9PT0gdHJ1ZSAmJiB1cGRhdGVNYXNrSW50ZXJuYWxzKClcblxuICAgIGNvbnN0XG4gICAgICBwcmVNYXNrZWQgPSBtYXNrVmFsdWUodW5tYXNrZWQsIHVwZGF0ZU1hc2tJbnRlcm5hbHNGbGFnKSxcbiAgICAgIG1hc2tlZCA9IHByb3BzLmZpbGxNYXNrICE9PSBmYWxzZVxuICAgICAgICA/IGZpbGxXaXRoTWFzayhwcmVNYXNrZWQpXG4gICAgICAgIDogcHJlTWFza2VkLFxuICAgICAgY2hhbmdlZCA9IGlubmVyVmFsdWUudmFsdWUgIT09IG1hc2tlZFxuXG4gICAgLy8gV2Ugd2FudCB0byBhdm9pZCBcImZsaWNrZXJpbmdcIiBzbyB3ZSBzZXQgdmFsdWUgaW1tZWRpYXRlbHlcbiAgICBpbnAudmFsdWUgIT09IG1hc2tlZCAmJiAoaW5wLnZhbHVlID0gbWFza2VkKVxuXG4gICAgY2hhbmdlZCA9PT0gdHJ1ZSAmJiAoaW5uZXJWYWx1ZS52YWx1ZSA9IG1hc2tlZClcblxuICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGlucCAmJiBuZXh0VGljaygoKSA9PiB7XG4gICAgICBpZiAobWFza2VkID09PSBtYXNrUmVwbGFjZWQpIHtcbiAgICAgICAgY29uc3QgY3Vyc29yID0gcHJvcHMucmV2ZXJzZUZpbGxNYXNrID09PSB0cnVlID8gbWFza1JlcGxhY2VkLmxlbmd0aCA6IDBcbiAgICAgICAgaW5wLnNldFNlbGVjdGlvblJhbmdlKGN1cnNvciwgY3Vyc29yLCAnZm9yd2FyZCcpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoaW5wdXRUeXBlID09PSAnaW5zZXJ0RnJvbVBhc3RlJyAmJiBwcm9wcy5yZXZlcnNlRmlsbE1hc2sgIT09IHRydWUpIHtcbiAgICAgICAgY29uc3QgbWF4RW5kID0gaW5wLnNlbGVjdGlvbkVuZFxuICAgICAgICBsZXQgY3Vyc29yID0gZW5kIC0gMVxuICAgICAgICAvLyBlYWNoIG5vbi1tYXJrZXIgY2hhciBtZWFucyB3ZSBtb3ZlIG9uY2UgdG8gcmlnaHRcbiAgICAgICAgZm9yIChsZXQgaSA9IHBhc3RlZFRleHRTdGFydDsgaSA8PSBjdXJzb3IgJiYgaSA8IG1heEVuZDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1hc2tNYXJrZWRbIGkgXSAhPT0gTUFSS0VSKSB7XG4gICAgICAgICAgICBjdXJzb3IrK1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG1vdmVDdXJzb3IucmlnaHQoaW5wLCBjdXJzb3IpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoWyAnZGVsZXRlQ29udGVudEJhY2t3YXJkJywgJ2RlbGV0ZUNvbnRlbnRGb3J3YXJkJyBdLmluZGV4T2YoaW5wdXRUeXBlKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgY3Vyc29yID0gcHJvcHMucmV2ZXJzZUZpbGxNYXNrID09PSB0cnVlXG4gICAgICAgICAgPyAoXG4gICAgICAgICAgICAgIGVuZCA9PT0gMFxuICAgICAgICAgICAgICAgID8gKG1hc2tlZC5sZW5ndGggPiBwcmVNYXNrZWQubGVuZ3RoID8gMSA6IDApXG4gICAgICAgICAgICAgICAgOiBNYXRoLm1heCgwLCBtYXNrZWQubGVuZ3RoIC0gKG1hc2tlZCA9PT0gbWFza1JlcGxhY2VkID8gMCA6IE1hdGgubWluKHByZU1hc2tlZC5sZW5ndGgsIGVuZFJldmVyc2UpICsgMSkpICsgMVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogZW5kXG5cbiAgICAgICAgaW5wLnNldFNlbGVjdGlvblJhbmdlKGN1cnNvciwgY3Vyc29yLCAnZm9yd2FyZCcpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMucmV2ZXJzZUZpbGxNYXNrID09PSB0cnVlKSB7XG4gICAgICAgIGlmIChjaGFuZ2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gTWF0aC5tYXgoMCwgbWFza2VkLmxlbmd0aCAtIChtYXNrZWQgPT09IG1hc2tSZXBsYWNlZCA/IDAgOiBNYXRoLm1pbihwcmVNYXNrZWQubGVuZ3RoLCBlbmRSZXZlcnNlICsgMSkpKVxuXG4gICAgICAgICAgaWYgKGN1cnNvciA9PT0gMSAmJiBlbmQgPT09IDEpIHtcbiAgICAgICAgICAgIGlucC5zZXRTZWxlY3Rpb25SYW5nZShjdXJzb3IsIGN1cnNvciwgJ2ZvcndhcmQnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1vdmVDdXJzb3IucmlnaHRSZXZlcnNlKGlucCwgY3Vyc29yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjdXJzb3IgPSBtYXNrZWQubGVuZ3RoIC0gZW5kUmV2ZXJzZVxuICAgICAgICAgIGlucC5zZXRTZWxlY3Rpb25SYW5nZShjdXJzb3IsIGN1cnNvciwgJ2JhY2t3YXJkJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChjaGFuZ2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gTWF0aC5tYXgoMCwgbWFza01hcmtlZC5pbmRleE9mKE1BUktFUiksIE1hdGgubWluKHByZU1hc2tlZC5sZW5ndGgsIGVuZCkgLSAxKVxuICAgICAgICAgIG1vdmVDdXJzb3IucmlnaHQoaW5wLCBjdXJzb3IpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29uc3QgY3Vyc29yID0gZW5kIC0gMVxuICAgICAgICAgIG1vdmVDdXJzb3IucmlnaHQoaW5wLCBjdXJzb3IpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc3QgdmFsID0gcHJvcHMudW5tYXNrZWRWYWx1ZSA9PT0gdHJ1ZVxuICAgICAgPyB1bm1hc2tWYWx1ZShtYXNrZWQpXG4gICAgICA6IG1hc2tlZFxuXG4gICAgaWYgKFxuICAgICAgU3RyaW5nKHByb3BzLm1vZGVsVmFsdWUpICE9PSB2YWxcbiAgICAgICYmIChwcm9wcy5tb2RlbFZhbHVlICE9PSBudWxsIHx8IHZhbCAhPT0gJycpXG4gICAgKSB7XG4gICAgICBlbWl0VmFsdWUodmFsLCB0cnVlKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVDdXJzb3JGb3JQYXN0ZSAoaW5wLCBzdGFydCwgZW5kKSB7XG4gICAgY29uc3QgcHJlTWFza2VkID0gbWFza1ZhbHVlKHVubWFza1ZhbHVlKGlucC52YWx1ZSkpXG5cbiAgICBzdGFydCA9IE1hdGgubWF4KDAsIG1hc2tNYXJrZWQuaW5kZXhPZihNQVJLRVIpLCBNYXRoLm1pbihwcmVNYXNrZWQubGVuZ3RoLCBzdGFydCkpXG4gICAgcGFzdGVkVGV4dFN0YXJ0ID0gc3RhcnRcblxuICAgIGlucC5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kLCAnZm9yd2FyZCcpXG4gIH1cblxuICBjb25zdCBtb3ZlQ3Vyc29yID0ge1xuICAgIGxlZnQgKGlucCwgY3Vyc29yKSB7XG4gICAgICBjb25zdCBub01hcmtCZWZvcmUgPSBtYXNrTWFya2VkLnNsaWNlKGN1cnNvciAtIDEpLmluZGV4T2YoTUFSS0VSKSA9PT0gLTFcbiAgICAgIGxldCBpID0gTWF0aC5tYXgoMCwgY3Vyc29yIC0gMSlcblxuICAgICAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChtYXNrTWFya2VkWyBpIF0gPT09IE1BUktFUikge1xuICAgICAgICAgIGN1cnNvciA9IGlcbiAgICAgICAgICBub01hcmtCZWZvcmUgPT09IHRydWUgJiYgY3Vyc29yKytcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgaSA8IDBcbiAgICAgICAgJiYgbWFza01hcmtlZFsgY3Vyc29yIF0gIT09IHZvaWQgMFxuICAgICAgICAmJiBtYXNrTWFya2VkWyBjdXJzb3IgXSAhPT0gTUFSS0VSXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG1vdmVDdXJzb3IucmlnaHQoaW5wLCAwKVxuICAgICAgfVxuXG4gICAgICBjdXJzb3IgPj0gMCAmJiBpbnAuc2V0U2VsZWN0aW9uUmFuZ2UoY3Vyc29yLCBjdXJzb3IsICdiYWNrd2FyZCcpXG4gICAgfSxcblxuICAgIHJpZ2h0IChpbnAsIGN1cnNvcikge1xuICAgICAgY29uc3QgbGltaXQgPSBpbnAudmFsdWUubGVuZ3RoXG4gICAgICBsZXQgaSA9IE1hdGgubWluKGxpbWl0LCBjdXJzb3IgKyAxKVxuXG4gICAgICBmb3IgKDsgaSA8PSBsaW1pdDsgaSsrKSB7XG4gICAgICAgIGlmIChtYXNrTWFya2VkWyBpIF0gPT09IE1BUktFUikge1xuICAgICAgICAgIGN1cnNvciA9IGlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hc2tNYXJrZWRbIGkgLSAxIF0gPT09IE1BUktFUikge1xuICAgICAgICAgIGN1cnNvciA9IGlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIGkgPiBsaW1pdFxuICAgICAgICAmJiBtYXNrTWFya2VkWyBjdXJzb3IgLSAxIF0gIT09IHZvaWQgMFxuICAgICAgICAmJiBtYXNrTWFya2VkWyBjdXJzb3IgLSAxIF0gIT09IE1BUktFUlxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBtb3ZlQ3Vyc29yLmxlZnQoaW5wLCBsaW1pdClcbiAgICAgIH1cblxuICAgICAgaW5wLnNldFNlbGVjdGlvblJhbmdlKGN1cnNvciwgY3Vyc29yLCAnZm9yd2FyZCcpXG4gICAgfSxcblxuICAgIGxlZnRSZXZlcnNlIChpbnAsIGN1cnNvcikge1xuICAgICAgY29uc3RcbiAgICAgICAgbG9jYWxNYXNrTWFya2VkID0gZ2V0UGFkZGVkTWFza01hcmtlZChpbnAudmFsdWUubGVuZ3RoKVxuICAgICAgbGV0IGkgPSBNYXRoLm1heCgwLCBjdXJzb3IgLSAxKVxuXG4gICAgICBmb3IgKDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGxvY2FsTWFza01hcmtlZFsgaSAtIDEgXSA9PT0gTUFSS0VSKSB7XG4gICAgICAgICAgY3Vyc29yID0gaVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobG9jYWxNYXNrTWFya2VkWyBpIF0gPT09IE1BUktFUikge1xuICAgICAgICAgIGN1cnNvciA9IGlcbiAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBpIDwgMFxuICAgICAgICAmJiBsb2NhbE1hc2tNYXJrZWRbIGN1cnNvciBdICE9PSB2b2lkIDBcbiAgICAgICAgJiYgbG9jYWxNYXNrTWFya2VkWyBjdXJzb3IgXSAhPT0gTUFSS0VSXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG1vdmVDdXJzb3IucmlnaHRSZXZlcnNlKGlucCwgMClcbiAgICAgIH1cblxuICAgICAgY3Vyc29yID49IDAgJiYgaW5wLnNldFNlbGVjdGlvblJhbmdlKGN1cnNvciwgY3Vyc29yLCAnYmFja3dhcmQnKVxuICAgIH0sXG5cbiAgICByaWdodFJldmVyc2UgKGlucCwgY3Vyc29yKSB7XG4gICAgICBjb25zdFxuICAgICAgICBsaW1pdCA9IGlucC52YWx1ZS5sZW5ndGgsXG4gICAgICAgIGxvY2FsTWFza01hcmtlZCA9IGdldFBhZGRlZE1hc2tNYXJrZWQobGltaXQpLFxuICAgICAgICBub01hcmtCZWZvcmUgPSBsb2NhbE1hc2tNYXJrZWQuc2xpY2UoMCwgY3Vyc29yICsgMSkuaW5kZXhPZihNQVJLRVIpID09PSAtMVxuICAgICAgbGV0IGkgPSBNYXRoLm1pbihsaW1pdCwgY3Vyc29yICsgMSlcblxuICAgICAgZm9yICg7IGkgPD0gbGltaXQ7IGkrKykge1xuICAgICAgICBpZiAobG9jYWxNYXNrTWFya2VkWyBpIC0gMSBdID09PSBNQVJLRVIpIHtcbiAgICAgICAgICBjdXJzb3IgPSBpXG4gICAgICAgICAgY3Vyc29yID4gMCAmJiBub01hcmtCZWZvcmUgPT09IHRydWUgJiYgY3Vyc29yLS1cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgaSA+IGxpbWl0XG4gICAgICAgICYmIGxvY2FsTWFza01hcmtlZFsgY3Vyc29yIC0gMSBdICE9PSB2b2lkIDBcbiAgICAgICAgJiYgbG9jYWxNYXNrTWFya2VkWyBjdXJzb3IgLSAxIF0gIT09IE1BUktFUlxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBtb3ZlQ3Vyc29yLmxlZnRSZXZlcnNlKGlucCwgbGltaXQpXG4gICAgICB9XG5cbiAgICAgIGlucC5zZXRTZWxlY3Rpb25SYW5nZShjdXJzb3IsIGN1cnNvciwgJ2ZvcndhcmQnKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTWFza2VkQ2xpY2sgKGUpIHtcbiAgICBlbWl0KCdjbGljaycsIGUpXG5cbiAgICBzZWxlY3Rpb25BbmNob3IgPSB2b2lkIDBcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTWFza2VkS2V5ZG93biAoZSkge1xuICAgIGVtaXQoJ2tleWRvd24nLCBlKVxuXG4gICAgaWYgKFxuICAgICAgc2hvdWxkSWdub3JlS2V5KGUpID09PSB0cnVlXG4gICAgICB8fCBlLmFsdEtleSA9PT0gdHJ1ZSAvLyBsZXQgYnJvd3NlciBoYW5kbGUgdGhlc2VcbiAgICApIHJldHVyblxuXG4gICAgY29uc3RcbiAgICAgIGlucCA9IGlucHV0UmVmLnZhbHVlLFxuICAgICAgc3RhcnQgPSBpbnAuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQgPSBpbnAuc2VsZWN0aW9uRW5kXG5cbiAgICBpZiAoIWUuc2hpZnRLZXkpIHtcbiAgICAgIHNlbGVjdGlvbkFuY2hvciA9IHZvaWQgMFxuICAgIH1cblxuICAgIGlmIChlLmtleUNvZGUgPT09IDM3IHx8IGUua2V5Q29kZSA9PT0gMzkpIHsgLy8gTGVmdCAvIFJpZ2h0XG4gICAgICBpZiAoZS5zaGlmdEtleSAmJiBzZWxlY3Rpb25BbmNob3IgPT09IHZvaWQgMCkge1xuICAgICAgICBzZWxlY3Rpb25BbmNob3IgPSBpbnAuc2VsZWN0aW9uRGlyZWN0aW9uID09PSAnZm9yd2FyZCcgPyBzdGFydCA6IGVuZFxuICAgICAgfVxuXG4gICAgICBjb25zdCBmbiA9IG1vdmVDdXJzb3JbIChlLmtleUNvZGUgPT09IDM5ID8gJ3JpZ2h0JyA6ICdsZWZ0JykgKyAocHJvcHMucmV2ZXJzZUZpbGxNYXNrID09PSB0cnVlID8gJ1JldmVyc2UnIDogJycpIF1cblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBmbihpbnAsIHNlbGVjdGlvbkFuY2hvciA9PT0gc3RhcnQgPyBlbmQgOiBzdGFydClcblxuICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgY29uc3QgY3Vyc29yID0gaW5wLnNlbGVjdGlvblN0YXJ0XG4gICAgICAgIGlucC5zZXRTZWxlY3Rpb25SYW5nZShNYXRoLm1pbihzZWxlY3Rpb25BbmNob3IsIGN1cnNvciksIE1hdGgubWF4KHNlbGVjdGlvbkFuY2hvciwgY3Vyc29yKSwgJ2ZvcndhcmQnKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChcbiAgICAgIGUua2V5Q29kZSA9PT0gOCAvLyBCYWNrc3BhY2VcbiAgICAgICYmIHByb3BzLnJldmVyc2VGaWxsTWFzayAhPT0gdHJ1ZVxuICAgICAgJiYgc3RhcnQgPT09IGVuZFxuICAgICkge1xuICAgICAgbW92ZUN1cnNvci5sZWZ0KGlucCwgc3RhcnQpXG4gICAgICBpbnAuc2V0U2VsZWN0aW9uUmFuZ2UoaW5wLnNlbGVjdGlvblN0YXJ0LCBlbmQsICdiYWNrd2FyZCcpXG4gICAgfVxuICAgIGVsc2UgaWYgKFxuICAgICAgZS5rZXlDb2RlID09PSA0NiAvLyBEZWxldGVcbiAgICAgICYmIHByb3BzLnJldmVyc2VGaWxsTWFzayA9PT0gdHJ1ZVxuICAgICAgJiYgc3RhcnQgPT09IGVuZFxuICAgICkge1xuICAgICAgbW92ZUN1cnNvci5yaWdodFJldmVyc2UoaW5wLCBlbmQpXG4gICAgICBpbnAuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGlucC5zZWxlY3Rpb25FbmQsICdmb3J3YXJkJylcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXNrVmFsdWUgKHZhbCwgdXBkYXRlTWFza0ludGVybmFsc0ZsYWcpIHtcbiAgICBpZiAodmFsID09PSB2b2lkIDAgfHwgdmFsID09PSBudWxsIHx8IHZhbCA9PT0gJycpIHsgcmV0dXJuICcnIH1cblxuICAgIGlmIChwcm9wcy5yZXZlcnNlRmlsbE1hc2sgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBtYXNrVmFsdWVSZXZlcnNlKHZhbCwgdXBkYXRlTWFza0ludGVybmFsc0ZsYWcpXG4gICAgfVxuXG4gICAgY29uc3QgbWFzayA9IGNvbXB1dGVkTWFza1xuXG4gICAgbGV0IHZhbEluZGV4ID0gMCwgb3V0cHV0ID0gJydcblxuICAgIGZvciAobGV0IG1hc2tJbmRleCA9IDA7IG1hc2tJbmRleCA8IG1hc2subGVuZ3RoOyBtYXNrSW5kZXgrKykge1xuICAgICAgY29uc3RcbiAgICAgICAgdmFsQ2hhciA9IHZhbFsgdmFsSW5kZXggXSxcbiAgICAgICAgbWFza0RlZiA9IG1hc2tbIG1hc2tJbmRleCBdXG5cbiAgICAgIGlmICh0eXBlb2YgbWFza0RlZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgb3V0cHV0ICs9IG1hc2tEZWZcblxuICAgICAgICBpZiAodXBkYXRlTWFza0ludGVybmFsc0ZsYWcgPT09IHRydWUgJiYgdmFsQ2hhciA9PT0gbWFza0RlZikge1xuICAgICAgICAgIHZhbEluZGV4KytcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsQ2hhciAhPT0gdm9pZCAwICYmIG1hc2tEZWYucmVnZXgudGVzdCh2YWxDaGFyKSkge1xuICAgICAgICBvdXRwdXQgKz0gbWFza0RlZi50cmFuc2Zvcm0gIT09IHZvaWQgMFxuICAgICAgICAgID8gbWFza0RlZi50cmFuc2Zvcm0odmFsQ2hhcilcbiAgICAgICAgICA6IHZhbENoYXJcbiAgICAgICAgdmFsSW5kZXgrK1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBvdXRwdXRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0XG4gIH1cblxuICBmdW5jdGlvbiBtYXNrVmFsdWVSZXZlcnNlICh2YWwsIHVwZGF0ZU1hc2tJbnRlcm5hbHNGbGFnKSB7XG4gICAgY29uc3RcbiAgICAgIG1hc2sgPSBjb21wdXRlZE1hc2ssXG4gICAgICBmaXJzdFRva2VuSW5kZXggPSBtYXNrTWFya2VkLmluZGV4T2YoTUFSS0VSKVxuXG4gICAgbGV0IHZhbEluZGV4ID0gdmFsLmxlbmd0aCAtIDEsIG91dHB1dCA9ICcnXG5cbiAgICBmb3IgKGxldCBtYXNrSW5kZXggPSBtYXNrLmxlbmd0aCAtIDE7IG1hc2tJbmRleCA+PSAwICYmIHZhbEluZGV4ICE9PSAtMTsgbWFza0luZGV4LS0pIHtcbiAgICAgIGNvbnN0IG1hc2tEZWYgPSBtYXNrWyBtYXNrSW5kZXggXVxuXG4gICAgICBsZXQgdmFsQ2hhciA9IHZhbFsgdmFsSW5kZXggXVxuXG4gICAgICBpZiAodHlwZW9mIG1hc2tEZWYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG91dHB1dCA9IG1hc2tEZWYgKyBvdXRwdXRcblxuICAgICAgICBpZiAodXBkYXRlTWFza0ludGVybmFsc0ZsYWcgPT09IHRydWUgJiYgdmFsQ2hhciA9PT0gbWFza0RlZikge1xuICAgICAgICAgIHZhbEluZGV4LS1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsQ2hhciAhPT0gdm9pZCAwICYmIG1hc2tEZWYucmVnZXgudGVzdCh2YWxDaGFyKSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgb3V0cHV0ID0gKG1hc2tEZWYudHJhbnNmb3JtICE9PSB2b2lkIDAgPyBtYXNrRGVmLnRyYW5zZm9ybSh2YWxDaGFyKSA6IHZhbENoYXIpICsgb3V0cHV0XG4gICAgICAgICAgdmFsSW5kZXgtLVxuICAgICAgICAgIHZhbENoYXIgPSB2YWxbIHZhbEluZGV4IF1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICAgICAgfSB3aGlsZSAoZmlyc3RUb2tlbkluZGV4ID09PSBtYXNrSW5kZXggJiYgdmFsQ2hhciAhPT0gdm9pZCAwICYmIG1hc2tEZWYucmVnZXgudGVzdCh2YWxDaGFyKSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gb3V0cHV0XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dFxuICB9XG5cbiAgZnVuY3Rpb24gdW5tYXNrVmFsdWUgKHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsICE9PSAnc3RyaW5nJyB8fCBjb21wdXRlZFVubWFzayA9PT0gdm9pZCAwXG4gICAgICA/ICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJyA/IGNvbXB1dGVkVW5tYXNrKCcnICsgdmFsKSA6IHZhbClcbiAgICAgIDogY29tcHV0ZWRVbm1hc2sodmFsKVxuICB9XG5cbiAgZnVuY3Rpb24gZmlsbFdpdGhNYXNrICh2YWwpIHtcbiAgICBpZiAobWFza1JlcGxhY2VkLmxlbmd0aCAtIHZhbC5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHZhbFxuICAgIH1cblxuICAgIHJldHVybiBwcm9wcy5yZXZlcnNlRmlsbE1hc2sgPT09IHRydWUgJiYgdmFsLmxlbmd0aCAhPT0gMFxuICAgICAgPyBtYXNrUmVwbGFjZWQuc2xpY2UoMCwgLXZhbC5sZW5ndGgpICsgdmFsXG4gICAgICA6IHZhbCArIG1hc2tSZXBsYWNlZC5zbGljZSh2YWwubGVuZ3RoKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbm5lclZhbHVlLFxuICAgIGhhc01hc2ssXG4gICAgbW92ZUN1cnNvckZvclBhc3RlLFxuICAgIHVwZGF0ZU1hc2tWYWx1ZSxcbiAgICBvbk1hc2tlZEtleWRvd24sXG4gICAgb25NYXNrZWRDbGlja1xuICB9XG59XG4iLCJpbXBvcnQgeyBoLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcblxuZXhwb3J0IGNvbnN0IHVzZUZvcm1Qcm9wcyA9IHtcbiAgbmFtZTogU3RyaW5nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGb3JtQXR0cnMgKHByb3BzKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiAoe1xuICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgdmFsdWU6IHByb3BzLm1vZGVsVmFsdWVcbiAgfSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGb3JtSW5qZWN0IChmb3JtQXR0cnMgPSB7fSkge1xuICByZXR1cm4gKGNoaWxkLCBhY3Rpb24sIGNsYXNzTmFtZSkgPT4ge1xuICAgIGNoaWxkWyBhY3Rpb24gXShcbiAgICAgIGgoJ2lucHV0Jywge1xuICAgICAgICBjbGFzczogJ2hpZGRlbicgKyAoY2xhc3NOYW1lIHx8ICcnKSxcbiAgICAgICAgLi4uZm9ybUF0dHJzLnZhbHVlXG4gICAgICB9KVxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlRm9ybUlucHV0TmFtZUF0dHIgKHByb3BzKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiBwcm9wcy5uYW1lIHx8IHByb3BzLmZvcilcbn1cbiIsImltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSAndnVlJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocHJvcHMsIHR5cGVHdWFyZCkge1xuICBmdW5jdGlvbiBnZXRGb3JtRG9tUHJvcHMgKCkge1xuICAgIGNvbnN0IG1vZGVsID0gcHJvcHMubW9kZWxWYWx1ZVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGR0ID0gJ0RhdGFUcmFuc2ZlcicgaW4gd2luZG93XG4gICAgICAgID8gbmV3IERhdGFUcmFuc2ZlcigpXG4gICAgICAgIDogKCdDbGlwYm9hcmRFdmVudCcgaW4gd2luZG93XG4gICAgICAgICAgICA/IG5ldyBDbGlwYm9hcmRFdmVudCgnJykuY2xpcGJvYXJkRGF0YVxuICAgICAgICAgICAgOiB2b2lkIDBcbiAgICAgICAgICApXG5cbiAgICAgIGlmIChPYmplY3QobW9kZWwpID09PSBtb2RlbCkge1xuICAgICAgICAoJ2xlbmd0aCcgaW4gbW9kZWxcbiAgICAgICAgICA/IEFycmF5LmZyb20obW9kZWwpXG4gICAgICAgICAgOiBbIG1vZGVsIF1cbiAgICAgICAgKS5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgIGR0Lml0ZW1zLmFkZChmaWxlKVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBmaWxlczogZHQuZmlsZXNcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZpbGVzOiB2b2lkIDBcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHlwZUd1YXJkID09PSB0cnVlXG4gICAgPyBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAocHJvcHMudHlwZSAhPT0gJ2ZpbGUnKSByZXR1cm5cbiAgICAgIHJldHVybiBnZXRGb3JtRG9tUHJvcHMoKVxuICAgIH0pXG4gICAgOiBjb21wdXRlZChnZXRGb3JtRG9tUHJvcHMpXG59XG4iLCJpbXBvcnQgeyBjbGllbnQgfSBmcm9tICcuLi8uLi9wbHVnaW5zL3BsYXRmb3JtL1BsYXRmb3JtLmpzJ1xuXG5jb25zdCBpc0phcGFuZXNlID0gL1tcXHUzMDAwLVxcdTMwM2ZcXHUzMDQwLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmZcXHVmZjAwLVxcdWZmOWZcXHU0ZTAwLVxcdTlmYWZcXHUzNDAwLVxcdTRkYmZdL1xuY29uc3QgaXNDaGluZXNlID0gL1tcXHU0ZTAwLVxcdTlmZmZcXHUzNDAwLVxcdTRkYmZcXHV7MjAwMDB9LVxcdXsyYTZkZn1cXHV7MmE3MDB9LVxcdXsyYjczZn1cXHV7MmI3NDB9LVxcdXsyYjgxZn1cXHV7MmI4MjB9LVxcdXsyY2VhZn1cXHVmOTAwLVxcdWZhZmZcXHUzMzAwLVxcdTMzZmZcXHVmZTMwLVxcdWZlNGZcXHVmOTAwLVxcdWZhZmZcXHV7MmY4MDB9LVxcdXsyZmExZn1dL3VcbmNvbnN0IGlzS29yZWFuID0gL1tcXHUzMTMxLVxcdTMxNGVcXHUzMTRmLVxcdTMxNjNcXHVhYzAwLVxcdWQ3YTNdL1xuY29uc3QgaXNQbGFpblRleHQgPSAvW2EtejAtOV8gLV0kL2lcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG9uSW5wdXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uQ29tcG9zaXRpb24gKGUpIHtcbiAgICBpZiAoZS50eXBlID09PSAnY29tcG9zaXRpb25lbmQnIHx8IGUudHlwZSA9PT0gJ2NoYW5nZScpIHtcbiAgICAgIGlmIChlLnRhcmdldC5xQ29tcG9zaW5nICE9PSB0cnVlKSByZXR1cm5cbiAgICAgIGUudGFyZ2V0LnFDb21wb3NpbmcgPSBmYWxzZVxuICAgICAgb25JbnB1dChlKVxuICAgIH1cbiAgICBlbHNlIGlmIChcbiAgICAgIGUudHlwZSA9PT0gJ2NvbXBvc2l0aW9udXBkYXRlJ1xuICAgICAgJiYgZS50YXJnZXQucUNvbXBvc2luZyAhPT0gdHJ1ZVxuICAgICAgJiYgdHlwZW9mIGUuZGF0YSA9PT0gJ3N0cmluZydcbiAgICApIHtcbiAgICAgIGNvbnN0IGlzQ29tcG9zaW5nID0gY2xpZW50LmlzLmZpcmVmb3ggPT09IHRydWVcbiAgICAgICAgPyBpc1BsYWluVGV4dC50ZXN0KGUuZGF0YSkgPT09IGZhbHNlXG4gICAgICAgIDogaXNKYXBhbmVzZS50ZXN0KGUuZGF0YSkgPT09IHRydWUgfHwgaXNDaGluZXNlLnRlc3QoZS5kYXRhKSA9PT0gdHJ1ZSB8fCBpc0tvcmVhbi50ZXN0KGUuZGF0YSkgPT09IHRydWVcblxuICAgICAgaWYgKGlzQ29tcG9zaW5nID09PSB0cnVlKSB7XG4gICAgICAgIGUudGFyZ2V0LnFDb21wb3NpbmcgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBoLCByZWYsIGNvbXB1dGVkLCB3YXRjaCwgb25CZWZvcmVVbm1vdW50LCBvbk1vdW50ZWQsIG5leHRUaWNrLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCB1c2VGaWVsZCwgeyB1c2VGaWVsZFN0YXRlLCB1c2VGaWVsZFByb3BzLCB1c2VGaWVsZEVtaXRzLCBmaWVsZFZhbHVlSXNGaWxsZWQgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1maWVsZC91c2UtZmllbGQuanMnXG5pbXBvcnQgdXNlTWFzaywgeyB1c2VNYXNrUHJvcHMgfSBmcm9tICcuL3VzZS1tYXNrLmpzJ1xuaW1wb3J0IHsgdXNlRm9ybVByb3BzLCB1c2VGb3JtSW5wdXROYW1lQXR0ciB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3VzZS1mb3JtL3ByaXZhdGUudXNlLWZvcm0uanMnXG5pbXBvcnQgdXNlRmlsZUZvcm1Eb21Qcm9wcyBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1maWxlL3VzZS1maWxlLWRvbS1wcm9wcy5qcydcbmltcG9ydCB1c2VLZXlDb21wb3NpdGlvbiBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1rZXktY29tcG9zaXRpb24vdXNlLWtleS1jb21wb3NpdGlvbi5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IHsgc3RvcCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50L2V2ZW50LmpzJ1xuaW1wb3J0IHsgYWRkRm9jdXNGbiB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuZm9jdXMvZm9jdXMtbWFuYWdlci5qcydcbmltcG9ydCB7IGluamVjdFByb3AgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmluamVjdC1vYmotcHJvcC9pbmplY3Qtb2JqLXByb3AuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRSW5wdXQnLFxuXG4gIGluaGVyaXRBdHRyczogZmFsc2UsXG5cbiAgcHJvcHM6IHtcbiAgICAuLi51c2VGaWVsZFByb3BzLFxuICAgIC4uLnVzZU1hc2tQcm9wcyxcbiAgICAuLi51c2VGb3JtUHJvcHMsXG5cbiAgICAvLyBvdmVycmlkZSBvZiB1c2VGaWVsZFByb3BzID4gbW9kZWxWYWx1ZVxuICAgIG1vZGVsVmFsdWU6IF9fUVVBU0FSX1NTUl9TRVJWRVJfX1xuICAgICAgPyB7fSAvLyBTU1IgZG9lcyBub3Qga25vdyBhYm91dCBGaWxlTGlzdFxuICAgICAgOiBbIFN0cmluZywgTnVtYmVyLCBGaWxlTGlzdCBdLFxuXG4gICAgc2hhZG93VGV4dDogU3RyaW5nLFxuXG4gICAgdHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3RleHQnXG4gICAgfSxcblxuICAgIGRlYm91bmNlOiBbIFN0cmluZywgTnVtYmVyIF0sXG5cbiAgICBhdXRvZ3JvdzogQm9vbGVhbiwgLy8gbWFrZXMgYSB0ZXh0YXJlYVxuXG4gICAgaW5wdXRDbGFzczogWyBBcnJheSwgU3RyaW5nLCBPYmplY3QgXSxcbiAgICBpbnB1dFN0eWxlOiBbIEFycmF5LCBTdHJpbmcsIE9iamVjdCBdXG4gIH0sXG5cbiAgZW1pdHM6IFtcbiAgICAuLi51c2VGaWVsZEVtaXRzLFxuICAgICdwYXN0ZScsICdjaGFuZ2UnLFxuICAgICdrZXlkb3duJywgJ2NsaWNrJywgJ2FuaW1hdGlvbmVuZCdcbiAgXSxcblxuICBzZXR1cCAocHJvcHMsIHsgZW1pdCwgYXR0cnMgfSkge1xuICAgIGNvbnN0IHsgcHJveHkgfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG4gICAgY29uc3QgeyAkcSB9ID0gcHJveHlcblxuICAgIGNvbnN0IHRlbXAgPSB7fVxuICAgIGxldCBlbWl0Q2FjaGVkVmFsdWUgPSBOYU4sIHR5cGVkTnVtYmVyLCBzdG9wVmFsdWVXYXRjaGVyLCBlbWl0VGltZXIgPSBudWxsLCBlbWl0VmFsdWVGblxuXG4gICAgY29uc3QgaW5wdXRSZWYgPSByZWYobnVsbClcbiAgICBjb25zdCBuYW1lUHJvcCA9IHVzZUZvcm1JbnB1dE5hbWVBdHRyKHByb3BzKVxuXG4gICAgY29uc3Qge1xuICAgICAgaW5uZXJWYWx1ZSxcbiAgICAgIGhhc01hc2ssXG4gICAgICBtb3ZlQ3Vyc29yRm9yUGFzdGUsXG4gICAgICB1cGRhdGVNYXNrVmFsdWUsXG4gICAgICBvbk1hc2tlZEtleWRvd24sXG4gICAgICBvbk1hc2tlZENsaWNrXG4gICAgfSA9IHVzZU1hc2socHJvcHMsIGVtaXQsIGVtaXRWYWx1ZSwgaW5wdXRSZWYpXG5cbiAgICBjb25zdCBmb3JtRG9tUHJvcHMgPSB1c2VGaWxlRm9ybURvbVByb3BzKHByb3BzLCAvKiB0eXBlIGd1YXJkICovIHRydWUpXG4gICAgY29uc3QgaGFzVmFsdWUgPSBjb21wdXRlZCgoKSA9PiBmaWVsZFZhbHVlSXNGaWxsZWQoaW5uZXJWYWx1ZS52YWx1ZSkpXG5cbiAgICBjb25zdCBvbkNvbXBvc2l0aW9uID0gdXNlS2V5Q29tcG9zaXRpb24ob25JbnB1dClcblxuICAgIGNvbnN0IHN0YXRlID0gdXNlRmllbGRTdGF0ZSh7IGNoYW5nZUV2ZW50OiB0cnVlIH0pXG5cbiAgICBjb25zdCBpc1RleHRhcmVhID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgIHByb3BzLnR5cGUgPT09ICd0ZXh0YXJlYScgfHwgcHJvcHMuYXV0b2dyb3cgPT09IHRydWVcbiAgICApXG5cbiAgICBjb25zdCBpc1R5cGVUZXh0ID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgIGlzVGV4dGFyZWEudmFsdWUgPT09IHRydWVcbiAgICAgIHx8IFsgJ3RleHQnLCAnc2VhcmNoJywgJ3VybCcsICd0ZWwnLCAncGFzc3dvcmQnIF0uaW5jbHVkZXMocHJvcHMudHlwZSlcbiAgICApXG5cbiAgICBjb25zdCBvbkV2ZW50cyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IGV2dCA9IHtcbiAgICAgICAgLi4uc3RhdGUuc3BsaXRBdHRycy5saXN0ZW5lcnMudmFsdWUsXG4gICAgICAgIG9uSW5wdXQsXG4gICAgICAgIG9uUGFzdGUsXG4gICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW5cbiAgICAgICAgLy8gc3dpdGNoaW5nIGZvY3VzIGJlZm9yZSBjb25maXJtaW5nIGNvbXBvc2l0aW9uIGNob2ljZVxuICAgICAgICAvLyB0aGlzIGFsc28gZml4ZXMgdGhlIGlzc3VlIHdoZXJlIHNvbWUgYnJvd3NlcnMgZS5nLiBpT1MgQ2hyb21lXG4gICAgICAgIC8vIGZpcmVzIFwiY2hhbmdlXCIgaW5zdGVhZCBvZiBcImlucHV0XCIgb24gYXV0b2NvbXBsZXRlLlxuICAgICAgICBvbkNoYW5nZSxcbiAgICAgICAgb25CbHVyOiBvbkZpbmlzaEVkaXRpbmcsXG4gICAgICAgIG9uRm9jdXM6IHN0b3BcbiAgICAgIH1cblxuICAgICAgZXZ0Lm9uQ29tcG9zaXRpb25zdGFydCA9IGV2dC5vbkNvbXBvc2l0aW9udXBkYXRlID0gZXZ0Lm9uQ29tcG9zaXRpb25lbmQgPSBvbkNvbXBvc2l0aW9uXG5cbiAgICAgIGlmIChoYXNNYXNrLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgIGV2dC5vbktleWRvd24gPSBvbk1hc2tlZEtleWRvd25cbiAgICAgICAgLy8gcmVzZXQgc2VsZWN0aW9uIGFuY2hvciBvbiBwb2ludGVyIHNlbGVjdGlvblxuICAgICAgICBldnQub25DbGljayA9IG9uTWFza2VkQ2xpY2tcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLmF1dG9ncm93ID09PSB0cnVlKSB7XG4gICAgICAgIGV2dC5vbkFuaW1hdGlvbmVuZCA9IG9uQW5pbWF0aW9uZW5kXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldnRcbiAgICB9KVxuXG4gICAgY29uc3QgaW5wdXRBdHRycyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IGF0dHJzID0ge1xuICAgICAgICB0YWJpbmRleDogMCxcbiAgICAgICAgJ2RhdGEtYXV0b2ZvY3VzJzogcHJvcHMuYXV0b2ZvY3VzID09PSB0cnVlIHx8IHZvaWQgMCxcbiAgICAgICAgcm93czogcHJvcHMudHlwZSA9PT0gJ3RleHRhcmVhJyA/IDYgOiB2b2lkIDAsXG4gICAgICAgICdhcmlhLWxhYmVsJzogcHJvcHMubGFiZWwsXG4gICAgICAgIG5hbWU6IG5hbWVQcm9wLnZhbHVlLFxuICAgICAgICAuLi5zdGF0ZS5zcGxpdEF0dHJzLmF0dHJpYnV0ZXMudmFsdWUsXG4gICAgICAgIGlkOiBzdGF0ZS50YXJnZXRVaWQudmFsdWUsXG4gICAgICAgIG1heGxlbmd0aDogcHJvcHMubWF4bGVuZ3RoLFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSxcbiAgICAgICAgcmVhZG9ubHk6IHByb3BzLnJlYWRvbmx5ID09PSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChpc1RleHRhcmVhLnZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICBhdHRycy50eXBlID0gcHJvcHMudHlwZVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMuYXV0b2dyb3cgPT09IHRydWUpIHtcbiAgICAgICAgYXR0cnMucm93cyA9IDFcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF0dHJzXG4gICAgfSlcblxuICAgIC8vIHNvbWUgYnJvd3NlcnMgbG9zZSB0aGUgbmF0aXZlIGlucHV0IHZhbHVlXG4gICAgLy8gc28gd2UgbmVlZCB0byByZWF0dGFjaCBpdCBkeW5hbWljYWxseVxuICAgIC8vIChsaWtlIHR5cGU9XCJwYXNzd29yZFwiIDwtPiB0eXBlPVwidGV4dFwiOyBzZWUgIzEyMDc4KVxuICAgIHdhdGNoKCgpID0+IHByb3BzLnR5cGUsICgpID0+IHtcbiAgICAgIGlmIChpbnB1dFJlZi52YWx1ZSkge1xuICAgICAgICBpbnB1dFJlZi52YWx1ZS52YWx1ZSA9IHByb3BzLm1vZGVsVmFsdWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgd2F0Y2goKCkgPT4gcHJvcHMubW9kZWxWYWx1ZSwgdiA9PiB7XG4gICAgICBpZiAoaGFzTWFzay52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAoc3RvcFZhbHVlV2F0Y2hlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHN0b3BWYWx1ZVdhdGNoZXIgPSBmYWxzZVxuICAgICAgICAgIGlmIChTdHJpbmcodikgPT09IGVtaXRDYWNoZWRWYWx1ZSkgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVNYXNrVmFsdWUodilcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlubmVyVmFsdWUudmFsdWUgIT09IHYpIHtcbiAgICAgICAgaW5uZXJWYWx1ZS52YWx1ZSA9IHZcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJvcHMudHlwZSA9PT0gJ251bWJlcidcbiAgICAgICAgICAmJiB0ZW1wLmhhc093blByb3BlcnR5KCd2YWx1ZScpID09PSB0cnVlXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh0eXBlZE51bWJlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdHlwZWROdW1iZXIgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0ZW1wLnZhbHVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHRleHRhcmVhIG9ubHlcbiAgICAgIHByb3BzLmF1dG9ncm93ID09PSB0cnVlICYmIG5leHRUaWNrKGFkanVzdEhlaWdodClcbiAgICB9KVxuXG4gICAgd2F0Y2goKCkgPT4gcHJvcHMuYXV0b2dyb3csIHZhbCA9PiB7XG4gICAgICAvLyB0ZXh0YXJlYSBvbmx5XG4gICAgICBpZiAodmFsID09PSB0cnVlKSB7XG4gICAgICAgIG5leHRUaWNrKGFkanVzdEhlaWdodClcbiAgICAgIH1cbiAgICAgIC8vIGlmIGl0IGhhcyBhIG51bWJlciBvZiByb3dzIHNldCByZXNwZWN0IGl0XG4gICAgICBlbHNlIGlmIChpbnB1dFJlZi52YWx1ZSAhPT0gbnVsbCAmJiBhdHRycy5yb3dzID4gMCkge1xuICAgICAgICBpbnB1dFJlZi52YWx1ZS5zdHlsZS5oZWlnaHQgPSAnYXV0bydcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgd2F0Y2goKCkgPT4gcHJvcHMuZGVuc2UsICgpID0+IHtcbiAgICAgIHByb3BzLmF1dG9ncm93ID09PSB0cnVlICYmIG5leHRUaWNrKGFkanVzdEhlaWdodClcbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gZm9jdXMgKCkge1xuICAgICAgYWRkRm9jdXNGbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgICAgICBpZiAoXG4gICAgICAgICAgaW5wdXRSZWYudmFsdWUgIT09IG51bGxcbiAgICAgICAgICAmJiBpbnB1dFJlZi52YWx1ZSAhPT0gZWxcbiAgICAgICAgICAmJiAoZWwgPT09IG51bGwgfHwgZWwuaWQgIT09IHN0YXRlLnRhcmdldFVpZC52YWx1ZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaW5wdXRSZWYudmFsdWUuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VsZWN0ICgpIHtcbiAgICAgIGlucHV0UmVmLnZhbHVlPy5zZWxlY3QoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUGFzdGUgKGUpIHtcbiAgICAgIGlmIChoYXNNYXNrLnZhbHVlID09PSB0cnVlICYmIHByb3BzLnJldmVyc2VGaWxsTWFzayAhPT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBpbnAgPSBlLnRhcmdldFxuICAgICAgICBtb3ZlQ3Vyc29yRm9yUGFzdGUoaW5wLCBpbnAuc2VsZWN0aW9uU3RhcnQsIGlucC5zZWxlY3Rpb25FbmQpXG4gICAgICB9XG5cbiAgICAgIGVtaXQoJ3Bhc3RlJywgZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbklucHV0IChlKSB7XG4gICAgICBpZiAoIWUgfHwgIWUudGFyZ2V0KSByZXR1cm5cblxuICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIGUudGFyZ2V0LmZpbGVzKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWVcblxuICAgICAgaWYgKGUudGFyZ2V0LnFDb21wb3NpbmcgPT09IHRydWUpIHtcbiAgICAgICAgdGVtcC52YWx1ZSA9IHZhbFxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGhhc01hc2sudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgdXBkYXRlTWFza1ZhbHVlKHZhbCwgZmFsc2UsIGUuaW5wdXRUeXBlKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVtaXRWYWx1ZSh2YWwpXG5cbiAgICAgICAgaWYgKGlzVHlwZVRleHQudmFsdWUgPT09IHRydWUgJiYgZS50YXJnZXQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCB7IHNlbGVjdGlvblN0YXJ0LCBzZWxlY3Rpb25FbmQgfSA9IGUudGFyZ2V0XG5cbiAgICAgICAgICBpZiAoc2VsZWN0aW9uU3RhcnQgIT09IHZvaWQgMCAmJiBzZWxlY3Rpb25FbmQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgdmFsLmluZGV4T2YoZS50YXJnZXQudmFsdWUpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gd2UgbmVlZCB0byB0cmlnZ2VyIGl0IGltbWVkaWF0ZWx5IHRvbyxcbiAgICAgIC8vIHRvIGF2b2lkIFwiZmxpY2tlcmluZ1wiXG4gICAgICBwcm9wcy5hdXRvZ3JvdyA9PT0gdHJ1ZSAmJiBhZGp1c3RIZWlnaHQoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQW5pbWF0aW9uZW5kIChlKSB7XG4gICAgICBlbWl0KCdhbmltYXRpb25lbmQnLCBlKVxuICAgICAgYWRqdXN0SGVpZ2h0KClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbWl0VmFsdWUgKHZhbCwgc3RvcFdhdGNoZXIpIHtcbiAgICAgIGVtaXRWYWx1ZUZuID0gKCkgPT4ge1xuICAgICAgICBlbWl0VGltZXIgPSBudWxsXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByb3BzLnR5cGUgIT09ICdudW1iZXInXG4gICAgICAgICAgJiYgdGVtcC5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSA9PT0gdHJ1ZVxuICAgICAgICApIHtcbiAgICAgICAgICBkZWxldGUgdGVtcC52YWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzLm1vZGVsVmFsdWUgIT09IHZhbCAmJiBlbWl0Q2FjaGVkVmFsdWUgIT09IHZhbCkge1xuICAgICAgICAgIGVtaXRDYWNoZWRWYWx1ZSA9IHZhbFxuXG4gICAgICAgICAgc3RvcFdhdGNoZXIgPT09IHRydWUgJiYgKHN0b3BWYWx1ZVdhdGNoZXIgPSB0cnVlKVxuICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgdmFsKVxuXG4gICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgZW1pdENhY2hlZFZhbHVlID09PSB2YWwgJiYgKGVtaXRDYWNoZWRWYWx1ZSA9IE5hTilcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgZW1pdFZhbHVlRm4gPSB2b2lkIDBcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHR5cGVkTnVtYmVyID0gdHJ1ZVxuICAgICAgICB0ZW1wLnZhbHVlID0gdmFsXG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5kZWJvdW5jZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGVtaXRUaW1lciAhPT0gbnVsbCAmJiBjbGVhclRpbWVvdXQoZW1pdFRpbWVyKVxuICAgICAgICB0ZW1wLnZhbHVlID0gdmFsXG4gICAgICAgIGVtaXRUaW1lciA9IHNldFRpbWVvdXQoZW1pdFZhbHVlRm4sIHByb3BzLmRlYm91bmNlKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVtaXRWYWx1ZUZuKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0ZXh0YXJlYSBvbmx5XG4gICAgZnVuY3Rpb24gYWRqdXN0SGVpZ2h0ICgpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucCA9IGlucHV0UmVmLnZhbHVlXG4gICAgICAgIGlmIChpbnAgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBwYXJlbnRTdHlsZSA9IGlucC5wYXJlbnROb2RlLnN0eWxlXG4gICAgICAgICAgLy8gY2hyb21lIGRvZXMgbm90IGtlZXAgc2Nyb2xsICMxNTQ5OFxuICAgICAgICAgIGNvbnN0IHsgc2Nyb2xsVG9wIH0gPSBpbnBcbiAgICAgICAgICAvLyBjaHJvbWUgY2FsY3VsYXRlcyBhIHNtYWxsZXIgc2Nyb2xsSGVpZ2h0IHdoZW4gaW4gYSAuY29sdW1uIGNvbnRhaW5lclxuICAgICAgICAgIGNvbnN0IHsgb3ZlcmZsb3dZLCBtYXhIZWlnaHQgfSA9ICRxLnBsYXRmb3JtLmlzLmZpcmVmb3ggPT09IHRydWVcbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogd2luZG93LmdldENvbXB1dGVkU3R5bGUoaW5wKVxuICAgICAgICAgIC8vIG9uIGZpcmVmb3ggb3IgaWYgb3ZlcmZsb3dZIGlzIHNwZWNpZmllZCBhcyBzY3JvbGwgIzE0MjYzLCAjMTQzNDRcbiAgICAgICAgICAvLyB3ZSBkb24ndCB0b3VjaCBvdmVyZmxvd1xuICAgICAgICAgIC8vIGZpcmVmb3ggaXMgbm90IHNvIGJhZCBpbiB0aGUgZW5kXG4gICAgICAgICAgY29uc3QgY2hhbmdlT3ZlcmZsb3cgPSBvdmVyZmxvd1kgIT09IHZvaWQgMCAmJiBvdmVyZmxvd1kgIT09ICdzY3JvbGwnXG5cbiAgICAgICAgICAvLyByZXNldCBoZWlnaHQgb2YgdGV4dGFyZWEgdG8gYSBzbWFsbCBzaXplIHRvIGRldGVjdCB0aGUgcmVhbCBoZWlnaHRcbiAgICAgICAgICAvLyBidXQga2VlcCB0aGUgdG90YWwgY29udHJvbCBzaXplIHRoZSBzYW1lXG4gICAgICAgICAgY2hhbmdlT3ZlcmZsb3cgPT09IHRydWUgJiYgKGlucC5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJylcbiAgICAgICAgICBwYXJlbnRTdHlsZS5tYXJnaW5Cb3R0b20gPSAoaW5wLnNjcm9sbEhlaWdodCAtIDEpICsgJ3B4J1xuICAgICAgICAgIGlucC5zdHlsZS5oZWlnaHQgPSAnMXB4J1xuXG4gICAgICAgICAgaW5wLnN0eWxlLmhlaWdodCA9IGlucC5zY3JvbGxIZWlnaHQgKyAncHgnXG4gICAgICAgICAgLy8gd2Ugc2hvdWxkIGFsbG93IHNjcm9sbGJhcnMgb25seVxuICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG1heEhlaWdodCBhbmQgY29udGVudCBpcyB0YWxsZXIgdGhhbiBtYXhIZWlnaHRcbiAgICAgICAgICBjaGFuZ2VPdmVyZmxvdyA9PT0gdHJ1ZSAmJiAoaW5wLnN0eWxlLm92ZXJmbG93WSA9IHBhcnNlSW50KG1heEhlaWdodCwgMTApIDwgaW5wLnNjcm9sbEhlaWdodCA/ICdhdXRvJyA6ICdoaWRkZW4nKVxuICAgICAgICAgIHBhcmVudFN0eWxlLm1hcmdpbkJvdHRvbSA9ICcnXG4gICAgICAgICAgaW5wLnNjcm9sbFRvcCA9IHNjcm9sbFRvcFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlIChlKSB7XG4gICAgICBvbkNvbXBvc2l0aW9uKGUpXG5cbiAgICAgIGlmIChlbWl0VGltZXIgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGVtaXRUaW1lcilcbiAgICAgICAgZW1pdFRpbWVyID0gbnVsbFxuICAgICAgfVxuXG4gICAgICBlbWl0VmFsdWVGbj8uKClcblxuICAgICAgZW1pdCgnY2hhbmdlJywgZS50YXJnZXQudmFsdWUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25GaW5pc2hFZGl0aW5nIChlKSB7XG4gICAgICBlICE9PSB2b2lkIDAgJiYgc3RvcChlKVxuXG4gICAgICBpZiAoZW1pdFRpbWVyICE9PSBudWxsKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChlbWl0VGltZXIpXG4gICAgICAgIGVtaXRUaW1lciA9IG51bGxcbiAgICAgIH1cblxuICAgICAgZW1pdFZhbHVlRm4/LigpXG5cbiAgICAgIHR5cGVkTnVtYmVyID0gZmFsc2VcbiAgICAgIHN0b3BWYWx1ZVdhdGNoZXIgPSBmYWxzZVxuICAgICAgZGVsZXRlIHRlbXAudmFsdWVcblxuICAgICAgLy8gd2UgbmVlZCB0byB1c2Ugc2V0VGltZW91dCBpbnN0ZWFkIG9mIHRoaXMuJG5leHRUaWNrXG4gICAgICAvLyB0byBhdm9pZCBhIGJ1ZyB3aGVyZSBmb2N1c291dCBpcyBub3QgZW1pdHRlZCBmb3IgdHlwZSBkYXRlL3RpbWUvd2Vlay8uLi5cbiAgICAgIHByb3BzLnR5cGUgIT09ICdmaWxlJyAmJiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGlucHV0UmVmLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgaW5wdXRSZWYudmFsdWUudmFsdWUgPSBpbm5lclZhbHVlLnZhbHVlICE9PSB2b2lkIDAgPyBpbm5lclZhbHVlLnZhbHVlIDogJydcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDdXJWYWx1ZSAoKSB7XG4gICAgICByZXR1cm4gdGVtcC5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSA9PT0gdHJ1ZVxuICAgICAgICA/IHRlbXAudmFsdWVcbiAgICAgICAgOiAoaW5uZXJWYWx1ZS52YWx1ZSAhPT0gdm9pZCAwID8gaW5uZXJWYWx1ZS52YWx1ZSA6ICcnKVxuICAgIH1cblxuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICBvbkZpbmlzaEVkaXRpbmcoKVxuICAgIH0pXG5cbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgLy8gdGV4dGFyZWEgb25seVxuICAgICAgcHJvcHMuYXV0b2dyb3cgPT09IHRydWUgJiYgYWRqdXN0SGVpZ2h0KClcbiAgICB9KVxuXG4gICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwge1xuICAgICAgaW5uZXJWYWx1ZSxcblxuICAgICAgZmllbGRDbGFzczogY29tcHV0ZWQoKCkgPT5cbiAgICAgICAgYHEtJHsgaXNUZXh0YXJlYS52YWx1ZSA9PT0gdHJ1ZSA/ICd0ZXh0YXJlYScgOiAnaW5wdXQnIH1gXG4gICAgICAgICsgKHByb3BzLmF1dG9ncm93ID09PSB0cnVlID8gJyBxLXRleHRhcmVhLS1hdXRvZ3JvdycgOiAnJylcbiAgICAgICksXG5cbiAgICAgIGhhc1NoYWRvdzogY29tcHV0ZWQoKCkgPT5cbiAgICAgICAgcHJvcHMudHlwZSAhPT0gJ2ZpbGUnXG4gICAgICAgICYmIHR5cGVvZiBwcm9wcy5zaGFkb3dUZXh0ID09PSAnc3RyaW5nJ1xuICAgICAgICAmJiBwcm9wcy5zaGFkb3dUZXh0Lmxlbmd0aCAhPT0gMFxuICAgICAgKSxcblxuICAgICAgaW5wdXRSZWYsXG5cbiAgICAgIGVtaXRWYWx1ZSxcblxuICAgICAgaGFzVmFsdWUsXG5cbiAgICAgIGZsb2F0aW5nTGFiZWw6IGNvbXB1dGVkKCgpID0+XG4gICAgICAgIChcbiAgICAgICAgICBoYXNWYWx1ZS52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgICAgICYmIChwcm9wcy50eXBlICE9PSAnbnVtYmVyJyB8fCBpc05hTihpbm5lclZhbHVlLnZhbHVlKSA9PT0gZmFsc2UpXG4gICAgICAgIClcbiAgICAgICAgfHwgZmllbGRWYWx1ZUlzRmlsbGVkKHByb3BzLmRpc3BsYXlWYWx1ZSlcbiAgICAgICksXG5cbiAgICAgIGdldENvbnRyb2w6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGgoaXNUZXh0YXJlYS52YWx1ZSA9PT0gdHJ1ZSA/ICd0ZXh0YXJlYScgOiAnaW5wdXQnLCB7XG4gICAgICAgICAgcmVmOiBpbnB1dFJlZixcbiAgICAgICAgICBjbGFzczogW1xuICAgICAgICAgICAgJ3EtZmllbGRfX25hdGl2ZSBxLXBsYWNlaG9sZGVyJyxcbiAgICAgICAgICAgIHByb3BzLmlucHV0Q2xhc3NcbiAgICAgICAgICBdLFxuICAgICAgICAgIHN0eWxlOiBwcm9wcy5pbnB1dFN0eWxlLFxuICAgICAgICAgIC4uLmlucHV0QXR0cnMudmFsdWUsXG4gICAgICAgICAgLi4ub25FdmVudHMudmFsdWUsXG4gICAgICAgICAgLi4uKFxuICAgICAgICAgICAgcHJvcHMudHlwZSAhPT0gJ2ZpbGUnXG4gICAgICAgICAgICAgID8geyB2YWx1ZTogZ2V0Q3VyVmFsdWUoKSB9XG4gICAgICAgICAgICAgIDogZm9ybURvbVByb3BzLnZhbHVlXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgfSxcblxuICAgICAgZ2V0U2hhZG93Q29udHJvbDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICAgIGNsYXNzOiAncS1maWVsZF9fbmF0aXZlIHEtZmllbGRfX3NoYWRvdyBhYnNvbHV0ZS1ib3R0b20gbm8tcG9pbnRlci1ldmVudHMnXG4gICAgICAgICAgICArIChpc1RleHRhcmVhLnZhbHVlID09PSB0cnVlID8gJycgOiAnIHRleHQtbm8td3JhcCcpXG4gICAgICAgIH0sIFtcbiAgICAgICAgICBoKCdzcGFuJywgeyBjbGFzczogJ2ludmlzaWJsZScgfSwgZ2V0Q3VyVmFsdWUoKSksXG4gICAgICAgICAgaCgnc3BhbicsIHByb3BzLnNoYWRvd1RleHQpXG4gICAgICAgIF0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IHJlbmRlckZuID0gdXNlRmllbGQoc3RhdGUpXG5cbiAgICAvLyBleHBvc2UgcHVibGljIG1ldGhvZHNcbiAgICBPYmplY3QuYXNzaWduKHByb3h5LCB7XG4gICAgICBmb2N1cyxcbiAgICAgIHNlbGVjdCxcbiAgICAgIGdldE5hdGl2ZUVsZW1lbnQ6ICgpID0+IGlucHV0UmVmLnZhbHVlIC8vIGRlcHJlY2F0ZWRcbiAgICB9KVxuXG4gICAgaW5qZWN0UHJvcChwcm94eSwgJ25hdGl2ZUVsJywgKCkgPT4gaW5wdXRSZWYudmFsdWUpXG5cbiAgICByZXR1cm4gcmVuZGVyRm5cbiAgfVxufSlcbiIsImltcG9ydCB7IGgsIGNvbXB1dGVkLCByZWYgfSBmcm9tICd2dWUnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwcm9wcywgcm9vdFJlZikge1xuICBjb25zdCByZWZvY3VzUmVmID0gcmVmKG51bGwpXG5cbiAgY29uc3QgcmVmb2N1c1RhcmdldEVsID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChwcm9wcy5kaXNhYmxlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiBoKCdzcGFuJywge1xuICAgICAgcmVmOiByZWZvY3VzUmVmLFxuICAgICAgY2xhc3M6ICduby1vdXRsaW5lJyxcbiAgICAgIHRhYmluZGV4OiAtMVxuICAgIH0pXG4gIH0pXG5cbiAgZnVuY3Rpb24gcmVmb2N1c1RhcmdldCAoZSkge1xuICAgIGNvbnN0IHJvb3QgPSByb290UmVmLnZhbHVlXG5cbiAgICBpZiAoZT8ucUF2b2lkRm9jdXMgPT09IHRydWUpIHJldHVyblxuXG4gICAgaWYgKGU/LnR5cGUuaW5kZXhPZigna2V5JykgPT09IDApIHtcbiAgICAgIGlmIChcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gcm9vdFxuICAgICAgICAmJiByb290Py5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIHJvb3QuZm9jdXMoKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChcbiAgICAgIHJlZm9jdXNSZWYudmFsdWUgIT09IG51bGxcbiAgICAgICYmICgoZSA9PT0gdm9pZCAwKSB8fCAocm9vdD8uY29udGFpbnMoZS50YXJnZXQpID09PSB0cnVlKSlcbiAgICApIHtcbiAgICAgIHJlZm9jdXNSZWYudmFsdWUuZm9jdXMoKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVmb2N1c1RhcmdldEVsLFxuICAgIHJlZm9jdXNUYXJnZXRcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICB4czogMzAsXG4gIHNtOiAzNSxcbiAgbWQ6IDQwLFxuICBsZzogNTAsXG4gIHhsOiA2MFxufVxuIiwiaW1wb3J0IHsgaCwgcmVmLCBjb21wdXRlZCwgZ2V0Q3VycmVudEluc3RhbmNlLCB0b1JhdyB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IFFJY29uIGZyb20gJy4uL2ljb24vUUljb24uanMnXG5cbmltcG9ydCB1c2VEYXJrLCB7IHVzZURhcmtQcm9wcyB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLWRhcmsvdXNlLWRhcmsuanMnXG5pbXBvcnQgdXNlU2l6ZSwgeyB1c2VTaXplUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1zaXplL3VzZS1zaXplLmpzJ1xuaW1wb3J0IHVzZVJlZm9jdXNUYXJnZXQgZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS51c2UtcmVmb2N1cy10YXJnZXQvdXNlLXJlZm9jdXMtdGFyZ2V0LmpzJ1xuaW1wb3J0IHsgdXNlRm9ybVByb3BzLCB1c2VGb3JtSW5qZWN0IH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvdXNlLWZvcm0vcHJpdmF0ZS51c2UtZm9ybS5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IG9wdGlvblNpemVzIGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUub3B0aW9uLXNpemVzL29wdGlvbi1zaXplcy5qcydcbmltcG9ydCB7IHN0b3BBbmRQcmV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQvZXZlbnQuanMnXG5pbXBvcnQgeyBoU2xvdCwgaE1lcmdlU2xvdCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUucmVuZGVyL3JlbmRlci5qcydcblxuY29uc3QgY3JlYXRlU3ZnID0gKCkgPT4gaCgnc3ZnJywge1xuICBrZXk6ICdzdmcnLFxuICBjbGFzczogJ3EtcmFkaW9fX2JnIGFic29sdXRlIG5vbi1zZWxlY3RhYmxlJyxcbiAgdmlld0JveDogJzAgMCAyNCAyNCdcbn0sIFtcbiAgaCgncGF0aCcsIHtcbiAgICBkOiAnTTEyLDIyYTEwLDEwIDAgMCAxIC0xMCwtMTBhMTAsMTAgMCAwIDEgMTAsLTEwYTEwLDEwIDAgMCAxIDEwLDEwYTEwLDEwIDAgMCAxIC0xMCwxMG0wLC0yMmExMiwxMiAwIDAgMCAtMTIsMTJhMTIsMTIgMCAwIDAgMTIsMTJhMTIsMTIgMCAwIDAgMTIsLTEyYTEyLDEyIDAgMCAwIC0xMiwtMTInXG4gIH0pLFxuXG4gIGgoJ3BhdGgnLCB7XG4gICAgY2xhc3M6ICdxLXJhZGlvX19jaGVjaycsXG4gICAgZDogJ00xMiw2YTYsNiAwIDAgMCAtNiw2YTYsNiAwIDAgMCA2LDZhNiw2IDAgMCAwIDYsLTZhNiw2IDAgMCAwIC02LC02J1xuICB9KVxuXSlcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KHtcbiAgbmFtZTogJ1FSYWRpbycsXG5cbiAgcHJvcHM6IHtcbiAgICAuLi51c2VEYXJrUHJvcHMsXG4gICAgLi4udXNlU2l6ZVByb3BzLFxuICAgIC4uLnVzZUZvcm1Qcm9wcyxcblxuICAgIG1vZGVsVmFsdWU6IHsgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB2YWw6IHsgcmVxdWlyZWQ6IHRydWUgfSxcblxuICAgIGxhYmVsOiBTdHJpbmcsXG4gICAgbGVmdExhYmVsOiBCb29sZWFuLFxuXG4gICAgY2hlY2tlZEljb246IFN0cmluZyxcbiAgICB1bmNoZWNrZWRJY29uOiBTdHJpbmcsXG5cbiAgICBjb2xvcjogU3RyaW5nLFxuICAgIGtlZXBDb2xvcjogQm9vbGVhbixcbiAgICBkZW5zZTogQm9vbGVhbixcblxuICAgIGRpc2FibGU6IEJvb2xlYW4sXG4gICAgdGFiaW5kZXg6IFsgU3RyaW5nLCBOdW1iZXIgXVxuICB9LFxuXG4gIGVtaXRzOiBbICd1cGRhdGU6bW9kZWxWYWx1ZScgXSxcblxuICBzZXR1cCAocHJvcHMsIHsgc2xvdHMsIGVtaXQgfSkge1xuICAgIGNvbnN0IHsgcHJveHkgfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG5cbiAgICBjb25zdCBpc0RhcmsgPSB1c2VEYXJrKHByb3BzLCBwcm94eS4kcSlcbiAgICBjb25zdCBzaXplU3R5bGUgPSB1c2VTaXplKHByb3BzLCBvcHRpb25TaXplcylcblxuICAgIGNvbnN0IHJvb3RSZWYgPSByZWYobnVsbClcbiAgICBjb25zdCB7IHJlZm9jdXNUYXJnZXRFbCwgcmVmb2N1c1RhcmdldCB9ID0gdXNlUmVmb2N1c1RhcmdldChwcm9wcywgcm9vdFJlZilcblxuICAgIGNvbnN0IGlzVHJ1ZSA9IGNvbXB1dGVkKCgpID0+IHRvUmF3KHByb3BzLm1vZGVsVmFsdWUpID09PSB0b1Jhdyhwcm9wcy52YWwpKVxuXG4gICAgY29uc3QgY2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+XG4gICAgICAncS1yYWRpbyBjdXJzb3ItcG9pbnRlciBuby1vdXRsaW5lIHJvdyBpbmxpbmUgbm8td3JhcCBpdGVtcy1jZW50ZXInXG4gICAgICArIChwcm9wcy5kaXNhYmxlID09PSB0cnVlID8gJyBkaXNhYmxlZCcgOiAnJylcbiAgICAgICsgKGlzRGFyay52YWx1ZSA9PT0gdHJ1ZSA/ICcgcS1yYWRpby0tZGFyaycgOiAnJylcbiAgICAgICsgKHByb3BzLmRlbnNlID09PSB0cnVlID8gJyBxLXJhZGlvLS1kZW5zZScgOiAnJylcbiAgICAgICsgKHByb3BzLmxlZnRMYWJlbCA9PT0gdHJ1ZSA/ICcgcmV2ZXJzZScgOiAnJylcbiAgICApXG5cbiAgICBjb25zdCBpbm5lckNsYXNzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgY29uc3QgY29sb3IgPSBwcm9wcy5jb2xvciAhPT0gdm9pZCAwICYmIChcbiAgICAgICAgcHJvcHMua2VlcENvbG9yID09PSB0cnVlXG4gICAgICAgIHx8IGlzVHJ1ZS52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgKVxuICAgICAgICA/IGAgdGV4dC0keyBwcm9wcy5jb2xvciB9YFxuICAgICAgICA6ICcnXG5cbiAgICAgIHJldHVybiAncS1yYWRpb19faW5uZXIgcmVsYXRpdmUtcG9zaXRpb24gJ1xuICAgICAgICArIGBxLXJhZGlvX19pbm5lci0tJHsgaXNUcnVlLnZhbHVlID09PSB0cnVlID8gJ3RydXRoeScgOiAnZmFsc3knIH0keyBjb2xvciB9YFxuICAgIH0pXG5cbiAgICBjb25zdCBpY29uID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgIChpc1RydWUudmFsdWUgPT09IHRydWVcbiAgICAgICAgPyBwcm9wcy5jaGVja2VkSWNvblxuICAgICAgICA6IHByb3BzLnVuY2hlY2tlZEljb25cbiAgICAgICkgfHwgbnVsbFxuICAgIClcblxuICAgIGNvbnN0IHRhYmluZGV4ID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgcHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSA/IC0xIDogcHJvcHMudGFiaW5kZXggfHwgMFxuICAgICkpXG5cbiAgICBjb25zdCBmb3JtQXR0cnMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCBwcm9wID0geyB0eXBlOiAncmFkaW8nIH1cblxuICAgICAgcHJvcHMubmFtZSAhPT0gdm9pZCAwICYmIE9iamVjdC5hc3NpZ24ocHJvcCwge1xuICAgICAgICAvLyBzZWUgaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvZXh0cmFzL3JlbmRlci1mdW5jdGlvbi5odG1sI2NyZWF0aW5nLXZub2RlcyAoLnByb3ApXG4gICAgICAgICcuY2hlY2tlZCc6IGlzVHJ1ZS52YWx1ZSA9PT0gdHJ1ZSxcbiAgICAgICAgJ15jaGVja2VkJzogaXNUcnVlLnZhbHVlID09PSB0cnVlID8gJ2NoZWNrZWQnIDogdm9pZCAwLFxuICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICB2YWx1ZTogcHJvcHMudmFsXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gcHJvcFxuICAgIH0pXG5cbiAgICBjb25zdCBpbmplY3RGb3JtSW5wdXQgPSB1c2VGb3JtSW5qZWN0KGZvcm1BdHRycylcblxuICAgIGZ1bmN0aW9uIG9uQ2xpY2sgKGUpIHtcbiAgICAgIGlmIChlICE9PSB2b2lkIDApIHtcbiAgICAgICAgc3RvcEFuZFByZXZlbnQoZSlcbiAgICAgICAgcmVmb2N1c1RhcmdldChlKVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMuZGlzYWJsZSAhPT0gdHJ1ZSAmJiBpc1RydWUudmFsdWUgIT09IHRydWUpIHtcbiAgICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBwcm9wcy52YWwsIGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25LZXlkb3duIChlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAxMyB8fCBlLmtleUNvZGUgPT09IDMyKSB7XG4gICAgICAgIHN0b3BBbmRQcmV2ZW50KGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25LZXl1cCAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMgfHwgZS5rZXlDb2RlID09PSAzMikge1xuICAgICAgICBvbkNsaWNrKGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzXG4gICAgT2JqZWN0LmFzc2lnbihwcm94eSwgeyBzZXQ6IG9uQ2xpY2sgfSlcblxuICAgIGNvbnN0IHN2ZyA9IGNyZWF0ZVN2ZygpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgY29udGVudCA9IGljb24udmFsdWUgIT09IG51bGxcbiAgICAgICAgPyBbXG4gICAgICAgICAgICBoKCdkaXYnLCB7XG4gICAgICAgICAgICAgIGtleTogJ2ljb24nLFxuICAgICAgICAgICAgICBjbGFzczogJ3EtcmFkaW9fX2ljb24tY29udGFpbmVyIGFic29sdXRlLWZ1bGwgZmxleCBmbGV4LWNlbnRlciBuby13cmFwJ1xuICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICBoKFFJY29uLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6ICdxLXJhZGlvX19pY29uJyxcbiAgICAgICAgICAgICAgICBuYW1lOiBpY29uLnZhbHVlXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIF1cbiAgICAgICAgOiBbIHN2ZyBdXG5cbiAgICAgIHByb3BzLmRpc2FibGUgIT09IHRydWUgJiYgaW5qZWN0Rm9ybUlucHV0KFxuICAgICAgICBjb250ZW50LFxuICAgICAgICAndW5zaGlmdCcsXG4gICAgICAgICcgcS1yYWRpb19fbmF0aXZlIHEtbWEtbm9uZSBxLXBhLW5vbmUnXG4gICAgICApXG5cbiAgICAgIGNvbnN0IGNoaWxkID0gW1xuICAgICAgICBoKCdkaXYnLCB7XG4gICAgICAgICAgY2xhc3M6IGlubmVyQ2xhc3MudmFsdWUsXG4gICAgICAgICAgc3R5bGU6IHNpemVTdHlsZS52YWx1ZSxcbiAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZSdcbiAgICAgICAgfSwgY29udGVudClcbiAgICAgIF1cblxuICAgICAgaWYgKHJlZm9jdXNUYXJnZXRFbC52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBjaGlsZC5wdXNoKHJlZm9jdXNUYXJnZXRFbC52YWx1ZSlcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGFiZWwgPSBwcm9wcy5sYWJlbCAhPT0gdm9pZCAwXG4gICAgICAgID8gaE1lcmdlU2xvdChzbG90cy5kZWZhdWx0LCBbIHByb3BzLmxhYmVsIF0pXG4gICAgICAgIDogaFNsb3Qoc2xvdHMuZGVmYXVsdClcblxuICAgICAgbGFiZWwgIT09IHZvaWQgMCAmJiBjaGlsZC5wdXNoKFxuICAgICAgICBoKCdkaXYnLCB7XG4gICAgICAgICAgY2xhc3M6ICdxLXJhZGlvX19sYWJlbCBxLWFuY2hvci0tc2tpcCdcbiAgICAgICAgfSwgbGFiZWwpXG4gICAgICApXG5cbiAgICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICAgIHJlZjogcm9vdFJlZixcbiAgICAgICAgY2xhc3M6IGNsYXNzZXMudmFsdWUsXG4gICAgICAgIHRhYmluZGV4OiB0YWJpbmRleC52YWx1ZSxcbiAgICAgICAgcm9sZTogJ3JhZGlvJyxcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBwcm9wcy5sYWJlbCxcbiAgICAgICAgJ2FyaWEtY2hlY2tlZCc6IGlzVHJ1ZS52YWx1ZSA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZScsXG4gICAgICAgICdhcmlhLWRpc2FibGVkJzogcHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSA/ICd0cnVlJyA6IHZvaWQgMCxcbiAgICAgICAgb25DbGljayxcbiAgICAgICAgb25LZXlkb3duLFxuICAgICAgICBvbktleXVwXG4gICAgICB9LCBjaGlsZClcbiAgICB9XG4gIH1cbn0pXG4iLCJpbXBvcnQgeyBoLCByZWYsIGNvbXB1dGVkLCBnZXRDdXJyZW50SW5zdGFuY2UsIHRvUmF3IH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgdXNlRGFyaywgeyB1c2VEYXJrUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1kYXJrL3VzZS1kYXJrLmpzJ1xuaW1wb3J0IHVzZVNpemUsIHsgdXNlU2l6ZVByb3BzIH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS51c2Utc2l6ZS91c2Utc2l6ZS5qcydcbmltcG9ydCB1c2VSZWZvY3VzVGFyZ2V0IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUudXNlLXJlZm9jdXMtdGFyZ2V0L3VzZS1yZWZvY3VzLXRhcmdldC5qcydcbmltcG9ydCB7IHVzZUZvcm1JbmplY3QsIHVzZUZvcm1Qcm9wcyB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3VzZS1mb3JtL3ByaXZhdGUudXNlLWZvcm0uanMnXG5cbmltcG9ydCBvcHRpb25TaXplcyBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLm9wdGlvbi1zaXplcy9vcHRpb24tc2l6ZXMuanMnXG5pbXBvcnQgeyBzdG9wQW5kUHJldmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50L2V2ZW50LmpzJ1xuaW1wb3J0IHsgaFNsb3QsIGhNZXJnZVNsb3QgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLnJlbmRlci9yZW5kZXIuanMnXG5cbmV4cG9ydCBjb25zdCB1c2VDaGVja2JveFByb3BzID0ge1xuICAuLi51c2VEYXJrUHJvcHMsXG4gIC4uLnVzZVNpemVQcm9wcyxcbiAgLi4udXNlRm9ybVByb3BzLFxuXG4gIG1vZGVsVmFsdWU6IHtcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIHZhbDoge30sXG5cbiAgdHJ1ZVZhbHVlOiB7IGRlZmF1bHQ6IHRydWUgfSxcbiAgZmFsc2VWYWx1ZTogeyBkZWZhdWx0OiBmYWxzZSB9LFxuICBpbmRldGVybWluYXRlVmFsdWU6IHsgZGVmYXVsdDogbnVsbCB9LFxuXG4gIGNoZWNrZWRJY29uOiBTdHJpbmcsXG4gIHVuY2hlY2tlZEljb246IFN0cmluZyxcbiAgaW5kZXRlcm1pbmF0ZUljb246IFN0cmluZyxcblxuICB0b2dnbGVPcmRlcjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB2YWxpZGF0b3I6IHYgPT4gdiA9PT0gJ3RmJyB8fCB2ID09PSAnZnQnXG4gIH0sXG4gIHRvZ2dsZUluZGV0ZXJtaW5hdGU6IEJvb2xlYW4sXG5cbiAgbGFiZWw6IFN0cmluZyxcbiAgbGVmdExhYmVsOiBCb29sZWFuLFxuXG4gIGNvbG9yOiBTdHJpbmcsXG4gIGtlZXBDb2xvcjogQm9vbGVhbixcbiAgZGVuc2U6IEJvb2xlYW4sXG5cbiAgZGlzYWJsZTogQm9vbGVhbixcbiAgdGFiaW5kZXg6IFsgU3RyaW5nLCBOdW1iZXIgXVxufVxuXG5leHBvcnQgY29uc3QgdXNlQ2hlY2tib3hFbWl0cyA9IFsgJ3VwZGF0ZTptb2RlbFZhbHVlJyBdXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh0eXBlLCBnZXRJbm5lcikge1xuICBjb25zdCB7IHByb3BzLCBzbG90cywgZW1pdCwgcHJveHkgfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG4gIGNvbnN0IHsgJHEgfSA9IHByb3h5XG5cbiAgY29uc3QgaXNEYXJrID0gdXNlRGFyayhwcm9wcywgJHEpXG5cbiAgY29uc3Qgcm9vdFJlZiA9IHJlZihudWxsKVxuICBjb25zdCB7IHJlZm9jdXNUYXJnZXRFbCwgcmVmb2N1c1RhcmdldCB9ID0gdXNlUmVmb2N1c1RhcmdldChwcm9wcywgcm9vdFJlZilcbiAgY29uc3Qgc2l6ZVN0eWxlID0gdXNlU2l6ZShwcm9wcywgb3B0aW9uU2l6ZXMpXG5cbiAgY29uc3QgbW9kZWxJc0FycmF5ID0gY29tcHV0ZWQoKCkgPT5cbiAgICBwcm9wcy52YWwgIT09IHZvaWQgMCAmJiBBcnJheS5pc0FycmF5KHByb3BzLm1vZGVsVmFsdWUpXG4gIClcblxuICBjb25zdCBpbmRleCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCB2YWwgPSB0b1Jhdyhwcm9wcy52YWwpXG4gICAgcmV0dXJuIG1vZGVsSXNBcnJheS52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgPyBwcm9wcy5tb2RlbFZhbHVlLmZpbmRJbmRleChvcHQgPT4gdG9SYXcob3B0KSA9PT0gdmFsKVxuICAgICAgOiAtMVxuICB9KVxuXG4gIGNvbnN0IGlzVHJ1ZSA9IGNvbXB1dGVkKCgpID0+IChcbiAgICBtb2RlbElzQXJyYXkudmFsdWUgPT09IHRydWVcbiAgICAgID8gaW5kZXgudmFsdWUgIT09IC0xXG4gICAgICA6IHRvUmF3KHByb3BzLm1vZGVsVmFsdWUpID09PSB0b1Jhdyhwcm9wcy50cnVlVmFsdWUpXG4gICkpXG5cbiAgY29uc3QgaXNGYWxzZSA9IGNvbXB1dGVkKCgpID0+IChcbiAgICBtb2RlbElzQXJyYXkudmFsdWUgPT09IHRydWVcbiAgICAgID8gaW5kZXgudmFsdWUgPT09IC0xXG4gICAgICA6IHRvUmF3KHByb3BzLm1vZGVsVmFsdWUpID09PSB0b1Jhdyhwcm9wcy5mYWxzZVZhbHVlKVxuICApKVxuXG4gIGNvbnN0IGlzSW5kZXRlcm1pbmF0ZSA9IGNvbXB1dGVkKCgpID0+XG4gICAgaXNUcnVlLnZhbHVlID09PSBmYWxzZSAmJiBpc0ZhbHNlLnZhbHVlID09PSBmYWxzZVxuICApXG5cbiAgY29uc3QgdGFiaW5kZXggPSBjb21wdXRlZCgoKSA9PiAoXG4gICAgcHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSA/IC0xIDogcHJvcHMudGFiaW5kZXggfHwgMFxuICApKVxuXG4gIGNvbnN0IGNsYXNzZXMgPSBjb21wdXRlZCgoKSA9PlxuICAgIGBxLSR7IHR5cGUgfSBjdXJzb3ItcG9pbnRlciBuby1vdXRsaW5lIHJvdyBpbmxpbmUgbm8td3JhcCBpdGVtcy1jZW50ZXJgXG4gICAgKyAocHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSA/ICcgZGlzYWJsZWQnIDogJycpXG4gICAgKyAoaXNEYXJrLnZhbHVlID09PSB0cnVlID8gYCBxLSR7IHR5cGUgfS0tZGFya2AgOiAnJylcbiAgICArIChwcm9wcy5kZW5zZSA9PT0gdHJ1ZSA/IGAgcS0keyB0eXBlIH0tLWRlbnNlYCA6ICcnKVxuICAgICsgKHByb3BzLmxlZnRMYWJlbCA9PT0gdHJ1ZSA/ICcgcmV2ZXJzZScgOiAnJylcbiAgKVxuXG4gIGNvbnN0IGlubmVyQ2xhc3MgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBpc1RydWUudmFsdWUgPT09IHRydWUgPyAndHJ1dGh5JyA6IChpc0ZhbHNlLnZhbHVlID09PSB0cnVlID8gJ2ZhbHN5JyA6ICdpbmRldCcpXG4gICAgY29uc3QgY29sb3IgPSBwcm9wcy5jb2xvciAhPT0gdm9pZCAwICYmIChcbiAgICAgIHByb3BzLmtlZXBDb2xvciA9PT0gdHJ1ZVxuICAgICAgfHwgKHR5cGUgPT09ICd0b2dnbGUnID8gaXNUcnVlLnZhbHVlID09PSB0cnVlIDogaXNGYWxzZS52YWx1ZSAhPT0gdHJ1ZSlcbiAgICApXG4gICAgICA/IGAgdGV4dC0keyBwcm9wcy5jb2xvciB9YFxuICAgICAgOiAnJ1xuXG4gICAgcmV0dXJuIGBxLSR7IHR5cGUgfV9faW5uZXIgcmVsYXRpdmUtcG9zaXRpb24gbm9uLXNlbGVjdGFibGUgcS0keyB0eXBlIH1fX2lubmVyLS0keyBzdGF0ZSB9JHsgY29sb3IgfWBcbiAgfSlcblxuICBjb25zdCBmb3JtQXR0cnMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgY29uc3QgcHJvcCA9IHsgdHlwZTogJ2NoZWNrYm94JyB9XG5cbiAgICBwcm9wcy5uYW1lICE9PSB2b2lkIDAgJiYgT2JqZWN0LmFzc2lnbihwcm9wLCB7XG4gICAgICAvLyBzZWUgaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvZXh0cmFzL3JlbmRlci1mdW5jdGlvbi5odG1sI2NyZWF0aW5nLXZub2RlcyAoLnByb3ApXG4gICAgICAnLmNoZWNrZWQnOiBpc1RydWUudmFsdWUsXG4gICAgICAnXmNoZWNrZWQnOiBpc1RydWUudmFsdWUgPT09IHRydWUgPyAnY2hlY2tlZCcgOiB2b2lkIDAsXG4gICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgdmFsdWU6IG1vZGVsSXNBcnJheS52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgICA/IHByb3BzLnZhbFxuICAgICAgICA6IHByb3BzLnRydWVWYWx1ZVxuICAgIH0pXG5cbiAgICByZXR1cm4gcHJvcFxuICB9KVxuXG4gIGNvbnN0IGluamVjdEZvcm1JbnB1dCA9IHVzZUZvcm1JbmplY3QoZm9ybUF0dHJzKVxuXG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICB0YWJpbmRleDogdGFiaW5kZXgudmFsdWUsXG4gICAgICByb2xlOiB0eXBlID09PSAndG9nZ2xlJyA/ICdzd2l0Y2gnIDogJ2NoZWNrYm94JyxcbiAgICAgICdhcmlhLWxhYmVsJzogcHJvcHMubGFiZWwsXG4gICAgICAnYXJpYS1jaGVja2VkJzogaXNJbmRldGVybWluYXRlLnZhbHVlID09PSB0cnVlXG4gICAgICAgID8gJ21peGVkJ1xuICAgICAgICA6IChpc1RydWUudmFsdWUgPT09IHRydWUgPyAndHJ1ZScgOiAnZmFsc2UnKVxuICAgIH1cblxuICAgIGlmIChwcm9wcy5kaXNhYmxlID09PSB0cnVlKSB7XG4gICAgICBhdHRyc1sgJ2FyaWEtZGlzYWJsZWQnIF0gPSAndHJ1ZSdcbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cnNcbiAgfSlcblxuICBmdW5jdGlvbiBvbkNsaWNrIChlKSB7XG4gICAgaWYgKGUgIT09IHZvaWQgMCkge1xuICAgICAgc3RvcEFuZFByZXZlbnQoZSlcbiAgICAgIHJlZm9jdXNUYXJnZXQoZSlcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZGlzYWJsZSAhPT0gdHJ1ZSkge1xuICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBnZXROZXh0VmFsdWUoKSwgZSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXROZXh0VmFsdWUgKCkge1xuICAgIGlmIChtb2RlbElzQXJyYXkudmFsdWUgPT09IHRydWUpIHtcbiAgICAgIGlmIChpc1RydWUudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgY29uc3QgdmFsID0gcHJvcHMubW9kZWxWYWx1ZS5zbGljZSgpXG4gICAgICAgIHZhbC5zcGxpY2UoaW5kZXgudmFsdWUsIDEpXG4gICAgICAgIHJldHVybiB2YWxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb3BzLm1vZGVsVmFsdWUuY29uY2F0KFsgcHJvcHMudmFsIF0pXG4gICAgfVxuXG4gICAgaWYgKGlzVHJ1ZS52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKHByb3BzLnRvZ2dsZU9yZGVyICE9PSAnZnQnIHx8IHByb3BzLnRvZ2dsZUluZGV0ZXJtaW5hdGUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy5mYWxzZVZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRmFsc2UudmFsdWUgPT09IHRydWUpIHtcbiAgICAgIGlmIChwcm9wcy50b2dnbGVPcmRlciA9PT0gJ2Z0JyB8fCBwcm9wcy50b2dnbGVJbmRldGVybWluYXRlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gcHJvcHMudHJ1ZVZhbHVlXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHByb3BzLnRvZ2dsZU9yZGVyICE9PSAnZnQnXG4gICAgICAgID8gcHJvcHMudHJ1ZVZhbHVlXG4gICAgICAgIDogcHJvcHMuZmFsc2VWYWx1ZVxuICAgIH1cblxuICAgIHJldHVybiBwcm9wcy5pbmRldGVybWluYXRlVmFsdWVcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uS2V5ZG93biAoZSkge1xuICAgIGlmIChlLmtleUNvZGUgPT09IDEzIHx8IGUua2V5Q29kZSA9PT0gMzIpIHtcbiAgICAgIHN0b3BBbmRQcmV2ZW50KGUpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25LZXl1cCAoZSkge1xuICAgIGlmIChlLmtleUNvZGUgPT09IDEzIHx8IGUua2V5Q29kZSA9PT0gMzIpIHtcbiAgICAgIG9uQ2xpY2soZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRJbm5lckNvbnRlbnQgPSBnZXRJbm5lcihpc1RydWUsIGlzSW5kZXRlcm1pbmF0ZSlcblxuICAvLyBleHBvc2UgcHVibGljIG1ldGhvZHNcbiAgT2JqZWN0LmFzc2lnbihwcm94eSwgeyB0b2dnbGU6IG9uQ2xpY2sgfSlcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvbnN0IGlubmVyID0gZ2V0SW5uZXJDb250ZW50KClcblxuICAgIHByb3BzLmRpc2FibGUgIT09IHRydWUgJiYgaW5qZWN0Rm9ybUlucHV0KFxuICAgICAgaW5uZXIsXG4gICAgICAndW5zaGlmdCcsXG4gICAgICBgIHEtJHsgdHlwZSB9X19uYXRpdmUgYWJzb2x1dGUgcS1tYS1ub25lIHEtcGEtbm9uZWBcbiAgICApXG5cbiAgICBjb25zdCBjaGlsZCA9IFtcbiAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgY2xhc3M6IGlubmVyQ2xhc3MudmFsdWUsXG4gICAgICAgIHN0eWxlOiBzaXplU3R5bGUudmFsdWUsXG4gICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJ1xuICAgICAgfSwgaW5uZXIpXG4gICAgXVxuXG4gICAgaWYgKHJlZm9jdXNUYXJnZXRFbC52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgY2hpbGQucHVzaChyZWZvY3VzVGFyZ2V0RWwudmFsdWUpXG4gICAgfVxuXG4gICAgY29uc3QgbGFiZWwgPSBwcm9wcy5sYWJlbCAhPT0gdm9pZCAwXG4gICAgICA/IGhNZXJnZVNsb3Qoc2xvdHMuZGVmYXVsdCwgWyBwcm9wcy5sYWJlbCBdKVxuICAgICAgOiBoU2xvdChzbG90cy5kZWZhdWx0KVxuXG4gICAgbGFiZWwgIT09IHZvaWQgMCAmJiBjaGlsZC5wdXNoKFxuICAgICAgaCgnZGl2Jywge1xuICAgICAgICBjbGFzczogYHEtJHsgdHlwZSB9X19sYWJlbCBxLWFuY2hvci0tc2tpcGBcbiAgICAgIH0sIGxhYmVsKVxuICAgIClcblxuICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICByZWY6IHJvb3RSZWYsXG4gICAgICBjbGFzczogY2xhc3Nlcy52YWx1ZSxcbiAgICAgIC4uLmF0dHJpYnV0ZXMudmFsdWUsXG4gICAgICBvbkNsaWNrLFxuICAgICAgb25LZXlkb3duLFxuICAgICAgb25LZXl1cFxuICAgIH0sIGNoaWxkKVxuICB9XG59XG4iLCJpbXBvcnQgeyBoLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IFFJY29uIGZyb20gJy4uL2ljb24vUUljb24uanMnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcbmltcG9ydCB1c2VDaGVja2JveCwgeyB1c2VDaGVja2JveFByb3BzLCB1c2VDaGVja2JveEVtaXRzIH0gZnJvbSAnLi91c2UtY2hlY2tib3guanMnXG5cbmNvbnN0IGNyZWF0ZUJnTm9kZSA9ICgpID0+IGgoJ2RpdicsIHtcbiAga2V5OiAnc3ZnJyxcbiAgY2xhc3M6ICdxLWNoZWNrYm94X19iZyBhYnNvbHV0ZSdcbn0sIFtcbiAgaCgnc3ZnJywge1xuICAgIGNsYXNzOiAncS1jaGVja2JveF9fc3ZnIGZpdCBhYnNvbHV0ZS1mdWxsJyxcbiAgICB2aWV3Qm94OiAnMCAwIDI0IDI0J1xuICB9LCBbXG4gICAgaCgncGF0aCcsIHtcbiAgICAgIGNsYXNzOiAncS1jaGVja2JveF9fdHJ1dGh5JyxcbiAgICAgIGZpbGw6ICdub25lJyxcbiAgICAgIGQ6ICdNMS43MywxMi45MSA4LjEsMTkuMjggMjIuNzksNC41OSdcbiAgICB9KSxcblxuICAgIGgoJ3BhdGgnLCB7XG4gICAgICBjbGFzczogJ3EtY2hlY2tib3hfX2luZGV0JyxcbiAgICAgIGQ6ICdNNCwxNEgyMFYxMEg0J1xuICAgIH0pXG4gIF0pXG5dKVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoe1xuICBuYW1lOiAnUUNoZWNrYm94JyxcblxuICBwcm9wczogdXNlQ2hlY2tib3hQcm9wcyxcbiAgZW1pdHM6IHVzZUNoZWNrYm94RW1pdHMsXG5cbiAgc2V0dXAgKHByb3BzKSB7XG4gICAgY29uc3QgYmdOb2RlID0gY3JlYXRlQmdOb2RlKClcblxuICAgIGZ1bmN0aW9uIGdldElubmVyIChpc1RydWUsIGlzSW5kZXRlcm1pbmF0ZSkge1xuICAgICAgY29uc3QgaWNvbiA9IGNvbXB1dGVkKCgpID0+XG4gICAgICAgIChpc1RydWUudmFsdWUgPT09IHRydWVcbiAgICAgICAgICA/IHByb3BzLmNoZWNrZWRJY29uXG4gICAgICAgICAgOiAoaXNJbmRldGVybWluYXRlLnZhbHVlID09PSB0cnVlXG4gICAgICAgICAgICAgID8gcHJvcHMuaW5kZXRlcm1pbmF0ZUljb25cbiAgICAgICAgICAgICAgOiBwcm9wcy51bmNoZWNrZWRJY29uXG4gICAgICAgICAgICApXG4gICAgICAgICkgfHwgbnVsbFxuICAgICAgKVxuXG4gICAgICByZXR1cm4gKCkgPT4gKFxuICAgICAgICBpY29uLnZhbHVlICE9PSBudWxsXG4gICAgICAgICAgPyBbXG4gICAgICAgICAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdpY29uJyxcbiAgICAgICAgICAgICAgICBjbGFzczogJ3EtY2hlY2tib3hfX2ljb24tY29udGFpbmVyIGFic29sdXRlLWZ1bGwgZmxleCBmbGV4LWNlbnRlciBuby13cmFwJ1xuICAgICAgICAgICAgICB9LCBbXG4gICAgICAgICAgICAgICAgaChRSWNvbiwge1xuICAgICAgICAgICAgICAgICAgY2xhc3M6ICdxLWNoZWNrYm94X19pY29uJyxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IGljb24udmFsdWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICAgIDogWyBiZ05vZGUgXVxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiB1c2VDaGVja2JveCgnY2hlY2tib3gnLCBnZXRJbm5lcilcbiAgfVxufSlcbiIsImltcG9ydCB7IGgsIGNvbXB1dGVkIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgUUljb24gZnJvbSAnLi4vaWNvbi9RSWNvbi5qcydcblxuaW1wb3J0IHVzZUNoZWNrYm94LCB7IHVzZUNoZWNrYm94UHJvcHMsIHVzZUNoZWNrYm94RW1pdHMgfSBmcm9tICcuLi9jaGVja2JveC91c2UtY2hlY2tib3guanMnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY3JlYXRlL2NyZWF0ZS5qcydcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KHtcbiAgbmFtZTogJ1FUb2dnbGUnLFxuXG4gIHByb3BzOiB7XG4gICAgLi4udXNlQ2hlY2tib3hQcm9wcyxcblxuICAgIGljb246IFN0cmluZyxcbiAgICBpY29uQ29sb3I6IFN0cmluZ1xuICB9LFxuXG4gIGVtaXRzOiB1c2VDaGVja2JveEVtaXRzLFxuXG4gIHNldHVwIChwcm9wcykge1xuICAgIGZ1bmN0aW9uIGdldElubmVyIChpc1RydWUsIGlzSW5kZXRlcm1pbmF0ZSkge1xuICAgICAgY29uc3QgaWNvbiA9IGNvbXB1dGVkKCgpID0+XG4gICAgICAgIChpc1RydWUudmFsdWUgPT09IHRydWVcbiAgICAgICAgICA/IHByb3BzLmNoZWNrZWRJY29uXG4gICAgICAgICAgOiAoaXNJbmRldGVybWluYXRlLnZhbHVlID09PSB0cnVlID8gcHJvcHMuaW5kZXRlcm1pbmF0ZUljb24gOiBwcm9wcy51bmNoZWNrZWRJY29uKVxuICAgICAgICApIHx8IHByb3BzLmljb25cbiAgICAgIClcblxuICAgICAgY29uc3QgY29sb3IgPSBjb21wdXRlZCgoKSA9PiAoaXNUcnVlLnZhbHVlID09PSB0cnVlID8gcHJvcHMuaWNvbkNvbG9yIDogbnVsbCkpXG5cbiAgICAgIHJldHVybiAoKSA9PiBbXG4gICAgICAgIGgoJ2RpdicsIHsgY2xhc3M6ICdxLXRvZ2dsZV9fdHJhY2snIH0pLFxuXG4gICAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgICBjbGFzczogJ3EtdG9nZ2xlX190aHVtYiBhYnNvbHV0ZSBmbGV4IGZsZXgtY2VudGVyIG5vLXdyYXAnXG4gICAgICAgIH0sIGljb24udmFsdWUgIT09IHZvaWQgMFxuICAgICAgICAgID8gW1xuICAgICAgICAgICAgICBoKFFJY29uLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogaWNvbi52YWx1ZSxcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IudmFsdWVcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICA6IHZvaWQgMFxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuXG4gICAgcmV0dXJuIHVzZUNoZWNrYm94KCd0b2dnbGUnLCBnZXRJbm5lcilcbiAgfVxufSlcbiIsImltcG9ydCB7IGgsIGNvbXB1dGVkLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCBRUmFkaW8gZnJvbSAnLi4vcmFkaW8vUVJhZGlvLmpzJ1xuaW1wb3J0IFFDaGVja2JveCBmcm9tICcuLi9jaGVja2JveC9RQ2hlY2tib3guanMnXG5pbXBvcnQgUVRvZ2dsZSBmcm9tICcuLi90b2dnbGUvUVRvZ2dsZS5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuXG5pbXBvcnQgdXNlRGFyaywgeyB1c2VEYXJrUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1kYXJrL3VzZS1kYXJrLmpzJ1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi8uLi91dGlscy9pcy9pcy5qcydcblxuY29uc3QgY29tcG9uZW50cyA9IHtcbiAgcmFkaW86IFFSYWRpbyxcbiAgY2hlY2tib3g6IFFDaGVja2JveCxcbiAgdG9nZ2xlOiBRVG9nZ2xlXG59XG5cbmNvbnN0IHR5cGVWYWx1ZXMgPSBPYmplY3Qua2V5cyhjb21wb25lbnRzKVxuXG5mdW5jdGlvbiBnZXRQcm9wVmFsdWVGbiAodXNlclByb3BOYW1lLCBkZWZhdWx0UHJvcE5hbWUpIHtcbiAgaWYgKHR5cGVvZiB1c2VyUHJvcE5hbWUgPT09ICdmdW5jdGlvbicpIHJldHVybiB1c2VyUHJvcE5hbWVcblxuICBjb25zdCBwcm9wTmFtZSA9IHVzZXJQcm9wTmFtZSAhPT0gdm9pZCAwXG4gICAgPyB1c2VyUHJvcE5hbWVcbiAgICA6IGRlZmF1bHRQcm9wTmFtZVxuXG4gIHJldHVybiBvcHQgPT4gb3B0WyBwcm9wTmFtZSBdXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRT3B0aW9uR3JvdXAnLFxuXG4gIHByb3BzOiB7XG4gICAgLi4udXNlRGFya1Byb3BzLFxuXG4gICAgbW9kZWxWYWx1ZToge1xuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgdmFsaWRhdG9yOiBvcHRzID0+IG9wdHMuZXZlcnkoaXNPYmplY3QpLFxuICAgICAgZGVmYXVsdDogKCkgPT4gW11cbiAgICB9LFxuXG4gICAgb3B0aW9uVmFsdWU6IFsgRnVuY3Rpb24sIFN0cmluZyBdLFxuICAgIG9wdGlvbkxhYmVsOiBbIEZ1bmN0aW9uLCBTdHJpbmcgXSxcbiAgICBvcHRpb25EaXNhYmxlOiBbIEZ1bmN0aW9uLCBTdHJpbmcgXSxcblxuICAgIG5hbWU6IFN0cmluZyxcblxuICAgIHR5cGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdyYWRpbycsXG4gICAgICB2YWxpZGF0b3I6IHYgPT4gdHlwZVZhbHVlcy5pbmNsdWRlcyh2KVxuICAgIH0sXG5cbiAgICBjb2xvcjogU3RyaW5nLFxuICAgIGtlZXBDb2xvcjogQm9vbGVhbixcbiAgICBkZW5zZTogQm9vbGVhbixcblxuICAgIHNpemU6IFN0cmluZyxcblxuICAgIGxlZnRMYWJlbDogQm9vbGVhbixcbiAgICBpbmxpbmU6IEJvb2xlYW4sXG4gICAgZGlzYWJsZTogQm9vbGVhblxuICB9LFxuXG4gIGVtaXRzOiBbICd1cGRhdGU6bW9kZWxWYWx1ZScgXSxcblxuICBzZXR1cCAocHJvcHMsIHsgZW1pdCwgc2xvdHMgfSkge1xuICAgIGNvbnN0IHsgcHJveHk6IHsgJHEgfSB9ID0gZ2V0Q3VycmVudEluc3RhbmNlKClcblxuICAgIGNvbnN0IGFycmF5TW9kZWwgPSBBcnJheS5pc0FycmF5KHByb3BzLm1vZGVsVmFsdWUpXG5cbiAgICBpZiAocHJvcHMudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgaWYgKGFycmF5TW9kZWwgPT09IHRydWUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcigncS1vcHRpb24tZ3JvdXA6IG1vZGVsIHNob3VsZCBub3QgYmUgYXJyYXknKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheU1vZGVsID09PSBmYWxzZSkge1xuICAgICAgY29uc29sZS5lcnJvcigncS1vcHRpb24tZ3JvdXA6IG1vZGVsIHNob3VsZCBiZSBhcnJheSBpbiB5b3VyIGNhc2UnKVxuICAgIH1cblxuICAgIGNvbnN0IGlzRGFyayA9IHVzZURhcmsocHJvcHMsICRxKVxuICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbXB1dGVkKCgpID0+IGNvbXBvbmVudHNbIHByb3BzLnR5cGUgXSlcblxuICAgIGNvbnN0IGdldE9wdGlvblZhbHVlID0gY29tcHV0ZWQoKCkgPT4gZ2V0UHJvcFZhbHVlRm4ocHJvcHMub3B0aW9uVmFsdWUsICd2YWx1ZScpKVxuICAgIGNvbnN0IGdldE9wdGlvbkxhYmVsID0gY29tcHV0ZWQoKCkgPT4gZ2V0UHJvcFZhbHVlRm4ocHJvcHMub3B0aW9uTGFiZWwsICdsYWJlbCcpKVxuICAgIGNvbnN0IGdldE9wdGlvbkRpc2FibGUgPSBjb21wdXRlZCgoKSA9PiBnZXRQcm9wVmFsdWVGbihwcm9wcy5vcHRpb25EaXNhYmxlLCAnZGlzYWJsZScpKVxuXG4gICAgY29uc3QgaW5uZXJPcHRpb25zID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMub3B0aW9ucy5tYXAob3B0ID0+ICh7XG4gICAgICB2YWw6IGdldE9wdGlvblZhbHVlLnZhbHVlKG9wdCksXG4gICAgICBuYW1lOiBvcHQubmFtZSA9PT0gdm9pZCAwID8gcHJvcHMubmFtZSA6IG9wdC5uYW1lLFxuICAgICAgZGlzYWJsZTogcHJvcHMuZGlzYWJsZSB8fCBnZXRPcHRpb25EaXNhYmxlLnZhbHVlKG9wdCksXG4gICAgICBsZWZ0TGFiZWw6IG9wdC5sZWZ0TGFiZWwgPT09IHZvaWQgMCA/IHByb3BzLmxlZnRMYWJlbCA6IG9wdC5sZWZ0TGFiZWwsXG4gICAgICBjb2xvcjogb3B0LmNvbG9yID09PSB2b2lkIDAgPyBwcm9wcy5jb2xvciA6IG9wdC5jb2xvcixcbiAgICAgIGNoZWNrZWRJY29uOiBvcHQuY2hlY2tlZEljb24sXG4gICAgICB1bmNoZWNrZWRJY29uOiBvcHQudW5jaGVja2VkSWNvbixcbiAgICAgIGRhcms6IG9wdC5kYXJrID09PSB2b2lkIDAgPyBpc0RhcmsudmFsdWUgOiBvcHQuZGFyayxcbiAgICAgIHNpemU6IG9wdC5zaXplID09PSB2b2lkIDAgPyBwcm9wcy5zaXplIDogb3B0LnNpemUsXG4gICAgICBkZW5zZTogcHJvcHMuZGVuc2UsXG4gICAgICBrZWVwQ29sb3I6IG9wdC5rZWVwQ29sb3IgPT09IHZvaWQgMCA/IHByb3BzLmtlZXBDb2xvciA6IG9wdC5rZWVwQ29sb3JcbiAgICB9KSkpXG5cbiAgICBjb25zdCBjbGFzc2VzID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgICdxLW9wdGlvbi1ncm91cCBxLWd1dHRlci14LXNtJ1xuICAgICAgKyAocHJvcHMuaW5saW5lID09PSB0cnVlID8gJyBxLW9wdGlvbi1ncm91cC0taW5saW5lJyA6ICcnKVxuICAgIClcblxuICAgIGNvbnN0IGF0dHJzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgY29uc3QgYXR0cnMgPSB7IHJvbGU6ICdncm91cCcgfVxuXG4gICAgICBpZiAocHJvcHMudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICBhdHRycy5yb2xlID0gJ3JhZGlvZ3JvdXAnXG5cbiAgICAgICAgaWYgKHByb3BzLmRpc2FibGUgPT09IHRydWUpIHtcbiAgICAgICAgICBhdHRyc1sgJ2FyaWEtZGlzYWJsZWQnIF0gPSAndHJ1ZSdcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXR0cnNcbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gb25VcGRhdGVNb2RlbFZhbHVlICh2YWx1ZSkge1xuICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCB2YWx1ZSlcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4gaCgnZGl2Jywge1xuICAgICAgY2xhc3M6IGNsYXNzZXMudmFsdWUsXG4gICAgICAuLi5hdHRycy52YWx1ZVxuICAgIH0sIHByb3BzLm9wdGlvbnMubWFwKChvcHQsIGkpID0+IHtcbiAgICAgIC8vIFRPRE86IChRdjMpIE1ha2UgdGhlICdvcHQnIGEgc2VwYXJhdGUgcHJvcGVydHkgaW5zdGVhZCBvZlxuICAgICAgLy8gdGhlIHdob2xlIHNjb3BlIGZvciBjb25zaXN0ZW5jeSBhbmQgZmxleGliaWxpdHlcbiAgICAgIC8vIChlLmcuIHsgb3B0IH0gaW5zdGVhZCBvZiBvcHQpXG4gICAgICBjb25zdCBjaGlsZCA9IHNsb3RzWyAnbGFiZWwtJyArIGkgXSAhPT0gdm9pZCAwXG4gICAgICAgID8gKCkgPT4gc2xvdHNbICdsYWJlbC0nICsgaSBdKG9wdClcbiAgICAgICAgOiAoXG4gICAgICAgICAgICBzbG90cy5sYWJlbCAhPT0gdm9pZCAwXG4gICAgICAgICAgICAgID8gKCkgPT4gc2xvdHMubGFiZWwob3B0KVxuICAgICAgICAgICAgICA6IHZvaWQgMFxuICAgICAgICAgIClcblxuICAgICAgcmV0dXJuIGgoJ2RpdicsIFtcbiAgICAgICAgaChjb21wb25lbnQudmFsdWUsIHtcbiAgICAgICAgICBsYWJlbDogY2hpbGQgPT09IHZvaWQgMCA/IGdldE9wdGlvbkxhYmVsLnZhbHVlKG9wdCkgOiBudWxsLFxuICAgICAgICAgIG1vZGVsVmFsdWU6IHByb3BzLm1vZGVsVmFsdWUsXG4gICAgICAgICAgJ29uVXBkYXRlOm1vZGVsVmFsdWUnOiBvblVwZGF0ZU1vZGVsVmFsdWUsXG4gICAgICAgICAgLi4uaW5uZXJPcHRpb25zLnZhbHVlWyBpIF1cbiAgICAgICAgfSwgY2hpbGQpXG4gICAgICBdKVxuICAgIH0pKVxuICB9XG59KVxuIiwiaW1wb3J0IHsgaCwgcmVmLCBjb21wdXRlZCwgd2F0Y2gsIHRvUmF3LCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCBRRGlhbG9nIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvZGlhbG9nL1FEaWFsb2cuanMnXG5pbXBvcnQgUUJ0biBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2J0bi9RQnRuLmpzJ1xuXG5pbXBvcnQgUUNhcmQgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jYXJkL1FDYXJkLmpzJ1xuaW1wb3J0IFFDYXJkU2VjdGlvbiBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NhcmQvUUNhcmRTZWN0aW9uLmpzJ1xuaW1wb3J0IFFDYXJkQWN0aW9ucyBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2NhcmQvUUNhcmRBY3Rpb25zLmpzJ1xuaW1wb3J0IFFTZXBhcmF0b3IgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9zZXBhcmF0b3IvUVNlcGFyYXRvci5qcydcblxuaW1wb3J0IFFJbnB1dCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2lucHV0L1FJbnB1dC5qcydcbmltcG9ydCBRT3B0aW9uR3JvdXAgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9vcHRpb24tZ3JvdXAvUU9wdGlvbkdyb3VwLmpzJ1xuXG5pbXBvcnQgUVNwaW5uZXIgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9zcGlubmVyL1FTcGlubmVyLmpzJ1xuXG5pbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9wcml2YXRlLmNyZWF0ZS9jcmVhdGUuanMnXG5pbXBvcnQgdXNlRGFyaywgeyB1c2VEYXJrUHJvcHMgfSBmcm9tICcuLi8uLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlLnVzZS1kYXJrL3VzZS1kYXJrLmpzJ1xuXG5pbXBvcnQgeyBpc0tleUNvZGUgfSBmcm9tICcuLi8uLi8uLi91dGlscy9wcml2YXRlLmtleWJvYXJkL2tleS1jb21wb3NpdGlvbi5qcydcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaXMvaXMuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdEaWFsb2dQbHVnaW5Db21wb25lbnQnLFxuXG4gIHByb3BzOiB7XG4gICAgLi4udXNlRGFya1Byb3BzLFxuXG4gICAgdGl0bGU6IFN0cmluZyxcbiAgICBtZXNzYWdlOiBTdHJpbmcsXG4gICAgcHJvbXB0OiBPYmplY3QsXG4gICAgb3B0aW9uczogT2JqZWN0LFxuICAgIHByb2dyZXNzOiBbIEJvb2xlYW4sIE9iamVjdCBdLFxuXG4gICAgaHRtbDogQm9vbGVhbixcblxuICAgIG9rOiB7XG4gICAgICB0eXBlOiBbIFN0cmluZywgT2JqZWN0LCBCb29sZWFuIF0sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBjYW5jZWw6IFsgU3RyaW5nLCBPYmplY3QsIEJvb2xlYW4gXSxcbiAgICBmb2N1czoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ29rJyxcbiAgICAgIHZhbGlkYXRvcjogdiA9PiBbICdvaycsICdjYW5jZWwnLCAnbm9uZScgXS5pbmNsdWRlcyh2KVxuICAgIH0sXG5cbiAgICBzdGFja0J1dHRvbnM6IEJvb2xlYW4sXG4gICAgY29sb3I6IFN0cmluZyxcblxuICAgIGNhcmRDbGFzczogWyBTdHJpbmcsIEFycmF5LCBPYmplY3QgXSxcbiAgICBjYXJkU3R5bGU6IFsgU3RyaW5nLCBBcnJheSwgT2JqZWN0IF1cbiAgfSxcblxuICBlbWl0czogWyAnb2snLCAnaGlkZScgXSxcblxuICBzZXR1cCAocHJvcHMsIHsgZW1pdCB9KSB7XG4gICAgY29uc3QgeyBwcm94eSB9ID0gZ2V0Q3VycmVudEluc3RhbmNlKClcbiAgICBjb25zdCB7ICRxIH0gPSBwcm94eVxuXG4gICAgY29uc3QgaXNEYXJrID0gdXNlRGFyayhwcm9wcywgJHEpXG5cbiAgICBjb25zdCBkaWFsb2dSZWYgPSByZWYobnVsbClcblxuICAgIGNvbnN0IG1vZGVsID0gcmVmKFxuICAgICAgcHJvcHMucHJvbXB0ICE9PSB2b2lkIDBcbiAgICAgICAgPyBwcm9wcy5wcm9tcHQubW9kZWxcbiAgICAgICAgOiAocHJvcHMub3B0aW9ucyAhPT0gdm9pZCAwID8gcHJvcHMub3B0aW9ucy5tb2RlbCA6IHZvaWQgMClcbiAgICApXG5cbiAgICBjb25zdCBjbGFzc2VzID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgICdxLWRpYWxvZy1wbHVnaW4nXG4gICAgICArIChpc0RhcmsudmFsdWUgPT09IHRydWUgPyAnIHEtZGlhbG9nLXBsdWdpbi0tZGFyayBxLWRhcmsnIDogJycpXG4gICAgICArIChwcm9wcy5wcm9ncmVzcyAhPT0gZmFsc2UgPyAnIHEtZGlhbG9nLXBsdWdpbi0tcHJvZ3Jlc3MnIDogJycpXG4gICAgKVxuXG4gICAgY29uc3Qgdm1Db2xvciA9IGNvbXB1dGVkKCgpID0+XG4gICAgICBwcm9wcy5jb2xvciB8fCAoaXNEYXJrLnZhbHVlID09PSB0cnVlID8gJ2FtYmVyJyA6ICdwcmltYXJ5JylcbiAgICApXG5cbiAgICBjb25zdCBzcGlubmVyID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgcHJvcHMucHJvZ3Jlc3MgPT09IGZhbHNlXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IChcbiAgICAgICAgICAgIGlzT2JqZWN0KHByb3BzLnByb2dyZXNzKSA9PT0gdHJ1ZVxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogcHJvcHMucHJvZ3Jlc3Muc3Bpbm5lciB8fCBRU3Bpbm5lcixcbiAgICAgICAgICAgICAgICAgIHByb3BzOiB7IGNvbG9yOiBwcm9wcy5wcm9ncmVzcy5jb2xvciB8fCB2bUNvbG9yLnZhbHVlIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBRU3Bpbm5lcixcbiAgICAgICAgICAgICAgICAgIHByb3BzOiB7IGNvbG9yOiB2bUNvbG9yLnZhbHVlIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICkpXG5cbiAgICBjb25zdCBoYXNGb3JtID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgIHByb3BzLnByb21wdCAhPT0gdm9pZCAwIHx8IHByb3BzLm9wdGlvbnMgIT09IHZvaWQgMFxuICAgIClcblxuICAgIGNvbnN0IGZvcm1Qcm9wcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChoYXNGb3JtLnZhbHVlICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB7fVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IG1vZGVsLCBpc1ZhbGlkLCBpdGVtcywgLi4uZm9ybVByb3BzIH0gPSBwcm9wcy5wcm9tcHQgIT09IHZvaWQgMFxuICAgICAgICA/IHByb3BzLnByb21wdFxuICAgICAgICA6IHByb3BzLm9wdGlvbnNcblxuICAgICAgcmV0dXJuIGZvcm1Qcm9wc1xuICAgIH0pXG5cbiAgICBjb25zdCBva0xhYmVsID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgaXNPYmplY3QocHJvcHMub2spID09PSB0cnVlXG4gICAgICAgID8gJHEubGFuZy5sYWJlbC5va1xuICAgICAgICA6IChcbiAgICAgICAgICAgIHByb3BzLm9rID09PSB0cnVlXG4gICAgICAgICAgICAgID8gJHEubGFuZy5sYWJlbC5va1xuICAgICAgICAgICAgICA6IHByb3BzLm9rXG4gICAgICAgICAgKVxuICAgICkpXG5cbiAgICBjb25zdCBjYW5jZWxMYWJlbCA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIGlzT2JqZWN0KHByb3BzLmNhbmNlbCkgPT09IHRydWVcbiAgICAgICAgPyAkcS5sYW5nLmxhYmVsLmNhbmNlbFxuICAgICAgICA6IChcbiAgICAgICAgICAgIHByb3BzLmNhbmNlbCA9PT0gdHJ1ZVxuICAgICAgICAgICAgICA/ICRxLmxhbmcubGFiZWwuY2FuY2VsXG4gICAgICAgICAgICAgIDogcHJvcHMuY2FuY2VsXG4gICAgICAgICAgKVxuICAgICkpXG5cbiAgICBjb25zdCBva0Rpc2FibGVkID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKHByb3BzLnByb21wdCAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy5wcm9tcHQuaXNWYWxpZCAhPT0gdm9pZCAwXG4gICAgICAgICAgJiYgcHJvcHMucHJvbXB0LmlzVmFsaWQobW9kZWwudmFsdWUpICE9PSB0cnVlXG4gICAgICB9XG4gICAgICBpZiAocHJvcHMub3B0aW9ucyAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy5vcHRpb25zLmlzVmFsaWQgIT09IHZvaWQgMFxuICAgICAgICAgICYmIHByb3BzLm9wdGlvbnMuaXNWYWxpZChtb2RlbC52YWx1ZSkgIT09IHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pXG5cbiAgICBjb25zdCBva1Byb3BzID0gY29tcHV0ZWQoKCkgPT4gKHtcbiAgICAgIGNvbG9yOiB2bUNvbG9yLnZhbHVlLFxuICAgICAgbGFiZWw6IG9rTGFiZWwudmFsdWUsXG4gICAgICByaXBwbGU6IGZhbHNlLFxuICAgICAgZGlzYWJsZTogb2tEaXNhYmxlZC52YWx1ZSxcbiAgICAgIC4uLihpc09iamVjdChwcm9wcy5vaykgPT09IHRydWUgPyBwcm9wcy5vayA6IHsgZmxhdDogdHJ1ZSB9KSxcbiAgICAgICdkYXRhLWF1dG9mb2N1cyc6IChwcm9wcy5mb2N1cyA9PT0gJ29rJyAmJiBoYXNGb3JtLnZhbHVlICE9PSB0cnVlKSB8fCB2b2lkIDAsXG4gICAgICBvbkNsaWNrOiBvbk9rXG4gICAgfSkpXG5cbiAgICBjb25zdCBjYW5jZWxQcm9wcyA9IGNvbXB1dGVkKCgpID0+ICh7XG4gICAgICBjb2xvcjogdm1Db2xvci52YWx1ZSxcbiAgICAgIGxhYmVsOiBjYW5jZWxMYWJlbC52YWx1ZSxcbiAgICAgIHJpcHBsZTogZmFsc2UsXG4gICAgICAuLi4oaXNPYmplY3QocHJvcHMuY2FuY2VsKSA9PT0gdHJ1ZSA/IHByb3BzLmNhbmNlbCA6IHsgZmxhdDogdHJ1ZSB9KSxcbiAgICAgICdkYXRhLWF1dG9mb2N1cyc6IChwcm9wcy5mb2N1cyA9PT0gJ2NhbmNlbCcgJiYgaGFzRm9ybS52YWx1ZSAhPT0gdHJ1ZSkgfHwgdm9pZCAwLFxuICAgICAgb25DbGljazogb25DYW5jZWxcbiAgICB9KSlcblxuICAgIHdhdGNoKCgpID0+IHByb3BzLnByb21wdCAmJiBwcm9wcy5wcm9tcHQubW9kZWwsIG9uVXBkYXRlTW9kZWwpXG4gICAgd2F0Y2goKCkgPT4gcHJvcHMub3B0aW9ucyAmJiBwcm9wcy5vcHRpb25zLm1vZGVsLCBvblVwZGF0ZU1vZGVsKVxuXG4gICAgZnVuY3Rpb24gc2hvdyAoKSB7XG4gICAgICBkaWFsb2dSZWYudmFsdWUuc2hvdygpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZSAoKSB7XG4gICAgICBkaWFsb2dSZWYudmFsdWUuaGlkZSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25PayAoKSB7XG4gICAgICBlbWl0KCdvaycsIHRvUmF3KG1vZGVsLnZhbHVlKSlcbiAgICAgIGhpZGUoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQ2FuY2VsICgpIHtcbiAgICAgIGhpZGUoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRGlhbG9nSGlkZSAoKSB7XG4gICAgICBlbWl0KCdoaWRlJylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblVwZGF0ZU1vZGVsICh2YWwpIHtcbiAgICAgIG1vZGVsLnZhbHVlID0gdmFsXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25JbnB1dEtleXVwIChldnQpIHtcbiAgICAgIC8vIGlmIEVOVEVSIGtleVxuICAgICAgaWYgKFxuICAgICAgICBva0Rpc2FibGVkLnZhbHVlICE9PSB0cnVlXG4gICAgICAgICYmIHByb3BzLnByb21wdC50eXBlICE9PSAndGV4dGFyZWEnXG4gICAgICAgICYmIGlzS2V5Q29kZShldnQsIDEzKSA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIG9uT2soKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNlY3Rpb24gKGNsYXNzZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiBwcm9wcy5odG1sID09PSB0cnVlXG4gICAgICAgID8gaChRQ2FyZFNlY3Rpb24sIHtcbiAgICAgICAgICBjbGFzczogY2xhc3NlcyxcbiAgICAgICAgICBpbm5lckhUTUw6IHRleHRcbiAgICAgICAgfSlcbiAgICAgICAgOiBoKFFDYXJkU2VjdGlvbiwgeyBjbGFzczogY2xhc3NlcyB9LCAoKSA9PiB0ZXh0KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFByb21wdCAoKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBoKFFJbnB1dCwge1xuICAgICAgICAgIGNvbG9yOiB2bUNvbG9yLnZhbHVlLFxuICAgICAgICAgIGRlbnNlOiB0cnVlLFxuICAgICAgICAgIGF1dG9mb2N1czogdHJ1ZSxcbiAgICAgICAgICBkYXJrOiBpc0RhcmsudmFsdWUsXG4gICAgICAgICAgLi4uZm9ybVByb3BzLnZhbHVlLFxuICAgICAgICAgIG1vZGVsVmFsdWU6IG1vZGVsLnZhbHVlLFxuICAgICAgICAgICdvblVwZGF0ZTptb2RlbFZhbHVlJzogb25VcGRhdGVNb2RlbCxcbiAgICAgICAgICBvbktleXVwOiBvbklucHV0S2V5dXBcbiAgICAgICAgfSlcbiAgICAgIF1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRPcHRpb25zICgpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIGgoUU9wdGlvbkdyb3VwLCB7XG4gICAgICAgICAgY29sb3I6IHZtQ29sb3IudmFsdWUsXG4gICAgICAgICAgb3B0aW9uczogcHJvcHMub3B0aW9ucy5pdGVtcyxcbiAgICAgICAgICBkYXJrOiBpc0RhcmsudmFsdWUsXG4gICAgICAgICAgLi4uZm9ybVByb3BzLnZhbHVlLFxuICAgICAgICAgIG1vZGVsVmFsdWU6IG1vZGVsLnZhbHVlLFxuICAgICAgICAgICdvblVwZGF0ZTptb2RlbFZhbHVlJzogb25VcGRhdGVNb2RlbFxuICAgICAgICB9KVxuICAgICAgXVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEJ1dHRvbnMgKCkge1xuICAgICAgY29uc3QgY2hpbGQgPSBbXVxuXG4gICAgICBwcm9wcy5jYW5jZWwgJiYgY2hpbGQucHVzaChcbiAgICAgICAgaChRQnRuLCBjYW5jZWxQcm9wcy52YWx1ZSlcbiAgICAgIClcblxuICAgICAgcHJvcHMub2sgJiYgY2hpbGQucHVzaChcbiAgICAgICAgaChRQnRuLCBva1Byb3BzLnZhbHVlKVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaChRQ2FyZEFjdGlvbnMsIHtcbiAgICAgICAgY2xhc3M6IHByb3BzLnN0YWNrQnV0dG9ucyA9PT0gdHJ1ZSA/ICdpdGVtcy1lbmQnIDogJycsXG4gICAgICAgIHZlcnRpY2FsOiBwcm9wcy5zdGFja0J1dHRvbnMsXG4gICAgICAgIGFsaWduOiAncmlnaHQnXG4gICAgICB9LCAoKSA9PiBjaGlsZClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDYXJkQ29udGVudCAoKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IFtdXG5cbiAgICAgIHByb3BzLnRpdGxlICYmIGNoaWxkLnB1c2goXG4gICAgICAgIGdldFNlY3Rpb24oJ3EtZGlhbG9nX190aXRsZScsIHByb3BzLnRpdGxlKVxuICAgICAgKVxuXG4gICAgICBwcm9wcy5wcm9ncmVzcyAhPT0gZmFsc2UgJiYgY2hpbGQucHVzaChcbiAgICAgICAgaChcbiAgICAgICAgICBRQ2FyZFNlY3Rpb24sXG4gICAgICAgICAgeyBjbGFzczogJ3EtZGlhbG9nX19wcm9ncmVzcycgfSxcbiAgICAgICAgICAoKSA9PiBoKHNwaW5uZXIudmFsdWUuY29tcG9uZW50LCBzcGlubmVyLnZhbHVlLnByb3BzKVxuICAgICAgICApXG4gICAgICApXG5cbiAgICAgIHByb3BzLm1lc3NhZ2UgJiYgY2hpbGQucHVzaChcbiAgICAgICAgZ2V0U2VjdGlvbigncS1kaWFsb2dfX21lc3NhZ2UnLCBwcm9wcy5tZXNzYWdlKVxuICAgICAgKVxuXG4gICAgICBpZiAocHJvcHMucHJvbXB0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgY2hpbGQucHVzaChcbiAgICAgICAgICBoKFxuICAgICAgICAgICAgUUNhcmRTZWN0aW9uLFxuICAgICAgICAgICAgeyBjbGFzczogJ3Njcm9sbCBxLWRpYWxvZy1wbHVnaW5fX2Zvcm0nIH0sXG4gICAgICAgICAgICBnZXRQcm9tcHRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHByb3BzLm9wdGlvbnMgIT09IHZvaWQgMCkge1xuICAgICAgICBjaGlsZC5wdXNoKFxuICAgICAgICAgIGgoUVNlcGFyYXRvciwgeyBkYXJrOiBpc0RhcmsudmFsdWUgfSksXG4gICAgICAgICAgaChcbiAgICAgICAgICAgIFFDYXJkU2VjdGlvbixcbiAgICAgICAgICAgIHsgY2xhc3M6ICdzY3JvbGwgcS1kaWFsb2ctcGx1Z2luX19mb3JtJyB9LFxuICAgICAgICAgICAgZ2V0T3B0aW9uc1xuICAgICAgICAgICksXG4gICAgICAgICAgaChRU2VwYXJhdG9yLCB7IGRhcms6IGlzRGFyay52YWx1ZSB9KVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5vayB8fCBwcm9wcy5jYW5jZWwpIHtcbiAgICAgICAgY2hpbGQucHVzaChnZXRCdXR0b25zKCkpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGlsZFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENvbnRlbnQgKCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgaChRQ2FyZCwge1xuICAgICAgICAgIGNsYXNzOiBbXG4gICAgICAgICAgICBjbGFzc2VzLnZhbHVlLFxuICAgICAgICAgICAgcHJvcHMuY2FyZENsYXNzXG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdHlsZTogcHJvcHMuY2FyZFN0eWxlLFxuICAgICAgICAgIGRhcms6IGlzRGFyay52YWx1ZVxuICAgICAgICB9LCBnZXRDYXJkQ29udGVudClcbiAgICAgIF1cbiAgICB9XG5cbiAgICAvLyBleHBvc2UgcHVibGljIG1ldGhvZHNcbiAgICBPYmplY3QuYXNzaWduKHByb3h5LCB7IHNob3csIGhpZGUgfSlcblxuICAgIHJldHVybiAoKSA9PiBoKFFEaWFsb2csIHtcbiAgICAgIHJlZjogZGlhbG9nUmVmLFxuICAgICAgb25IaWRlOiBvbkRpYWxvZ0hpZGVcbiAgICB9LCBnZXRDb250ZW50KVxuICB9XG59KVxuIiwiaW1wb3J0IHsgaCwgcmVmLCBuZXh0VGljayB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IHsgY3JlYXRlQ2hpbGRBcHAgfSBmcm9tICcuLi8uLi9pbnN0YWxsLXF1YXNhci5qcydcbmltcG9ydCB7IGNyZWF0ZUdsb2JhbE5vZGUsIHJlbW92ZUdsb2JhbE5vZGUgfSBmcm9tICcuLi9wcml2YXRlLmNvbmZpZy9ub2Rlcy5qcydcblxuY29uc3Qgc3NyQVBJID0ge1xuICBvbk9rOiAoKSA9PiBzc3JBUEksXG4gIG9uQ2FuY2VsOiAoKSA9PiBzc3JBUEksXG4gIG9uRGlzbWlzczogKCkgPT4gc3NyQVBJLFxuICBoaWRlOiAoKSA9PiBzc3JBUEksXG4gIHVwZGF0ZTogKCkgPT4gc3NyQVBJXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSAodGFyZ2V0LCBzb3VyY2UpIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgaWYgKGtleSAhPT0gJ3NwaW5uZXInICYmIE9iamVjdChzb3VyY2VbIGtleSBdKSA9PT0gc291cmNlWyBrZXkgXSkge1xuICAgICAgdGFyZ2V0WyBrZXkgXSA9IE9iamVjdCh0YXJnZXRbIGtleSBdKSAhPT0gdGFyZ2V0WyBrZXkgXVxuICAgICAgICA/IHt9XG4gICAgICAgIDogeyAuLi50YXJnZXRbIGtleSBdIH1cblxuICAgICAgbWVyZ2UodGFyZ2V0WyBrZXkgXSwgc291cmNlWyBrZXkgXSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0YXJnZXRbIGtleSBdID0gc291cmNlWyBrZXkgXVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoRGVmYXVsdENvbXBvbmVudCwgc3VwcG9ydHNDdXN0b21Db21wb25lbnQsIHBhcmVudEFwcCkge1xuICByZXR1cm4gcGx1Z2luUHJvcHMgPT4ge1xuICAgIGlmIChfX1FVQVNBUl9TU1JfU0VSVkVSX18pIHsgcmV0dXJuIHNzckFQSSB9XG5cbiAgICBsZXQgRGlhbG9nQ29tcG9uZW50LCBwcm9wc1xuICAgIGNvbnN0IGlzQ3VzdG9tID0gc3VwcG9ydHNDdXN0b21Db21wb25lbnQgPT09IHRydWVcbiAgICAgICYmIHBsdWdpblByb3BzLmNvbXBvbmVudCAhPT0gdm9pZCAwXG5cbiAgICBpZiAoaXNDdXN0b20gPT09IHRydWUpIHtcbiAgICAgIGNvbnN0IHsgY29tcG9uZW50LCBjb21wb25lbnRQcm9wcyB9ID0gcGx1Z2luUHJvcHNcblxuICAgICAgRGlhbG9nQ29tcG9uZW50ID0gKHR5cGVvZiBjb21wb25lbnQgPT09ICdzdHJpbmcnKVxuICAgICAgICA/IHBhcmVudEFwcC5jb21wb25lbnQoY29tcG9uZW50KVxuICAgICAgICA6IGNvbXBvbmVudFxuXG4gICAgICBwcm9wcyA9IGNvbXBvbmVudFByb3BzIHx8IHt9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgeyBjbGFzczoga2xhc3MsIHN0eWxlLCAuLi5vdGhlclByb3BzIH0gPSBwbHVnaW5Qcm9wc1xuXG4gICAgICBEaWFsb2dDb21wb25lbnQgPSBEZWZhdWx0Q29tcG9uZW50XG4gICAgICBwcm9wcyA9IG90aGVyUHJvcHNcbiAgICAgIGtsYXNzICE9PSB2b2lkIDAgJiYgKG90aGVyUHJvcHMuY2FyZENsYXNzID0ga2xhc3MpXG4gICAgICBzdHlsZSAhPT0gdm9pZCAwICYmIChvdGhlclByb3BzLmNhcmRTdHlsZSA9IHN0eWxlKVxuICAgIH1cblxuICAgIGxldCB2bSwgZW1pdHRlZE9LID0gZmFsc2VcbiAgICBjb25zdCBkaWFsb2dSZWYgPSByZWYobnVsbClcbiAgICBjb25zdCBlbCA9IGNyZWF0ZUdsb2JhbE5vZGUoZmFsc2UsICdkaWFsb2cnKVxuXG4gICAgY29uc3QgYXBwbHlTdGF0ZSA9IGNtZCA9PiB7XG4gICAgICBpZiAoZGlhbG9nUmVmLnZhbHVlPy5bIGNtZCBdICE9PSB2b2lkIDApIHtcbiAgICAgICAgZGlhbG9nUmVmLnZhbHVlWyBjbWQgXSgpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXQgPSB2bS4kLnN1YlRyZWVcblxuICAgICAgaWYgKHRhcmdldD8uY29tcG9uZW50KSB7XG4gICAgICAgIC8vIGFjY291bnQgZm9yIFwic2NyaXB0IHNldHVwXCIgd2F5IG9mIGRlY2xhcmluZyBjb21wb25lbnRcbiAgICAgICAgaWYgKHRhcmdldC5jb21wb25lbnQucHJveHkgJiYgdGFyZ2V0LmNvbXBvbmVudC5wcm94eVsgY21kIF0pIHtcbiAgICAgICAgICB0YXJnZXQuY29tcG9uZW50LnByb3h5WyBjbWQgXSgpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBhY2NvdW50IGZvciBcInNjcmlwdCBzZXR1cFwiICsgYXN5bmMgY29tcG9uZW50IHdheSBvZiBkZWNsYXJpbmcgY29tcG9uZW50XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0YXJnZXQuY29tcG9uZW50LnN1YlRyZWVcbiAgICAgICAgICAmJiB0YXJnZXQuY29tcG9uZW50LnN1YlRyZWUuY29tcG9uZW50XG4gICAgICAgICAgJiYgdGFyZ2V0LmNvbXBvbmVudC5zdWJUcmVlLmNvbXBvbmVudC5wcm94eVxuICAgICAgICAgICYmIHRhcmdldC5jb21wb25lbnQuc3ViVHJlZS5jb21wb25lbnQucHJveHlbIGNtZCBdXG4gICAgICAgICkge1xuICAgICAgICAgIHRhcmdldC5jb21wb25lbnQuc3ViVHJlZS5jb21wb25lbnQucHJveHlbIGNtZCBdKClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmVycm9yKCdbUXVhc2FyXSBJbmNvcnJlY3RseSBkZWZpbmVkIERpYWxvZyBjb21wb25lbnQnKVxuICAgIH1cblxuICAgIGNvbnN0XG4gICAgICBva0ZucyA9IFtdLFxuICAgICAgY2FuY2VsRm5zID0gW10sXG4gICAgICBBUEkgPSB7XG4gICAgICAgIG9uT2sgKGZuKSB7XG4gICAgICAgICAgb2tGbnMucHVzaChmbilcbiAgICAgICAgICByZXR1cm4gQVBJXG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FuY2VsIChmbikge1xuICAgICAgICAgIGNhbmNlbEZucy5wdXNoKGZuKVxuICAgICAgICAgIHJldHVybiBBUElcbiAgICAgICAgfSxcbiAgICAgICAgb25EaXNtaXNzIChmbikge1xuICAgICAgICAgIG9rRm5zLnB1c2goZm4pXG4gICAgICAgICAgY2FuY2VsRm5zLnB1c2goZm4pXG4gICAgICAgICAgcmV0dXJuIEFQSVxuICAgICAgICB9LFxuICAgICAgICBoaWRlICgpIHtcbiAgICAgICAgICBhcHBseVN0YXRlKCdoaWRlJylcbiAgICAgICAgICByZXR1cm4gQVBJXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZSAoY29tcG9uZW50UHJvcHMpIHtcbiAgICAgICAgICBpZiAodm0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChpc0N1c3RvbSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHByb3BzLCBjb21wb25lbnRQcm9wcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCB7IGNsYXNzOiBrbGFzcywgc3R5bGUsIC4uLmNmZyB9ID0gY29tcG9uZW50UHJvcHNcblxuICAgICAgICAgICAgICBrbGFzcyAhPT0gdm9pZCAwICYmIChjZmcuY2FyZENsYXNzID0ga2xhc3MpXG4gICAgICAgICAgICAgIHN0eWxlICE9PSB2b2lkIDAgJiYgKGNmZy5jYXJkU3R5bGUgPSBzdHlsZSlcbiAgICAgICAgICAgICAgbWVyZ2UocHJvcHMsIGNmZylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdm0uJGZvcmNlVXBkYXRlKClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gQVBJXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIGNvbnN0IG9uT2sgPSBkYXRhID0+IHtcbiAgICAgIGVtaXR0ZWRPSyA9IHRydWVcbiAgICAgIG9rRm5zLmZvckVhY2goZm4gPT4geyBmbihkYXRhKSB9KVxuICAgIH1cblxuICAgIGNvbnN0IG9uSGlkZSA9ICgpID0+IHtcbiAgICAgIGFwcC51bm1vdW50KGVsKVxuICAgICAgcmVtb3ZlR2xvYmFsTm9kZShlbClcbiAgICAgIGFwcCA9IG51bGxcbiAgICAgIHZtID0gbnVsbFxuXG4gICAgICBpZiAoZW1pdHRlZE9LICE9PSB0cnVlKSB7XG4gICAgICAgIGNhbmNlbEZucy5mb3JFYWNoKGZuID0+IHsgZm4oKSB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBhcHAgPSBjcmVhdGVDaGlsZEFwcCh7XG4gICAgICBuYW1lOiAnUUdsb2JhbERpYWxvZycsXG4gICAgICBzZXR1cDogKCkgPT4gKCkgPT4gaChEaWFsb2dDb21wb25lbnQsIHtcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIHJlZjogZGlhbG9nUmVmLFxuICAgICAgICBvbk9rLFxuICAgICAgICBvbkhpZGUsXG4gICAgICAgIG9uVm5vZGVNb3VudGVkICguLi5hcmdzKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwcm9wcy5vblZub2RlTW91bnRlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcHJvcHMub25Wbm9kZU1vdW50ZWQoLi4uYXJncylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0VGljaygoKSA9PiBhcHBseVN0YXRlKCdzaG93JykpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSwgcGFyZW50QXBwKVxuXG4gICAgdm0gPSBhcHAubW91bnQoZWwpXG5cbiAgICByZXR1cm4gQVBJXG4gIH1cbn1cbiIsImltcG9ydCBEaWFsb2dQbHVnaW4gZnJvbSAnLi9jb21wb25lbnQvRGlhbG9nUGx1Z2luQ29tcG9uZW50LmpzJ1xuaW1wb3J0IGdsb2JhbERpYWxvZyBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlLmRpYWxvZy9jcmVhdGUtZGlhbG9nLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluc3RhbGwgKHsgJHEsIHBhcmVudEFwcCB9KSB7XG4gICAgJHEuZGlhbG9nID0gdGhpcy5jcmVhdGUgPSBnbG9iYWxEaWFsb2coRGlhbG9nUGx1Z2luLCB0cnVlLCBwYXJlbnRBcHApXG4gIH1cbn1cbiIsImltcG9ydCB7IGgsIGNvbXB1dGVkIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgUUljb24gZnJvbSAnLi4vaWNvbi9RSWNvbi5qcydcblxuaW1wb3J0IHVzZVNpemUsIHsgdXNlU2l6ZVByb3BzIH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS51c2Utc2l6ZS91c2Utc2l6ZS5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IHsgaE1lcmdlU2xvdFNhZmVseSB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUucmVuZGVyL3JlbmRlci5qcydcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KHtcbiAgbmFtZTogJ1FBdmF0YXInLFxuXG4gIHByb3BzOiB7XG4gICAgLi4udXNlU2l6ZVByb3BzLFxuXG4gICAgZm9udFNpemU6IFN0cmluZyxcblxuICAgIGNvbG9yOiBTdHJpbmcsXG4gICAgdGV4dENvbG9yOiBTdHJpbmcsXG5cbiAgICBpY29uOiBTdHJpbmcsXG4gICAgc3F1YXJlOiBCb29sZWFuLFxuICAgIHJvdW5kZWQ6IEJvb2xlYW5cbiAgfSxcblxuICBzZXR1cCAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IHNpemVTdHlsZSA9IHVzZVNpemUocHJvcHMpXG5cbiAgICBjb25zdCBjbGFzc2VzID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgICdxLWF2YXRhcidcbiAgICAgICsgKHByb3BzLmNvbG9yID8gYCBiZy0keyBwcm9wcy5jb2xvciB9YCA6ICcnKVxuICAgICAgKyAocHJvcHMudGV4dENvbG9yID8gYCB0ZXh0LSR7IHByb3BzLnRleHRDb2xvciB9IHEtY2hpcC0tY29sb3JlZGAgOiAnJylcbiAgICAgICsgKFxuICAgICAgICBwcm9wcy5zcXVhcmUgPT09IHRydWVcbiAgICAgICAgICA/ICcgcS1hdmF0YXItLXNxdWFyZSdcbiAgICAgICAgICA6IChwcm9wcy5yb3VuZGVkID09PSB0cnVlID8gJyByb3VuZGVkLWJvcmRlcnMnIDogJycpXG4gICAgICApXG4gICAgKVxuXG4gICAgY29uc3QgY29udGVudFN0eWxlID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgcHJvcHMuZm9udFNpemVcbiAgICAgICAgPyB7IGZvbnRTaXplOiBwcm9wcy5mb250U2l6ZSB9XG4gICAgICAgIDogbnVsbFxuICAgICkpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaWNvbiA9IHByb3BzLmljb24gIT09IHZvaWQgMFxuICAgICAgICA/IFsgaChRSWNvbiwgeyBuYW1lOiBwcm9wcy5pY29uIH0pIF1cbiAgICAgICAgOiB2b2lkIDBcblxuICAgICAgcmV0dXJuIGgoJ2RpdicsIHtcbiAgICAgICAgY2xhc3M6IGNsYXNzZXMudmFsdWUsXG4gICAgICAgIHN0eWxlOiBzaXplU3R5bGUudmFsdWVcbiAgICAgIH0sIFtcbiAgICAgICAgaCgnZGl2Jywge1xuICAgICAgICAgIGNsYXNzOiAncS1hdmF0YXJfX2NvbnRlbnQgcm93IGZsZXgtY2VudGVyIG92ZXJmbG93LWhpZGRlbicsXG4gICAgICAgICAgc3R5bGU6IGNvbnRlbnRTdHlsZS52YWx1ZVxuICAgICAgICB9LCBoTWVyZ2VTbG90U2FmZWx5KHNsb3RzLmRlZmF1bHQsIGljb24pKVxuICAgICAgXSlcbiAgICB9XG4gIH1cbn0pXG4iLCJpbXBvcnQgeyBoLCByZWYsIG1hcmtSYXcsIFRyYW5zaXRpb25Hcm91cCB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IFFBdmF0YXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9hdmF0YXIvUUF2YXRhci5qcydcbmltcG9ydCBRSWNvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL2ljb24vUUljb24uanMnXG5pbXBvcnQgUUJ0biBmcm9tICcuLi8uLi9jb21wb25lbnRzL2J0bi9RQnRuLmpzJ1xuaW1wb3J0IFFTcGlubmVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc3Bpbm5lci9RU3Bpbm5lci5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ2hpbGRBcHAgfSBmcm9tICcuLi8uLi9pbnN0YWxsLXF1YXNhci5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS5jcmVhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50L2V2ZW50LmpzJ1xuaW1wb3J0IHsgY3JlYXRlR2xvYmFsTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUuY29uZmlnL25vZGVzLmpzJ1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi8uLi91dGlscy9pcy9pcy5qcydcblxubGV0IHVpZCA9IDBcblxuY29uc3QgZGVmYXVsdHMgPSB7fVxuY29uc3QgZ3JvdXBzID0ge31cbmNvbnN0IG5vdGlmaWNhdGlvbnNMaXN0ID0ge31cbmNvbnN0IHBvc2l0aW9uQ2xhc3MgPSB7fVxuY29uc3QgZW1wdHlSRSA9IC9eXFxzKiQvXG5jb25zdCBub3RpZlJlZnMgPSBbXVxuY29uc3QgaW52YWxpZFRpbWVvdXRWYWx1ZXMgPSBbIHZvaWQgMCwgbnVsbCwgdHJ1ZSwgZmFsc2UsICcnIF1cblxuY29uc3QgcG9zaXRpb25MaXN0ID0gW1xuICAndG9wLWxlZnQnLCAndG9wLXJpZ2h0JyxcbiAgJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCcsXG4gICd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJ1xuXVxuXG5jb25zdCBiYWRnZVBvc2l0aW9ucyA9IFtcbiAgJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsXG4gICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnXG5dXG5cbmNvbnN0IG5vdGlmVHlwZXMgPSB7XG4gIHBvc2l0aXZlOiB7XG4gICAgaWNvbjogJHEgPT4gJHEuaWNvblNldC50eXBlLnBvc2l0aXZlLFxuICAgIGNvbG9yOiAncG9zaXRpdmUnXG4gIH0sXG5cbiAgbmVnYXRpdmU6IHtcbiAgICBpY29uOiAkcSA9PiAkcS5pY29uU2V0LnR5cGUubmVnYXRpdmUsXG4gICAgY29sb3I6ICduZWdhdGl2ZSdcbiAgfSxcblxuICB3YXJuaW5nOiB7XG4gICAgaWNvbjogJHEgPT4gJHEuaWNvblNldC50eXBlLndhcm5pbmcsXG4gICAgY29sb3I6ICd3YXJuaW5nJyxcbiAgICB0ZXh0Q29sb3I6ICdkYXJrJ1xuICB9LFxuXG4gIGluZm86IHtcbiAgICBpY29uOiAkcSA9PiAkcS5pY29uU2V0LnR5cGUuaW5mbyxcbiAgICBjb2xvcjogJ2luZm8nXG4gIH0sXG5cbiAgb25nb2luZzoge1xuICAgIGdyb3VwOiBmYWxzZSxcbiAgICB0aW1lb3V0OiAwLFxuICAgIHNwaW5uZXI6IHRydWUsXG4gICAgY29sb3I6ICdncmV5LTgnXG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkTm90aWZpY2F0aW9uIChjb25maWcsICRxLCBvcmlnaW5hbEFwaSkge1xuICBpZiAoIWNvbmZpZykge1xuICAgIHJldHVybiBsb2dFcnJvcigncGFyYW1ldGVyIHJlcXVpcmVkJylcbiAgfVxuXG4gIGxldCBBcGlcbiAgY29uc3Qgbm90aWYgPSB7IHRleHRDb2xvcjogJ3doaXRlJyB9XG5cbiAgaWYgKGNvbmZpZy5pZ25vcmVEZWZhdWx0cyAhPT0gdHJ1ZSkge1xuICAgIE9iamVjdC5hc3NpZ24obm90aWYsIGRlZmF1bHRzKVxuICB9XG5cbiAgaWYgKGlzT2JqZWN0KGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgaWYgKG5vdGlmLnR5cGUpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24obm90aWYsIG5vdGlmVHlwZXNbIG5vdGlmLnR5cGUgXSlcbiAgICB9XG5cbiAgICBjb25maWcgPSB7IG1lc3NhZ2U6IGNvbmZpZyB9XG4gIH1cblxuICBPYmplY3QuYXNzaWduKG5vdGlmLCBub3RpZlR5cGVzWyBjb25maWcudHlwZSB8fCBub3RpZi50eXBlIF0sIGNvbmZpZylcblxuICBpZiAodHlwZW9mIG5vdGlmLmljb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBub3RpZi5pY29uID0gbm90aWYuaWNvbigkcSlcbiAgfVxuXG4gIGlmICghbm90aWYuc3Bpbm5lcikge1xuICAgIG5vdGlmLnNwaW5uZXIgPSBmYWxzZVxuICB9XG4gIGVsc2Uge1xuICAgIGlmIChub3RpZi5zcGlubmVyID09PSB0cnVlKSB7XG4gICAgICBub3RpZi5zcGlubmVyID0gUVNwaW5uZXJcbiAgICB9XG5cbiAgICBub3RpZi5zcGlubmVyID0gbWFya1Jhdyhub3RpZi5zcGlubmVyKVxuICB9XG5cbiAgbm90aWYubWV0YSA9IHtcbiAgICBoYXNNZWRpYTogQm9vbGVhbihub3RpZi5zcGlubmVyICE9PSBmYWxzZSB8fCBub3RpZi5pY29uIHx8IG5vdGlmLmF2YXRhciksXG4gICAgaGFzVGV4dDogaGFzQ29udGVudChub3RpZi5tZXNzYWdlKSB8fCBoYXNDb250ZW50KG5vdGlmLmNhcHRpb24pXG4gIH1cblxuICBpZiAobm90aWYucG9zaXRpb24pIHtcbiAgICBpZiAocG9zaXRpb25MaXN0LmluY2x1ZGVzKG5vdGlmLnBvc2l0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBsb2dFcnJvcignd3JvbmcgcG9zaXRpb24nLCBjb25maWcpXG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIG5vdGlmLnBvc2l0aW9uID0gJ2JvdHRvbSdcbiAgfVxuXG4gIGlmIChpbnZhbGlkVGltZW91dFZhbHVlcy5pbmNsdWRlcyhub3RpZi50aW1lb3V0KSA9PT0gdHJ1ZSkge1xuICAgIG5vdGlmLnRpbWVvdXQgPSA1MDAwXG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc3QgdCA9IE51bWJlcihub3RpZi50aW1lb3V0KSAvLyB3ZSBjYXRjaCBleHBvbmVudGlhbCBub3RhdGlvbiB0b28gd2l0aCBOdW1iZXIoKSBjYXN0aW5nXG4gICAgaWYgKGlzTmFOKHQpIHx8IHQgPCAwKSB7XG4gICAgICByZXR1cm4gbG9nRXJyb3IoJ3dyb25nIHRpbWVvdXQnLCBjb25maWcpXG4gICAgfVxuICAgIG5vdGlmLnRpbWVvdXQgPSBOdW1iZXIuaXNGaW5pdGUodCkgPyB0IDogMFxuICB9XG5cbiAgaWYgKG5vdGlmLnRpbWVvdXQgPT09IDApIHtcbiAgICBub3RpZi5wcm9ncmVzcyA9IGZhbHNlXG4gIH1cbiAgZWxzZSBpZiAobm90aWYucHJvZ3Jlc3MgPT09IHRydWUpIHtcbiAgICBub3RpZi5tZXRhLnByb2dyZXNzQ2xhc3MgPSAncS1ub3RpZmljYXRpb25fX3Byb2dyZXNzJyArIChcbiAgICAgIG5vdGlmLnByb2dyZXNzQ2xhc3NcbiAgICAgICAgPyBgICR7IG5vdGlmLnByb2dyZXNzQ2xhc3MgfWBcbiAgICAgICAgOiAnJ1xuICAgIClcblxuICAgIG5vdGlmLm1ldGEucHJvZ3Jlc3NTdHlsZSA9IHtcbiAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBgJHsgbm90aWYudGltZW91dCArIDEwMDAgfW1zYFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFjdGlvbnMgPSAoXG4gICAgQXJyYXkuaXNBcnJheShjb25maWcuYWN0aW9ucykgPT09IHRydWVcbiAgICAgID8gY29uZmlnLmFjdGlvbnNcbiAgICAgIDogW11cbiAgKS5jb25jYXQoXG4gICAgY29uZmlnLmlnbm9yZURlZmF1bHRzICE9PSB0cnVlICYmIEFycmF5LmlzQXJyYXkoZGVmYXVsdHMuYWN0aW9ucykgPT09IHRydWVcbiAgICAgID8gZGVmYXVsdHMuYWN0aW9uc1xuICAgICAgOiBbXVxuICApLmNvbmNhdChcbiAgICBBcnJheS5pc0FycmF5KG5vdGlmVHlwZXNbIGNvbmZpZy50eXBlIF0/LmFjdGlvbnMpID09PSB0cnVlXG4gICAgICA/IG5vdGlmVHlwZXNbIGNvbmZpZy50eXBlIF0uYWN0aW9uc1xuICAgICAgOiBbXVxuICApXG5cbiAgY29uc3QgeyBjbG9zZUJ0biB9ID0gbm90aWZcbiAgY2xvc2VCdG4gJiYgYWN0aW9ucy5wdXNoKHtcbiAgICBsYWJlbDogdHlwZW9mIGNsb3NlQnRuID09PSAnc3RyaW5nJ1xuICAgICAgPyBjbG9zZUJ0blxuICAgICAgOiAkcS5sYW5nLmxhYmVsLmNsb3NlXG4gIH0pXG5cbiAgbm90aWYuYWN0aW9ucyA9IGFjdGlvbnMubWFwKCh7IGhhbmRsZXIsIG5vRGlzbWlzcywgLi4uaXRlbSB9KSA9PiAoe1xuICAgIGZsYXQ6IHRydWUsXG4gICAgLi4uaXRlbSxcbiAgICBvbkNsaWNrOiB0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgPyAoKSA9PiB7XG4gICAgICAgICAgaGFuZGxlcigpXG4gICAgICAgICAgbm9EaXNtaXNzICE9PSB0cnVlICYmIGRpc21pc3MoKVxuICAgICAgICB9XG4gICAgICA6ICgpID0+IHsgZGlzbWlzcygpIH1cbiAgfSkpXG5cbiAgaWYgKG5vdGlmLm11bHRpTGluZSA9PT0gdm9pZCAwKSB7XG4gICAgbm90aWYubXVsdGlMaW5lID0gbm90aWYuYWN0aW9ucy5sZW5ndGggPiAxXG4gIH1cblxuICBPYmplY3QuYXNzaWduKG5vdGlmLm1ldGEsIHtcbiAgICBjbGFzczogJ3Etbm90aWZpY2F0aW9uIHJvdyBpdGVtcy1zdHJldGNoJ1xuICAgICAgKyBgIHEtbm90aWZpY2F0aW9uLS0keyBub3RpZi5tdWx0aUxpbmUgPT09IHRydWUgPyAnbXVsdGktbGluZScgOiAnc3RhbmRhcmQnIH1gXG4gICAgICArIChub3RpZi5jb2xvciAhPT0gdm9pZCAwID8gYCBiZy0keyBub3RpZi5jb2xvciB9YCA6ICcnKVxuICAgICAgKyAobm90aWYudGV4dENvbG9yICE9PSB2b2lkIDAgPyBgIHRleHQtJHsgbm90aWYudGV4dENvbG9yIH1gIDogJycpXG4gICAgICArIChub3RpZi5jbGFzc2VzICE9PSB2b2lkIDAgPyBgICR7IG5vdGlmLmNsYXNzZXMgfWAgOiAnJyksXG5cbiAgICB3cmFwcGVyQ2xhc3M6ICdxLW5vdGlmaWNhdGlvbl9fd3JhcHBlciBjb2wgcmVsYXRpdmUtcG9zaXRpb24gYm9yZGVyLXJhZGl1cy1pbmhlcml0ICdcbiAgICAgICsgKG5vdGlmLm11bHRpTGluZSA9PT0gdHJ1ZSA/ICdjb2x1bW4gbm8td3JhcCBqdXN0aWZ5LWNlbnRlcicgOiAncm93IGl0ZW1zLWNlbnRlcicpLFxuXG4gICAgY29udGVudENsYXNzOiAncS1ub3RpZmljYXRpb25fX2NvbnRlbnQgcm93IGl0ZW1zLWNlbnRlcidcbiAgICAgICsgKG5vdGlmLm11bHRpTGluZSA9PT0gdHJ1ZSA/ICcnIDogJyBjb2wnKSxcblxuICAgIGxlZnRDbGFzczogbm90aWYubWV0YS5oYXNUZXh0ID09PSB0cnVlID8gJ2FkZGl0aW9uYWwnIDogJ3NpbmdsZScsXG5cbiAgICBhdHRyczoge1xuICAgICAgcm9sZTogJ2FsZXJ0JyxcbiAgICAgIC4uLm5vdGlmLmF0dHJzXG4gICAgfVxuICB9KVxuXG4gIGlmIChub3RpZi5ncm91cCA9PT0gZmFsc2UpIHtcbiAgICBub3RpZi5ncm91cCA9IHZvaWQgMFxuICAgIG5vdGlmLm1ldGEuZ3JvdXAgPSB2b2lkIDBcbiAgfVxuICBlbHNlIHtcbiAgICBpZiAobm90aWYuZ3JvdXAgPT09IHZvaWQgMCB8fCBub3RpZi5ncm91cCA9PT0gdHJ1ZSkge1xuICAgICAgLy8gZG8gbm90IHJlcGxhY2Ugbm90aWZpY2F0aW9ucyB3aXRoIGRpZmZlcmVudCBidXR0b25zXG4gICAgICBub3RpZi5ncm91cCA9IFtcbiAgICAgICAgbm90aWYubWVzc2FnZSxcbiAgICAgICAgbm90aWYuY2FwdGlvbixcbiAgICAgICAgbm90aWYubXVsdGlsaW5lXG4gICAgICBdLmNvbmNhdChcbiAgICAgICAgbm90aWYuYWN0aW9ucy5tYXAocHJvcHMgPT4gYCR7IHByb3BzLmxhYmVsIH0qJHsgcHJvcHMuaWNvbiB9YClcbiAgICAgICkuam9pbignfCcpXG4gICAgfVxuXG4gICAgbm90aWYubWV0YS5ncm91cCA9IG5vdGlmLmdyb3VwICsgJ3wnICsgbm90aWYucG9zaXRpb25cbiAgfVxuXG4gIGlmIChub3RpZi5hY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIG5vdGlmLmFjdGlvbnMgPSB2b2lkIDBcbiAgfVxuICBlbHNlIHtcbiAgICBub3RpZi5tZXRhLmFjdGlvbnNDbGFzcyA9ICdxLW5vdGlmaWNhdGlvbl9fYWN0aW9ucyByb3cgaXRlbXMtY2VudGVyICdcbiAgICAgICsgKG5vdGlmLm11bHRpTGluZSA9PT0gdHJ1ZSA/ICdqdXN0aWZ5LWVuZCcgOiAnY29sLWF1dG8nKVxuICAgICAgKyAobm90aWYubWV0YS5oYXNNZWRpYSA9PT0gdHJ1ZSA/ICcgcS1ub3RpZmljYXRpb25fX2FjdGlvbnMtLXdpdGgtbWVkaWEnIDogJycpXG4gIH1cblxuICBpZiAob3JpZ2luYWxBcGkgIT09IHZvaWQgMCkge1xuICAgIC8vIHJlc2V0IHRpbWVvdXQgaWYgYW55XG4gICAgaWYgKG9yaWdpbmFsQXBpLm5vdGlmLm1ldGEudGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dChvcmlnaW5hbEFwaS5ub3RpZi5tZXRhLnRpbWVyKVxuICAgICAgb3JpZ2luYWxBcGkubm90aWYubWV0YS50aW1lciA9IHZvaWQgMFxuICAgIH1cblxuICAgIC8vIHJldGFpbiB1aWRcbiAgICBub3RpZi5tZXRhLnVpZCA9IG9yaWdpbmFsQXBpLm5vdGlmLm1ldGEudWlkXG5cbiAgICAvLyByZXBsYWNlIG5vdGlmXG4gICAgY29uc3QgaW5kZXggPSBub3RpZmljYXRpb25zTGlzdFsgbm90aWYucG9zaXRpb24gXS52YWx1ZS5pbmRleE9mKG9yaWdpbmFsQXBpLm5vdGlmKVxuICAgIG5vdGlmaWNhdGlvbnNMaXN0WyBub3RpZi5wb3NpdGlvbiBdLnZhbHVlWyBpbmRleCBdID0gbm90aWZcbiAgfVxuICBlbHNlIHtcbiAgICBjb25zdCBvcmlnaW5hbCA9IGdyb3Vwc1sgbm90aWYubWV0YS5ncm91cCBdXG5cbiAgICAvLyB3b29ob28sIGl0J3MgYSBuZXcgbm90aWZpY2F0aW9uXG4gICAgaWYgKG9yaWdpbmFsID09PSB2b2lkIDApIHtcbiAgICAgIG5vdGlmLm1ldGEudWlkID0gdWlkKytcbiAgICAgIG5vdGlmLm1ldGEuYmFkZ2UgPSAxXG5cbiAgICAgIGlmIChbICdsZWZ0JywgJ3JpZ2h0JywgJ2NlbnRlcicgXS5pbmRleE9mKG5vdGlmLnBvc2l0aW9uKSAhPT0gLTEpIHtcbiAgICAgICAgbm90aWZpY2F0aW9uc0xpc3RbIG5vdGlmLnBvc2l0aW9uIF0udmFsdWUuc3BsaWNlKFxuICAgICAgICAgIE1hdGguZmxvb3Iobm90aWZpY2F0aW9uc0xpc3RbIG5vdGlmLnBvc2l0aW9uIF0udmFsdWUubGVuZ3RoIC8gMiksXG4gICAgICAgICAgMCxcbiAgICAgICAgICBub3RpZlxuICAgICAgICApXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gbm90aWYucG9zaXRpb24uaW5kZXhPZigndG9wJykgIT09IC0xID8gJ3Vuc2hpZnQnIDogJ3B1c2gnXG4gICAgICAgIG5vdGlmaWNhdGlvbnNMaXN0WyBub3RpZi5wb3NpdGlvbiBdLnZhbHVlWyBhY3Rpb24gXShub3RpZilcbiAgICAgIH1cblxuICAgICAgaWYgKG5vdGlmLmdyb3VwICE9PSB2b2lkIDApIHtcbiAgICAgICAgZ3JvdXBzWyBub3RpZi5tZXRhLmdyb3VwIF0gPSBub3RpZlxuICAgICAgfVxuICAgIH1cbiAgICAvLyBvaywgc28gaXQncyBOT1QgYSBuZXcgb25lXG4gICAgZWxzZSB7XG4gICAgICAvLyByZXNldCB0aW1lb3V0IGlmIGFueVxuICAgICAgaWYgKG9yaWdpbmFsLm1ldGEudGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KG9yaWdpbmFsLm1ldGEudGltZXIpXG4gICAgICAgIG9yaWdpbmFsLm1ldGEudGltZXIgPSB2b2lkIDBcbiAgICAgIH1cblxuICAgICAgaWYgKG5vdGlmLmJhZGdlUG9zaXRpb24gIT09IHZvaWQgMCkge1xuICAgICAgICBpZiAoYmFkZ2VQb3NpdGlvbnMuaW5jbHVkZXMobm90aWYuYmFkZ2VQb3NpdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGxvZ0Vycm9yKCd3cm9uZyBiYWRnZVBvc2l0aW9uJywgY29uZmlnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbm90aWYuYmFkZ2VQb3NpdGlvbiA9IGB0b3AtJHsgbm90aWYucG9zaXRpb24uaW5kZXhPZignbGVmdCcpICE9PSAtMSA/ICdyaWdodCcgOiAnbGVmdCcgfWBcbiAgICAgIH1cblxuICAgICAgbm90aWYubWV0YS51aWQgPSBvcmlnaW5hbC5tZXRhLnVpZFxuICAgICAgbm90aWYubWV0YS5iYWRnZSA9IG9yaWdpbmFsLm1ldGEuYmFkZ2UgKyAxXG4gICAgICBub3RpZi5tZXRhLmJhZGdlQ2xhc3MgPSBgcS1ub3RpZmljYXRpb25fX2JhZGdlIHEtbm90aWZpY2F0aW9uX19iYWRnZS0tJHsgbm90aWYuYmFkZ2VQb3NpdGlvbiB9YFxuICAgICAgICArIChub3RpZi5iYWRnZUNvbG9yICE9PSB2b2lkIDAgPyBgIGJnLSR7IG5vdGlmLmJhZGdlQ29sb3IgfWAgOiAnJylcbiAgICAgICAgKyAobm90aWYuYmFkZ2VUZXh0Q29sb3IgIT09IHZvaWQgMCA/IGAgdGV4dC0keyBub3RpZi5iYWRnZVRleHRDb2xvciB9YCA6ICcnKVxuICAgICAgICArIChub3RpZi5iYWRnZUNsYXNzID8gYCAkeyBub3RpZi5iYWRnZUNsYXNzIH1gIDogJycpXG5cbiAgICAgIGNvbnN0IGluZGV4ID0gbm90aWZpY2F0aW9uc0xpc3RbIG5vdGlmLnBvc2l0aW9uIF0udmFsdWUuaW5kZXhPZihvcmlnaW5hbClcbiAgICAgIG5vdGlmaWNhdGlvbnNMaXN0WyBub3RpZi5wb3NpdGlvbiBdLnZhbHVlWyBpbmRleCBdID0gZ3JvdXBzWyBub3RpZi5tZXRhLmdyb3VwIF0gPSBub3RpZlxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGRpc21pc3MgPSAoKSA9PiB7XG4gICAgcmVtb3ZlTm90aWZpY2F0aW9uKG5vdGlmKVxuICAgIEFwaSA9IHZvaWQgMFxuICB9XG5cbiAgaWYgKG5vdGlmLnRpbWVvdXQgPiAwKSB7XG4gICAgbm90aWYubWV0YS50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgbm90aWYubWV0YS50aW1lciA9IHZvaWQgMFxuICAgICAgZGlzbWlzcygpXG4gICAgfSwgbm90aWYudGltZW91dCArIC8qIHNob3cgZHVyYXRpb24gKi8gMTAwMClcbiAgfVxuXG4gIC8vIG9ubHkgbm9uLWdyb3VwYWJsZSBjYW4gYmUgdXBkYXRlZFxuICBpZiAobm90aWYuZ3JvdXAgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBwcm9wcyA9PiB7XG4gICAgICBpZiAocHJvcHMgIT09IHZvaWQgMCkge1xuICAgICAgICBsb2dFcnJvcigndHJ5aW5nIHRvIHVwZGF0ZSBhIGdyb3VwZWQgb25lIHdoaWNoIGlzIGZvcmJpZGRlbicsIGNvbmZpZylcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkaXNtaXNzKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBBcGkgPSB7XG4gICAgZGlzbWlzcyxcbiAgICBjb25maWcsXG4gICAgbm90aWZcbiAgfVxuXG4gIGlmIChvcmlnaW5hbEFwaSAhPT0gdm9pZCAwKSB7XG4gICAgT2JqZWN0LmFzc2lnbihvcmlnaW5hbEFwaSwgQXBpKVxuICAgIHJldHVyblxuICB9XG5cbiAgcmV0dXJuIHByb3BzID0+IHtcbiAgICAvLyBpZiBub3RpZmljYXRpb24gd2Fzbid0IHByZXZpb3VzbHkgZGlzbWlzc2VkXG4gICAgaWYgKEFwaSAhPT0gdm9pZCAwKSB7XG4gICAgICAvLyBpZiBubyBwYXJhbXMsIHRoZW4gd2UgbXVzdCBkaXNtaXNzIHRoZSBub3RpZmljYXRpb25cbiAgICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIEFwaS5kaXNtaXNzKClcbiAgICAgIH1cbiAgICAgIC8vIG90aGVyd2lzZSB3ZSdyZSB1cGRhdGluZyBpdFxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld05vdGlmID0gT2JqZWN0LmFzc2lnbih7fSwgQXBpLmNvbmZpZywgcHJvcHMsIHtcbiAgICAgICAgICBncm91cDogZmFsc2UsXG4gICAgICAgICAgcG9zaXRpb246IG5vdGlmLnBvc2l0aW9uXG4gICAgICAgIH0pXG5cbiAgICAgICAgYWRkTm90aWZpY2F0aW9uKG5ld05vdGlmLCAkcSwgQXBpKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVOb3RpZmljYXRpb24gKG5vdGlmKSB7XG4gIGlmIChub3RpZi5tZXRhLnRpbWVyKSB7XG4gICAgY2xlYXJUaW1lb3V0KG5vdGlmLm1ldGEudGltZXIpXG4gICAgbm90aWYubWV0YS50aW1lciA9IHZvaWQgMFxuICB9XG5cbiAgY29uc3QgaW5kZXggPSBub3RpZmljYXRpb25zTGlzdFsgbm90aWYucG9zaXRpb24gXS52YWx1ZS5pbmRleE9mKG5vdGlmKVxuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgaWYgKG5vdGlmLmdyb3VwICE9PSB2b2lkIDApIHtcbiAgICAgIGRlbGV0ZSBncm91cHNbIG5vdGlmLm1ldGEuZ3JvdXAgXVxuICAgIH1cblxuICAgIGNvbnN0IGVsID0gbm90aWZSZWZzWyAnJyArIG5vdGlmLm1ldGEudWlkIF1cblxuICAgIGlmIChlbCkge1xuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBnZXRDb21wdXRlZFN0eWxlKGVsKVxuXG4gICAgICBlbC5zdHlsZS5sZWZ0ID0gYCR7IGVsLm9mZnNldExlZnQgfXB4YFxuICAgICAgZWwuc3R5bGUud2lkdGggPSB3aWR0aFxuICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgfVxuXG4gICAgbm90aWZpY2F0aW9uc0xpc3RbIG5vdGlmLnBvc2l0aW9uIF0udmFsdWUuc3BsaWNlKGluZGV4LCAxKVxuXG4gICAgaWYgKHR5cGVvZiBub3RpZi5vbkRpc21pc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG5vdGlmLm9uRGlzbWlzcygpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0NvbnRlbnQgKHN0cikge1xuICByZXR1cm4gc3RyICE9PSB2b2lkIDBcbiAgICAmJiBzdHIgIT09IG51bGxcbiAgICAmJiBlbXB0eVJFLnRlc3Qoc3RyKSAhPT0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBsb2dFcnJvciAoZXJyb3IsIGNvbmZpZykge1xuICBjb25zb2xlLmVycm9yKGBOb3RpZnk6ICR7IGVycm9yIH1gLCBjb25maWcpXG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnQgKCkge1xuICByZXR1cm4gY3JlYXRlQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnUU5vdGlmaWNhdGlvbnMnLFxuXG4gICAgLy8gaGlkZSBBcHAgZnJvbSBWdWUgZGV2dG9vbHNcbiAgICBkZXZ0b29sczogeyBoaWRlOiB0cnVlIH0sXG5cbiAgICBzZXR1cCAoKSB7XG4gICAgICByZXR1cm4gKCkgPT4gaCgnZGl2JywgeyBjbGFzczogJ3Etbm90aWZpY2F0aW9ucycgfSwgcG9zaXRpb25MaXN0Lm1hcChwb3MgPT4ge1xuICAgICAgICByZXR1cm4gaChUcmFuc2l0aW9uR3JvdXAsIHtcbiAgICAgICAgICBrZXk6IHBvcyxcbiAgICAgICAgICBjbGFzczogcG9zaXRpb25DbGFzc1sgcG9zIF0sXG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBuYW1lOiBgcS1ub3RpZmljYXRpb24tLSR7IHBvcyB9YFxuICAgICAgICB9LCAoKSA9PiBub3RpZmljYXRpb25zTGlzdFsgcG9zIF0udmFsdWUubWFwKG5vdGlmID0+IHtcbiAgICAgICAgICBjb25zdCBtZXRhID0gbm90aWYubWV0YVxuICAgICAgICAgIGNvbnN0IG1haW5DaGlsZCA9IFtdXG5cbiAgICAgICAgICBpZiAobWV0YS5oYXNNZWRpYSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKG5vdGlmLnNwaW5uZXIgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG1haW5DaGlsZC5wdXNoKFxuICAgICAgICAgICAgICAgIGgobm90aWYuc3Bpbm5lciwge1xuICAgICAgICAgICAgICAgICAgY2xhc3M6ICdxLW5vdGlmaWNhdGlvbl9fc3Bpbm5lciBxLW5vdGlmaWNhdGlvbl9fc3Bpbm5lci0tJyArIG1ldGEubGVmdENsYXNzLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IG5vdGlmLnNwaW5uZXJDb2xvcixcbiAgICAgICAgICAgICAgICAgIHNpemU6IG5vdGlmLnNwaW5uZXJTaXplXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm90aWYuaWNvbikge1xuICAgICAgICAgICAgICBtYWluQ2hpbGQucHVzaChcbiAgICAgICAgICAgICAgICBoKFFJY29uLCB7XG4gICAgICAgICAgICAgICAgICBjbGFzczogJ3Etbm90aWZpY2F0aW9uX19pY29uIHEtbm90aWZpY2F0aW9uX19pY29uLS0nICsgbWV0YS5sZWZ0Q2xhc3MsXG4gICAgICAgICAgICAgICAgICBuYW1lOiBub3RpZi5pY29uLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IG5vdGlmLmljb25Db2xvcixcbiAgICAgICAgICAgICAgICAgIHNpemU6IG5vdGlmLmljb25TaXplLFxuICAgICAgICAgICAgICAgICAgcm9sZTogJ2ltZydcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub3RpZi5hdmF0YXIpIHtcbiAgICAgICAgICAgICAgbWFpbkNoaWxkLnB1c2goXG4gICAgICAgICAgICAgICAgaChRQXZhdGFyLCB7XG4gICAgICAgICAgICAgICAgICBjbGFzczogJ3Etbm90aWZpY2F0aW9uX19hdmF0YXIgcS1ub3RpZmljYXRpb25fX2F2YXRhci0tJyArIG1ldGEubGVmdENsYXNzXG4gICAgICAgICAgICAgICAgfSwgKCkgPT4gaCgnaW1nJywgeyBzcmM6IG5vdGlmLmF2YXRhciwgJ2FyaWEtaGlkZGVuJzogJ3RydWUnIH0pKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1ldGEuaGFzVGV4dCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbGV0IG1zZ0NoaWxkXG4gICAgICAgICAgICBjb25zdCBtc2dEYXRhID0geyBjbGFzczogJ3Etbm90aWZpY2F0aW9uX19tZXNzYWdlIGNvbCcgfVxuXG4gICAgICAgICAgICBpZiAobm90aWYuaHRtbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBtc2dEYXRhLmlubmVySFRNTCA9IG5vdGlmLmNhcHRpb25cbiAgICAgICAgICAgICAgICA/IGA8ZGl2PiR7IG5vdGlmLm1lc3NhZ2UgfTwvZGl2PjxkaXYgY2xhc3M9XCJxLW5vdGlmaWNhdGlvbl9fY2FwdGlvblwiPiR7IG5vdGlmLmNhcHRpb24gfTwvZGl2PmBcbiAgICAgICAgICAgICAgICA6IG5vdGlmLm1lc3NhZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBtc2dOb2RlID0gWyBub3RpZi5tZXNzYWdlIF1cbiAgICAgICAgICAgICAgbXNnQ2hpbGQgPSBub3RpZi5jYXB0aW9uXG4gICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgIGgoJ2RpdicsIG1zZ05vZGUpLFxuICAgICAgICAgICAgICAgICAgICBoKCdkaXYnLCB7IGNsYXNzOiAncS1ub3RpZmljYXRpb25fX2NhcHRpb24nIH0sIFsgbm90aWYuY2FwdGlvbiBdKVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIDogbXNnTm9kZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYWluQ2hpbGQucHVzaChcbiAgICAgICAgICAgICAgaCgnZGl2JywgbXNnRGF0YSwgbXNnQ2hpbGQpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgY2hpbGQgPSBbXG4gICAgICAgICAgICBoKCdkaXYnLCB7IGNsYXNzOiBtZXRhLmNvbnRlbnRDbGFzcyB9LCBtYWluQ2hpbGQpXG4gICAgICAgICAgXVxuXG4gICAgICAgICAgbm90aWYucHJvZ3Jlc3MgPT09IHRydWUgJiYgY2hpbGQucHVzaChcbiAgICAgICAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgICAgICAga2V5OiBgJHsgbWV0YS51aWQgfXxwfCR7IG1ldGEuYmFkZ2UgfWAsXG4gICAgICAgICAgICAgIGNsYXNzOiBtZXRhLnByb2dyZXNzQ2xhc3MsXG4gICAgICAgICAgICAgIHN0eWxlOiBtZXRhLnByb2dyZXNzU3R5bGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgbm90aWYuYWN0aW9ucyAhPT0gdm9pZCAwICYmIGNoaWxkLnB1c2goXG4gICAgICAgICAgICBoKCdkaXYnLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiBtZXRhLmFjdGlvbnNDbGFzc1xuICAgICAgICAgICAgfSwgbm90aWYuYWN0aW9ucy5tYXAocHJvcHMgPT4gaChRQnRuLCBwcm9wcykpKVxuICAgICAgICAgIClcblxuICAgICAgICAgIG1ldGEuYmFkZ2UgPiAxICYmIGNoaWxkLnB1c2goXG4gICAgICAgICAgICBoKCdkaXYnLCB7XG4gICAgICAgICAgICAgIGtleTogYCR7IG1ldGEudWlkIH18JHsgbWV0YS5iYWRnZSB9YCxcbiAgICAgICAgICAgICAgY2xhc3M6IG5vdGlmLm1ldGEuYmFkZ2VDbGFzcyxcbiAgICAgICAgICAgICAgc3R5bGU6IG5vdGlmLmJhZGdlU3R5bGVcbiAgICAgICAgICAgIH0sIFsgbWV0YS5iYWRnZSBdKVxuICAgICAgICAgIClcblxuICAgICAgICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICAgICAgICByZWY6IGVsID0+IHsgbm90aWZSZWZzWyAnJyArIG1ldGEudWlkIF0gPSBlbCB9LFxuICAgICAgICAgICAga2V5OiBtZXRhLnVpZCxcbiAgICAgICAgICAgIGNsYXNzOiBtZXRhLmNsYXNzLFxuICAgICAgICAgICAgLi4ubWV0YS5hdHRyc1xuICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgIGgoJ2RpdicsIHsgY2xhc3M6IG1ldGEud3JhcHBlckNsYXNzIH0sIGNoaWxkKVxuICAgICAgICAgIF0pXG4gICAgICAgIH0pKVxuICAgICAgfSkpXG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNldERlZmF1bHRzIChvcHRzKSB7XG4gICAgaWYgKF9fUVVBU0FSX1NTUl9TRVJWRVJfXyAhPT0gdHJ1ZSkge1xuICAgICAgaXNPYmplY3Qob3B0cykgPT09IHRydWUgJiYgT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgb3B0cylcbiAgICB9XG4gIH0sXG5cbiAgcmVnaXN0ZXJUeXBlICh0eXBlTmFtZSwgdHlwZU9wdHMpIHtcbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fICE9PSB0cnVlICYmIGlzT2JqZWN0KHR5cGVPcHRzKSA9PT0gdHJ1ZSkge1xuICAgICAgbm90aWZUeXBlc1sgdHlwZU5hbWUgXSA9IHR5cGVPcHRzXG4gICAgfVxuICB9LFxuXG4gIGluc3RhbGwgKHsgJHEsIHBhcmVudEFwcCB9KSB7XG4gICAgJHEubm90aWZ5ID0gdGhpcy5jcmVhdGUgPSBfX1FVQVNBUl9TU1JfU0VSVkVSX19cbiAgICAgID8gbm9vcFxuICAgICAgOiBvcHRzID0+IGFkZE5vdGlmaWNhdGlvbihvcHRzLCAkcSlcblxuICAgICRxLm5vdGlmeS5zZXREZWZhdWx0cyA9IHRoaXMuc2V0RGVmYXVsdHNcbiAgICAkcS5ub3RpZnkucmVnaXN0ZXJUeXBlID0gdGhpcy5yZWdpc3RlclR5cGVcblxuICAgIGlmICgkcS5jb25maWcubm90aWZ5ICE9PSB2b2lkIDApIHtcbiAgICAgIHRoaXMuc2V0RGVmYXVsdHMoJHEuY29uZmlnLm5vdGlmeSlcbiAgICB9XG5cbiAgICBpZiAoX19RVUFTQVJfU1NSX1NFUlZFUl9fICE9PSB0cnVlICYmIHRoaXMuX19pbnN0YWxsZWQgIT09IHRydWUpIHtcbiAgICAgIHBvc2l0aW9uTGlzdC5mb3JFYWNoKHBvcyA9PiB7XG4gICAgICAgIG5vdGlmaWNhdGlvbnNMaXN0WyBwb3MgXSA9IHJlZihbXSlcblxuICAgICAgICBjb25zdFxuICAgICAgICAgIHZlcnQgPSBbICdsZWZ0JywgJ2NlbnRlcicsICdyaWdodCcgXS5pbmNsdWRlcyhwb3MpID09PSB0cnVlID8gJ2NlbnRlcicgOiAocG9zLmluZGV4T2YoJ3RvcCcpICE9PSAtMSA/ICd0b3AnIDogJ2JvdHRvbScpLFxuICAgICAgICAgIGFsaWduID0gcG9zLmluZGV4T2YoJ2xlZnQnKSAhPT0gLTEgPyAnc3RhcnQnIDogKHBvcy5pbmRleE9mKCdyaWdodCcpICE9PSAtMSA/ICdlbmQnIDogJ2NlbnRlcicpLFxuICAgICAgICAgIGNsYXNzZXMgPSBbICdsZWZ0JywgJ3JpZ2h0JyBdLmluY2x1ZGVzKHBvcykgPyBgaXRlbXMtJHsgcG9zID09PSAnbGVmdCcgPyAnc3RhcnQnIDogJ2VuZCcgfSBqdXN0aWZ5LWNlbnRlcmAgOiAocG9zID09PSAnY2VudGVyJyA/ICdmbGV4LWNlbnRlcicgOiBgaXRlbXMtJHsgYWxpZ24gfWApXG5cbiAgICAgICAgcG9zaXRpb25DbGFzc1sgcG9zIF0gPSBgcS1ub3RpZmljYXRpb25zX19saXN0IHEtbm90aWZpY2F0aW9uc19fbGlzdC0tJHsgdmVydCB9IGZpeGVkIGNvbHVtbiBuby13cmFwICR7IGNsYXNzZXMgfWBcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IGVsID0gY3JlYXRlR2xvYmFsTm9kZSgncS1ub3RpZnknKVxuICAgICAgY3JlYXRlQ2hpbGRBcHAoZ2V0Q29tcG9uZW50KCksIHBhcmVudEFwcCkubW91bnQoZWwpXG4gICAgfVxuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBUSElTIEZJTEUgSVMgR0VORVJBVEVEIEFVVE9NQVRJQ0FMTFkuXG4gKiBETyBOT1QgRURJVC5cbiAqXG4gKiBZb3UgYXJlIHByb2JhYmx5IGxvb2tpbmcgb24gYWRkaW5nIHN0YXJ0dXAvaW5pdGlhbGl6YXRpb24gY29kZS5cbiAqIFVzZSBcInF1YXNhciBuZXcgYm9vdCA8bmFtZT5cIiBhbmQgYWRkIGl0IHRoZXJlLlxuICogT25lIGJvb3QgZmlsZSBwZXIgY29uY2Vybi4gVGhlbiByZWZlcmVuY2UgdGhlIGZpbGUocykgaW4gcXVhc2FyLmNvbmZpZyBmaWxlID4gYm9vdDpcbiAqIGJvb3Q6IFsnZmlsZScsIC4uLl0gLy8gZG8gbm90IGFkZCBcIi5qc1wiIGV4dGVuc2lvbiB0byBpdC5cbiAqXG4gKiBCb290IGZpbGVzIGFyZSB5b3VyIFwibWFpbi5qc1wiXG4gKiovXG5cblxuXG5pbXBvcnQge0xvYWRpbmcsRGlhbG9nLE5vdGlmeX0gZnJvbSAncXVhc2FyJ1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgeyBjb25maWc6IHt9LHBsdWdpbnM6IHtMb2FkaW5nLERpYWxvZyxOb3RpZnl9IH1cblxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogVEhJUyBGSUxFIElTIEdFTkVSQVRFRCBBVVRPTUFUSUNBTExZLlxuICogRE8gTk9UIEVESVQuXG4gKlxuICogWW91IGFyZSBwcm9iYWJseSBsb29raW5nIG9uIGFkZGluZyBzdGFydHVwL2luaXRpYWxpemF0aW9uIGNvZGUuXG4gKiBVc2UgXCJxdWFzYXIgbmV3IGJvb3QgPG5hbWU+XCIgYW5kIGFkZCBpdCB0aGVyZS5cbiAqIE9uZSBib290IGZpbGUgcGVyIGNvbmNlcm4uIFRoZW4gcmVmZXJlbmNlIHRoZSBmaWxlKHMpIGluIHF1YXNhci5jb25maWcgZmlsZSA+IGJvb3Q6XG4gKiBib290OiBbJ2ZpbGUnLCAuLi5dIC8vIGRvIG5vdCBhZGQgXCIuanNcIiBleHRlbnNpb24gdG8gaXQuXG4gKlxuICogQm9vdCBmaWxlcyBhcmUgeW91ciBcIm1haW4uanNcIlxuICoqL1xuXG5cbmltcG9ydCB7IGNyZWF0ZUFwcCB9IGZyb20gJ3Z1ZSdcblxuXG5cblxuXG5cblxuaW1wb3J0ICdAcXVhc2FyL2V4dHJhcy9yb2JvdG8tZm9udC9yb2JvdG8tZm9udC5jc3MnXG5cbmltcG9ydCAnQHF1YXNhci9leHRyYXMvbWF0ZXJpYWwtaWNvbnMvbWF0ZXJpYWwtaWNvbnMuY3NzJ1xuXG5cblxuXG4vLyBXZSBsb2FkIFF1YXNhciBzdHlsZXNoZWV0IGZpbGVcbmltcG9ydCAncXVhc2FyL2Rpc3QvcXVhc2FyLnNhc3MnXG5cblxuXG5cbmltcG9ydCAnc3JjL2Nzcy9hcHAuc2NzcydcblxuXG5pbXBvcnQgY3JlYXRlUXVhc2FyQXBwIGZyb20gJy4vYXBwLmpzJ1xuaW1wb3J0IHF1YXNhclVzZXJPcHRpb25zIGZyb20gJy4vcXVhc2FyLXVzZXItb3B0aW9ucy5qcydcblxuXG5cblxuXG5cblxuY29uc3QgcHVibGljUGF0aCA9IGBgXG5cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0ICh7XG4gIGFwcCxcbiAgcm91dGVyXG4gIFxufSwgYm9vdEZpbGVzKSB7XG4gIFxuICBsZXQgaGFzUmVkaXJlY3RlZCA9IGZhbHNlXG4gIGNvbnN0IGdldFJlZGlyZWN0VXJsID0gdXJsID0+IHtcbiAgICB0cnkgeyByZXR1cm4gcm91dGVyLnJlc29sdmUodXJsKS5ocmVmIH1cbiAgICBjYXRjaCAoZXJyKSB7fVxuXG4gICAgcmV0dXJuIE9iamVjdCh1cmwpID09PSB1cmxcbiAgICAgID8gbnVsbFxuICAgICAgOiB1cmxcbiAgfVxuICBjb25zdCByZWRpcmVjdCA9IHVybCA9PiB7XG4gICAgaGFzUmVkaXJlY3RlZCA9IHRydWVcblxuICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyAmJiAvXmh0dHBzPzpcXC9cXC8vLnRlc3QodXJsKSkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmxcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGhyZWYgPSBnZXRSZWRpcmVjdFVybCh1cmwpXG5cbiAgICAvLyBjb250aW51ZSBpZiB3ZSBkaWRuJ3QgZmFpbCB0byByZXNvbHZlIHRoZSB1cmxcbiAgICBpZiAoaHJlZiAhPT0gbnVsbCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmXG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICB9XG4gIH1cblxuICBjb25zdCB1cmxQYXRoID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ub3JpZ2luLCAnJylcblxuICBmb3IgKGxldCBpID0gMDsgaGFzUmVkaXJlY3RlZCA9PT0gZmFsc2UgJiYgaSA8IGJvb3RGaWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBib290RmlsZXNbaV0oe1xuICAgICAgICBhcHAsXG4gICAgICAgIHJvdXRlcixcbiAgICAgICAgXG4gICAgICAgIHNzckNvbnRleHQ6IG51bGwsXG4gICAgICAgIHJlZGlyZWN0LFxuICAgICAgICB1cmxQYXRoLFxuICAgICAgICBwdWJsaWNQYXRoXG4gICAgICB9KVxuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci51cmwpIHtcbiAgICAgICAgcmVkaXJlY3QoZXJyLnVybClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tRdWFzYXJdIGJvb3QgZXJyb3I6JywgZXJyKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG5cbiAgaWYgKGhhc1JlZGlyZWN0ZWQgPT09IHRydWUpIHJldHVyblxuICBcblxuICBhcHAudXNlKHJvdXRlcilcblxuICBcblxuICAgIFxuXG4gICAgXG4gICAgICBhcHAubW91bnQoJyNxLWFwcCcpXG4gICAgXG4gIFxuXG59XG5cbmNyZWF0ZVF1YXNhckFwcChjcmVhdGVBcHAsIHF1YXNhclVzZXJPcHRpb25zKVxuXG4gIC50aGVuKGFwcCA9PiB7XG4gICAgLy8gZXZlbnR1YWxseSByZW1vdmUgdGhpcyB3aGVuIENvcmRvdmEvQ2FwYWNpdG9yL0VsZWN0cm9uIHN1cHBvcnQgYmVjb21lcyBvbGRcbiAgICBjb25zdCBbIG1ldGhvZCwgbWFwRm4gXSA9IFByb21pc2UuYWxsU2V0dGxlZCAhPT0gdm9pZCAwXG4gICAgICA/IFtcbiAgICAgICAgJ2FsbFNldHRsZWQnLFxuICAgICAgICBib290RmlsZXMgPT4gYm9vdEZpbGVzLm1hcChyZXN1bHQgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbUXVhc2FyXSBib290IGVycm9yOicsIHJlc3VsdC5yZWFzb24pXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZS5kZWZhdWx0XG4gICAgICAgIH0pXG4gICAgICBdXG4gICAgICA6IFtcbiAgICAgICAgJ2FsbCcsXG4gICAgICAgIGJvb3RGaWxlcyA9PiBib290RmlsZXMubWFwKGVudHJ5ID0+IGVudHJ5LmRlZmF1bHQpXG4gICAgICBdXG5cbiAgICByZXR1cm4gUHJvbWlzZVsgbWV0aG9kIF0oW1xuICAgICAgXG4gICAgICBpbXBvcnQoJ2Jvb3QvY2FwYWNpdG9yLWFwcCcpLFxuICAgICAgXG4gICAgICBpbXBvcnQoJ2Jvb3QvbW9kZWxWaWV3ZXInKVxuICAgICAgXG4gICAgXSkudGhlbihib290RmlsZXMgPT4ge1xuICAgICAgY29uc3QgYm9vdCA9IG1hcEZuKGJvb3RGaWxlcykuZmlsdGVyKGVudHJ5ID0+IHR5cGVvZiBlbnRyeSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHN0YXJ0KGFwcCwgYm9vdClcbiAgICB9KVxuICB9KVxuXG4iXSwiZmlsZSI6ImFzc2V0cy9pbmRleC1DbUwzYzFNbC5qcyJ9